(self.webpackChunkFrontEnd=self.webpackChunkFrontEnd||[]).push([[179],{8530:(te,Ue,T)=>{"use strict";T.d(Ue,{s:()=>a});var w=T(520),e=T(5e3);let a=(()=>{class Y{constructor(y){this.httpClient=y,this.httpOptions={headers:new w.WM({authorization:`Bearer ${this.token}`})}}gettotalregstatus(){let y=localStorage.getItem("token"),k={headers:new w.WM({authorization:`Bearer ${y}`})};return this.httpClient.get("/api/dashboard/gettotalregstatus",k)}getCurrentStock(){let y=localStorage.getItem("token"),k={headers:new w.WM({authorization:`Bearer ${y}`})};return this.httpClient.get("/api/dashboard/currentStock",k)}getallChildrenCount(){let y=localStorage.getItem("token"),k={headers:new w.WM({authorization:`Bearer ${y}`})};return this.httpClient.get("/api/dashboard/getallChildrenCount",k)}sidebarData(y){let k=localStorage.getItem("token"),Ne={headers:new w.WM({authorization:`Bearer ${k}`})};return this.httpClient.get("/api/dashboard/sidebarData?id="+y,Ne)}getallDoctorsCount(){let y=localStorage.getItem("token"),k={headers:new w.WM({authorization:`Bearer ${y}`})};return this.httpClient.get("/api/dashboard/getallDoctorsCount",k)}getallHospitalsCount(){let y=localStorage.getItem("token"),k={headers:new w.WM({authorization:`Bearer ${y}`})};return this.httpClient.get("/api/dashboard/getallHospitalsCount",k)}getallpackagesCount(){let y=localStorage.getItem("token"),k={headers:new w.WM({authorization:`Bearer ${y}`})};return this.httpClient.get("/api/dashboard/getallpackagesCount",k)}EOQModel(y){let k=localStorage.getItem("token"),Ne={headers:new w.WM({authorization:`Bearer ${k}`})};return this.httpClient.post("/api/dashboard/EOQModel",y,Ne)}}return Y.\u0275fac=function(y){return new(y||Y)(e.LFG(w.eN))},Y.\u0275prov=e.Yz7({token:Y,factory:Y.\u0275fac,providedIn:"root"}),Y})()},2265:(te,Ue,T)=>{"use strict";var w=T(2313),e=T(5e3),a=T(4182),Y=T(6360),Q=T(3203),y=T(7223);let k=(()=>{class i{constructor(t){this.ngRedux=t}getConfig(){this.ngRedux.dispatch({type:i.CONFIG_GET})}updateConfig(t){this.ngRedux.dispatch({type:i.CONFIG_UPDATE,payload:t})}}return i.CONFIG_GET="CONFIG_GET",i.CONFIG_UPDATE="CONFIG_UPDATE",i.\u0275fac=function(t){return new(t||i)(e.LFG(Q.NN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();const Ne={headerTheme:"",sidebarTheme:""},Wt=(0,y.UY)({config:function zt(i=Ne,n){switch(n.type){case k.CONFIG_GET:return Object.assign({},i);case k.CONFIG_UPDATE:return Object.assign({},i,Object.assign({},n.payload));default:return i}}});var Kt=T(358),p=T(9248),we=T(655),U=T(1777);let Qe=(()=>{class i{constructor(){this.sidebarHover=!1,this.toggleSidebar=!1,this.toggleSidebarMobile=!1,this.toggleHeaderMobile=!1,this.toggleFixedFooter=!1}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var g=T(9808);let Xt=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-search-box"]],decls:0,vars:0,template:function(t,o){},styles:[".input-holder[_ngcontent-%COMP%]{background-color:#f0f8ff}"]}),i})();var c=T(520);let h=(()=>{class i{constructor(t,o){this.httpClient=t,this.myRouter=o,this.token=localStorage.getItem("token"),this.httpOptions={headers:new c.WM({authorization:`Bearer ${this.token}`})}}logout(){localStorage.clear(),this.token="",localStorage.removeItem("CurrentUserEmail"),localStorage.removeItem("CurrentUserId"),localStorage.removeItem("token"),localStorage.removeItem("CurrentRoleId"),localStorage.removeItem("CurrentRoleName"),this.myRouter.navigate(["/pages/login-boxed"])}sendmail(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/auth/sendmail",t,s)}checkUserHasAccess(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})},r=localStorage.getItem("CurrentUserId"),l=localStorage.getItem("CurrentRoleId");return this.httpClient.get("/api/auth/checkUserHasAccess?UserId="+r+"&RoleId="+l+"&RightURL="+t,s)}addUser(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/auth/register",t,s)}forgetPassword(t){return this.httpClient.post("/api/auth/forgotPassword",t)}getAllActiveUser(){let t=localStorage.getItem("token"),o={headers:new c.WM({authorization:`Bearer ${t}`})};return this.httpClient.get("/api/auth/getActiveUsers/",o)}checkUserRights(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/auth/checkUserRights?Email="+t,s)}loginUser(t){return this.httpClient.post("/api/auth/login/",t)}getUserData(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/auth/getUserData?Email="+t,s)}getCurrentUserName(){let t=localStorage.getItem("token"),o={headers:new c.WM({authorization:`Bearer ${t}`})};return this.currentemail=localStorage.getItem("CurrentUserEmail"),this.httpClient.get("/api/auth/getCurrentUserName?Email="+this.currentemail,o)}getAllInActiveUser(){let t=localStorage.getItem("token"),o={headers:new c.WM({authorization:`Bearer ${t}`})};return this.httpClient.get("/api/auth/getDeactiveUsers/",o)}activateUser(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/auth/activate?Email="+t,s)}DeactivateUser(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/auth/deactivateUser?Email="+t,s)}matchPassword(t){return this.httpClient.post("/api/auth/matchPassword/",t)}tokenExpired(){let t=localStorage.getItem("token");if(null!=t){const o=JSON.parse(atob(t.split(".")[1])).exp;return Math.floor((new Date).getTime()/1e3)>=o}}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(c.eN),e.LFG(p.F0))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var u=T(7858);let ei=(()=>{class i{constructor(t,o,s){this.globals=t,this.userService=o,this.route=s}ngOnInit(){this.weburl=window.location.protocol+"//"+window.location.host+"/userData/",this.originalImage="assets/images/download.png",this.userDataSub=this.userService.getCurrentUserName().subscribe(t=>{t.length>0&&(this.username=t[0].Firstname+" "+t[0].Lastname,this.img=this.weburl+t[0].Userid+"/"+t[0].File),this.userid=t[0].Userid})}logout(){this.userService.logout()}navigate(){this.route.navigate(["pages/app-user-profile/"+this.userid])}ngOnDestroy(){this.userDataSub.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Qe),e.Y36(h),e.Y36(p.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-user-box"]],decls:16,vars:2,consts:[[1,"d-flex"],[1,"header-btn-lg","pr-0"],[1,"widget-content","p-0"],[1,"widget-content-wrapper"],[1,"widget-content-left"],["ngbDropdown","","placement","bottom-right",1,"btn-group"],["type","button","ngbDropdownToggle","",1,"btn","btn-link","p-0","mr-2",2,"color","#4e4376"],[1,"icon-wrapper","icon-wrapper-alt","rounded-circle"],["width","42","alt","","onerror","this.src='./assets/images/download.png'",1,"rounded-circle",3,"src"],["ngbDropdownMenu",""],[1,"dropdown-item",3,"click"],[1,"dropdown-divider"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"div",5),e.TgZ(6,"button",6),e.TgZ(7,"span"),e.TgZ(8,"div",7),e._UZ(9,"img",8),e.qZA(),e.qZA(),e.qZA(),e.TgZ(10,"div",9),e.TgZ(11,"button",10),e.NdJ("click",function(){return o.navigate()}),e._uU(12),e.qZA(),e._UZ(13,"div",11),e.TgZ(14,"button",10),e.NdJ("click",function(){return o.logout()}),e._uU(15,"Logout"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(9),e.s9C("src",o.img,e.LSH),e.xp6(3),e.Oqu(o.username))},directives:[u.jt,u.iD,u.Vi],styles:[".critical[_ngcontent-%COMP%]{font-weight:600;color:#bd3f32;background-color:#fff;font-size:12px!important;text-decoration:none}.date[_ngcontent-%COMP%]{color:gray;font-weight:400;font-size:10px}.medium[_ngcontent-%COMP%]{font-weight:600;color:#392fca;background-color:#fff;font-size:12px!important;text-decoration:none}.unread[_ngcontent-%COMP%]{font-weight:800}.notifications-box[_ngcontent-%COMP%]{width:500px}.scrollbar-container[_ngcontent-%COMP%]{width:500px!important;height:500px!important}.timeline-title[_ngcontent-%COMP%]{padding:5px;margin-left:13px!important}"]}),i})();const Tt=function(i){return{"is-active":i}};class he{constructor(n){this.globals=n}get isActiveAsGetter(){return this.isActive}toggleSidebarMobile(){this.globals.toggleSidebarMobile=!this.globals.toggleSidebarMobile}toggleHeaderMobile(){this.globals.toggleHeaderMobile=!this.globals.toggleHeaderMobile}}he.\u0275fac=function(n){return new(n||he)(e.Y36(Qe))},he.\u0275cmp=e.Xpm({type:he,selectors:[["app-header"]],hostVars:2,hostBindings:function(n,t){2&n&&e.ekj("isActive",t.isActiveAsGetter)},decls:15,vars:10,consts:[[2,"background-image","linear-gradient(-20deg, #fff 0%, #fff 100%) !important"],[1,"app-header__content"],[1,"app-header-left"],[1,"app-header-right"],[1,"app-header__mobile-menu"],["type","button",1,"hamburger","close-sidebar-btn","hamburger--elastic",3,"ngClass","click"],[1,"hamburger-box"],[1,"hamburger-inner"],[1,"app-header__menu"],[1,"btn-icon","btn-icon-only","btn","btn-primary","btn-sm",3,"ngClass","click"],[1,"btn-icon-wrapper"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.ALo(1,"async"),e.TgZ(2,"div",1),e.TgZ(3,"div",2),e._UZ(4,"app-search-box"),e.qZA(),e.TgZ(5,"div",3),e._UZ(6,"app-user-box"),e.qZA(),e.qZA(),e.TgZ(7,"div",4),e.TgZ(8,"button",5),e.NdJ("click",function(){return t.toggleSidebarMobile()}),e.TgZ(9,"span",6),e._UZ(10,"span",7),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"div",8),e.TgZ(12,"span"),e.TgZ(13,"button",9),e.NdJ("click",function(){return t.toggleHeaderMobile()}),e._UZ(14,"div",10),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.Tol("app-header header-shadow "+e.lcZ(1,4,t.config).headerTheme),e.xp6(8),e.Q6J("ngClass",e.VKq(6,Tt,t.globals.toggleSidebarMobile)),e.xp6(5),e.Q6J("ngClass",e.VKq(8,Tt,t.globals.toggleHeaderMobile)))},directives:[Xt,ei,g.mk],pipes:[g.Ov],encapsulation:2}),(0,we.gn)([(0,Q.Ys)("config")],he.prototype,"config",void 0);var At=T(8530),it=T(2709);function ti(i,n){if(1&i&&(e.TgZ(0,"button",23),e._UZ(1,"i",24),e.TgZ(2,"span",17),e._uU(3),e.qZA(),e._UZ(4,"i",25),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(3),e.Oqu(t.MainHeading)}}function ii(i,n){if(1&i&&(e.TgZ(0,"div",14),e.TgZ(1,"a",28),e.TgZ(2,"span",17),e._uU(3),e.qZA(),e.qZA(),e.qZA()),2&i){const t=n.$implicit;e.xp6(1),e.s9C("routerLink",t.link),e.xp6(2),e.Oqu(t.pagename)}}function oi(i,n){if(1&i&&(e.TgZ(0,"div",26),e.TgZ(1,"div",12),e.YNc(2,ii,4,2,"div",27),e.qZA(),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("ngForOf",t.dropDown)}}function ni(i,n){if(1&i&&(e.TgZ(0,"ngb-accordion",19),e.TgZ(1,"ngb-panel",20),e.YNc(2,ti,5,1,"ng-template",21),e.YNc(3,oi,3,1,"ng-template",22),e.qZA(),e.qZA()),2&i){const t=n.$implicit,o=e.oxw();e.Q6J("destroyOnHide",!1)("closeOthers",!0)("activeIds",o.extraParameter),e.xp6(1),e.s9C("id",t.MainHeading)}}const si=function(i){return{"is-active":i}};class fe{constructor(n,t,o){this.globals=n,this.activatedRoute=t,this.sidebarData=o,this.newarr=[]}toggleSidebar(){this.globals.toggleSidebar=!this.globals.toggleSidebar}sidebarHover(){this.globals.sidebarHover=!this.globals.sidebarHover}sortData(n){for(var t=0,o=0;t<n.length;t++)0==t||o>0&&n[t].MainHeading!=this.newarr[o-1].MainHeading?(this.newarr.push({MainHeading:n[t].MainHeading,icon:n[t].icon,dropDown:[{pagename:n[t].pagename,link:n[t].link,RightId:n[t].RightId,userid:n[t].userId}]}),o++):this.newarr[o-1].dropDown.push({pagename:n[t].pagename,link:n[t].link,RightId:n[t].RightId,userid:n[t].userId});return this.newarr}ngOnInit(){setTimeout(()=>{this.innerWidth=window.innerWidth,this.innerWidth<1200&&(this.globals.toggleSidebar=!0)}),this.sidebarData.sidebarData(localStorage.getItem("CurrentUserId")).subscribe(n=>{n&&(this.sidebarEntries=this.sortData(n))}),this.extraParameter=this.activatedRoute.snapshot.firstChild.data.extraParameter}onResize(n){this.newInnerWidth=n.target.innerWidth,this.globals.toggleSidebar=this.newInnerWidth<1200}}fe.\u0275fac=function(n){return new(n||fe)(e.Y36(Qe),e.Y36(p.gz),e.Y36(At.s))},fe.\u0275cmp=e.Xpm({type:fe,selectors:[["app-sidebar"]],hostBindings:function(n,t){1&n&&e.NdJ("resize",function(s){return t.onResize(s)},!1,e.Jf7)},decls:25,vars:9,consts:[[3,"mouseover","mouseout"],[1,"app-header__logo",2,"background-image","linear-gradient(-20deg, #4e4376 0%, #4e4376 100%) !important"],["routerLink","pages/dashboard"],["src","/assets/images/mzpink.png","height","auto","width","190px",2,"margin-top","10px"],[1,"header__pane","ml-auto"],["type","button",1,"hamburger","close-sidebar-btn","hamburger--elastic",3,"ngClass","click"],[1,"hamburger-box"],[1,"hamburger-inner"],[1,"app-sidebar-content",2,"background-image","linear-gradient(-20deg, #2b5876 0%, #4e4376 100%) !important"],[1,"app-sidebar-scroll"],[2,"position","absolute",3,"autoPropagation"],[1,"v-sidebar-menu","vsm-default"],[1,"vsm-list"],[1,"vsm-header"],[1,"vsm-item"],["routerLink","/pages/dashboard","routerLinkActive","active-item",1,"vsm-link"],[1,"vsm-icon","pe-7s-home"],[1,"vsm-title"],[3,"destroyOnHide","closeOthers","activeIds",4,"ngFor","ngForOf"],[3,"destroyOnHide","closeOthers","activeIds"],[3,"id"],["ngbPanelHeader",""],["ngbPanelContent",""],["ngbPanelToggle","",1,"vsm-link"],[1,"vsm-icon","pe-7s-users"],[1,"vsm-arrow"],[1,"vsm-dropdown"],["class","vsm-item",4,"ngFor","ngForOf"],["routerLinkActive","active-item",1,"vsm-link",3,"routerLink"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.NdJ("mouseover",function(){return t.sidebarHover()})("mouseout",function(){return t.sidebarHover()}),e.ALo(1,"async"),e.TgZ(2,"div",1),e.TgZ(3,"a",2),e._UZ(4,"img",3),e.qZA(),e.TgZ(5,"div",4),e.TgZ(6,"button",5),e.NdJ("click",function(){return t.toggleSidebar()}),e.TgZ(7,"span",6),e._UZ(8,"span",7),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"div",8),e.TgZ(10,"div",9),e.TgZ(11,"perfect-scrollbar",10),e.TgZ(12,"div",11),e.TgZ(13,"div",12),e.TgZ(14,"div",13),e._UZ(15,"br"),e.qZA(),e.TgZ(16,"div",14),e.TgZ(17,"a",15),e._UZ(18,"i",16),e.TgZ(19,"span",17),e._uU(20,"Dashboard"),e.qZA(),e.qZA(),e.qZA(),e.YNc(21,ni,4,4,"ngb-accordion",18),e.qZA(),e._UZ(22,"br"),e._UZ(23,"br"),e._UZ(24,"br"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.Tol("app-sidebar sidebar-shadow "+e.lcZ(1,5,t.config).sidebarTheme),e.xp6(6),e.Q6J("ngClass",e.VKq(7,si,t.globals.toggleSidebar)),e.xp6(5),e.Q6J("autoPropagation",!0),e.xp6(10),e.Q6J("ngForOf",t.sidebarEntries))},directives:[p.yS,g.mk,it.Vv,p.Od,g.sg,u.gY,u.Gk,u.k9,u.I_,u.gW],pipes:[g.Ov],styles:[".app-header__logo[_ngcontent-%COMP%]{padding-left:14px}"]}),(0,we.gn)([(0,Q.Ys)("config")],fe.prototype,"config",void 0);var Ct=T(5798);const ri=function(i,n,t,o,s){return{"closed-sidebar":i,"closed-sidebar-md":n,"closed-sidebar-open":t,"header-menu-open":o,"fixed-footer":s}};class Ze{constructor(n,t){this.globals=n,this.configActions=t}toggleSidebarMobile(){this.globals.toggleSidebarMobile=!this.globals.toggleSidebarMobile}}Ze.\u0275fac=function(n){return new(n||Ze)(e.Y36(Qe),e.Y36(k))},Ze.\u0275cmp=e.Xpm({type:Ze,selectors:[["app-base-layout"]],decls:10,vars:11,consts:[[3,"ngClass"],[1,"app-main__outer"],[1,"app-main__inner"],["o","outlet"],[1,"sidebar-menu-overlay",3,"click"],[3,"color"]],template:function(n,t){if(1&n&&(e.TgZ(0,"div",0),e._UZ(1,"app-header"),e._UZ(2,"app-sidebar"),e.TgZ(3,"div",1),e.TgZ(4,"div",2),e.TgZ(5,"div"),e._UZ(6,"router-outlet",null,3),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",4),e.NdJ("click",function(){return t.toggleSidebarMobile()}),e.qZA(),e.qZA(),e._UZ(9,"ngx-loading-bar",5)),2&n){const o=e.MAs(7);e.Tol("app-container app-theme-white"),e.Q6J("ngClass",e.qbA(5,ri,t.globals.toggleSidebar,t.globals.toggleSidebarMobile,t.globals.sidebarHover||t.globals.toggleSidebarMobile,t.globals.toggleHeaderMobile,t.globals.toggleFixedFooter)),e.xp6(5),e.Q6J("@architectUIAnimation",o.isActivated?o.activatedRoute:""),e.xp6(4),e.Q6J("color","var(--primary)")}},directives:[g.mk,he,fe,p.lC,Ct.Nv],encapsulation:2,data:{animation:[(0,U.X$)("architectUIAnimation",[(0,U.eR)("* <=> *",[(0,U.IO)(":enter, :leave",[(0,U.oB)({opacity:0,display:"flex",flex:"1",transform:"translateY(-20px)",flexDirection:"column"})],{optional:!0}),(0,U.IO)(":enter",[(0,U.jt)("0ms ease",(0,U.oB)({opacity:1,transform:"translateY(0)"}))],{optional:!0}),(0,U.IO)(":leave",[(0,U.jt)("0ms ease",(0,U.oB)({opacity:0,transform:"translateY(-20px)"}))],{optional:!0})])])]}}),(0,we.gn)([(0,Q.Ys)("config")],Ze.prototype,"config",void 0);let ai=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-pages-layout"]],decls:4,vars:2,consts:[["o","outlet"],[3,"color"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div"),e._UZ(1,"router-outlet",null,0),e.qZA(),e._UZ(3,"ngx-loading-bar",1)),2&t){const s=e.MAs(2);e.Q6J("@architectUIAnimation",s.isActivated?s.activatedRoute:""),e.xp6(3),e.Q6J("color","var(--primary)")}},directives:[p.lC,Ct.Nv],encapsulation:2,data:{animation:[(0,U.X$)("architectUIAnimation",[(0,U.eR)("* <=> *",[(0,U.IO)(":enter, :leave",[(0,U.oB)({opacity:0,display:"flex",flex:"1",flexDirection:"column"})],{optional:!0}),(0,U.IO)(":enter",[(0,U.jt)("0ms ease",(0,U.oB)({opacity:1}))],{optional:!0}),(0,U.IO)(":leave",[(0,U.jt)("0ms ease",(0,U.oB)({opacity:0}))],{optional:!0})])])]}}),i})();function li(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"div",1),e.TgZ(2,"h4",2),e._uU(3),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return e.CHM(t),e.oxw().dismiss()}),e.TgZ(5,"span",4),e._uU(6,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"div",5),e._uU(8),e.qZA(),e.TgZ(9,"div",6),e.TgZ(10,"button",7),e.NdJ("click",function(){return e.CHM(t),e.oxw().accept()}),e._uU(11,"Confirm"),e.qZA(),e.TgZ(12,"button",8),e.NdJ("click",function(){return e.CHM(t),e.oxw().dismiss()}),e._uU(13,"Cancel"),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(3),e.Oqu(t.title),e.xp6(5),e.hij(" ",t.message," ")}}let ot=(()=>{class i{constructor(t,o){this.activeModal=t,this.myRouter=o,this.IsShow=!1}ngOnInit(){this.IsShow="/"==this.myRouter.url}decline(){this.activeModal.close(!1)}accept(){this.activeModal.close(!0)}dismiss(){this.activeModal.dismiss()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(u.Kz),e.Y36(p.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-pop-up-modal"]],inputs:{title:"title",message:"message",btnOkText:"btnOkText"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","upload","btn-sm",3,"click"],["type","button",1,"btn","reset-btn","btn-sm",3,"click"]],template:function(t,o){1&t&&e.YNc(0,li,14,2,"div",0),2&t&&e.Q6J("ngIf",!o.IsShow)},directives:[g.O5],styles:[""]}),i})();var nt=T(8929);let b=(()=>{class i{constructor(t){this.modalService=t}confirm(t,o,s="OK",r="Cancel",l="sm"){new nt.xQ;const m=this.modalService.open(ot,{size:l});return m.componentInstance.title=t,m.componentInstance.message=o,m.componentInstance.btnOkText=s,m.componentInstance.btnCancelText=r,m.result}confirmLogin(t,o,s="OK",r="Cancel",l="sm"){new nt.xQ;const m=this.modalService.open(ot,{size:l});return m.componentInstance.title=t,m.componentInstance.message=o,m.componentInstance.btnOkText=s,m.result}confirmCommon(t,o,s="OK",r="sm"){new nt.xQ;const d=this.modalService.open(ot,{size:r});return d.componentInstance.title=t,d.componentInstance.message=o,d.componentInstance.btnOkText=s,d.result}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(u.FF))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),ie=(()=>{class i{constructor(t,o){this.httpClient=t,this.myRouter=o,this.token=localStorage.getItem("token"),this.httpOptions={headers:new c.WM({authorization:`Bearer ${this.token}`})}}childReferralRegister(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/Refferal/childReferralRegister",t,s)}getdatabyid(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/Refferal/getchildReferal?id="+t,s)}getreferalbyRegStatus(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/Refferal/getchildReferalbyRegStaus?id="+t,s)}updateReferral(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/Refferal/updateReferral",t,s)}updateReferralRegstatus(t,o,s){let r=localStorage.getItem("token"),l={headers:new c.WM({authorization:`Bearer ${r}`})};return this.httpClient.post("/api/Refferal/updateReferralRegstatus?id="+t+"&statusid="+o+"&comment="+s,l)}addlatestprecdoc(t,o,s){let r=localStorage.getItem("token"),l={headers:new c.WM({authorization:`Bearer ${r}`})};return this.httpClient.post("/api/Refferal/uploadfile?id="+o+"&date="+s,t,l)}getlastid(){let t=localStorage.getItem("token"),o={headers:new c.WM({authorization:`Bearer ${t}`})};return this.httpClient.get("/api/Refferal/getlastid",o)}addfolder(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/Refferal/addfolder?id="+t,s)}getpathdatabyid(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/childreg/getpathdatabyid?id="+t,s)}deleteReferralbyid(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.delete("/api/Refferal/deleteReferralbyid?id="+t,s)}getchildReferralinfo(){let t=localStorage.getItem("token"),o={headers:new c.WM({authorization:`Bearer ${t}`})};return this.httpClient.get("/api/Refferal/getchildReferralinfo",o)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(c.eN),e.LFG(p.F0))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),S=(()=>{class i{constructor(t,o){this.httpClient=t,this.myRouter=o,this.poiresult=["TEST"],this.token=localStorage.getItem("token"),this.httpOptions={headers:new c.WM({authorization:`Bearer ${this.token}`})}}getchildRejected(){let t=localStorage.getItem("token"),o={headers:new c.WM({authorization:`Bearer ${t}`})};return this.httpClient.get("/api/childreg/getchildRejected",o)}checkpoi(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/childreg/getchildpoi/?poi="+t,s)}addlatestprecdoc(t,o,s){let r=localStorage.getItem("token"),l={headers:new c.WM({authorization:`Bearer ${r}`})};return this.httpClient.post("/api/childreg/uploadfile?id="+o+"&date="+s,t,l)}terminateReason(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/childreg/terminateReason",t,s)}passedAwayReason(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/childreg/passedAwayReason",t,s)}supendReason(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/childreg/supendReason",t,s)}graduateReason(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/childreg/graduateReason",t,s)}rejectReason(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/childreg/rejectReason",t,s)}getchildInfo(){let t=localStorage.getItem("token"),o={headers:new c.WM({authorization:`Bearer ${t}`})};return this.httpClient.get("/api/childreg/getchildInfo/",o)}getChildReasonValueIdExist(t,o){let s=localStorage.getItem("token"),r={headers:new c.WM({authorization:`Bearer ${s}`})};return this.httpClient.get("/api/childreg/ChildReasonValueIdExist?RegNumber="+t+"&tableid="+o,r)}getchildInfobyId(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/childreg/getchildInfobyId?id="+t,s)}getpathdataby(){let t=localStorage.getItem("token"),o={headers:new c.WM({authorization:`Bearer ${t}`})};return this.httpClient.get("/api/childreg/getpathdataby",o)}updateRegStatus(t,o){let s=localStorage.getItem("token"),r={headers:new c.WM({authorization:`Bearer ${s}`})};return this.httpClient.post("/api/childreg/updateRegstatus?id="+t+"&statusid="+o,r)}updateRegStatuscomments(t,o,s){let r=localStorage.getItem("token"),l={headers:new c.WM({authorization:`Bearer ${r}`})};return this.httpClient.post("/api/childreg/updateRegstatus&Comments?id="+t+"&comments="+o+"&statusid="+s,l)}IsArchive(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/childreg/IsArchive?id="+t,s)}updateReferredcomments(t,o){let s=localStorage.getItem("token"),r={headers:new c.WM({authorization:`Bearer ${s}`})};return this.httpClient.post("/api/childreg/ReferedchildComment?id="+t+"&comments="+o,r)}addUserImage(t,o,s){let r=localStorage.getItem("token"),l={headers:new c.WM({authorization:`Bearer ${r}`})};return this.httpClient.post("/api/childreg/uploadimage?id="+o+"&date="+s,t,l)}regChild(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/childreg/regChild",t,s)}getAllDoctor(){let t=localStorage.getItem("token"),o={headers:new c.WM({authorization:`Bearer ${t}`})};return this.httpClient.get("/api/DoctorDetails/getdoctordetails",o)}getallcities(){let t=localStorage.getItem("token"),o={headers:new c.WM({authorization:`Bearer ${t}`})};return this.httpClient.get("/api/childreg/getallcities",o)}regReferredChild(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/childreg/regReferredChild",t,s)}updatechildreg(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/childreg/updatechildreg",t,s)}getlastid(){let t=localStorage.getItem("token"),o={headers:new c.WM({authorization:`Bearer ${t}`})};return this.httpClient.get("/api/childreg/getlastid",o)}getchildReg(){let t=localStorage.getItem("token"),o={headers:new c.WM({authorization:`Bearer ${t}`})};return this.httpClient.get("/api/childreg/getchildReg",o)}getdatabyid(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/childreg/getdatabyid?id="+t,s)}addfolder(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/childreg/addfolder?id="+t,s)}addfolder1(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/childreg/addfolder1?id="+t,s)}getpathdatabyid(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/childreg/getpathdatabyid?id="+t,s)}getNisaabInfoById(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/childreg/getNisaabInfoById?id="+t,s)}getRegstatusbyid(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/childreg/getRegstatusbyid?id="+t,s)}Deletebyid(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/childreg/getRegstatusbyid?id="+t,s)}deleteChildInfo(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/childreg/deleteChildInfo",t,s)}getByRegStatus(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/childreg/getByRegStatus?status="+t,s)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(c.eN),e.LFG(p.F0))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var v=T(3513),Oe=T(9285);function di(i,n){1&i&&(e.TgZ(0,"div",55),e._uU(1," Something went Wrong!. "),e.qZA())}function ci(i,n){1&i&&(e.TgZ(0,"div",56),e._uU(1," Activation successfully!. "),e.qZA())}function ui(i,n){1&i&&(e.TgZ(0,"div",56),e._uU(1," Reasons Submitted successfully!. "),e.qZA())}function gi(i,n){1&i&&(e.TgZ(0,"div",56),e._uU(1," Comment Submitted successfully!. "),e.qZA())}function mi(i,n){1&i&&(e.TgZ(0,"div",56),e._uU(1," Forward To Pending successfully!. "),e.qZA())}function pi(i,n){1&i&&(e.TgZ(0,"div",56),e._uU(1," Forward successfully!. "),e.qZA())}function _i(i,n){1&i&&(e.TgZ(0,"div",56),e._uU(1," Rejected successfully. "),e.qZA())}function hi(i,n){1&i&&(e.TgZ(0,"div",56),e._uU(1," Added Successfully!. "),e.qZA())}function fi(i,n){1&i&&(e.TgZ(0,"div",55),e._uU(1," Enter mandatory info and upload all Documents. "),e.qZA())}function Zi(i,n){1&i&&(e.TgZ(0,"div",55),e._uU(1," Please fill the Eligibility form to continue. "),e.qZA())}function bi(i,n){1&i&&(e.TgZ(0,"div",55),e._uU(1," Deleted Successfully!. "),e.qZA())}function vi(i,n){1&i&&(e.TgZ(0,"div",55),e._uU(1," Something went Wrong!. "),e.qZA())}function Ti(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4,"-"),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td"),e.TgZ(18,"div",60),e.TgZ(19,"button",61),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw(2).edit(r.PatientId)}),e._UZ(20,"i",62),e.qZA(),e._uU(21,"\xa0 "),e.TgZ(22,"button",63),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw(2).activateReferal(r.PatientId)}),e._UZ(23,"i",64),e.qZA(),e._uU(24,"\xa0 "),e.TgZ(25,"div",65),e.TgZ(26,"button",66),e._UZ(27,"i",67),e.qZA(),e.TgZ(28,"div",68),e.TgZ(29,"button",69),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw(2).Comments(r.PatientId)}),e._uU(30," Comment"),e.qZA(),e.TgZ(31,"button",70),e.NdJ("click",function(){const r=e.CHM(t).$implicit,l=e.oxw(2);return l.RejectReferral(r.PatientId,l.Rejected)}),e._uU(32," Close Registration"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=n.$implicit,o=n.index;e.xp6(2),e.Oqu(o+1),e.xp6(4),e.AsE("",t.FirstName," ",t.LastName,""),e.xp6(2),e.Oqu(t.CName),e.xp6(2),e.Oqu(t.GuardianName),e.xp6(2),e.Oqu(t.PhoneNumberMobile),e.xp6(2),e.Oqu(t.CreatedDate),e.xp6(2),e.Oqu(t.Comment),e.xp6(6),e.s9C("id",t.PatientId),e.xp6(9),e.Q6J("disable",!0)}}function Ai(i,n){if(1&i&&(e.TgZ(0,"div",57),e.TgZ(1,"div"),e.TgZ(2,"h6",7),e._uU(3,"Referral List"),e.qZA(),e.qZA(),e.TgZ(4,"div"),e.TgZ(5,"table",58),e.TgZ(6,"thead"),e.TgZ(7,"tr"),e.TgZ(8,"th",59),e._uU(9,"#"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"POI No"),e.qZA(),e.TgZ(12,"th",59),e._uU(13,"Child Name"),e.qZA(),e.TgZ(14,"th",59),e._uU(15,"City"),e.qZA(),e.TgZ(16,"th",59),e._uU(17,"Guardian Name"),e.qZA(),e.TgZ(18,"th",59),e._uU(19,"Contact No."),e.qZA(),e.TgZ(20,"th",59),e._uU(21,"Date"),e.qZA(),e.TgZ(22,"th"),e._uU(23,"Comment/DetailReason"),e.qZA(),e.TgZ(24,"th",59),e._uU(25,"Action"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(26,"tbody"),e.YNc(27,Ti,33,10,"tr",12),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(27),e.Q6J("ngForOf",t.childdataPreRefferal)}}function Ci(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"tr",73),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td"),e.TgZ(18,"div",60),e.TgZ(19,"button",74),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw(2).editreg(r.RegNumber)}),e._UZ(20,"i",62),e.qZA(),e._uU(21,"\xa0 "),e.TgZ(22,"button",75),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw(2).editnisab(r.RegNumber)}),e._UZ(23,"i",76),e.qZA(),e._uU(24,"\xa0 "),e.TgZ(25,"div",65),e.TgZ(26,"button",66),e._UZ(27,"i",67),e.qZA(),e.TgZ(28,"div",68),e.TgZ(29,"button",69),e.NdJ("click",function(){const r=e.CHM(t).$implicit,l=e.oxw(2),d=e.MAs(69);return l.open(d,r.RegNumber)}),e._uU(30," View"),e.qZA(),e.TgZ(31,"button",69),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw(2).print(r.RegNumber)}),e._uU(32," Print"),e.qZA(),e.TgZ(33,"button",77),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw(2).activate(r.RegNumber)}),e._uU(34," Approve "),e.qZA(),e.TgZ(35,"button",77),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw(2).openRejected(r.RegNumber)}),e._uU(36," Close Registration "),e.qZA(),e._UZ(37,"div",78),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=n.$implicit,o=n.index;e.xp6(2),e.Oqu(o+1),e.xp6(2),e.Oqu(t.poino),e.xp6(2),e.AsE("",t.PatientFirstName," ",t.PatientLastName,""),e.xp6(2),e.Oqu(t.Cname),e.xp6(2),e.Oqu(t.GuardianName),e.xp6(2),e.Oqu(t.GuardianContact),e.xp6(2),e.Oqu(t.UpdateTime2),e.xp6(2),e.AsE("",t.ReasonId," ",t.Comment,""),e.xp6(6),e.Gre("btn ",t.RegNumber,"  edit-btn btn-sm"),e.xp6(11),e.s9C("id",t.RegNumber),e.xp6(2),e.s9C("id",t.RegNumber)}}function qi(i,n){if(1&i&&(e.TgZ(0,"table",71),e.TgZ(1,"thead"),e.TgZ(2,"tr"),e.TgZ(3,"th"),e._uU(4,"#"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"POI No"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Child Name"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"City"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Guardian Name"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Contact No"),e.qZA(),e.TgZ(15,"th"),e._uU(16,"Date"),e.qZA(),e.TgZ(17,"th"),e._uU(18,"Comment/DetailReason"),e.qZA(),e.TgZ(19,"th"),e._uU(20,"Action"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(21,"tbody"),e.YNc(22,Ci,38,15,"tr",72),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(22),e.Q6J("ngForOf",t.childpredata)}}function xi(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e.TgZ(16,"span",80),e._uU(17),e.qZA(),e.qZA(),e.TgZ(18,"td"),e.TgZ(19,"div",60),e.TgZ(20,"button",81),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw(2).editreg(r.RegNumber)}),e._UZ(21,"i",62),e.qZA(),e._uU(22," \xa0 "),e.TgZ(23,"button",82),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw(2).MoveToActive(r.RegNumber)}),e._UZ(24,"i",64),e.qZA(),e._uU(25," \xa0 "),e.TgZ(26,"button",83),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw(2).print(r.RegNumber)}),e._UZ(27,"i",84),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=n.$implicit,o=n.index;e.xp6(2),e.Oqu(o+1),e.xp6(2),e.hij(" ",t.poino,""),e.xp6(2),e.AsE("",t.PatientFirstName,"-",t.PatientLastName,""),e.xp6(2),e.Oqu(t.Cname),e.xp6(2),e.Oqu(t.GuardianName),e.xp6(2),e.Oqu(t.GuardianContact),e.xp6(2),e.Oqu(t.UpdateTime2),e.xp6(3),e.Oqu(t.Comments),e.xp6(6),e.s9C("id",t.RegNumber),e.xp6(3),e.s9C("id",t.RegNumber)}}function Ii(i,n){if(1&i&&(e.TgZ(0,"table",79),e.TgZ(1,"thead"),e.TgZ(2,"tr"),e.TgZ(3,"th"),e._uU(4,"#"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"POI No"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Child Name"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"City"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Guardian Name"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Contact No"),e.qZA(),e.TgZ(15,"th"),e._uU(16,"Date"),e.qZA(),e.TgZ(17,"th"),e._uU(18,"Comments/DetailReason"),e.qZA(),e.TgZ(19,"th"),e._uU(20,"Action"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(21,"tbody"),e.YNc(22,xi,28,11,"tr",12),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(22),e.Q6J("ngForOf",t.waiting)}}function yi(i,n){if(1&i&&(e.TgZ(0,"td"),e.TgZ(1,"span",80),e._uU(2),e.qZA(),e.qZA()),2&i){const t=e.oxw(2).$implicit;e.xp6(2),e.Oqu(t.AD)}}function ki(i,n){if(1&i&&(e.TgZ(0,"td"),e.TgZ(1,"span",80),e._uU(2),e.qZA(),e.qZA()),2&i){const t=e.oxw(2).$implicit;e.xp6(2),e.hij(" ",t.DD,"")}}function Ui(i,n){if(1&i&&(e.ynx(0),e.YNc(1,yi,3,1,"td",92),e.YNc(2,ki,3,1,"td",92),e.BQk()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",3==t.RegStatus),e.xp6(1),e.Q6J("ngIf",7==t.RegStatus)}}function Ni(i,n){if(1&i&&(e.TgZ(0,"td"),e.TgZ(1,"span",80),e._uU(2),e.qZA(),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.hij(" ",t.UpdateTime2,"")}}function wi(i,n){if(1&i&&(e.ynx(0),e.TgZ(1,"td"),e.TgZ(2,"span",80),e._uU(3),e.qZA(),e.qZA(),e.BQk()),2&i){const t=e.oxw().$implicit;e.xp6(3),e.hij("",t.Comments," ")}}function Si(i,n){if(1&i&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.FlagValues," ")}}const st=function(){return{checked:"smokewhite",unchecked:"smokewhite"}},qt=function(){return{checked:"#ffffff",unchecked:"#ffffff"}},Me=function(){return{unchecked:"#939da2",checked:"#f62d51"}};function Fi(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"ng-toggle",93),e.NdJ("change",function(){e.CHM(t);const s=e.oxw().$implicit;return e.oxw(2).childActive(s.RegNumber)}),e.qZA()}2&i&&e.Q6J("value",!1)("switchColor",e.DdM(4,st))("fontColor",e.DdM(5,qt))("color",e.DdM(6,Me))}function Di(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"ng-toggle",94),e.NdJ("change",function(){e.CHM(t);const s=e.oxw().$implicit;return e.oxw(2).openSuspended(s.RegNumber)}),e.qZA()}2&i&&e.Q6J("value",!0)("color",e.DdM(4,Me))("switchColor",e.DdM(5,st))("color",e.DdM(6,Me))}function Ji(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e.TgZ(4,"a",86),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw(2).print(r.RegNumber)}),e._uU(5),e.qZA(),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.qZA(),e.YNc(14,Ui,3,2,"ng-container",87),e.YNc(15,Ni,3,1,"ng-template",null,88,e.W1O),e.YNc(17,wi,4,1,"ng-container",87),e.YNc(18,Si,2,1,"ng-template",null,89,e.W1O),e.TgZ(20,"td"),e.YNc(21,Fi,1,7,"ng-toggle",90),e.YNc(22,Di,1,7,"ng-toggle",91),e._uU(23," \xa0 "),e.qZA(),e.TgZ(24,"td"),e.TgZ(25,"div",60),e.TgZ(26,"button",74),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw(2).editreg(r.RegNumber)}),e._UZ(27,"i",62),e.qZA(),e._uU(28," \xa0 "),e.TgZ(29,"button",75),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw(2).editnisab(r.RegNumber)}),e._UZ(30,"i",76),e.qZA(),e._uU(31,"\xa0 "),e.TgZ(32,"div",65),e.TgZ(33,"button",66),e._UZ(34,"i",67),e.qZA(),e.TgZ(35,"div",68),e.TgZ(36,"button",69),e.NdJ("click",function(){const r=e.CHM(t).$implicit,l=e.oxw(2),d=e.MAs(69);return l.open(d,r.RegNumber)}),e._uU(37," View"),e.qZA(),e.TgZ(38,"button",69),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw(2).print(r.RegNumber)}),e._uU(39," Print"),e.qZA(),e.TgZ(40,"button",77),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw(2).openTerminate(r.RegNumber)}),e._uU(41," Close Registration "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=n.$implicit,o=n.index,s=e.MAs(16),r=e.MAs(19);e.xp6(2),e.Oqu(o+1),e.xp6(3),e.hij("",t.poino," "),e.xp6(2),e.AsE("",t.PatientFirstName," ",t.PatientLastName,""),e.xp6(2),e.Oqu(t.Cname),e.xp6(2),e.Oqu(t.GuardianName),e.xp6(2),e.Oqu(t.GuardianContact),e.xp6(1),e.Q6J("ngIf",t.AD||null!=t.DD)("ngIfElse",s),e.xp6(3),e.Q6J("ngIf","Active"==t.Comments)("ngIfElse",r),e.xp6(4),e.Q6J("ngIf",7==t.RegStatus),e.xp6(1),e.Q6J("ngIf",3==t.RegStatus),e.xp6(7),e.Gre("btn ",t.RegNumber,"  edit-btn btn-sm"),e.xp6(11),e.s9C("id",t.RegNumber)}}function Ei(i,n){if(1&i&&(e.TgZ(0,"table",85),e.TgZ(1,"thead"),e.TgZ(2,"tr"),e.TgZ(3,"th"),e._uU(4,"#"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"POI No"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Child Name"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"City"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Guardian Name"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Contact No."),e.qZA(),e.TgZ(15,"th"),e._uU(16,"Activate/Deactivate Date"),e.qZA(),e.TgZ(17,"th"),e._uU(18,"Comments/Detail Reason"),e.qZA(),e.TgZ(19,"th"),e._uU(20,"Status"),e.qZA(),e.TgZ(21,"th"),e._uU(22,"Action"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(23,"tbody"),e.YNc(24,Ji,42,17,"tr",12),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(24),e.Q6J("ngForOf",t.childpostdata)}}function Ri(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td"),e._UZ(18,"ng-toggle",95),e.qZA(),e.TgZ(19,"td"),e.TgZ(20,"button",96),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().editreg(r.RegNumber)}),e._UZ(21,"i",62),e.qZA(),e._uU(22,"\xa0 "),e.TgZ(23,"button",97),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().BacktoDocsopen(r.RegNumber)}),e._UZ(24,"i",64),e.qZA(),e._uU(25,"\xa0 "),e.TgZ(26,"button",83),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().print(r.RegNumber)}),e._UZ(27,"i",84),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=n.$implicit,o=n.index;e.xp6(2),e.Oqu(o+1),e.xp6(2),e.Oqu(t.poino),e.xp6(2),e.AsE("",t.PatientFirstName," ",t.PatientLastName,""),e.xp6(2),e.Oqu(t.Cname),e.xp6(2),e.Oqu(t.GuardianName),e.xp6(2),e.Oqu(t.GuardianContact),e.xp6(2),e.Oqu(t.UpdateTime2),e.xp6(2),e.AsE(" ",t.ReasonId," ",t.Comment,""),e.xp6(2),e.Q6J("value",!1)("switchColor",e.DdM(17,st))("fontColor",e.DdM(18,qt))("color",e.DdM(19,Me)),e.xp6(5),e.s9C("id",t.RegNumber),e.Q6J("disabled","Graduate"===t.Comments||"PassedAway"===t.Comments),e.xp6(3),e.s9C("id",t.RegNumber)}}function Pi(i,n){1&i&&(e.TgZ(0,"label"),e.TgZ(1,"li"),e._uU(2,"Prescription \u2705"),e.qZA(),e.qZA())}function Yi(i,n){1&i&&(e.TgZ(0,"label"),e.TgZ(1,"li"),e._uU(2,"Please Upload Prescription ..."),e.qZA(),e.qZA())}function Qi(i,n){1&i&&(e.TgZ(0,"label"),e.TgZ(1,"li"),e._uU(2,"Bill Copy \u2705"),e.qZA(),e.qZA())}function Oi(i,n){1&i&&(e.TgZ(0,"label"),e.TgZ(1,"li"),e._uU(2,"Please Upload Bill Copy ..."),e.qZA(),e.qZA())}function Mi(i,n){1&i&&(e.TgZ(0,"label"),e.TgZ(1,"li"),e._uU(2,"School Copy \u2705"),e.qZA(),e.qZA())}function Vi(i,n){1&i&&(e.TgZ(0,"label"),e.TgZ(1,"li"),e._uU(2,"Please Upload School Copy ..."),e.qZA(),e.qZA())}function Bi(i,n){1&i&&(e.TgZ(0,"label"),e.TgZ(1,"li"),e._uU(2,"Cnic \u2705"),e.qZA(),e.qZA())}function Hi(i,n){1&i&&(e.TgZ(0,"label"),e.TgZ(1,"li"),e._uU(2,"Please Upload Cnic ..."),e.qZA(),e.qZA())}function $i(i,n){1&i&&(e.TgZ(0,"label"),e.TgZ(1,"li"),e._uU(2,"Mother Cnic \u2705"),e.qZA(),e.qZA())}function Li(i,n){1&i&&(e.TgZ(0,"label"),e.TgZ(1,"li"),e._uU(2,"Please Upload Mother Cnic ..."),e.qZA(),e.qZA())}function Gi(i,n){1&i&&(e.TgZ(0,"label"),e.TgZ(1,"li"),e._uU(2,"Any Other Supporting Document \u2705"),e.qZA(),e.qZA())}function ji(i,n){1&i&&(e.TgZ(0,"label"),e.TgZ(1,"li"),e._uU(2,"Please Any Other Supporting Document ..."),e.qZA(),e.qZA())}function zi(i,n){1&i&&(e.TgZ(0,"label"),e.TgZ(1,"li"),e._uU(2,"B-Form Copy \u2705"),e.qZA(),e.qZA())}function Wi(i,n){1&i&&(e.TgZ(0,"label"),e.TgZ(1,"li"),e._uU(2,"Please upload B-Form Copy ..."),e.qZA(),e.qZA())}function Ki(i,n){1&i&&(e.TgZ(0,"label"),e.TgZ(1,"li"),e._uU(2,"Eligibility Form \u2705"),e.qZA(),e.qZA())}function Xi(i,n){1&i&&(e.TgZ(0,"label"),e.TgZ(1,"li"),e._uU(2,"Please fill the Eligibility form first ..."),e.qZA(),e.qZA())}function eo(i,n){if(1&i&&(e.TgZ(0,"span"),e.TgZ(1,"ul"),e.YNc(2,Pi,3,0,"label",92),e.YNc(3,Yi,3,0,"label",92),e.YNc(4,Qi,3,0,"label",92),e.YNc(5,Oi,3,0,"label",92),e.YNc(6,Mi,3,0,"label",92),e.YNc(7,Vi,3,0,"label",92),e.YNc(8,Bi,3,0,"label",92),e.YNc(9,Hi,3,0,"label",92),e.YNc(10,$i,3,0,"label",92),e.YNc(11,Li,3,0,"label",92),e.YNc(12,Gi,3,0,"label",92),e.YNc(13,ji,3,0,"label",92),e.YNc(14,zi,3,0,"label",92),e.YNc(15,Wi,3,0,"label",92),e.YNc(16,Ki,3,0,"label",92),e.YNc(17,Xi,3,0,"label",92),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("ngIf",t.prescription),e.xp6(1),e.Q6J("ngIf",!t.prescription),e.xp6(1),e.Q6J("ngIf",t.billpath),e.xp6(1),e.Q6J("ngIf",!t.billpath),e.xp6(1),e.Q6J("ngIf",t.schoolpath),e.xp6(1),e.Q6J("ngIf",!t.schoolpath),e.xp6(1),e.Q6J("ngIf",t.cnic),e.xp6(1),e.Q6J("ngIf",!t.cnic),e.xp6(1),e.Q6J("ngIf",t.mothercnic),e.xp6(1),e.Q6J("ngIf",!t.mothercnic),e.xp6(1),e.Q6J("ngIf",t.gcnic),e.xp6(1),e.Q6J("ngIf",!t.gcnic),e.xp6(1),e.Q6J("ngIf",t.bfpath),e.xp6(1),e.Q6J("ngIf",!t.bfpath),e.xp6(1),e.Q6J("ngIf",t.eligibilityForm),e.xp6(1),e.Q6J("ngIf",!t.eligibilityForm)}}function to(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",17),e._UZ(1,"h4",98),e.TgZ(2,"button",99),e.NdJ("click",function(){return e.CHM(t).$implicit.dismiss("Cross click")}),e.TgZ(3,"span",100),e._uU(4,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(5,"div",19),e.YNc(6,eo,18,16,"span",92),e._uU(7),e.qZA()}if(2&i){const t=e.oxw();e.xp6(6),e.Q6J("ngIf",t.view),e.xp6(1),e.hij(" ",t.msg," ")}}const xt=function(i){return{display:i}};let io=(()=>{class i{constructor(t,o,s,r,l,d,m,_,Z,A){this.confirmationDialogService=t,this.Referral=o,this.childinfo=s,this.childReferral=r,this.detectChanges=l,this.router=d,this.modalService=m,this.userService=_,this.fb=Z,this.spinner=A,this.hidden=!1,this.var=!1,this.ordersData=[],this.PassedAwayReasons=[" DKA,"," Infection,"," Complication,"," Not related to diabetes,"," Severe Hypo,"],this.Graduated=[" Graduation in education,"],this.Rejected=[" Nisab is greater than eligibility,"," Age above 22-years,"],this.Suspended=[" Missing follow-up,"," Out of contact,"],this.Terminated=[" Age above 22-years,"," Special case time-period completed,"," Due to missing follow-up since last 6x months,"],this.prescription=!1,this.billpath=!1,this.forwardforactivation=!1,this.delete_child_info_alert=!1,this.stoppedforactivation=!1,this.stoppedfordocuments=!1,this.stopped_for_eligibility_form=!1,this.deleteNotification=!1,this.schoolpath=!1,this.cnic=!1,this.mothercnic=!1,this.gcnic=!1,this.bfpath=!1,this.dataok=!1,this.eligibilityForm=!1,this.childdataPre=[],this.verifybtn=!1,this.IsSHowPage=!1,this.isShow=!1,this.isDelete=!1,this.flag=0}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():(this.startup(),this.getchildReg(),this.getByRegStatusRejected(),this.getByRegStatusOfwaiting(),this.getchildReferralinfo(),this.arrayItems=[],this.BacktoDocsFormFtn(),this.PassedAwayFormFtn(),this.RejectedFormFtn(),this.GraduateFormFtn(),this.SuspendedFormFtn(),this.TerminateFormFtn(),this.commentForm=this.fb.group({comments:[""]}))}PassedAwayFormFtn(){this.PassedAwayForm=this.fb.group({DKA:[!1],Infection:[!1],Complication:[!1],DNotrelatedtodiabetes:[!1],SevereHypo:[!1],ReasonInput:[""]})}RejectedFormFtn(){this.RejectedForm=this.fb.group({Comment:[""],ReasonInput:[""]})}GraduateFormFtn(){this.GraduateForm=this.fb.group({Graduationineducation:[!1],ReasonInput:[""]})}SuspendedFormFtn(){this.SuspendedForm=this.fb.group({Missingfollowup:[!1],OutOfContact:[!1],ReasonInput:[""]})}TerminateFormFtn(){this.TerminateForm=this.fb.group({Comment:[""],ReasonInput:[""]})}BacktoDocsFormFtn(){this.BacktoDocsForm=this.fb.group({Comment:[""],ReasonInput:[""]})}show(t){this.showModal=!0,this.RegNumber=t}checkUploads(t){let o=[];this.childinfo.getpathdatabyid(t).subscribe(s=>{o=s,o.length<1||0==this.eligibilityForm?(o.length<1&&(this.stoppedfordocuments=!0,setTimeout(()=>{this.stoppedfordocuments=!1},3e3)),0==this.eligibilityForm&&o.length>=6&&(this.stopped_for_eligibility_form=!0,setTimeout(()=>{this.stopped_for_eligibility_form=!1},3e3))):this.confirmationDialogService.confirm("Please confirm..","Forward for Approval?").then(r=>{r&&this.childinfo.updateRegStatus(t,5).subscribe(l=>{l?(this.forwardforactivation=!0,setTimeout(()=>{this.forwardforactivation=!1},3e3),this.getchildReg(),this.getByRegStatusOfwaiting()):(this.stoppedforactivation=!0,setTimeout(()=>{this.stoppedforactivation=!1},3e3))})}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)"))})}Comments(t){this.modalcom=!0,this.PatientId=t}hidecom(){this.modalcom=!1,this.PatientId="",this.spinner.show(),this.getchildReg(),this.flag=0,setTimeout(()=>{this.spinner.hide()},1500)}onSubmitcom(){this.childinfo.updateReferredcomments(this.PatientId,this.commentForm.value.comments).subscribe(o=>{o&&(this.isComment=!0,setTimeout(()=>{this.isComment=!1},3e3),this.hidecom(),this.getchildReferralinfo())})}onSubmit(){this.childinfo.updateRegStatuscomments(this.RegNumber,this.commentForm.value.comments,4).subscribe(o=>{o&&(this.rejected=!0,setTimeout(()=>{this.rejected=!1},3e3),this.hide(),this.getByRegStatusRejected())})}hide(){this.showModal=!1,this.RegNumber=""}hideDeactivate(){this.Deactivate=!1,this.RegNumber="",this.spinner.show(),this.getchildReg(),this.flag=0,setTimeout(()=>{this.spinner.hide()},1500)}print(t){this.router.navigate(["/pages/child-reg-report/"+t])}delete(t,o){this.spinner.show(),this.confirmationDialogService.confirm("Please confirm..","Do you really want to?").then(s=>{s&&(this.user_id=localStorage.getItem("CurrentUserId"),this.childinfo.deleteChildInfo({reg_no:t,user_id:this.user_id,referredId:o}).subscribe(l=>{l?(this.delete_child_info_alert=!0,this.spinner.hide(),setTimeout(()=>{this.delete_child_info_alert=!1},3e3),this.getchildReg()):(this.spinner.hide(),this.stoppedforactivation=!0,setTimeout(()=>{this.stoppedforactivation=!1},3e3))}))}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)")),this.spinner.hide()}activate(t){this.childinfo.getNisaabInfoById(t).subscribe(o=>{o.length>0?(this.eligibilityForm=!0,this.checkUploads(t)):(this.eligibilityForm=!1,this.stoppedfordocuments=!0,setTimeout(()=>{this.stoppedfordocuments=!1},3e3))})}deactivateShow(t){this.getchildReg(),this.Deactivate=!0,this.RegNumber=t}Deactivate1(){this.childinfo.updateRegStatuscomments(this.RegNumber,this.commentForm.value.comments,7).subscribe(o=>{o&&(this.deactivate=!0,setTimeout(()=>{this.deactivate=!1},3e3),this.Deactivate=!1)})}childActive(t){0==this.flag&&(this.flag++,this.childinfo.getRegstatusbyid(t).subscribe(o=>{3==o[0].RegStatus?alert("this patient is already gone for activation"):this.confirmationDialogService.confirm("Please confirm","Do you really want To Activate... ?").then(s=>{s&&(this.flag=0,this.childinfo.updateRegStatuscomments(t,"Active",3).subscribe(r=>{r&&(this.getchildReg(),this.forwardforactivation=!0,setTimeout(()=>{this.forwardforactivation=!1},3e3))}))}).catch(()=>{this.spinner.show(),this.flag=0,setTimeout(()=>{this.spinner.hide()},1500),console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)")})}))}reject(t,o){this.Deactivate=!1,this.view=!1,this.Reject=!0}editreg(t){this.router.navigate(["/pages/edit-child-registration/"+t])}editnisab(t){this.router.navigate(["/pages/edit-nisab/"+t+"a"])}startup(){this.view=!0,this.prescription=!1,this.billpath=!1,this.schoolpath=!1,this.cnic=!1,this.mothercnic=!1,this.gcnic=!1,this.bfpath=!1,this.dataok=!1,this.isShow=!1,this.childinfo.getpathdataby().subscribe(t=>{if(t)for(var o in this.childpredata)for(var s in this.regnumberverify=this.childdataPre[o].RegNumber,this.prescription=!1,this.billpath=!1,this.schoolpath=!1,this.cnic=!1,this.mothercnic=!1,this.gcnic=!1,this.bfpath=!1,t)t[s].RegNumber==this.regnumberverify&&(1==t[s].DocType?this.prescription=!0:2==t[s].DocType?this.billpath=!0:3==t[s].DocType?this.schoolpath=!0:4==t[s].DocType?this.cnic=!0:5==t[s].DocType?this.mothercnic=!0:6==t[s].DocType?this.gcnic=!0:7==t[s].DocType&&(this.bfpath=!0),1==this.prescription&&1==this.billpath&&1==this.schoolpath&&1==this.cnic&&1==this.mothercnic&&1==this.gcnic&&1==this.bfpath&&$("#"+t[s].RegNumber).show())})}open(t,o){this.view=!0,this.Deactivate=!1,this.Reject=!1,this.prescription=!1,this.billpath=!1,this.schoolpath=!1,this.cnic=!1,this.mothercnic=!1,this.gcnic=!1,this.bfpath=!1,this.dataok=!1,this.isShow=!1,this.nofile=!0,this.eligibilityForm=!1,this.childinfo.getNisaabInfoById(o).subscribe(s=>{this.eligibilityForm=s.length>0}),this.childinfo.getpathdatabyid(o).subscribe(s=>{if(s.length>0)for(var r in this.nofile=!1,s)1==s[r].DocType?this.prescription=!0:2==s[r].DocType?this.billpath=!0:3==s[r].DocType?this.schoolpath=!0:4==s[r].DocType?this.cnic=!0:5==s[r].DocType?this.mothercnic=!0:6==s[r].DocType?this.gcnic=!0:7==s[r].DocType?this.bfpath=!0:(this.prescription=!1,this.billpath=!1,this.schoolpath=!1,this.cnic=!1,this.mothercnic=!1,this.gcnic=!1,this.bfpath=!1,this.dataok=!1);else this.prescription=!1,this.billpath=!1,this.schoolpath=!1,this.cnic=!1,this.mothercnic=!1,this.gcnic=!1,this.bfpath=!1,this.dataok=!1}),this.modalService.open(t,{ariaLabelledBy:"modal-basic-title"}).result.then(s=>{this.closeResult=`Closed with: ${s}`},s=>{this.closeResult=`Dismissed ${this.getDismissReason(s)}`})}open1(t){this.modalService.open(t,{ariaLabelledBy:"modal-basic-title2"}).result.then(o=>{this.closeResult=`Closed with: ${o}`},o=>{this.closeResult=`Dismissed ${this.getDismissReason(o)}`})}getDismissReason(t){return t===u.If.ESC?"by pressing ESC":t===u.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${t}`}getchildReg(){this.recived=!0,this.childinfo.getchildReg().subscribe(t=>{console.log(t,"active"),this.childdataPre=[],this.childdataPost=[];for(let o in t)(null==t[o].ReligionEthnicity||"null"==t[o].ReligionEthnicity)&&setTimeout(()=>{$("."+t[o].RegNumber).prop("disabled",!0)},300),1==t[o].RegStatus?(t[o].ReasonId=[" "],t[o].Comment=t[o].Comments,this.childdataPre.push(t[o])):(7==t[o].RegStatus||3==t[o].RegStatus)&&(this.childdataPost.push(t[o]),3==t[o].RegStatus&&setTimeout(()=>{$("."+t[o].RegNumber).removeClass("btn-secondary"),$("."+t[o].RegNumber).addClass("btn-success")},300));this.childpredata=this.childdataPre,this.detectChanges.detectChanges(),$("#predatatable").DataTable({paging:!0,searching:!0,destroy:!0,pageLength:5,lengthMenu:[[5,10,20,-1],[5,10,20,50]],ordering:!0}),this.childpostdata=this.childdataPost.map(o=>{if(null!==o.FlagValues){let s=o.FlagValues.split(",");3==o.ReasonTableId&&(o.FlagValues="true"==s[0]?this.Suspended[0]:"",o.FlagValues+="true"==s[1]?this.Suspended[1]:"")}else o.FlagValues="no value";return o}),this.detectChanges.detectChanges(),$("#postdatatable").DataTable({paging:!0,destroy:!0,pageLength:5,lengthMenu:[[5,10,20,-1],[5,10,20,50]],searching:!0,ordering:!0})}),$("#predatatable").dataTable().fnDestroy(),$("#postdatatable").dataTable().fnDestroy()}getByRegStatusRejected(){this.childinfo.getchildRejected().subscribe(t=>{t.length?(this.rejectedData=t.map(o=>{if(null!==o.FlagValues){let s=o.FlagValues.split(",");4==o.ReasonTableId&&(o.FlagValues="true"==s[0]?this.Rejected[0]:"",o.FlagValues+="true"==s[1]?this.Rejected[1]:""),3==o.ReasonTableId&&(o.FlagValues="true"==s[0]?this.Suspended[0]:"",o.FlagValues+="true"==s[1]?this.Suspended[1]:""),1==o.ReasonTableId&&(o.FlagValues="true"==s[0]?this.Terminated[0]:"",o.FlagValues+="true"==s[1]?this.Terminated[1]:"",o.FlagValues+="true"==s[2]?this.Terminated[2]:""),2==o.ReasonTableId&&(o.FlagValues="true"==s[0]?this.PassedAwayReasons[0]:"",o.FlagValues+="true"==s[1]?this.PassedAwayReasons[1]:"",o.FlagValues+="true"==s[2]?this.PassedAwayReasons[2]:"",o.FlagValues+="true"==s[3]?this.PassedAwayReasons[3]:"",o.FlagValues+="true"==s[4]?this.PassedAwayReasons[4]:""),4==o.ReasonTableId&&8==o.RegStatus&&(o.FlagValues="true"==s[0]?this.Graduated[0]:"")}else o.FlagValues="no value";return o}),this.detectChanges.detectChanges(),$("#dataTableDeactive").DataTable({destroy:!0,paging:!0,searching:!0,pageLength:5,lengthMenu:[[5,10,20,-1],[5,10,20]],ordering:!0})):(this.rejectedData=[],this.detectChanges.detectChanges(),$("#dataTableDeactive").DataTable({paging:!0,destroy:!0,searching:!0,pageLength:5,lengthMenu:[[5,10,20,-1],[5,10,20]],ordering:!0}))}),$("#dataTableDeactive").dataTable().fnDestroy()}IsArchive(t){this.childinfo.IsArchive(t).subscribe(o=>{o&&console.log("Archived")})}getByRegStatusOfwaiting(){this.recived=!0,this.childinfo.getByRegStatus(5).subscribe(t=>{t.length>0?(this.waiting=t,this.detectChanges.detectChanges(),$("#datatablewaiting").DataTable({paging:!0,destroy:!0,searching:!0,pageLength:5,lengthMenu:[[5,10,20,-1],[5,10,20]],ordering:!0})):(this.waiting=[],this.detectChanges.detectChanges(),$("#datatablewaiting").DataTable({paging:!0,searching:!0,destroy:!0,pageLength:5,lengthMenu:[[5,10,20,-1],[5,10,20]],ordering:!0}))}),$("#datatablewaiting").dataTable().fnDestroy()}MoveToActive(t){this.childinfo.updateRegStatuscomments(t,"Active",3).subscribe(o=>{o&&(this.forwardforactivation=!0,setTimeout(()=>{this.forwardforactivation=!1},3e3),this.getchildReg(),this.getByRegStatusOfwaiting())})}Terminate(t){this.childinfo.updateRegStatuscomments(t,"Terminated",6).subscribe(o=>{o&&(this.forwardforactivation=!0,setTimeout(()=>{this.forwardforactivation=!1},3e3),this.getByRegStatusRejected(),this.getchildReg())})}Graduate(t){this.childinfo.updateRegStatuscomments(t,"Graduate",8).subscribe(o=>{o&&(this.forwardforactivation=!0,setTimeout(()=>{this.forwardforactivation=!1},3e3),this.getByRegStatusRejected(),window.location.reload())})}Suspend(t){this.childinfo.updateRegStatuscomments(t,"Suspend",7).subscribe(o=>{o&&(this.forwardforactivation=!0,setTimeout(()=>{this.forwardforactivation=!1},3e3),this.getchildReg(),this.getByRegStatusRejected())})}PassedAway(t){this.childinfo.updateRegStatuscomments(t,"PassedAway",9).subscribe(o=>{o&&(this.forwardforactivation=!0,setTimeout(()=>{this.forwardforactivation=!1},3e3),this.getByRegStatusRejected())})}BacktoDocsopen(t){this.RegNumber=t,this.BacktoDocsflag=!0}BacktoPending(){const t={reason:["C -"]+this.BacktoDocsForm.value.ReasonInput,comment:["C -"]+this.BacktoDocsForm.value.ReasonInput+[" "]+this.BacktoDocsForm.value.Comment,RegNumber:this.RegNumber};this.childinfo.updateRegStatuscomments(t.RegNumber,t.comment,1).subscribe(o=>{o?(this.forwardToPending=!0,setTimeout(()=>{this.forwardToPending=!1},3e3),this.close(),this.getchildReg(),this.getByRegStatusOfwaiting(),window.location.reload()):(this.Wrong=!0,setTimeout(()=>{this.Wrong=!1},3e3))})}ReasonPassedAway(){this.childinfo.passedAwayReason({dka:this.PassedAwayForm.value.DKA,infection:this.PassedAwayForm.value.Infection,complication:this.PassedAwayForm.value.Complication,notrelated:this.PassedAwayForm.value.DNotrelatedtodiabetes,SevereHypo:this.PassedAwayForm.value.SevereHypo,reason:this.PassedAwayForm.value.ReasonInput,tableName:"ReasonForPassedAway",RegNumber:this.RegNumber}).subscribe(o=>{o&&(this.Reasonss=!0,setTimeout(()=>{this.Reasonss=!1},3e3),this.PassedAwayForm.reset(),this.passedAway=!1,this.PassedAway(this.RegNumber),this.PassedAwayFormFtn())})}ReasonGraduate(){this.childinfo.graduateReason({Graduationineducation:this.GraduateForm.value.Graduationineducation,reason:this.GraduateForm.value.ReasonInput,tableName:"ReasonForGraduate",RegNumber:this.RegNumber}).subscribe(o=>{o&&(this.Reasonss=!0,setTimeout(()=>{this.Reasonss=!1},3e3),this.Graduate(this.RegNumber),this.GraduateForm.reset(),this.GraduatedFlag=!1,this.GraduateFormFtn())})}ReasonSuspend(){this.childinfo.supendReason({Missingfollowup:this.SuspendedForm.value.Missingfollowup,OutOfContact:this.SuspendedForm.value.OutOfContact,reason:this.SuspendedForm.value.ReasonInput,tableName:"ReasonForSuspend",RegNumber:this.RegNumber}).subscribe(o=>{o?(this.Reasonss=!0,setTimeout(()=>{this.Reasonss=!1},3e3),this.SuspendedForm.reset(),this.SuspendedFlag=!1,this.Suspend(this.RegNumber),this.SuspendedFormFtn()):alert("error")})}ReasonRejected(){this.childinfo.rejectReason({Comment:this.RejectedForm.value.Comment,reasonid:["D -"]+this.RejectedForm.value.ReasonInput,tableName:"RejectedReason",RegNumber:this.RegNumber}).subscribe(o=>{o?(this.Reasonss=!0,setTimeout(()=>{this.Reasonss=!1},3e3),this.RejectedForm.reset(),this.RejectedFlag=!1,this.RejectedFormFtn(),this.childinfo.updateRegStatuscomments(this.RegNumber,"Rejected",4).subscribe(s=>{s&&(this.getchildReg(),this.getByRegStatusRejected(),this.hide())})):alert("error")})}BacktodocsReasonComment(){}ReasonTerminate(){this.childinfo.terminateReason({reason:["A-"]+this.TerminateForm.value.ReasonInput,comment:this.TerminateForm.value.Comment,tableName:"CloseFromActiveList",RegNumber:this.RegNumber}).subscribe(o=>{o?(this.Reasonss=!0,setTimeout(()=>{this.Reasonss=!1},3e3),this.PassedAwayForm.reset(),this.TerminateFlag=!1,this.Terminate(this.RegNumber),this.TerminateFormFtn()):alert("error")})}otherReason(t){this.var=!!t.target.checked}Comment(t){this.modalService.open(t,{ariaLabelledBy:"modal-basic-title"}).result.then(o=>{this.closeResult=`Closed with: ${o}`},o=>{this.closeResult=`Dismissed ${this.getDismissReason(o)}`})}openPassedAway(t){this.RegNumber=t;var s=[];this.childinfo.getChildReasonValueIdExist(t,9).subscribe(r=>{r.length>0?(this.passedAway=!0,null!=r[0].FlagValues&&""!=r[0].FlagValues&&(s=r[0].FlagValues.split(",")),""!==r[0].Reason&&null!==r[0].Reason&&(this.PassedAwayForm.patchValue({ReasonInput:r[0].Reason}),this.xyz=!0,this.var=!0),"true"==s[0]?this.PassedAwayForm.patchValue({DKA:!0}):(this.PassedAwayForm.patchValue({DKA:!1}),this.PassedAwayForm.patchValue("true"==s[1]?{Infection:!0}:{Infection:!1}),this.PassedAwayForm.patchValue("true"==s[2]?{Complication:!0}:{Complication:!1}),this.PassedAwayForm.patchValue("true"==s[3]?{DNotrelatedtodiabetes:!0}:{DNotrelatedtodiabetes:!1}),this.PassedAwayForm.patchValue("true"==s[4]?{SevereHypo:!0}:{SevereHypo:!1}))):(this.passedAway=!0,this.PassedAwayFormFtn())})}openSuspended(t){this.RegNumber=t;var o=[];this.childinfo.getChildReasonValueIdExist(t,7).subscribe(r=>{r.length>0?(this.SuspendedFlag=!0,null!=r[0].FlagValues&&""!=r[0].FlagValues&&(o=r[0].FlagValues.split(",")),""!==r[0].Reason&&null!==r[0].Reason&&(this.SuspendedForm.patchValue({ReasonInput:r[0].Reason}),r[0].Reason.length>0&&(this.xyz=!0,this.var=!0)),this.SuspendedForm.patchValue("true"==o[0]?{Missingfollowup:!0}:{Missingfollowup:!1}),this.SuspendedForm.patchValue("true"==o[1]?{OutOfContact:!0}:{OutOfContact:!1})):(this.SuspendedFormFtn(),this.SuspendedFlag=!0)}),this.SuspendedFlag=!0,this.SuspendedFormFtn()}openGraduated(t){this.RegNumber=t,this.GraduatedFlag=!0;var o=[];this.GraduateFormFtn(),this.childinfo.getChildReasonValueIdExist(t,8).subscribe(r=>{r.length>0?(this.GraduatedFlag=!0,null!=r[0].FlagValues&&""!=r[0].FlagValues&&(o=r[0].FlagValues.split(",")),""!==r[0].Reason&&null!==r[0].Reason&&(this.GraduateForm.patchValue({ReasonInput:r[0].Reason}),this.xyz=!0,this.var=!0),this.GraduateForm.patchValue("true"==o[0]?{Graduationineducation:!0}:{Graduationineducation:!1})):(this.GraduatedFlag=!0,this.GraduateFormFtn())})}openTerminate(t){this.RegNumber=t,this.TerminateFlag=!0,this.TerminateFormFtn()}openRejected(t){this.RegNumber=t,this.RejectedFormFtn(),this.RejectedFlag=!0}close(){this.BacktoDocsForm.reset(),this.PassedAwayForm.reset(),this.GraduateForm.reset(),this.SuspendedForm.reset(),this.TerminateForm.reset(),this.RejectedForm.reset(),this.BacktoDocsflag=!1,this.SuspendedFlag=!1,this.GraduatedFlag=!1,this.TerminateFlag=!1,this.RejectedFlag=!1,this.passedAway=!1,this.var=!1}activateReferal(t){this.childinfo.getchildInfobyId(t).subscribe(o=>{o&&this.confirmationDialogService.confirm("Please Confirm","Forward for Registration... ?").then(s=>{s&&this.childinfo.regReferredChild(o[0]).subscribe(r=>{r?(this.childinfo.addfolder1(r[1]).subscribe(l=>{}),this.isForwardSuccess=!0,setTimeout(()=>this.isForwardSuccess=!1,3e3),this.getchildReg(),this.getchildReferralinfo()):(this.Wrong=!0,setTimeout(()=>this.Wrong=!1,3e3))})}).catch(()=>console.log())})}edit(t){this.router.navigate(["/pages/edit-child-referal/"+t])}Delete(t){this.childReferral.deleteReferralbyid(t).subscribe(o=>{o?(this.isDeleteSuccess=!0,setTimeout(()=>this.isDeleteSuccess=!1,3e3),this.getchildReferralinfo()):(this.isDeletefailure=!0,setTimeout(()=>this.isDeletefailure=!1,3e3))})}RejectReferral(t){this.confirmationDialogService.confirm("Please confirm","Move to Reject list. ?").then(o=>{o&&this.childReferral.updateReferralRegstatus(t,42,"Rejected").subscribe(s=>{s?(this.rejected=!0,setTimeout(()=>{this.rejected=!1},3e3),this.getchildReferralinfo()):(this.Wrong=!0,setTimeout(()=>{this.Wrong=!1},3e3))})}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)"))}getchildReferralinfo(){this.childReferral.getchildReferralinfo().subscribe(t=>{if(this.childdataPreRefferal=[],!(t.length>0))return this.detectChanges.detectChanges(),void $("#predatatablerefferal").DataTable({paging:!0,searching:!0,pageLength:5,lengthMenu:[[5,10,20,-1],[5,10,20,50]],ordering:!0});this.detectChanges.detectChanges();for(let o in t)0==t[o].RegStatus?this.childdataPreRefferal.push(t[o]):this.detectChanges.detectChanges();this.detectChanges.detectChanges(),$("#predatatablerefferal").DataTable({paging:!0,searching:!0,pageLength:5,lengthMenu:[[5,10,20,-1],[5,10,20,50]],ordering:!0})}),$("#predatatablerefferal").dataTable().fnDestroy()}ngOnDestroy(){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(b),e.Y36(ie),e.Y36(S),e.Y36(ie),e.Y36(e.sBO),e.Y36(p.F0),e.Y36(u.FF),e.Y36(h),e.Y36(a.qu),e.Y36(v.t2))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-child-info"]],decls:265,vars:52,consts:[[1,"wrapper"],["class","alertnotify","style","background: #cb3837",4,"ngIf"],["class","alertnotify","style","background: #54a254",4,"ngIf"],["bdColor","rgba(51,51,51,0.6)","size","medium","color","#fff","type","timer"],[2,"font-size","20px","color","white","margin-top","30px"],["class","mt-3",4,"ngIf"],[1,"mt-1"],[1,"theme-heading"],["id","predatatable","class","table table-striped table-bordered","style","width: 100%",4,"ngIf"],["id","datatablewaiting","class","table table-striped table-bordered","style","width: 100%",4,"ngIf"],["id","postdatatable","class","table table-striped table-bordered","style","width: 100%",4,"ngIf"],["id","dataTableDeactive",1,"table","table-striped","table-bordered",2,"width","100%"],[4,"ngFor","ngForOf"],["content",""],["id","imagemodal","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal"],[1,"modal-dialog",2,"width","50%","height","20px","position","center","margin-top","5%"],[1,"modal-content"],[1,"modal-header"],["id","myModalLabel",1,"modal-title"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],[1,"from-control"],["type","text","id","comments","formControlName","comments",1,"form-control"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary",3,"click"],["type","button","data-dismiss","modal",1,"btn","btn-danger",3,"click"],["id","modalcom","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal"],["id","deactivatemodal","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal"],["id","passedAway","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","false",1,"modal"],[3,"formGroup"],["type","checkbox","id","checkbox-1","value","value-1","formControlName","DKA",1,"form-group"],["for","",2,"display","inline-block","padding-left","5px"],["type","checkbox","id","checkbox-2","value","value-2","formControlName","Infection",1,"form-group"],["type","checkbox","id","checkbox-3","value","value-2","formControlName","Complication",1,"form-group"],["type","checkbox","id","checkbox-4","value","value-2","formControlName","Notrelatedtodiabetes",1,"form-group"],["type","checkbox","id","checkbox-5","value","value-2","formControlName","SevereHypo",1,"form-group"],["type","checkbox","id","reason",1,"form-group",3,"checked","change"],["id","reasonInput","type","text","formControlName","ReasonInput",1,"form-control","form-control-sm",3,"ngStyle"],["data-dismiss","modal","type","reset",1,"btn","btn-danger",3,"click"],["id","GraduatedFlag","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","false",1,"modal"],["type","checkbox","id","checkbox-1","value","value-1","formControlName","Graduationineducation",1,"form-group"],["id","BacktoDocsflag","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","false",1,"modal"],["id","reasonInput","type","Text","formControlName","ReasonInput",1,"form-control","form-control-sm"],["id","Comment","type","text","formControlName","Comment",1,"form-control","form-control-sm"],["id","TerminateFlag","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","false",1,"modal"],["id","reasonInput","type","Text","pattern","^\\d{2}(,\\d{2})*$","formControlName","ReasonInput",1,"form-control","form-control-sm"],["id","ComReasonTerminatement","type","Text","formControlName","Comment",1,"form-control","form-control-sm"],["id","SuspendedFlag","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","false",1,"modal"],["type","checkbox","id","checkbox-1","value","value-1","formControlName","Missingfollowup",1,"form-group"],["type","checkbox","id","checkbox-1","value","value-1","formControlName","OutOfContact",1,"form-group"],["id","RejectedFlag","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","false",1,"modal"],["id","reasonInput","type","text","formControlName","ReasonInput",1,"form-control","form-control-sm"],["id","reasonInput","type","text","formControlName","Comment",1,"form-control","form-control-sm"],[1,"btn","btn-primary",3,"click"],[1,"alertnotify",2,"background","#cb3837"],[1,"alertnotify",2,"background","#54a254"],[1,"mt-3"],["id","predatatablerefferal",1,"table","table-striped","table-bordered",2,"width","100%"],["scope","col"],[1,"button1"],[1,"btn","btn-sm","edit-btn",3,"click"],[1,"fa","fa-pencil","fa-sm"],["type","button",1,"btn","btn-sm","btn-primary",3,"id","click"],[1,"fa","fa-check","fa-xs"],["ngbDropdown","","container","body"],["ngbDropdownToggle","",1,"btn","upload-btn","btn-sm"],[1,"fa","fa-caret-square-o-down"],["ngbDropdownMenu",""],["ngbDropdownItem","",3,"click"],["ngbDropdownItem","",3,"disable","click"],["id","predatatable",1,"table","table-striped","table-bordered",2,"width","100%"],["id","regchildtable",4,"ngFor","ngForOf"],["id","regchildtable"],["ngbTooltip","Edit",1,"btn","edit-btn","btn-sm",3,"click"],["ngbTooltip","Calculator",3,"click"],[1,"fa","fa-calculator","fa-sm"],["ngbDropdownItem","",3,"id","click"],[1,"dropdown-divider"],["id","datatablewaiting",1,"table","table-striped","table-bordered",2,"width","100%"],[1,"badge",2,"font-size","small"],["ngbTooltip","Click to edit",1,"btn","edit-btn","btn-sm",3,"click"],["ngbTooltip","Click to activate","type","button",1,"btn","upload-btn","btn-sm",3,"id","click"],["ngbTooltip","Click to print","type","button",1,"btn","print-btn","btn-sm",3,"id","click"],[1,"fa","fa-print","fa-sm"],["id","postdatatable",1,"table","table-striped","table-bordered",2,"width","100%"],[3,"click"],[4,"ngIf","ngIfElse"],["elseTemplate",""],["FlagV",""],["ng-model","value","ngbTooltip","CLick to activate",3,"value","switchColor","fontColor","color","change",4,"ngIf"],["ngbTooltip","Click to suspend",3,"value","color","switchColor","change",4,"ngIf"],[4,"ngIf"],["ng-model","value","ngbTooltip","CLick to activate",3,"value","switchColor","fontColor","color","change"],["ngbTooltip","Click to suspend",3,"value","color","switchColor","change"],["ng-model","value","disabled","true","ngbTooltip","CLick to activate",3,"value","switchColor","fontColor","color"],["ngbTooltip","Click to edit",1,"btn","btn-sm","edit-btn",3,"click"],["ngbTooltip","Click to move back to documentation under process","type","button",1,"btn","upload-btn","btn-sm",3,"id","disabled","click"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,di,2,0,"div",1),e.YNc(2,ci,2,0,"div",2),e.YNc(3,ui,2,0,"div",2),e.YNc(4,gi,2,0,"div",2),e.YNc(5,mi,2,0,"div",2),e.YNc(6,pi,2,0,"div",2),e.YNc(7,_i,2,0,"div",2),e.YNc(8,hi,2,0,"div",2),e.YNc(9,fi,2,0,"div",1),e.YNc(10,Zi,2,0,"div",1),e.YNc(11,bi,2,0,"div",1),e.YNc(12,vi,2,0,"div",1),e.qZA(),e.TgZ(13,"ngx-spinner",3),e.TgZ(14,"p",4),e._uU(15,"Please wait..."),e.qZA(),e.qZA(),e.YNc(16,Ai,28,1,"div",5),e.TgZ(17,"div",6),e.TgZ(18,"div"),e.TgZ(19,"h6",7),e._uU(20,"Documentation Under-Process"),e.qZA(),e.qZA(),e.TgZ(21,"div"),e.YNc(22,qi,23,1,"table",8),e.qZA(),e.qZA(),e.TgZ(23,"div",6),e.TgZ(24,"div"),e.TgZ(25,"div"),e.TgZ(26,"h6",7),e._uU(27,"Waiting List"),e.qZA(),e.qZA(),e.TgZ(28,"div"),e.YNc(29,Ii,23,1,"table",9),e.qZA(),e.qZA(),e.qZA(),e.TgZ(30,"div",6),e.TgZ(31,"div"),e.TgZ(32,"div"),e.TgZ(33,"h6",7),e._uU(34,"Active/Suspended"),e.qZA(),e.qZA(),e.TgZ(35,"div"),e.YNc(36,Ei,25,1,"table",10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(37,"div",6),e.TgZ(38,"div"),e.TgZ(39,"div"),e.TgZ(40,"h6",7),e._uU(41,"Closed Registration"),e.qZA(),e.qZA(),e.TgZ(42,"div"),e.TgZ(43,"table",11),e.TgZ(44,"thead"),e.TgZ(45,"tr"),e.TgZ(46,"th"),e._uU(47,"#"),e.qZA(),e.TgZ(48,"th"),e._uU(49,"POI No"),e.qZA(),e.TgZ(50,"th"),e._uU(51,"Child Name"),e.qZA(),e.TgZ(52,"th"),e._uU(53,"City"),e.qZA(),e.TgZ(54,"th"),e._uU(55,"Guardian Name"),e.qZA(),e.TgZ(56,"th"),e._uU(57,"Contact No"),e.qZA(),e.TgZ(58,"th"),e._uU(59,"Date"),e.qZA(),e.TgZ(60,"th"),e._uU(61,"Comment/DetailReason"),e.qZA(),e.TgZ(62,"th"),e._uU(63,"Status"),e.qZA(),e.TgZ(64,"th"),e._uU(65,"Action"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(66,"tbody"),e.YNc(67,Ri,28,20,"tr",12),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(68,to,8,2,"ng-template",null,13,e.W1O),e.TgZ(70,"div",14),e.TgZ(71,"div",15),e.TgZ(72,"div",16),e.TgZ(73,"div",17),e.TgZ(74,"h4",18),e._uU(75," Do you Really want to reject&deactivate "),e.qZA(),e.qZA(),e.TgZ(76,"div",19),e.TgZ(77,"form",20),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(78,"div",21),e.TgZ(79,"label",22),e._uU(80,"Comment"),e.qZA(),e._UZ(81,"input",23),e.qZA(),e.qZA(),e.qZA(),e.TgZ(82,"div",24),e.TgZ(83,"button",25),e.NdJ("click",function(){return o.onSubmit()}),e._uU(84," Submit "),e.qZA(),e.TgZ(85,"button",26),e.NdJ("click",function(){return o.hide()}),e._uU(86," Cancel "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(87,"div",27),e.TgZ(88,"div",15),e.TgZ(89,"div",16),e.TgZ(90,"div",17),e.TgZ(91,"h4",18),e._uU(92," Comments "),e.qZA(),e.qZA(),e.TgZ(93,"div",19),e.TgZ(94,"form",20),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(95,"div",21),e.TgZ(96,"label",22),e._uU(97,"Comment"),e.qZA(),e._UZ(98,"input",23),e.qZA(),e.qZA(),e.qZA(),e.TgZ(99,"div",24),e.TgZ(100,"button",25),e.NdJ("click",function(){return o.onSubmitcom()}),e._uU(101," Submit "),e.qZA(),e.TgZ(102,"button",26),e.NdJ("click",function(){return o.hidecom()}),e._uU(103," Cancel "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(104,"div",28),e.TgZ(105,"div",15),e.TgZ(106,"div",16),e.TgZ(107,"div",17),e.TgZ(108,"h4",18),e._uU(109," Comments "),e.qZA(),e.qZA(),e.TgZ(110,"div",19),e.TgZ(111,"form",20),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(112,"div",21),e.TgZ(113,"label",22),e._uU(114,"Comment"),e.qZA(),e._UZ(115,"input",23),e.qZA(),e.qZA(),e.qZA(),e.TgZ(116,"div",24),e.TgZ(117,"button",25),e.NdJ("click",function(){return o.Deactivate1()}),e._uU(118," Submit "),e.qZA(),e.TgZ(119,"button",26),e.NdJ("click",function(){return o.hideDeactivate()}),e._uU(120," Cancel "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(121,"div",29),e.TgZ(122,"div",15),e.TgZ(123,"div",16),e.TgZ(124,"div",17),e.TgZ(125,"h4",18),e._uU(126," Submit Reason For Passed Away "),e.qZA(),e.qZA(),e.TgZ(127,"form",30),e.TgZ(128,"div",19),e.TgZ(129,"div"),e._UZ(130,"input",31),e.TgZ(131,"label",32),e._uU(132,"DKA"),e.qZA(),e.qZA(),e.TgZ(133,"div"),e._UZ(134,"input",33),e.TgZ(135,"label",32),e._uU(136,"Infection"),e.qZA(),e.qZA(),e.TgZ(137,"div"),e._UZ(138,"input",34),e.TgZ(139,"label",32),e._uU(140,"Complication"),e.qZA(),e.qZA(),e.TgZ(141,"div"),e._UZ(142,"input",35),e.TgZ(143,"label",32),e._uU(144,"Not related to diabetes"),e.qZA(),e.qZA(),e.TgZ(145,"div"),e._UZ(146,"input",36),e.TgZ(147,"label",32),e._uU(148,"Severe Hypo"),e.qZA(),e.qZA(),e.TgZ(149,"div"),e.TgZ(150,"input",37),e.NdJ("change",function(r){return o.otherReason(r)}),e.qZA(),e.TgZ(151,"label",32),e._uU(152,"Other Reason"),e.qZA(),e.qZA(),e._UZ(153,"input",38),e.qZA(),e.TgZ(154,"div",24),e.TgZ(155,"button",25),e.NdJ("click",function(){return o.ReasonPassedAway()}),e._uU(156," submit "),e.qZA(),e.TgZ(157,"button",39),e.NdJ("click",function(){return o.close()}),e._uU(158," Close "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(159,"div",40),e.TgZ(160,"div",15),e.TgZ(161,"div",16),e.TgZ(162,"div",17),e.TgZ(163,"h4",18),e._uU(164,"Submit Reason"),e.qZA(),e.qZA(),e.TgZ(165,"form",30),e.TgZ(166,"div",19),e.TgZ(167,"div"),e._UZ(168,"input",41),e.TgZ(169,"label",32),e._uU(170,"Graduation in education"),e.qZA(),e.qZA(),e.TgZ(171,"div"),e.TgZ(172,"input",37),e.NdJ("change",function(r){return o.otherReason(r)}),e.qZA(),e.TgZ(173,"label",32),e._uU(174,"Other Reason"),e.qZA(),e.qZA(),e._UZ(175,"input",38),e.qZA(),e.TgZ(176,"div",24),e.TgZ(177,"button",25),e.NdJ("click",function(){return o.ReasonGraduate()}),e._uU(178," submit "),e.qZA(),e.TgZ(179,"button",39),e.NdJ("click",function(){return o.close()}),e._uU(180," Close "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(181,"div",42),e.TgZ(182,"div",15),e.TgZ(183,"div",16),e.TgZ(184,"div",17),e.TgZ(185,"h4",18),e._uU(186,"Submit Reason"),e.qZA(),e.qZA(),e.TgZ(187,"form",30),e.TgZ(188,"div",19),e.TgZ(189,"div"),e.TgZ(190,"label",32),e._uU(191,"Reason"),e.qZA(),e.qZA(),e._UZ(192,"input",43),e.TgZ(193,"div"),e.TgZ(194,"label",32),e._uU(195,"Comment"),e.qZA(),e.qZA(),e._UZ(196,"input",44),e.qZA(),e.TgZ(197,"div",24),e.TgZ(198,"button",25),e.NdJ("click",function(){return o.BacktoPending()}),e._uU(199," submit "),e.qZA(),e.TgZ(200,"button",39),e.NdJ("click",function(){return o.close()}),e._uU(201," Close "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(202,"div",45),e.TgZ(203,"div",15),e.TgZ(204,"div",16),e.TgZ(205,"div",17),e.TgZ(206,"h4",18),e._uU(207,"Submit Reason"),e.qZA(),e.qZA(),e.TgZ(208,"form",30),e.TgZ(209,"div",19),e.TgZ(210,"div"),e.TgZ(211,"label",32),e._uU(212,"Reason"),e.qZA(),e.qZA(),e._UZ(213,"input",46),e.TgZ(214,"div"),e.TgZ(215,"label",32),e._uU(216,"Comment"),e.qZA(),e.qZA(),e._UZ(217,"input",47),e.qZA(),e.TgZ(218,"div",24),e.TgZ(219,"button",25),e.NdJ("click",function(){return o.ReasonTerminate()}),e._uU(220," submit "),e.qZA(),e.TgZ(221,"button",39),e.NdJ("click",function(){return o.close()}),e._uU(222," Close "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(223,"div",48),e.TgZ(224,"div",15),e.TgZ(225,"div",16),e.TgZ(226,"div",17),e.TgZ(227,"h4",18),e._uU(228,"Submit Reason"),e.qZA(),e.qZA(),e.TgZ(229,"form",30),e.TgZ(230,"div",19),e.TgZ(231,"div"),e._UZ(232,"input",49),e.TgZ(233,"label",32),e._uU(234,"Missing follow-up"),e.qZA(),e.qZA(),e.TgZ(235,"div"),e._UZ(236,"input",50),e.TgZ(237,"label",32),e._uU(238,"Out Of Contact"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(239,"div",24),e.TgZ(240,"button",25),e.NdJ("click",function(){return o.ReasonSuspend()}),e._uU(241," submit "),e.qZA(),e.TgZ(242,"button",39),e.NdJ("click",function(){return o.close()}),e._uU(243," Close "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(244,"div",51),e.TgZ(245,"div",15),e.TgZ(246,"div",16),e.TgZ(247,"div",17),e.TgZ(248,"h4",18),e._uU(249,"Submit Reason"),e.qZA(),e.qZA(),e.TgZ(250,"form",20),e.NdJ("ngSubmit",function(){return o.ReasonRejected()}),e.TgZ(251,"div",19),e.TgZ(252,"div"),e.TgZ(253,"label",32),e._uU(254,"Reason"),e.qZA(),e.qZA(),e._UZ(255,"input",52),e.TgZ(256,"div"),e.TgZ(257,"label",32),e._uU(258,"Comment"),e.qZA(),e.qZA(),e._UZ(259,"input",53),e.qZA(),e.TgZ(260,"div",24),e.TgZ(261,"button",54),e.NdJ("click",function(){return o.ReasonRejected()}),e._uU(262," submit "),e.qZA(),e.TgZ(263,"button",39),e.NdJ("click",function(){return o.close()}),e._uU(264," Close "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",o.stoppedforactivation),e.xp6(1),e.Q6J("ngIf",o.forwardforactivation),e.xp6(1),e.Q6J("ngIf",o.Reasonss),e.xp6(1),e.Q6J("ngIf",o.isComment),e.xp6(1),e.Q6J("ngIf",o.forwardToPending),e.xp6(1),e.Q6J("ngIf",o.isForwardSuccess),e.xp6(1),e.Q6J("ngIf",o.rejected),e.xp6(1),e.Q6J("ngIf",o.isVisibleSuccess),e.xp6(1),e.Q6J("ngIf",o.stoppedfordocuments),e.xp6(1),e.Q6J("ngIf",o.stopped_for_eligibility_form),e.xp6(1),e.Q6J("ngIf",o.delete_child_info_alert),e.xp6(1),e.Q6J("ngIf",o.Wrong),e.xp6(4),e.Q6J("ngIf",o.childdataPreRefferal),e.xp6(6),e.Q6J("ngIf",o.childpredata),e.xp6(7),e.Q6J("ngIf",o.waiting),e.xp6(7),e.Q6J("ngIf",o.childpostdata),e.xp6(31),e.Q6J("ngForOf",o.rejectedData),e.xp6(3),e.Udp("display",o.showModal?"block":"none"),e.xp6(7),e.Q6J("formGroup",o.commentForm),e.xp6(10),e.Udp("display",o.modalcom?"block":"none"),e.xp6(7),e.Q6J("formGroup",o.commentForm),e.xp6(10),e.Udp("display",o.Deactivate?"block":"none"),e.xp6(7),e.Q6J("formGroup",o.commentForm),e.xp6(10),e.Udp("display",o.passedAway?"block":"none"),e.xp6(6),e.Q6J("formGroup",o.PassedAwayForm),e.xp6(23),e.Q6J("checked",o.xyz),e.xp6(3),e.Q6J("ngStyle",e.VKq(48,xt,1==o.var?"block":"none")),e.xp6(6),e.Udp("display",o.GraduatedFlag?"block":"none"),e.xp6(6),e.Q6J("formGroup",o.GraduateForm),e.xp6(7),e.Q6J("checked",o.xyz),e.xp6(3),e.Q6J("ngStyle",e.VKq(50,xt,1==o.var?"block":"none")),e.xp6(6),e.Udp("display",o.BacktoDocsflag?"block":"none"),e.xp6(6),e.Q6J("formGroup",o.BacktoDocsForm),e.xp6(15),e.Udp("display",o.TerminateFlag?"block":"none"),e.xp6(6),e.Q6J("formGroup",o.TerminateForm),e.xp6(15),e.Udp("display",o.SuspendedFlag?"block":"none"),e.xp6(6),e.Q6J("formGroup",o.SuspendedForm),e.xp6(15),e.Udp("display",o.RejectedFlag?"block":"none"),e.xp6(6),e.Q6J("formGroup",o.RejectedForm))},directives:[g.O5,v.Ro,g.sg,u.jt,u.iD,u.Vi,u.TH,u._L,Oe.sX,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,a.Wl,g.PC,a.c5],styles:["table.dataTable[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table.dataTable[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1px 5px;vertical-align:middle}.button1[_ngcontent-%COMP%]{display:flex;justify-content:center}.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{text-align:center}"]}),i})();var It=T(4850);function oo(i){return n=>i.checkpoi(n.value).pipe((0,It.U)(t=>{let o=t[0].poi;return t.find(s=>1==s),1==o?{poiExists:!0}:null}))}function no(i,n){return t=>i.checkpoi(t.value).pipe((0,It.U)(o=>{let s=o[0].poi;return o.find(r=>1==r),t.value===n.previouspoi?null:1==s?{poiExists:!0}:null}))}let B=(()=>{class i{constructor(t,o){this.httpClient=t,this.myRouter=o,this.token=localStorage.getItem("token"),this.httpOptions={headers:new c.WM({authorization:`Bearer ${this.token}`})}}addUserImage(t,o,s){let r=localStorage.getItem("token"),l={headers:new c.WM({authorization:`Bearer ${r}`})};return this.httpClient.post("/api/doctor/uploadfile?id="+o+"&date="+s,t,l)}duplicatecheck(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/auth/duplicatecheck?id="+t,s)}doctorRegister(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/doctor/doctorRegister",t,s)}doctorSignUp(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/doctor/doctorSignUp",t,s)}updateRecord(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/doctor/updateRecord",t,s)}getAllActiveData(){let t=localStorage.getItem("token"),o={headers:new c.WM({authorization:`Bearer ${t}`})};return this.httpClient.get("/api/doctor/getAllActiveData",o)}getchildreferralbyid(t){console.log(t);let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/doctor/getchildreferralbyid?id="+t,s)}getchildreferralbyid2(t){console.log(t);let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/doctor/getchildreferralbyid2?id="+t,s)}doctorCheck(t){console.log(t);let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/doctor/doctorCheck?id="+t,s)}doctorbyId(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/doctor/doctorbyId?id="+t,s)}getAllInActiveData(){let t=localStorage.getItem("token"),o={headers:new c.WM({authorization:`Bearer ${t}`})};return this.httpClient.get("/api/doctor/getAllInActiveData",o)}inactivate(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/doctor/inactivate?id="+t,s)}deletePendingDoctor(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/doctor/deletePendingDoctor?id="+t,s)}updatingUserIdOfDoctor(t){return this.httpClient.post("/api/doctor/updatingUserIdOfDoctor",t)}deleteDoctor(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/doctor/deleteDoctor?id="+t,s)}activate(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/doctor/activate?id="+t,s)}getdatabyId(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/doctor/getdatabyId?id="+t,s)}addfolder(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/doctor/addfolder?id="+t,s)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(c.eN),e.LFG(p.F0))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),O=(()=>{class i{constructor(t){this.httpClient=t,this.token=localStorage.getItem("token"),this.httpOptions={headers:new c.WM({authorization:`Bearer ${this.token}`})}}getAllCategories(){let t=localStorage.getItem("token"),o={headers:new c.WM({authorization:`Bearer ${t}`})};return this.httpClient.get("/api/entity/getAllCategories",o)}addCategory(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/entity/addCategory",t,s)}editCategory(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/entity/editCategory",t,s)}deleteCategory(t,o){let s=localStorage.getItem("token"),r={headers:new c.WM({authorization:`Bearer ${s}`})};return this.httpClient.get("/api/entity/deleteCategory?CategoryId="+t,r)}getCategorybyid(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/entity/getCategorybyid?CategoryId="+t,s)}getCategorybyEntityType(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/entity/getCategorybyEntityType?EntityTypeId="+t,s)}getAllEntities(){let t=localStorage.getItem("token"),o={headers:new c.WM({authorization:`Bearer ${t}`})};return this.httpClient.get("/api/entity/getAllEntities",o)}getAllHospitals(){let t=localStorage.getItem("token"),o={headers:new c.WM({authorization:`Bearer ${t}`})};return this.httpClient.get("/api/hospital/getAllHospitals",o)}addEntity(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/entity/addEntity",t,s)}editEntity(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/entity/editEntity",t,s)}deleteEntity(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/entity/deleteEntity",t,s)}getEntitybyid(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/entity/getEntitybyid?EntityTypeId="+t,s)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(c.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),de=(()=>{class i{constructor(t){this.httpClient=t,this.token=localStorage.getItem("token"),this.httpOptions={headers:new c.WM({authorization:`Bearer ${this.token}`})}}getAllHospitals(){let t=localStorage.getItem("token"),o={headers:new c.WM({authorization:`Bearer ${t}`})};return this.httpClient.get("/api/hospital/getAllHospitals",o)}getAllHospitalsWithoutToken(){return this.httpClient.get("/api/hospital/getAllHospitalsWithoutToken")}addHospital(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/hospital/addHospital",t,s)}editHospital(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/hospital/updateHospital",t,s)}deleteHospital(t,o){let s=localStorage.getItem("token"),r={headers:new c.WM({authorization:`Bearer ${s}`})};return this.httpClient.get("/api/hospital/deleteHospital?hospitalid="+t+"&userid="+o,r)}gethospitalbyid(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/hospital/gethospitalById?hospitalId="+t,s)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(c.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),x=(()=>{class i{onKeydown(t){this.key=t.keyCode,(this.key>=15&&this.key<=31||this.key>=40&&this.key<=64||this.key>=123||this.key>=96&&this.key<=105)&&t.preventDefault()}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=e.lG2({type:i,selectors:[["","appAlphabetOnly",""]],hostBindings:function(t,o){1&t&&e.NdJ("keydown",function(r){return o.onKeydown(r)})}}),i})(),Ve=(()=>{class i{constructor(t,o){this.el=t,this.renderer=o}set cnicControl(t){this._cnicControl=t}set preValue(t){this._preValue=t}ngOnInit(){this.cnicValidate()}ngOnDestroy(){this.sub.unsubscribe()}cnicValidate(){this.sub=this._cnicControl.valueChanges.subscribe(t=>{let o=this._preValue;null==o&&(o=""),console.log(o);var s=o.substr(0,o.length-1);if(null!=t)var r=t.replace(/\D/g,"");let l=this.renderer.selectRootElement(".Cnic").selectionStart,d=this.renderer.selectRootElement(".Cnic").selectionEnd;if(null!=t)if(t.length<o.length)o.length<l&&")"==s&&(r=r.substr(0,r.length-1)),r=0==r.length?"":r.length<=5?r.replace(/^(\d{0,5})/,"$1"):r.length<=12?r.replace(/^(\d{0,5})(\d{0,7})/,"$1-$2"):r.replace(/^(\d{0,5})(\d{0,7})(\d{0,1})/,"$1-$2-$3"),this._cnicControl.setValue(r,{emitEvent:!1}),this.renderer.selectRootElement(".Cnic").setSelectionRange(l,d);else{var m=t.charAt(l);r=0==r.length?"":r.length<=5?r.replace(/^(\d{0,5})/,"$1"):r.length<=12?r.replace(/^(\d{0,5})(\d{0,7})/,"$1-$2"):r.replace(/^(\d{0,5})(\d{0,7})(\d{0,1})/,"$1-$2-$3"),o.length>=l?("("==m&&(l+=1,d+=1),")"==m&&(l+=2,d+=2),"-"==m&&(l+=1,d+=1)," "==m&&(l+=1,d+=1),this._cnicControl.setValue(r,{emitEvent:!1}),this.renderer.selectRootElement(".Cnic").setSelectionRange(l,d)):(this._cnicControl.setValue(r,{emitEvent:!1}),this.renderer.selectRootElement(".Cnic").setSelectionRange(l+2,d+2))}})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq),e.Y36(e.Qsj))},i.\u0275dir=e.lG2({type:i,selectors:[["","cnicMask",""]],inputs:{cnicControl:"cnicControl",preValue:"preValue"}}),i})(),J=(()=>{class i{constructor(t,o){this.el=t,this.renderer=o}set phoneControl(t){this._phoneControl=t}set preValue(t){this._preValue=t}ngOnInit(){this.phoneValidate()}ngOnDestroy(){this.sub.unsubscribe()}phoneValidate(){this.sub=this._phoneControl.valueChanges.subscribe(t=>{let o=this._preValue;null==o&&(o="");var s=o.substring(o.length-1,1);if(null!=t)var r=t.replace(/\D/g,"");let l=this.renderer.selectRootElement(".Phone").selectionStart,d=this.renderer.selectRootElement(".Phone").selectionEnd;if(null!=t)if(t.length<o.length)o.length<l&&")"==s&&(r=r.substr(0,r.length-1)),r=0==r.length?"":r.length<=4?r.replace(/^(\d{0,4})/,"$1"):r.replace(/^(\d{0,4})(\d{0,8})/,"$1-$2"),this._phoneControl.setValue(r,{emitEvent:!1}),this.renderer.selectRootElement(".Phone").setSelectionRange(l,d);else{var m=t.charAt(l);r=0==r.length?"":r.length<=4?r.replace(/^(\d{0,4})/,"$1"):r.replace(/^(\d{0,4})(\d{0,8})/,"$1-$2"),o.length>=l?("("==m&&(l+=1,d+=1),")"==m&&(l+=2,d+=2),"-"==m&&(l+=1,d+=1)," "==m&&(l+=1,d+=1),this._phoneControl.setValue(r,{emitEvent:!1}),this.renderer.selectRootElement(".Phone").setSelectionRange(l,d)):(this._phoneControl.setValue(r,{emitEvent:!1}),this.renderer.selectRootElement(".Phone").setSelectionRange(l+2,d+2))}})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq),e.Y36(e.Qsj))},i.\u0275dir=e.lG2({type:i,selectors:[["","phoneMask",""]],inputs:{phoneControl:"phoneControl",preValue:"preValue"}}),i})();var Be=T(584),ce=T(3728);function so(i,n){1&i&&(e.TgZ(0,"div",17),e._uU(1," Something went Wrong.\n"),e.qZA())}function ro(i,n){1&i&&(e.TgZ(0,"div",18),e._uU(1," Added Successfully!.\n"),e.qZA())}function ao(i,n){1&i&&(e.TgZ(0,"div",17),e._uU(1," Date of birth should be less than diagnosis date.\n"),e.qZA())}function lo(i,n){1&i&&(e.TgZ(0,"span",19),e._uU(1,"Personal Information"),e.qZA(),e.TgZ(2,"div",20),e._UZ(3,"i",21),e.qZA())}function co(i,n){1&i&&e.GkF(0)}function uo(i,n){if(1&i&&(e.TgZ(0,"div",72),e.TgZ(1,"div",73),e._uU(2,"POI: "),e.TgZ(3,"strong"),e._uU(4),e.qZA(),e._uU(5," already exists"),e.qZA(),e.qZA()),2&i){const t=e.oxw(3);e.xp6(4),e.hij(" ",t.childForm.controls.poino.value," ")}}function go(i,n){if(1&i&&e.YNc(0,uo,6,1,"div",71),2&i){e.oxw();const t=e.MAs(15),o=e.oxw();e.Q6J("ngIf",null==o.poinoerr.errors?null:o.poinoerr.errors.poiExists)("ngIfElse",t)}}function mo(i,n){if(1&i&&(e.TgZ(0,"div",74),e.TgZ(1,"div",73),e._uU(2,"POI: "),e.TgZ(3,"strong"),e._uU(4),e.qZA(),e._uU(5," is available"),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(4),e.hij(" ",t.childForm.controls.poino.value," ")}}function po(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"First Name is required"),e.qZA())}function _o(i,n){if(1&i&&(e.TgZ(0,"div",75),e.YNc(1,po,2,0,"div",76),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.fname.errors.required)}}function ho(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Last Name is required"),e.qZA())}function fo(i,n){if(1&i&&(e.TgZ(0,"div",75),e.YNc(1,ho,2,0,"div",76),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.lname.errors.required)}}function Zo(i,n){if(1&i&&(e.TgZ(0,"option",77),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.CategoryId),e.xp6(1),e.hij("",t.CategoryName," ")}}function bo(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Gender is required"),e.qZA())}function vo(i,n){if(1&i&&(e.TgZ(0,"div",75),e.YNc(1,bo,2,0,"div",76),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.gender.errors.required)}}function To(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Date of birth is required "),e.qZA())}function Ao(i,n){if(1&i&&(e.TgZ(0,"div",75),e.YNc(1,To,2,0,"div",76),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.dob.errors.required)}}function Co(i,n){if(1&i&&(e.TgZ(0,"option",77),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.CategoryId),e.xp6(1),e.hij("",t.CategoryName," ")}}function qo(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Religion is required"),e.qZA())}function xo(i,n){if(1&i&&(e.TgZ(0,"div",75),e.YNc(1,qo,2,0,"div",76),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.religion.errors.required)}}function Io(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"School Name is required"),e.qZA())}function yo(i,n){if(1&i&&(e.TgZ(0,"div",75),e.YNc(1,Io,2,0,"div",76),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.schoolname.errors.required)}}function ko(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Class is required"),e.qZA())}function Uo(i,n){if(1&i&&(e.TgZ(0,"div",75),e.YNc(1,ko,2,0,"div",76),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.class.errors.required)}}function No(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," School Address is required "),e.qZA())}function wo(i,n){if(1&i&&(e.TgZ(0,"div",75),e.YNc(1,No,2,0,"div",76),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.schooladdress.errors.required)}}function So(i,n){if(1&i&&(e.TgZ(0,"option",77),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.Id),e.xp6(1),e.hij("",t.Name," ")}}function Fo(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"City is required"),e.qZA())}function Do(i,n){if(1&i&&(e.TgZ(0,"div",75),e.YNc(1,Fo,2,0,"div",76),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.city.errors.required)}}function Jo(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Residential Address is required "),e.qZA())}function Eo(i,n){if(1&i&&(e.TgZ(0,"div",75),e.YNc(1,Jo,2,0,"div",76),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.residentialaddress.errors.required)}}function Ro(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Postal Address is required "),e.qZA())}function Po(i,n){if(1&i&&(e.TgZ(0,"div",75),e.YNc(1,Ro,2,0,"div",76),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.postaladdress.errors.required)}}const C=function(i){return{"is-invalid":i}};function Yo(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",22),e.TgZ(1,"div",23),e.TgZ(2,"div",24),e.TgZ(3,"div",25),e.TgZ(4,"label",26),e._UZ(5,"input",27),e._uU(6," LFAC Support "),e.qZA(),e.qZA(),e.TgZ(7,"div",28),e.TgZ(8,"label",29),e._uU(9,"POI NO "),e.TgZ(10,"input",30),e.NdJ("keydown",function(s){return e.CHM(t),e.oxw().eventHandler(s)}),e.qZA(),e.qZA(),e.YNc(11,co,1,0,"ng-container",31),e.YNc(12,go,1,2,"ng-template",null,32,e.W1O),e.YNc(14,mo,6,1,"ng-template",null,33,e.W1O),e.qZA(),e.qZA(),e.TgZ(16,"div",34),e.TgZ(17,"div",25),e.TgZ(18,"label",35),e._uU(19,"First Name"),e.qZA(),e._UZ(20,"input",36),e.YNc(21,_o,2,1,"div",37),e.qZA(),e.TgZ(22,"div",38),e.TgZ(23,"label",35),e._uU(24,"Last Name"),e.qZA(),e._UZ(25,"input",39),e.YNc(26,fo,2,1,"div",37),e.qZA(),e.TgZ(27,"div",38),e.TgZ(28,"label",40),e._uU(29,"Gender"),e.qZA(),e.TgZ(30,"select",41),e.TgZ(31,"option",42),e._uU(32,"Select Gender"),e.qZA(),e.YNc(33,Zo,2,2,"option",43),e.qZA(),e.YNc(34,vo,2,1,"div",37),e.qZA(),e.TgZ(35,"div",44),e.TgZ(36,"label",45),e._uU(37,"DOB"),e.qZA(),e._UZ(38,"input",46),e.YNc(39,Ao,2,1,"div",37),e.qZA(),e.qZA(),e.TgZ(40,"div",22),e.TgZ(41,"div",25),e.TgZ(42,"label",47),e._uU(43,"Religion"),e.qZA(),e.TgZ(44,"select",48),e.TgZ(45,"option",42),e._uU(46,"Select Religion"),e.qZA(),e.YNc(47,Co,2,2,"option",43),e.qZA(),e.YNc(48,xo,2,1,"div",37),e.qZA(),e.TgZ(49,"div",38),e.TgZ(50,"label",49),e._uU(51,"School Name"),e.qZA(),e._UZ(52,"input",50),e.YNc(53,yo,2,1,"div",37),e.qZA(),e.TgZ(54,"div",51),e.TgZ(55,"label",52),e._uU(56,"Class"),e.qZA(),e._UZ(57,"input",53),e.YNc(58,Uo,2,1,"div",37),e.qZA(),e.TgZ(59,"div",54),e.TgZ(60,"label",55),e._uU(61,"School Address"),e.qZA(),e._UZ(62,"input",56),e.YNc(63,wo,2,1,"div",37),e.qZA(),e.qZA(),e.TgZ(64,"div",57),e.TgZ(65,"div",58),e.TgZ(66,"label",59),e._uU(67,"City"),e.qZA(),e.TgZ(68,"select",60),e.TgZ(69,"option",42),e._uU(70,"Select City"),e.qZA(),e.YNc(71,So,2,2,"option",43),e.qZA(),e.YNc(72,Do,2,1,"div",37),e.qZA(),e.TgZ(73,"div",61),e.TgZ(74,"label",62),e._uU(75,"Residential Address"),e.qZA(),e._UZ(76,"input",63),e.YNc(77,Eo,2,1,"div",37),e.qZA(),e.TgZ(78,"div",61),e.TgZ(79,"label",64),e._uU(80,"Postal Address"),e.qZA(),e._UZ(81,"input",65),e.YNc(82,Po,2,1,"div",37),e.qZA(),e.qZA(),e.qZA(),e.TgZ(83,"div",38),e.TgZ(84,"div",66),e.TgZ(85,"div",67),e.TgZ(86,"div",68),e._UZ(87,"img",69),e._uU(88," \xa0\xa0\xa0 "),e.TgZ(89,"button",70),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(),r=e.MAs(29);return s.open(r)}),e._uU(90,"Upload Picture"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(91,"div",34),e._UZ(92,"div",68),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.MAs(13),o=e.oxw();e.xp6(5),e.Q6J("value",1),e.xp6(6),e.Q6J("ngIf",!o.childForm.controls.poino.dirty)("ngIfElse",t),e.xp6(9),e.Q6J("ngClass",e.VKq(30,C,o.submitted&&o.f.fname.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.fname.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(32,C,o.submitted&&o.f.lname.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.lname.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(34,C,o.submitted&&o.f.gender.errors)),e.xp6(3),e.Q6J("ngForOf",o.gender),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.gender.errors),e.xp6(4),e.Q6J("max",o.maxDate)("ngClass",e.VKq(36,C,o.submitted&&o.f.dob.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.dob.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(38,C,o.submitted&&o.f.religion.errors)),e.xp6(3),e.Q6J("ngForOf",o.religion),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.religion.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(40,C,o.submitted&&o.f.schoolname.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.schoolname.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(42,C,o.submitted&&o.f.class.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.class.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(44,C,o.submitted&&o.f.schooladdress.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.schooladdress.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(46,C,o.submitted&&o.f.city.errors)),e.xp6(3),e.Q6J("ngForOf",o.allcities),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.city.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(48,C,o.submitted&&o.f.residentialaddress.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.residentialaddress.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(50,C,o.submitted&&o.f.postaladdress.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.postaladdress.errors),e.xp6(5),e.Q6J("src",o.originalImage,e.LSH)}}function Qo(i,n){1&i&&(e.TgZ(0,"span",19),e._uU(1,"Parent Information"),e.qZA(),e.TgZ(2,"div",20),e._UZ(3,"i",21),e.qZA())}function Oo(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Father Name is required"),e.qZA())}function Mo(i,n){if(1&i&&(e.TgZ(0,"div",75),e.YNc(1,Oo,2,0,"div",76),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.pfname.errors.required)}}function Vo(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Occupation is required"),e.qZA())}function Bo(i,n){if(1&i&&(e.TgZ(0,"div",75),e.YNc(1,Vo,2,0,"div",76),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.poccupation.errors.required)}}function Ho(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Cnic is required with dashes"),e.qZA())}function $o(i,n){1&i&&(e.TgZ(0,"div",100),e._uU(1,"Please Enter valid NIC number with dashes"),e.qZA())}function Lo(i,n){if(1&i&&(e.TgZ(0,"div",75),e.YNc(1,Ho,2,0,"div",76),e.YNc(2,$o,2,0,"div",99),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.pcnic.errors.required),e.xp6(1),e.Q6J("ngIf",t.childForm.controls.pcnic.hasError("pattern"))}}function Go(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Contact is required "),e.qZA())}function jo(i,n){1&i&&(e.TgZ(0,"div",100),e._uU(1," Enter Contact Number "),e.qZA())}function zo(i,n){if(1&i&&(e.TgZ(0,"div",75),e.YNc(1,Go,2,0,"div",76),e.YNc(2,jo,2,0,"div",99),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.pcontact.errors.required),e.xp6(1),e.Q6J("ngIf",t.childForm.controls.pcontact.hasError("pattern"))}}function Wo(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Mother Name is required"),e.qZA())}function Ko(i,n){if(1&i&&(e.TgZ(0,"div",75),e.YNc(1,Wo,2,0,"div",76),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.mfname.errors.required)}}function Xo(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Occupation is required"),e.qZA())}function en(i,n){if(1&i&&(e.TgZ(0,"div",75),e.YNc(1,Xo,2,0,"div",76),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.moccupation.errors.required)}}function tn(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Cnic is required with dashes"),e.qZA())}function on(i,n){1&i&&(e.TgZ(0,"div",100),e._uU(1,"Please Enter valid NIC number with dashes"),e.qZA())}function nn(i,n){if(1&i&&(e.TgZ(0,"div",75),e.YNc(1,tn,2,0,"div",76),e.YNc(2,on,2,0,"div",99),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.mcnic.errors.required),e.xp6(1),e.Q6J("ngIf",t.childForm.controls.mcnic.hasError("pattern"))}}function sn(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Contact is required "),e.qZA())}function rn(i,n){1&i&&(e.TgZ(0,"div",100),e._uU(1," Enter Contact Number "),e.qZA())}function an(i,n){if(1&i&&(e.TgZ(0,"div",75),e.YNc(1,sn,2,0,"div",76),e.YNc(2,rn,2,0,"div",99),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.mcontact.errors.required),e.xp6(1),e.Q6J("ngIf",t.childForm.controls.mcontact.hasError("pattern"))}}function ln(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"First Name is required"),e.qZA())}function dn(i,n){if(1&i&&(e.TgZ(0,"div",75),e.YNc(1,ln,2,0,"div",76),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.gfname.errors.required)}}function cn(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Occupation is required"),e.qZA())}function un(i,n){if(1&i&&(e.TgZ(0,"div",75),e.YNc(1,cn,2,0,"div",76),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.goccupation.errors.required)}}function gn(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Cnic is required with dashes"),e.qZA())}function mn(i,n){1&i&&(e.TgZ(0,"div",100),e._uU(1,"Please Enter valid NIC number with dashes"),e.qZA())}function pn(i,n){if(1&i&&(e.TgZ(0,"div",75),e.YNc(1,gn,2,0,"div",76),e.YNc(2,mn,2,0,"div",99),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.gcnic.errors.required),e.xp6(1),e.Q6J("ngIf",t.childForm.controls.gcnic.hasError("pattern"))}}function _n(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Contact is required "),e.qZA())}function hn(i,n){1&i&&(e.TgZ(0,"div",100),e._uU(1," Enter Contact Number "),e.qZA())}function fn(i,n){if(1&i&&(e.TgZ(0,"div",75),e.YNc(1,_n,2,0,"div",76),e.YNc(2,hn,2,0,"div",99),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.gcontact.errors.required),e.xp6(1),e.Q6J("ngIf",t.childForm.controls.gcontact.hasError("pattern"))}}function Zn(i,n){if(1&i&&(e.TgZ(0,"div",78),e.TgZ(1,"div",22),e.TgZ(2,"div",23),e.TgZ(3,"div",34),e.TgZ(4,"div",38),e.TgZ(5,"label",79),e._uU(6,"Father Name"),e.qZA(),e._UZ(7,"input",80),e.YNc(8,Mo,2,1,"div",37),e.qZA(),e.TgZ(9,"div",38),e.TgZ(10,"label",81),e._uU(11,"Occupation"),e.qZA(),e._UZ(12,"input",82),e.YNc(13,Bo,2,1,"div",37),e.qZA(),e.TgZ(14,"div",38),e.TgZ(15,"label"),e._uU(16,"CNIC: "),e.qZA(),e._UZ(17,"input",83),e.YNc(18,Lo,3,2,"div",37),e.qZA(),e.TgZ(19,"div",38),e.TgZ(20,"label",84),e._uU(21,"Contact"),e.qZA(),e._UZ(22,"input",85),e.YNc(23,zo,3,2,"div",37),e.qZA(),e.qZA(),e.TgZ(24,"div",34),e.TgZ(25,"div",25),e.TgZ(26,"label",86),e._uU(27,"Mother Name"),e.qZA(),e._UZ(28,"input",87),e.YNc(29,Ko,2,1,"div",37),e.qZA(),e.TgZ(30,"div",38),e.TgZ(31,"label",88),e._uU(32,"Occupation"),e.qZA(),e._UZ(33,"input",89),e.YNc(34,en,2,1,"div",37),e.qZA(),e.TgZ(35,"div",38),e.TgZ(36,"label"),e._uU(37,"CNIC: "),e.qZA(),e._UZ(38,"input",90),e.YNc(39,nn,3,2,"div",37),e.qZA(),e.TgZ(40,"div",44),e.TgZ(41,"label",84),e._uU(42,"Contact"),e.qZA(),e._UZ(43,"input",91),e.YNc(44,an,3,2,"div",37),e.qZA(),e.qZA(),e.TgZ(45,"div",92),e.TgZ(46,"div",25),e.TgZ(47,"label",93),e._uU(48,"Guardian Name"),e.qZA(),e._UZ(49,"input",94),e.YNc(50,dn,2,1,"div",37),e.qZA(),e.TgZ(51,"div",38),e.TgZ(52,"label",95),e._uU(53,"Occupation"),e.qZA(),e._UZ(54,"input",96),e.YNc(55,un,2,1,"div",37),e.qZA(),e.TgZ(56,"div",38),e.TgZ(57,"label"),e._uU(58,"CNIC: "),e.qZA(),e._UZ(59,"input",97),e.YNc(60,pn,3,2,"div",37),e.qZA(),e.TgZ(61,"div",44),e.TgZ(62,"label",84),e._uU(63,"Contact"),e.qZA(),e._UZ(64,"input",98),e.YNc(65,fn,3,2,"div",37),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(7),e.Q6J("ngClass",e.VKq(36,C,t.submitted&&t.f.pfname.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.pfname.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(38,C,t.submitted&&t.f.poccupation.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.poccupation.errors),e.xp6(4),e.Q6J("cnicControl",t.childForm.controls.pcnic)("preValue",t.childForm.value.pcnic)("ngClass",e.VKq(40,C,t.submitted&&t.f.pcnic.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.pcnic.errors),e.xp6(4),e.Q6J("preValue",t.childForm.value.pcontact)("phoneControl",t.childForm.controls.pcontact)("ngClass",e.VKq(42,C,t.submitted&&t.f.pcontact.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.pcontact.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(44,C,t.submitted&&t.f.mfname.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.mfname.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(46,C,t.submitted&&t.f.moccupation.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.moccupation.errors),e.xp6(4),e.Q6J("cnicControl",t.childForm.controls.mcnic)("preValue",t.childForm.value.mcnic)("ngClass",e.VKq(48,C,t.submitted&&t.f.mcnic.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.mcnic.errors),e.xp6(4),e.Q6J("preValue",t.childForm.value.mcontact)("phoneControl",t.childForm.controls.mcontact)("ngClass",e.VKq(50,C,t.submitted&&t.f.mcontact.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.mcontact.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(52,C,t.submitted&&t.f.gfname.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.gfname.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(54,C,t.submitted&&t.f.goccupation.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.goccupation.errors),e.xp6(4),e.Q6J("cnicControl",t.childForm.controls.gcnic)("preValue",t.childForm.value.gcnic)("ngClass",e.VKq(56,C,t.submitted&&t.f.gcnic.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.gcnic.errors),e.xp6(4),e.Q6J("preValue",t.childForm.value.gcontact)("phoneControl",t.childForm.controls.gcontact)("ngClass",e.VKq(58,C,t.submitted&&t.f.gcontact.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.gcontact.errors)}}function bn(i,n){1&i&&(e.TgZ(0,"span",19),e._uU(1,"Medical Information"),e.qZA(),e.TgZ(2,"div",20),e._UZ(3,"i",21),e.qZA())}function vn(i,n){if(1&i&&(e.TgZ(0,"option",77),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.HospitalId),e.xp6(1),e.hij("",t.HospitalName," ")}}function Tn(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Hospital is required"),e.qZA())}function An(i,n){if(1&i&&(e.TgZ(0,"div",75),e.YNc(1,Tn,2,0,"div",76),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.HospitalName.errors.required)}}function Cn(i,n){if(1&i&&(e.TgZ(0,"option",77),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.DoctorId),e.xp6(1),e.AsE("",t.FirstName," ",t.LastName," ")}}function qn(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Doctor is required"),e.qZA())}function xn(i,n){if(1&i&&(e.TgZ(0,"div",75),e.YNc(1,qn,2,0,"div",76),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.doctorname.errors.required)}}function In(i,n){if(1&i&&(e.TgZ(0,"option",77),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.CategoryId),e.xp6(1),e.hij("",t.CategoryName," ")}}function yn(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Diabetes Type is required"),e.qZA())}function kn(i,n){if(1&i&&(e.TgZ(0,"div",75),e.YNc(1,yn,2,0,"div",76),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.diabetestype.errors.required)}}function Un(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Diagnosis Date is required"),e.qZA())}function Nn(i,n){if(1&i&&(e.TgZ(0,"div",75),e.YNc(1,Un,2,0,"div",76),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.mdiadate.errors.required)}}function wn(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Family Diabetes is required"),e.qZA())}function Sn(i,n){if(1&i&&(e.TgZ(0,"div",75),e.YNc(1,wn,2,0,"div",76),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.mfamilydiabeteshitorytype.errors.required)}}function Fn(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Glucometer Company is required"),e.qZA())}function Dn(i,n){if(1&i&&(e.TgZ(0,"div",75),e.YNc(1,Fn,2,0,"div",76),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.mglucompany.errors.required)}}function Jn(i,n){if(1&i&&(e.TgZ(0,"ng-option",77),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function En(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Complication is required"),e.qZA())}function Rn(i,n){if(1&i&&(e.TgZ(0,"div",75),e.YNc(1,En,2,0,"div",76),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.selectComp.errors.required)}}function Pn(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Medical Info is required"),e.qZA())}function Yn(i,n){if(1&i&&(e.TgZ(0,"div",75),e.YNc(1,Pn,2,0,"div",76),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.medinfo.errors.required)}}function Qn(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",78),e.TgZ(1,"div",22),e.TgZ(2,"div",23),e.TgZ(3,"div",34),e.TgZ(4,"div",101),e.TgZ(5,"div",102),e.TgZ(6,"div",38),e.TgZ(7,"label",103),e._uU(8,"Hospital Name"),e.qZA(),e.TgZ(9,"select",104),e.TgZ(10,"option",42),e._uU(11,"Select Hospital"),e.qZA(),e.YNc(12,vn,2,2,"option",43),e.qZA(),e.YNc(13,An,2,1,"div",37),e.qZA(),e.TgZ(14,"div",38),e.TgZ(15,"label",105),e._uU(16,"Doctor Name"),e.qZA(),e.TgZ(17,"select",106),e.TgZ(18,"option",42),e._uU(19,"Select Doctor"),e.qZA(),e.YNc(20,Cn,2,3,"option",43),e.qZA(),e.YNc(21,xn,2,1,"div",37),e.qZA(),e.TgZ(22,"div",38),e.TgZ(23,"label",105),e._uU(24,"Diabetes Type"),e.qZA(),e.TgZ(25,"select",107),e.TgZ(26,"option",42),e._uU(27,"Select Diabetes Type"),e.qZA(),e.YNc(28,In,2,2,"option",43),e.qZA(),e.YNc(29,kn,2,1,"div",37),e.qZA(),e.TgZ(30,"div",44),e.TgZ(31,"label"),e._uU(32,"Diagnosis Date"),e.qZA(),e._UZ(33,"input",108),e.YNc(34,Nn,2,1,"div",37),e.qZA(),e.qZA(),e.TgZ(35,"div",109),e.TgZ(36,"div",38),e.TgZ(37,"label"),e._uU(38,"Family Diabetes"),e.qZA(),e._UZ(39,"input",110),e.YNc(40,Sn,2,1,"div",37),e.qZA(),e.TgZ(41,"div",38),e.TgZ(42,"label"),e._uU(43,"Glucometer Company"),e.qZA(),e._UZ(44,"input",111),e.YNc(45,Dn,2,1,"div",37),e.qZA(),e.TgZ(46,"div",38),e.TgZ(47,"label"),e._uU(48,"Complication"),e.qZA(),e.TgZ(49,"ng-select",112),e.NdJ("change",function(s){return e.CHM(t),e.oxw().changeComplication(s)}),e.YNc(50,Jn,2,2,"ng-option",43),e.qZA(),e.YNc(51,Rn,2,1,"div",37),e.qZA(),e.TgZ(52,"div",44),e.TgZ(53,"label"),e._uU(54,"Other Medical Info"),e.qZA(),e._UZ(55,"input",113),e.YNc(56,Yn,2,1,"div",37),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(9),e.Q6J("ngClass",e.VKq(21,C,t.submitted&&t.f.HospitalName.errors)),e.xp6(3),e.Q6J("ngForOf",t.allhospitals),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.HospitalName.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(23,C,t.submitted&&t.f.doctorname.errors)),e.xp6(3),e.Q6J("ngForOf",t.doctor),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.doctorname.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(25,C,t.submitted&&t.f.diabetestype.errors)),e.xp6(3),e.Q6J("ngForOf",t.diabtype),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.diabetestype.errors),e.xp6(4),e.Q6J("max",t.maxDate)("ngClass",e.VKq(27,C,t.submitted&&t.f.mdiadate.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.mdiadate.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(29,C,t.submitted&&t.f.mfamilydiabeteshitorytype.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.mfamilydiabeteshitorytype.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(31,C,t.submitted&&t.f.mglucompany.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.mglucompany.errors),e.xp6(4),e.Q6J("multiple",!0),e.xp6(1),e.Q6J("ngForOf",t.complication),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.selectComp.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(33,C,t.submitted&&t.f.medinfo.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.medinfo.errors)}}function On(i,n){1&i&&(e.TgZ(0,"span",19),e._uU(1,"Test History"),e.qZA(),e.TgZ(2,"div",20),e._UZ(3,"i",21),e.qZA())}function Mn(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"HbA1c is required"),e.qZA())}function Vn(i,n){if(1&i&&(e.TgZ(0,"div",75),e.YNc(1,Mn,2,0,"div",76),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.HbA1c.errors.required)}}function Bn(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Test Date is required"),e.qZA())}function Hn(i,n){if(1&i&&(e.TgZ(0,"div",75),e.YNc(1,Bn,2,0,"div",76),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.HbA1ctestdate.errors.required)}}function $n(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Micro Albuminuria is required"),e.qZA())}function Ln(i,n){if(1&i&&(e.TgZ(0,"div",75),e.YNc(1,$n,2,0,"div",76),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.MicroAlbuminuria.errors.required)}}function Gn(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Test Date is required"),e.qZA())}function jn(i,n){if(1&i&&(e.TgZ(0,"div",75),e.YNc(1,Gn,2,0,"div",76),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.MicroAlbuminuriatestdate.errors.required)}}function zn(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Urine ACR is required"),e.qZA())}function Wn(i,n){if(1&i&&(e.TgZ(0,"div",75),e.YNc(1,zn,2,0,"div",76),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.urineacr.errors.required)}}function Kn(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Test Date is required"),e.qZA())}function Xn(i,n){if(1&i&&(e.TgZ(0,"div",75),e.YNc(1,Kn,2,0,"div",76),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.urineacrtestdate.errors.required)}}function es(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Eyes Test is required"),e.qZA())}function ts(i,n){if(1&i&&(e.TgZ(0,"div",75),e.YNc(1,es,2,0,"div",76),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.eyestest.errors.required)}}function is(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Test Date is required"),e.qZA())}function os(i,n){if(1&i&&(e.TgZ(0,"div",75),e.YNc(1,is,2,0,"div",76),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.eyestestdate.errors.required)}}function ns(i,n){if(1&i&&(e.TgZ(0,"div",78),e.TgZ(1,"div",22),e.TgZ(2,"div",23),e.TgZ(3,"div",114),e.TgZ(4,"div",38),e.TgZ(5,"label"),e._uU(6,"HbA1c"),e.qZA(),e._UZ(7,"input",115),e.YNc(8,Vn,2,1,"div",37),e.qZA(),e.TgZ(9,"div",38),e.TgZ(10,"label"),e._uU(11,"Test Date"),e.qZA(),e._UZ(12,"input",116),e.YNc(13,Hn,2,1,"div",37),e.qZA(),e.TgZ(14,"div",38),e.TgZ(15,"label"),e._uU(16,"Micro Albuminuria"),e.qZA(),e._UZ(17,"input",117),e.YNc(18,Ln,2,1,"div",37),e.qZA(),e.TgZ(19,"div",44),e.TgZ(20,"label"),e._uU(21,"Test Date"),e.qZA(),e._UZ(22,"input",118),e.YNc(23,jn,2,1,"div",37),e.qZA(),e.qZA(),e.TgZ(24,"div",109),e.TgZ(25,"div",38),e.TgZ(26,"label"),e._uU(27,"Urine ACR"),e.qZA(),e._UZ(28,"input",119),e.YNc(29,Wn,2,1,"div",37),e.qZA(),e.TgZ(30,"div",38),e.TgZ(31,"label"),e._uU(32,"Test Date"),e.qZA(),e._UZ(33,"input",120),e.YNc(34,Xn,2,1,"div",37),e.qZA(),e.TgZ(35,"div",38),e.TgZ(36,"label"),e._uU(37,"Eyes Test"),e.qZA(),e._UZ(38,"input",121),e.YNc(39,ts,2,1,"div",37),e.qZA(),e.TgZ(40,"div",44),e.TgZ(41,"label"),e._uU(42,"Test Date"),e.qZA(),e._UZ(43,"input",122),e.YNc(44,os,2,1,"div",37),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(7),e.Q6J("ngClass",e.VKq(20,C,t.submitted&&t.f.HbA1c.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.HbA1c.errors),e.xp6(4),e.Q6J("max",t.maxDate)("ngClass",e.VKq(22,C,t.submitted&&t.f.HbA1ctestdate.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.HbA1ctestdate.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(24,C,t.submitted&&t.f.MicroAlbuminuria.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.MicroAlbuminuria.errors),e.xp6(4),e.Q6J("max",t.maxDate)("ngClass",e.VKq(26,C,t.submitted&&t.f.MicroAlbuminuriatestdate.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.MicroAlbuminuriatestdate.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(28,C,t.submitted&&t.f.urineacr.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.urineacr.errors),e.xp6(4),e.Q6J("max",t.maxDate)("ngClass",e.VKq(30,C,t.submitted&&t.f.urineacrtestdate.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.urineacrtestdate.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(32,C,t.submitted&&t.f.eyestest.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.eyestest.errors),e.xp6(4),e.Q6J("max",t.maxDate)("ngClass",e.VKq(34,C,t.submitted&&t.f.eyestestdate.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.eyestestdate.errors)}}function ss(i,n){1&i&&(e.TgZ(0,"span",19),e._uU(1,"Consent by Parent/Legal Guardian"),e.qZA(),e.TgZ(2,"div",20),e._UZ(3,"i",21),e.qZA())}function rs(i,n){1&i&&(e.TgZ(0,"label",134),e._uU(1,"Please Upload File"),e.qZA())}function as(i,n){1&i&&(e.TgZ(0,"label",134),e._uU(1,"Please Upload File"),e.qZA())}function ls(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",78),e.TgZ(1,"div",22),e.TgZ(2,"div",101),e.TgZ(3,"div",34),e.TgZ(4,"span",123),e._uU(5,"I wish to register my child for support from Meethi Zindagi. I give my consent to Meethi Zindagi, its affiliates and agents, to use my image and details, in accordance with its data privacy policy. This consent includes:"),e.qZA(),e.TgZ(6,"div",124),e.TgZ(7,"div",22),e.TgZ(8,"div",101),e.TgZ(9,"label"),e.TgZ(10,"input",125),e.NdJ("change",function(s){return e.CHM(t),e.oxw().onCheckboxChange1(s)}),e.qZA(),e._uU(11," this consent is given for use on public media "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"div",22),e.TgZ(13,"div",101),e.TgZ(14,"label"),e.TgZ(15,"input",126),e.NdJ("change",function(s){return e.CHM(t),e.oxw().onCheckboxChange1(s)}),e.qZA(),e._uU(16," this consent is given for restricted sharing with sponser/authorities only "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"div",22),e.TgZ(18,"div",101),e.TgZ(19,"label"),e.TgZ(20,"input",127),e.NdJ("change",function(s){return e.CHM(t),e.oxw().onCheckboxChange1(s)}),e.qZA(),e._uU(21," this consent is given for using data for case studies,research and statistics "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(22,"br"),e.TgZ(23,"div",128),e.TgZ(24,"div",129),e.TgZ(25,"div",38),e.TgZ(26,"label",84),e._uU(27,"Latest Prescription"),e.qZA(),e.qZA(),e.TgZ(28,"div",38),e.TgZ(29,"a",130),e._uU(30,"Upload File "),e.TgZ(31,"input",131,132),e.NdJ("change",function(s){return e.CHM(t),e.oxw().onFileSelectdoc(s)}),e.qZA(),e.qZA(),e.YNc(33,rs,2,0,"label",133),e.TgZ(34,"label",84),e._uU(35),e.qZA(),e.qZA(),e.TgZ(36,"div",38),e.TgZ(37,"label",84),e._uU(38,"Electricity/Gas bill"),e.qZA(),e.qZA(),e.TgZ(39,"div",38),e.TgZ(40,"a",130),e._uU(41,"Upload File "),e.TgZ(42,"input",131,132),e.NdJ("change",function(s){return e.CHM(t),e.oxw().onFileSelectdoc1(s)}),e.qZA(),e.qZA(),e.TgZ(44,"label",84),e._uU(45),e.qZA(),e.qZA(),e.qZA(),e.TgZ(46,"div",129),e.TgZ(47,"div",38),e.TgZ(48,"label",84),e._uU(49,"School Registration"),e.qZA(),e.qZA(),e.TgZ(50,"div",38),e.TgZ(51,"a",130),e._uU(52,"Upload File "),e.TgZ(53,"input",131,132),e.NdJ("change",function(s){return e.CHM(t),e.oxw().onFileSelectdoc2(s)}),e.qZA(),e.qZA(),e.TgZ(55,"label",84),e._uU(56),e.qZA(),e.qZA(),e.TgZ(57,"div",38),e.TgZ(58,"label",84),e._uU(59,"Cnic of Father/Mother"),e.qZA(),e.qZA(),e.TgZ(60,"div",38),e.TgZ(61,"a",130),e._uU(62,"Upload File "),e.TgZ(63,"input",131,132),e.NdJ("change",function(s){return e.CHM(t),e.oxw().onFileSelectdoc3(s)}),e.qZA(),e.qZA(),e.YNc(65,as,2,0,"label",133),e.TgZ(66,"label",84),e._uU(67),e.qZA(),e.qZA(),e.qZA(),e.TgZ(68,"div",129),e.TgZ(69,"div",38),e.TgZ(70,"label",84),e._uU(71,"B-form/Birth Certificate"),e.qZA(),e.qZA(),e.TgZ(72,"div",38),e.TgZ(73,"a",130),e._uU(74,"Upload File "),e.TgZ(75,"input",131,132),e.NdJ("change",function(s){return e.CHM(t),e.oxw().onFileSelectdoc6(s)}),e.qZA(),e.qZA(),e.TgZ(77,"label",84),e._uU(78),e.qZA(),e.qZA(),e.TgZ(79,"div",38),e.TgZ(80,"label",84),e._uU(81,"Cnic of Guardian"),e.qZA(),e.qZA(),e.TgZ(82,"div",38),e.TgZ(83,"a",130),e._uU(84,"Upload File "),e.TgZ(85,"input",131,132),e.NdJ("change",function(s){return e.CHM(t),e.oxw().onFileSelectdoc5(s)}),e.qZA(),e.qZA(),e.TgZ(87,"label",84),e._uU(88),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(10),e.Q6J("value",1),e.xp6(5),e.Q6J("value",2),e.xp6(5),e.Q6J("value",3),e.xp6(13),e.Q6J("ngIf",t.latestpres),e.xp6(2),e.Oqu(t.filename),e.xp6(10),e.Oqu(t.filename1),e.xp6(11),e.Oqu(t.filename2),e.xp6(9),e.Q6J("ngIf",t.cniccheck),e.xp6(2),e.Oqu(t.filename3),e.xp6(11),e.Oqu(t.filename6),e.xp6(10),e.Oqu(t.filename5)}}function ds(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",135),e.TgZ(1,"h4",136),e._uU(2,"Profile update"),e.qZA(),e.TgZ(3,"button",137),e.NdJ("click",function(){return e.CHM(t).$implicit.dismiss("Cross click")}),e.TgZ(4,"span",138),e._uU(5,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"div",139),e.TgZ(7,"form"),e.TgZ(8,"div",140),e.TgZ(9,"label"),e._uU(10,"Upload Image"),e.qZA(),e.TgZ(11,"div",141),e.TgZ(12,"a",142),e._uU(13,"Choose File "),e.TgZ(14,"input",143,132),e.NdJ("change",function(s){return e.CHM(t),e.oxw().onFileSelect(s)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(16,"image-cropper",144),e.NdJ("imageCropped",function(s){return e.CHM(t),e.oxw().imageCropped(s)})("imageLoaded",function(){return e.CHM(t),e.oxw().imageLoaded()})("cropperReady",function(){return e.CHM(t),e.oxw().cropperReady()})("loadImageFailed",function(){return e.CHM(t),e.oxw().loadImageFailed()}),e.qZA(),e.TgZ(17,"div",145),e.TgZ(18,"button",146),e.NdJ("click",function(){return e.CHM(t).$implicit.close("Save click")}),e._uU(19,"Save"),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(16),e.Q6J("imageChangedEvent",t.imageChangedEvent)("maintainAspectRatio",!0)("aspectRatio",1)("resizeToWidth",256)}}let cs=(()=>{class i{constructor(t,o,s,r,l,d,m,_){this.modalService=t,this.myFormBuilder=o,this.childSer=s,this.insSer=r,this.myRouter=l,this.entitySer=d,this.userService=m,this.hospitalSer=_,this.addJson={},this.imagename="",this.filename="",this.filename1="",this.filename2="",this.filename3="",this.filename4="",this.filename5="",this.filename6="",this.prespath="",this.billpath="",this.schoolpath="",this.cnicpath="",this.mcnicpath="",this.gcnicpath="",this.bfrompath="",this.imgpath="",this.lfacsupport=!1,this.maxDate=(0,g.p6)(new Date,"yyyy-MM-dd","en"),this.firstconsent=!1,this.secondconsent=!1,this.thirdconsent=!1,this.activeIds=["toggle-11"],this.closeOthers=!0,this.step=2,this.submitted=!1,this.specificLength=4,this.checked=!1,this.isVisibleSuccess=!1,this.isVisibleFailure=!1,this.IsSHowPage=!1,this.selectcomvalidator=!1,this.progressInfos=[],this.message="",this.websiteList=[{id:1,name:"this consent is given for use on social media"},{id:2,name:"this consent is given for restricted sharing with sponser/authorities only"},{id:3,ame:"this consent is given for using data for case studies,research and statistics"}],this.complication=[{id:1,name:"Eye"},{id:2,name:"Foot"},{id:3,name:"Kidneys"},{id:4,name:"Cardiovascular"},{id:5,name:"Other"},{id:6,name:"No"}],this.allcities=[],this.gender=[],this.religion=[],this.allhospitals=[],this.doctor=[],this.diabtype=[],this.POIError=!1,this.latestpres=!1,this.cniccheck=!1}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():(this.originalImage="./assets/images/download.png",this.formControls(),this.getCategorybyEntityType(1),this.getCategorybyEntityType(1225),this.getCategorybyEntityType(1227),this.getalldoctor(),this.getallcities(),this.getallhospitals())}get poinoerr(){return this.childForm.controls.poino}getallcities(){this.childSer.getallcities().subscribe(t=>{t.length>0&&(this.allcities=t)})}eventHandler(t){return t.target.value.length!=this.specificLength||"Backspace"!=t.code&&"Delete"!=t.code?(t.target.value.length>4&&(this.POIError=!0),!0):(this.POIError=!1,!1)}getallhospitals(){this.hospitalSer.getAllHospitals().subscribe(t=>{t.length>0&&(this.allhospitals=t)})}getalldoctor(){this.insSer.getAllActiveData().subscribe(t=>{t.length>0&&(this.doctor=t)})}getCategorybyEntityType(t){this.entitySer.getCategorybyEntityType(t).subscribe(o=>{if(o.length>0)for(var s in o)1==o[s].EntityTypeId?this.gender.push(o[s]):1225==o[s].EntityTypeId?this.religion.push(o[s]):1227==o[s].EntityTypeId&&this.diabtype.push(o[s])})}onCheckboxChange(t){const o=this.childForm.get("checkArray");if(t.target.checked)o.push(new a.NI(t.target.value));else{let s=0;o.controls.forEach(r=>{r.value!=t.target.value?s++:o.removeAt(s)})}}onCheckboxChange1(t){1==t.target.value?this.firstconsent=!!t.target.checked:2==t.target.value?this.secondconsent=!!t.target.checked:3==t.target.value&&(this.thirdconsent=!!t.target.checked)}onFileSelect(t){const o=t.target.files[0];if(null==o)this.imagename="";else if(o.size>2e6)alert("please select file less than 2 mb"),this.imagename="";else{this.imagename=o.name,this.imageChangedEvent=t;const r=new FileReader;if(r.readAsDataURL(o),r.onload=()=>{(new Image).src=r.result,this.url=r.result},!o.type.match(/image-*/))return void alert("Invalid format");this.fileInputLabel=o.name}}onFileSelectdoc(t){const o=t.target.files[0];if(null==o)this.filename="";else if(this.latestpres=!1,o.size>2e6)alert("please select file less than 2 mb"),this.filename="";else{this.filetype=o.name.substring(o.name.indexOf(".")+1,o.name.length),this.filename=o.name;var s=this.filename.split(".").pop();"pdf"==s||"jpg"==s||"jpeg"==s?(this.latestPresctition=new FormData,this.latestPresctition.append("latestprescription",o)):(alert("Supported file: pdf,jpg,jpeg "),this.filename="")}}Submit(){if(""==this.filename&&(this.latestpres=!0),""==this.filename3&&(this.cniccheck=!0),""==this.filename3&&""==this.filename&&(this.submitted=!0),this.childForm.invalid)return this.closeOthers=!1,void(this.activeIds=["toggle-11","toggle-12","toggle-13","toggle-14","toggle-15"]);if(Date.parse(this.childForm.value.dob)>=Date.parse(this.childForm.value.mdiadate))this.isJoiningGreater=!0,setTimeout(()=>this.isJoiningGreater=!1,1e3);else if(this.lfacsupport=""!=this.childForm.value.lfacsupport,this.childForm.value.pcnic==this.childForm.value.mcnic&&null!=this.childForm.value.pcnic&&null!=this.childForm.value.mcnic&&""!=this.childForm.value.mcnic&&""!=this.childForm.value.pcnic)alert("Father and mother cnic shouldnot be same");else{for(var t in this.compothers="",this.compeye="",this.compfoot="",this.compcard="",this.compkidney="",this.compno="",this.comp)1==this.comp[t]?this.compeye=this.comp[t]:2==this.comp[t]?this.compfoot=this.comp[t]:3==this.comp[t]?this.compkidney=this.comp[t]:4==this.comp[t]?this.compcard=this.comp[t]:5==this.comp[t]?this.compothers=this.comp[t]:6==this.comp[t]&&(this.compno=this.comp[t]);let A,I,P,j,z,W,_e,ae,o="",s="",r="",l="",d="",m="",_="",Z="";A=Date.now(),""!=this.imagename&&(o="a"+A+".png"),setTimeout(()=>{I=Date.now(),""!=this.filename&&(s=this.filename+I+"."+this.filetype)},1),setTimeout(()=>{""!=this.filename1&&(P=Date.now(),r=this.filename1+P+"."+this.filetype1)},2),setTimeout(()=>{""!=this.filename2&&(j=Date.now(),l=this.filename2+j+"."+this.filetype2)},3),setTimeout(()=>{""!=this.filename3&&(z=Date.now(),d=this.filename3+z+"."+this.filetype3)},4),setTimeout(()=>{""!=this.filename4&&(W=Date.now(),m=this.filename4+W+"."+this.filetype4)},5),setTimeout(()=>{""!=this.filename5&&(_e=Date.now(),_=this.filename5+_e+"."+this.filetype5)},6),setTimeout(()=>{""!=this.filename6&&(ae=Date.now(),Z=this.filename6+ae+"."+this.filetype6)},7),setTimeout(()=>{this.addJson={poino:this.childForm.value.poino,fname:this.childForm.value.fname,lname:this.childForm.value.lname,gender:this.childForm.value.gender,dob:this.childForm.value.dob,religion:this.childForm.value.religion,schoolname:this.childForm.value.schoolname,class:this.childForm.value.class,schooladdress:this.childForm.value.schooladdress,city:this.childForm.value.city,residentialaddress:this.childForm.value.residentialaddress,postaladdress:this.childForm.value.postaladdress,pfname:this.childForm.value.pfname,poccupation:this.childForm.value.poccupation,pcnic:this.childForm.value.pcnic,pcontact:this.childForm.value.pcontact,mfname:this.childForm.value.mfname,moccupation:this.childForm.value.moccupation,mcnic:this.childForm.value.mcnic,mcontact:this.childForm.value.mcontact,gfname:this.childForm.value.gfname,goccupation:this.childForm.value.goccupation,gcnic:this.childForm.value.gcnic,gcontact:this.childForm.value.gcontact,firstconsent:this.childForm.value.firstconsent,secondconsent:this.childForm.value.secondconsent,thirdconsent:this.childForm.value.thirdconsent,HospitalName:this.childForm.value.HospitalName,diabetestype:this.childForm.value.diabetestype,doctorname:this.childForm.value.doctorname,mdiadate:this.childForm.value.mdiadate,mfamilydiabeteshitorytype:this.childForm.value.mfamilydiabeteshitorytype,mglucompany:this.childForm.value.mglucompany,compeye:this.compeye,compfoot:this.compfoot,compkidney:this.compkidney,compcard:this.compcard,compothers:this.compothers,compno:this.compno,medinfo:this.childForm.value.medinfo,HbA1c:this.childForm.value.HbA1c,HbA1ctestdate:this.childForm.value.HbA1ctestdate,MicroAlbuminuria:this.childForm.value.MicroAlbuminuria,MicroAlbuminuriatestdate:this.childForm.value.MicroAlbuminuriatestdate,urineacr:this.childForm.value.urineacr,urineacrtestdate:this.childForm.value.urineacrtestdate,eyestest:this.childForm.value.eyestest,eyestestdate:this.childForm.value.eyestestdate,prespath:s,billpath:r,schoolpath:l,cnicpath:d,mcnicpath:m,gcnicpath:_,bfrompath:Z,imgpath:o,lfacsupport:this.lfacsupport},this.childSer.regChild(this.addJson).subscribe(F=>{F?(this.isVisibleSuccess=!0,setTimeout(()=>this.isVisibleSuccess=!1,3e3),this.childSer.getlastid().subscribe(vt=>{let D=vt[0].RegNumber;setTimeout(()=>{this.childSer.addfolder(D).subscribe(le=>{})},1e3),setTimeout(()=>{""!=this.filename&&this.childSer.addlatestprecdoc(this.latestPresctition,D,I).subscribe(le=>{}),""!=this.filename1&&this.childSer.addlatestprecdoc(this.billpdf,D,P).subscribe(le=>{}),""!=this.filename2&&this.childSer.addlatestprecdoc(this.schoolpdf,D,j).subscribe(le=>{}),""!=this.filename3&&this.childSer.addlatestprecdoc(this.cnicpdf,D,z).subscribe(le=>{}),""!=this.filename4&&this.childSer.addlatestprecdoc(this.mcnicpdf,D,W).subscribe(le=>{}),""!=this.filename5&&this.childSer.addlatestprecdoc(this.gcnicpdf,D,_e).subscribe(le=>{}),""!=this.filename6&&this.childSer.addlatestprecdoc(this.bformpdf,D,ae).subscribe(le=>{}),""!=this.imagename&&this.childSer.addUserImage(this.imgpdf,D,A).subscribe(le=>{}),this.myRouter.navigate(["/pages/child-info"])},1500)})):(this.isVisibleFailure=!0,setTimeout(()=>this.isVisibleFailure=!1,2e3))})},1500)}}Cancel(){this.childForm.reset(),this.submitted=!1,$("#profilepic").attr("src","./assets/images/download.png"),this.filename="",this.filename1="",this.filename2="",this.filename3="",this.filename4="",this.filename5="",this.filename6=""}onFileSelectdoc1(t){const o=t.target.files[0];if(null==o)this.filename1="";else if(o.size>2e6)alert("please select file less than 2 mb"),this.filename1="";else{this.filename1=o.name,this.filetype1=o.name.substring(o.name.indexOf(".")+1,o.name.length);var s=this.filename1.split(".").pop();"pdf"==s||"jpg"==s||"jpeg"==s?(this.billpdf=new FormData,this.billpdf.append("latestprescription",o)):(alert("Supported file: pdf,jpg,jpeg "),this.filename1="")}}onFileSelectdoc2(t){const o=t.target.files[0];if(null==o)this.filename2="";else if(o.size>2e6)alert("please select file less than 2 mb"),this.filename2="";else{this.filename2=o.name,this.filetype2=o.name.substring(o.name.indexOf(".")+1,o.name.length);var s=this.filename2.split(".").pop();"pdf"==s||"jpg"==s||"jpeg"==s?(this.schoolpdf=new FormData,this.schoolpdf.append("latestprescription",o)):(alert("Supported file: pdf,jpg,jpeg "),this.filename2="")}}onFileSelectdoc3(t){const o=t.target.files[0];if(null==o)this.filename3="";else if(this.cniccheck=!1,o.size>2e6)alert("please select file less than 2 mb"),this.filename3="";else{this.filename3=o.name,this.filetype3=o.name.substring(o.name.indexOf(".")+1,o.name.length);var s=this.filename3.split(".").pop();"pdf"==s||"jpg"==s||"jpeg"==s?(this.cnicpdf=new FormData,this.cnicpdf.append("latestprescription",o)):(alert("Supported file: pdf,jpg,jpeg "),this.filename3="")}}onFileSelectdoc6(t){const o=t.target.files[0];if(null==o)this.filename6="";else if(o.size>2e6)alert("please select file less than 2 mb"),this.filename6="";else{this.filename6=o.name,this.filetype6=o.name.substring(o.name.indexOf(".")+1,o.name.length);var s=this.filename6.split(".").pop();"pdf"==s||"jpg"==s||"jpeg"==s?(this.bformpdf=new FormData,this.bformpdf.append("latestprescription",o)):(alert("Supported file: pdf,jpg,jpeg "),this.filename6="")}}onFileSelectdoc4(t){const o=t.target.files[0];if(null==o)this.filename4="";else if(o.size>2e6)alert("please select file less than 2 mb"),this.filename4="";else{this.filename4=o.name,this.filetype4=o.name.substring(o.name.indexOf(".")+1,o.name.length);var s=this.filename4.split(".").pop();"pdf"==s||"jpg"==s||"jpeg"==s?(this.mcnicpdf=new FormData,this.mcnicpdf.append("latestprescription",o)):(alert("Supported file: pdf,jpg,jpeg "),this.filename4="")}}onFileSelectdoc5(t){const o=t.target.files[0];if(null==o)this.filename5="";else if(o.size>2e6)alert("please select file less than 2 mb"),this.filename5="";else{this.filename5=o.name,this.filetype5=o.name.substring(o.name.indexOf(".")+1,o.name.length);var s=this.filename5.split(".").pop();"pdf"==s||"jpg"==s||"jpeg"==s?(this.gcnicpdf=new FormData,this.gcnicpdf.append("latestprescription",o)):(alert("Supported file: pdf,jpg,jpeg "),this.filename5="")}}imageCropped(t){this.croppedImage=this.dataURLtoFile(t.base64,"a.png"),this.originalImage=t.base64,$("#profilepic").attr("src",t.base64),this.imgpdf=new FormData,this.imgpdf.append("uploadedImage",this.croppedImage)}imageLoaded(){}cropperReady(){}loadImageFailed(){}dataURLtoFile(t,o){for(var s=t.split(","),r=s[0].match(/:(.*?);/)[1],l=atob(s[1]),d=l.length,m=new Uint8Array(d);d--;)m[d]=l.charCodeAt(d);return new File([m],o,{type:r})}open(t){this.modalService.open(t,{ariaLabelledBy:"modal-basic-title"}).result.then(o=>{this.closeResult=`Closed with: ${o}`},o=>{this.closeResult=`Dismissed ${this.getDismissReason(o)}`})}getDismissReason(t){return t===u.If.ESC?"by pressing ESC":t===u.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${t}`}get f(){return this.childForm.controls}formControls(){this.childForm=this.myFormBuilder.group({lfacsupport:[""],fname:["",[a.kI.required,a.kI.pattern("^[a-zA-Z0-9_][a-zA-Z-0-9_ ]*$")]],lname:["",[a.kI.pattern("^[a-zA-Z0-9_][a-zA-Z-0-9_ ]*$")]],gender:["",a.kI.required],dob:["",a.kI.required],religion:["",a.kI.required],schoolname:[""],class:[""],schooladdress:[""],city:["",a.kI.required],residentialaddress:["",a.kI.required],postaladdress:[""],pfname:["",[a.kI.required,a.kI.pattern("^[a-zA-Z0-9_][a-zA-Z-0-9_ ]*$")]],poccupation:["",a.kI.required],pcnic:["",[a.kI.required,a.kI.pattern("^[0-9+]{5}-[0-9+]{7}-[0-9]{1}$")]],pcontact:["03",a.kI.compose([a.kI.required,a.kI.pattern(/^((\+92)|(0092))-{0,1}\d{3}-{0,1}\d{7}$|^\d{11}$|^\d{4}-\d{7}$/)])],mfname:["",[a.kI.required,a.kI.pattern("^[a-zA-Z0-9_][a-zA-Z-0-9_ ]*$")]],moccupation:["",a.kI.required],mcnic:["",[a.kI.required,a.kI.pattern("^[0-9+]{5}-[0-9+]{7}-[0-9]{1}$")]],mcontact:["03",a.kI.compose([a.kI.required,a.kI.pattern(/^((\+92)|(0092))-{0,1}\d{3}-{0,1}\d{7}$|^\d{11}$|^\d{4}-\d{7}$/)])],gfname:[""],goccupation:[""],gcnic:["",[a.kI.pattern("^[0-9+]{5}-[0-9+]{7}-[0-9]{1}$")]],gcontact:["03"],firstconsent:[""],secondconsent:[""],thirdconsent:[""],HospitalName:["",a.kI.required],diabetestype:["",a.kI.required],doctorname:["",a.kI.required],mdiadate:["",a.kI.required],mfamilydiabeteshitorytype:[""],mglucompany:[""],HbA1c:[""],HbA1ctestdate:[""],MicroAlbuminuria:[""],MicroAlbuminuriatestdate:[""],urineacr:[""],urineacrtestdate:[""],eyestest:[""],eyestestdate:[""],selectComp:[""],medinfo:[""],poino:["POI-",{validators:[a.kI.required],asyncValidators:[oo(this.childSer)],updateOn:"blur"}]})}ngOnDestroy(){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(u.FF),e.Y36(a.qu),e.Y36(S),e.Y36(B),e.Y36(p.F0),e.Y36(O),e.Y36(h),e.Y36(de))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-child-reg-form"]],decls:30,vars:6,consts:[["class","alertnotify","style","background: #cb3837",4,"ngIf"],["class","alertnotify","style","background: #54a254",4,"ngIf"],[1,"container-fluid"],[1,"theme-heading"],[3,"formGroup"],["onsubmit","expandAll()",3,"closeOthers","activeIds"],["id","toggle-11"],["ngbPanelTitle",""],["ngbPanelContent",""],["id","toggle-12"],["id","toggle-13"],["id","toggle-14"],["id","toggle-15"],[1,"text-right","mb-2","mt-2"],[1,"btn","upload-btn","btn-sm","mr-1","ml-2",3,"click"],[1,"btn","reset-btn","btn-sm",3,"click"],["content",""],[1,"alertnotify",2,"background","#cb3837"],[1,"alertnotify",2,"background","#54a254"],[1,"card-header--title"],[1,"pull-right"],[1,"fa","fa-angle-down","fa-lg"],[1,"row"],[1,"col-md-9"],[1,"row","form-inline"],[1,"col-md-3","pl-1"],["for","lfacsupport",1,"col-form-label-sm"],["type","checkbox","formControlName","lfacsupport",3,"value"],[1,"col-md-6","pl-1"],["for","poino",1,"col-form-label-sm"],["type","text","onkeyup","[this.value=this.value.toUpperCase()]","placeholder","Enter POI","formControlName","poino","id","poino","ngClass","{ 'is-invalid': f.poino.errors }",1,"form-control","form-control-sm",3,"keydown"],[4,"ngIf","ngIfElse"],["checkpoi",""],["poiNotExists",""],[1,"row","mt-1"],["for","fname",1,"col-form-label-sm"],["type","text","placeholder","First Name","formControlName","fname","id","fname","appAlphabetOnly","",1,"form-control","form-control-sm",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"col-md-3"],["type","text","placeholder","Last Name","formControlName","lname","id","lname","appAlphabetOnly","",1,"form-control","form-control-sm",3,"ngClass"],["for","Gender",1,"col-form-label-sm"],["id","gender","formControlName","gender",1,"form-control","form-control-sm",3,"ngClass"],["value","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-3","pr-1"],["for","DOB",1,"col-form-label-sm"],["type","date","id","age","placeholder","DOB","formControlName","dob",1,"form-control","form-control-sm",3,"max","ngClass"],["for","Religion",1,"col-form-label-sm"],["id","religion","formControlName","religion",1,"form-control","form-control-sm",3,"ngClass"],["for","schoolname",1,"col-form-label-sm"],["type","text","placeholder","School Name","formControlName","schoolname",1,"form-control","form-control-sm",3,"ngClass"],[1,"col-md-2"],["for","Class",1,"col-form-label-sm"],["type","text","placeholder","Class","formControlName","class",1,"form-control","form-control-sm",3,"ngClass"],[1,"col-md-4","pr-1"],["for","SchoolAddress",1,"col-form-label-sm"],["type","text","id","schooladdress","placeholder","School Address","formControlName","schooladdress",1,"form-control","form-control-sm",3,"ngClass"],[1,"row","mb-1"],[1,"col-md-2","pl-1"],["for","City",1,"col-form-label-sm"],["id","city","formControlName","city",1,"form-control","form-control-sm",3,"ngClass"],[1,"col-md-5","pl-1"],["for","ResidentialAddress",1,"col-form-label-sm"],["type","text","id","residentialaddress","placeholder","Residential Address","formControlName","residentialaddress",1,"form-control","form-control-sm",3,"ngClass"],["for","PostalAddress",1,"col-form-label-sm"],["type","text","id","postaladdress","placeholder","Postal Address","formControlName","postaladdress",1,"form-control","form-control-sm",3,"ngClass"],[1,"modal-body",2,"padding","0%"],[1,"row","mt-1","justify-content-center"],[1,"col-md-6","offset-md-3"],["id","profilepic","height","110px","width","auto",1,"rounded-circle",3,"src"],[1,"btn-pill","btn","upload-btn","mt-1",3,"click"],["class","invalid-feedback d-block",4,"ngIf","ngIfElse"],[1,"invalid-feedback","d-block"],[2,"padding-left","120px"],[1,"valid-feedback","d-block"],[1,"invalid-feedback"],[4,"ngIf"],[3,"value"],[1,"mt-2"],["for","pfname",1,"col-form-label-sm"],["type","text","placeholder","First Name","formControlName","pfname","appAlphabetOnly","",1,"form-control","form-control-sm",3,"ngClass"],["for","poccupation",1,"col-form-label-sm"],["type","text","placeholder","Occupation","formControlName","poccupation","appAlphabetOnly","",1,"form-control","form-control-sm",3,"ngClass"],["type","text","cnicMask","","placeholder","XXXXX-XXXXXXX-X","formControlName","pcnic","maxlength","15","appNicFormattor","",1,"Cnic","form-control","form-control-sm",3,"cnicControl","preValue","ngClass"],["for",""],["type","text","placeholder","03001234567","phoneMask","","formControlName","pcontact","maxlength","12",1,"Phone","form-control","form-control-sm",3,"preValue","phoneControl","ngClass"],["for","mfname",1,"col-form-label-sm"],["type","text","placeholder","First Name","formControlName","mfname","appAlphabetOnly","",1,"form-control","form-control-sm",3,"ngClass"],["for","moccupation",1,"col-form-label-sm"],["type","text","placeholder","Occupation","formControlName","moccupation","appAlphabetOnly","",1,"form-control","form-control-sm",3,"ngClass"],["type","text","formControlName","mcnic","cnicMask","","placeholder","XXXXX-XXXXXXX-X","maxlength","15","appNicFormattor","",1,"Cnic","form-control","form-control-sm",3,"cnicControl","preValue","ngClass"],["type","text","placeholder","03001234567","phoneMask","","formControlName","mcontact","maxlength","12",1,"Phone","form-control","form-control-sm",3,"preValue","phoneControl","ngClass"],[1,"row","mt-1","mb-1"],["for","gfname",1,"col-form-label-sm"],["type","text","placeholder","First Name","formControlName","gfname","appAlphabetOnly","",1,"form-control","form-control-sm",3,"ngClass"],["for","goccupation",1,"col-form-label-sm"],["type","text","placeholder","Occupation","formControlName","goccupation","appAlphabetOnly","",1,"form-control","form-control-sm",3,"ngClass"],["type","text","formControlName","gcnic","cnicMask","","placeholder","XXXXX-XXXXXXX-X","maxlength","15","appNicFormattor","",1,"Cnic","form-control","form-control-sm",3,"cnicControl","preValue","ngClass"],["type","text","placeholder","03001234567","phoneMask","","formControlName","gcontact","maxlength","12",1,"Phone","form-control","form-control-sm",3,"preValue","phoneControl","ngClass"],["class","text-danger",4,"ngIf"],[1,"text-danger"],[1,"col-md-12"],[1,"row","pl-1"],["for","hospital",1,"col-form-label-sm"],["id","hospitalname","formControlName","HospitalName",1,"form-control","form-control-sm",3,"ngClass"],["for","doctor",1,"col-form-label-sm"],["id","doctorname","formControlName","doctorname",1,"form-control","form-control-sm",3,"ngClass"],["id","diabetestype","formControlName","diabetestype",1,"form-control","form-control-sm",3,"ngClass"],["type","date","placeholder","Diagnosis Date","formControlName","mdiadate","appAlphabetOnly","",1,"form-control","form-control-sm",3,"max","ngClass"],[1,"row","mt-1","mb-1","pl-1"],["type","text","placeholder","Family Diabetes","formControlName","mfamilydiabeteshitorytype",1,"form-control","form-control-sm",3,"ngClass"],["type","text","placeholder","Glucometer Company","formControlName","mglucompany","appAlphabetOnly","",1,"form-control","form-control-sm",3,"ngClass"],["formControlName","selectComp","dropdownPosition","auto",3,"multiple","change"],["type","text","placeholder","Medical Info","formControlName","medinfo","appAlphabetOnly","",1,"form-control","form-control-sm",3,"ngClass"],[1,"row","mt-1","pl-1"],["type","text","ng-pattern","/^\\-?\\d+((\\.|\\,)\\d+)?$/","placeholder","HbA1c","formControlName","HbA1c",1,"form-control","form-control-sm",3,"ngClass"],["type","date","placeholder","Test Date","formControlName","HbA1ctestdate",1,"form-control","form-control-sm",3,"max","ngClass"],["ng-pattern","/^\\-?\\d+((\\.|\\,)\\d+)?$/","type","text","placeholder","Micro Albuminuria","formControlName","MicroAlbuminuria",1,"form-control","form-control-sm",3,"ngClass"],["type","date","placeholder","Test Date","formControlName","MicroAlbuminuriatestdate",1,"form-control","form-control-sm",3,"max","ngClass"],["ng-pattern","/^\\-?\\d+((\\.|\\,)\\d+)?$/","type","text","placeholder","Urine ACR","formControlName","urineacr",1,"form-control","form-control-sm",3,"ngClass"],["type","date","placeholder","Test Date","formControlName","urineacrtestdate",1,"form-control","form-control-sm",3,"max","ngClass"],["ng-pattern","/^\\-?\\d+((\\.|\\,)\\d+)?$/","type","text","placeholder","Eyes Test","formControlName","eyestest",1,"form-control","form-control-sm",3,"ngClass"],["type","date","placeholder","Test Date","formControlName","eyestestdate",1,"form-control","form-control-sm",3,"max","ngClass"],[2,"padding-left","5px"],[1,"col-md-12",2,"padding-left","15px"],["type","checkbox","formControlName","firstconsent",3,"value","change"],["type","checkbox","formControlName","secondconsent",3,"value","change"],["type","checkbox","formControlName","thirdconsent",3,"value","change"],[1,"pinkcard"],[1,"row","mt-2"],[1,"btn-pill","btn","upload-btn","btn-outline-primary"],["type","file","id","customFile","name","uploadedImage","accept","image/jpg,image/jpeg,application/pdf,application/jpeg,application/jpg","required","",1,"center-block","file-upload",3,"change"],["UploadFileInput",""],["style","color:red",4,"ngIf"],[2,"color","red"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"form-group"],[1,"custom-file"],[1,"btn","btn-primary","text-white"],["type","file","id","customFile","name","uploadedImage","accept","image/*","required","",1,"center-block","file-upload",3,"change"],["name","uploadedImagei","format","jpeg",3,"imageChangedEvent","maintainAspectRatio","aspectRatio","resizeToWidth","imageCropped","imageLoaded","cropperReady","loadImageFailed"],[1,"modal-footer"],["type","button",1,"btn","upload-btn",3,"click"]],template:function(t,o){1&t&&(e.YNc(0,so,2,0,"div",0),e.YNc(1,ro,2,0,"div",1),e.YNc(2,ao,2,0,"div",0),e.TgZ(3,"div",2),e.TgZ(4,"h5",3),e._uU(5,"Child Registration Form"),e.qZA(),e.TgZ(6,"form",4),e.TgZ(7,"ngb-accordion",5),e.TgZ(8,"ngb-panel",6),e.YNc(9,lo,4,0,"ng-template",7),e.YNc(10,Yo,93,52,"ng-template",8),e.qZA(),e.TgZ(11,"ngb-panel",9),e.YNc(12,Qo,4,0,"ng-template",7),e.YNc(13,Zn,66,60,"ng-template",8),e.qZA(),e.TgZ(14,"ngb-panel",10),e.YNc(15,bn,4,0,"ng-template",7),e.YNc(16,Qn,57,35,"ng-template",8),e.qZA(),e.TgZ(17,"ngb-panel",11),e.YNc(18,On,4,0,"ng-template",7),e.YNc(19,ns,45,36,"ng-template",8),e.qZA(),e.TgZ(20,"ngb-panel",12),e.YNc(21,ss,4,0,"ng-template",7),e.YNc(22,ls,89,11,"ng-template",8),e.qZA(),e.qZA(),e.TgZ(23,"div",13),e.TgZ(24,"button",14),e.NdJ("click",function(){return o.Submit()}),e._uU(25,"Submit"),e.qZA(),e.TgZ(26,"button",15),e.NdJ("click",function(){return o.Cancel()}),e._uU(27,"Reset"),e.qZA(),e.qZA(),e.qZA(),e.YNc(28,ds,20,4,"ng-template",null,16,e.W1O),e.qZA()),2&t&&(e.Q6J("ngIf",o.isVisibleFailure),e.xp6(1),e.Q6J("ngIf",o.isVisibleSuccess),e.xp6(1),e.Q6J("ngIf",o.isJoiningGreater),e.xp6(4),e.Q6J("formGroup",o.childForm),e.xp6(1),e.Q6J("closeOthers",o.closeOthers)("activeIds",o.activeIds))},directives:[g.O5,a._Y,a.JL,a.sg,u.gY,u.Gk,u.Cu,u.gW,a.Wl,a.JJ,a.u,a.Fj,g.mk,x,a.EJ,a.YN,a.Kr,g.sg,Ve,a.nD,J,Be.w9,Be.xv,a.F,ce.ap],styles:['.card[_ngcontent-%COMP%]{border-radius:0%}#customFile[_ngcontent-%COMP%]{position:absolute;z-index:2;top:0;left:0;filter:alpha(opacity=0);-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";opacity:0;background-color:transparent;color:transparent}.pinkcard[_ngcontent-%COMP%]{padding:15px}.custom-file-input[_ngcontent-%COMP%]{position:relative;z-index:2;width:100%;height:calc(1.5em + .75rem + 2px);margin:0;opacity:0}p[_ngcontent-%COMP%]{margin-top:.25rem;font-size:80%;color:#c71c22}.errorclass[_ngcontent-%COMP%]{border:1px solid #C71C22}']}),i})();function us(i,n){1&i&&(e.TgZ(0,"label",24),e._uU(1," \u2611 "),e.qZA())}function gs(i,n){1&i&&(e.TgZ(0,"label",24),e._uU(1," \u2610 "),e.qZA())}function ms(i,n){1&i&&(e.TgZ(0,"label",24),e._uU(1," \u2611 "),e.qZA())}function ps(i,n){1&i&&(e.TgZ(0,"label",24),e._uU(1," \u2610 "),e.qZA())}function _s(i,n){1&i&&(e.TgZ(0,"label",24),e._uU(1," \u2611 "),e.qZA())}function hs(i,n){1&i&&(e.TgZ(0,"label",24),e._uU(1," \u2610 "),e.qZA())}function fs(i,n){1&i&&(e.TgZ(0,"label",24),e._uU(1," \u2611 "),e.qZA())}function Zs(i,n){1&i&&(e.TgZ(0,"label",24),e._uU(1," \u2610 "),e.qZA())}function bs(i,n){1&i&&(e.TgZ(0,"label",24),e._uU(1," \u2611 "),e.qZA())}function vs(i,n){1&i&&(e.TgZ(0,"label",24),e._uU(1," \u2610 "),e.qZA())}function Ts(i,n){1&i&&(e.TgZ(0,"label",24),e._uU(1," \u2611 "),e.qZA())}function As(i,n){1&i&&(e.TgZ(0,"label",24),e._uU(1," \u2610 "),e.qZA())}function Cs(i,n){1&i&&(e.TgZ(0,"label",24),e._uU(1," \u2611 "),e.qZA())}function qs(i,n){1&i&&(e.TgZ(0,"label",24),e._uU(1," \u2610 "),e.qZA())}function xs(i,n){1&i&&(e.TgZ(0,"label",24),e._uU(1," \u2611 "),e.qZA())}function Is(i,n){1&i&&(e.TgZ(0,"label",24),e._uU(1," \u2610 "),e.qZA())}function ys(i,n){1&i&&(e.TgZ(0,"label",24),e._uU(1," \u2611 "),e.qZA())}function ks(i,n){1&i&&(e.TgZ(0,"label",24),e._uU(1," \u2610 "),e.qZA())}function Us(i,n){1&i&&(e.TgZ(0,"label",24),e._uU(1," \u2611 Yes \u2610 No"),e.qZA())}function Ns(i,n){1&i&&(e.TgZ(0,"label",24),e._uU(1," \u2610 Yes \u2611 No "),e.qZA())}let ws=(()=>{class i{constructor(t,o,s,r,l){this.childser=t,this.route=o,this.location=s,this.myFormBuilder=r,this.userService=l,this.url=window.location.protocol+"//"+window.location.host+"/assets/css/report.css",this.Nocheck=!1,this.Yescheck=!1,this.Nopublic=!1,this.Nocasestudy=!1,this.Nosponsors=!1,this.Noeye=!1,this.Nofoot=!1,this.Nocardio=!1,this.Nokidney=!1,this.Noother=!1}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():(this.formControls(),this.weburl=window.location.protocol+"//"+window.location.host+"/Documents/childdata/",this.childser.getdatabyid(this.route.snapshot.paramMap.get("id")).subscribe(t=>{t.length>0&&(console.log(t[0],"here"),this.OtherMedicalInfo=t[0].OtherMedicalInfo,this.FamilyHistoryDiabetesType=t[0].FamilyHistoryDiabetesType,this.Hb1Ac=t[0].HbA1c,this.DocName=t[0].DocFirstName+" "+t[0].DocLastName,this.HosName=t[0].HosName,this.Regnumber=t[0].RegNumber,this.poino=t[0].poino,this.Name=t[0].PatientFirstName+" "+t[0].PatientLastName,this.Religion=t[0].RelName,this.image=this.weburl+this.Regnumber+"/"+t[0].PatientPhoto,this.city=t[0].CityName,this.class=t[0].Class,this.dob=t[0].DateofBirth,this.schoolname=t[0].SchoolName+" "+t[0].SchoolAddress,this.resaddress=t[0].ResidentialAddress,this.posaddress=t[0].PostalAddress,this.fname=t[0].FatherName,this.fcontact=t[0].FatherContact,this.foccp=t[0].FatherOccupation,this.fcnic=t[0].FatherCNIC,this.mname=t[0].MotherName,this.mcontact=t[0].MotherContact,this.moccp=t[0].MotherOccupation,this.mcnic=t[0].MotherCNIC,this.gname=t[0].GuardianName,this.gcontact=t[0].GuardianContact,this.goccp=t[0].GuardianOccupation,this.gcnic=t[0].GuardianCNIC,this.dochosname=t[0].DocFirstName+" "+t[0].DocLastName+" & "+t[0].HosName,this.diagdate=t[0].DiagnosedDate,1==t[0].PublicMedia?this.public=!0:this.Nopublic=!0,1==t[0].CaseStudies?this.casestudy=!0:this.Nocasestudy=!0,1==t[0].SharingWithSponsors?this.sponsors=!0:this.Nosponsors=!0,1==t[0].CompEye&&(this.compeye=!0),1==t[0].CompNerve?this.compnerve=!0:this.Nonerve=!0,1==t[0].CompFoot?this.compfoot=!0:this.Nofoot=!0,1==t[0].CompKidney?this.compkidney=!0:this.Nokidney=!0,1==t[0].CompCardio?this.compcardio=!0:this.Nocardio=!0,1==t[0].CompOther?this.compother=!0:this.Noother=!0,null!=t[0].Glucometer?this.Yescheck=!0:this.Nocheck=!0,1==t[0].ReligionEthnicity?this.Religion="Muslim":2==t[0].ReligionEthnicity?this.Religion="Muslim Syed":3==t[0].ReligionEthnicity&&(this.Religion="Non-Muslim"),1==t[0].Gender?this.gender="Male":2==t[0].Gender&&(this.gender="Female"))}))}formControls(){this.childForm=this.myFormBuilder.group({Yes1check:[""],No1check:[""]})}back(){this.location.back()}print(){var t=document.getElementById("2"),o=document.getElementById("1");t.style.visibility="hidden",o.style.visibility="hidden";let s=document.getElementById("page"),r=window.open("","new div","height=720,width=1080");r.document.write("<html><head>"),r.document.write('<style>\n    .report{background-color: grey;\n      border : 1px solid rgb(167, 167, 167);\n    }\n    // .print{\n    //   page-break-after: always;\n\n    // }\n    // .print:last-child {\n    //   page-break-after: auto;\n    //   }\n      @page {\n        size: A4 !important;\n        margin: 0.2inch !important;\n      }\n    @media print{\n      .col-sm-1, .col-sm-2, .col-sm-3, .col-sm-4, .col-sm-5, .col-sm-6,\n      .col-sm-7, .col-sm-8, .col-sm-9, .col-sm-10, .col-sm-11, .col-sm-12 {\n           float: left;               \n      }\n      html\n      {\n        height:100vh;\n        margin: 0.1 !important;\n        padding: 0.1 !important;\n      \n      }\n      body {\n        height:100vh;\n      \n      }\n        .col-sm-12 {\n             width: 100%;\n        }\n  \n        .col-sm-11 {\n             width: 91.66666666666666%;\n        }\n  \n        .col-sm-10 {\n             width: 83.33333333333334%;\n        }\n  \n        .col-sm-9 {\n              width: 75%;\n        }\n  \n        .col-sm-8 {\n              width: 66.66666666666666%;\n        }\n  \n         .col-sm-7 {\n              width: 58.333333333333336%;\n         }\n  \n         .col-sm-6 {\n              width: 50%;\n         }\n  \n         .col-sm-5 {\n              width: 41.66666666666667%;\n         }\n  \n         .col-sm-4 {\n              width: 33.33333333333333%;\n         }\n  \n         .col-sm-3 {\n              width: 25%;\n         }\n  \n         .col-sm-2 {\n                width: 16.666666666666664%;\n         }\n  \n         .col-sm-1 {\n                width: 8.333333333333332%;\n          }\n        .color{\n          background-color: lightblue !important;\n        }  \n        .image{\n          width="100px"\n          height="100px"\n        }          \n    // .print:last-child {\n    //   page-break-after: auto;\n    //   }\n      .th {\n        background-color: yellow;\n      }\n      .lightBlue {\n        background-color: lightblue !important;\n        -webkit-print-color-adjust: exact;\n        color-adjust: exact !important;   \n      }\n    .date{\n      font-weight: 400;\n      color : green;\n    }\n    .heading{\n      font-weight: 400;\n    }\n    .error{\n      border : 1px solid red;\n    }</style>'),r.document.write("</head><body>"),r.document.write(s.innerHTML),r.document.write(`<link rel="stylesheet" type="text/css" href="${this.url}";>`),r.document.write('<div class="print"></div>'),r.document.write("</html>"),setTimeout(()=>{r.document.close(),r.focus(),r.print()},1500),setTimeout(function(){t.style.visibility="visible",o.style.visibility="visible",r.close()},3e3)}ngOnDestroy(){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(S),e.Y36(p.gz),e.Y36(g.Ye),e.Y36(a.qu),e.Y36(h))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-child-reg-report"]],decls:478,vars:46,consts:[["id","page",1,"container-fluid",2,"background-color","white"],[1,"row"],[1,"col-12","col-md-12","col-sm-12","col-lg-12","col-xs-12",2,"background-color","white","zoom","98%"],[1,"card","bg-white","p-2"],[1,"row","mt-1"],[1,"col-3","col-md-3","col-sm-3","col-lg-3","col-xs-3"],["src","/assets/images/logo-Mz.png","height","100","width","auto"],[1,"col-6","col-md-6","col-sm-6","col-lg-6","col-xs-6","mt-1","pl-4"],[2,"margin-bottom","0%"],["width","100px","height","100px","alt","",1,"img-thumbnail",3,"src"],[1,"col-7","col-md-7","col-sm-7","col-lg-7","col-xs-7"],[1,"row",2,"margin-top","-1%","font-size","14px"],[1,"col-12","col-md-12","col-sm-12","col-lg-12","col-xs-12","col-12"],["for",""],[1,"col-12","col-md-12","col-sm-12","col-lg-12","col-xs-12",2,"font-size","14px"],[1,"col-5","col-md-5","col-sm-5","col-lg-5","col-xs-5"],[1,"col-12","col-md-12","col-sm-12","col-lg-12","col-xs-12","col-12","text-right"],[1,"col-12","col-md-12","col-sm-12","col-lg-12","col-xs-12","text-right",2,"font-size","13px"],["dir","auto"],[1,"row","mt-1","justify-content-end"],[1,"col-12","col-md-12","col-sm-12","col-lg-12","col-xs-12",2,"font-size","13px"],[1,"col-11","col-md-11","col-sm-11","col-lg-11","col-xs-11"],[2,"font-size","18px"],[1,"col-2","col-md-2","col-sm-2","col-lg-2","col-xs-2"],[2,"font-size","13px"],[1,"form-control","form-control-sm",2,"font-size","13px"],[1,"col-4","col-md-4","col-sm-4","col-lg-4","col-xs-4"],[1,"col-6","col-md-6","col-sm-6","col-lg-6","col-xs-6"],[3,"formGroup"],[1,"col-12","col-md-12","col-sm-12","col-lg-12","col-xs-12"],[1,"col-1","col-md-1","col-sm-1","col-lg-1","col-xs-1"],["style","font-size: 13px;",4,"ngIf"],[1,"card","color","bg-light"],[1,"col-11","col-md-11","col-sm-11","col-lg-11","col-xs-11","ml-4"],[1,"col-12","col-md-12","col-sm-12","col-lg-12","col-xs-12","text-right"],[2,"margin-left","32px","font-size","13px"],[1,"row","ml-4"],[1,"col-8","col-md-8","col-sm-8","col-lg-8","col-xs-8"],[1,"card","p-1","mt-1"],[1,"card","bg-white","mt-2","p-2",2,"page-break-before","always"],[1,"row","p-1"],[1,"col-6"],[1,"col-12"],[1,"col-1"],[1,"card","color","bg-light","p-2"],[1,"col-3"],[2,"font-size","14px"],[2,"font-size","14px","direction","rtl"],[1,"card","pl-1","pr-1"],[1,"row","justify-content-end","m-2"],[1,"col"],["id","1",1,"btn","reset-btn","btn-sm",2,"width","120px","float","right","margin-left","4px",3,"click"],["id","2",1,"btn","print-btn","btn-sm","mr-1","ml-2",2,"width","120px","float","right",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"form"),e.TgZ(4,"div",3),e.TgZ(5,"div",4),e.TgZ(6,"div",5),e._UZ(7,"img",6),e.qZA(),e.TgZ(8,"div",7),e.TgZ(9,"h3",8),e._uU(10,"Promise of Insulin Registration Form"),e.qZA(),e.TgZ(11,"span"),e.TgZ(12,"h5"),e._uU(13,"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\u0627\u0646\u0633\u0648\u0644\u06cc\u0646 \u0631\u062c\u0633\u0679\u0631\u06cc\u0634\u0646 \u0641\u0627\u0631\u0645 \u06a9\u0627 \u0648\u0639\u062f\u06c1"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(14,"div",5),e._UZ(15,"img",9),e.qZA(),e.qZA(),e.TgZ(16,"div",4),e.TgZ(17,"div",10),e.TgZ(18,"div",11),e.TgZ(19,"div",12),e.TgZ(20,"label",13),e.TgZ(21,"b"),e.TgZ(22,"u"),e._uU(23,"Information for the referring doctor/person :"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(24,"div",4),e.TgZ(25,"div",14),e.TgZ(26,"label"),e._uU(27," 1. Please fill in the name of the child, contact information and signature of a parent/legal guardian. "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(28,"div",4),e.TgZ(29,"div",14),e.TgZ(30,"label"),e._uU(31," 2. WhatsApp a "),e.qZA(),e.TgZ(32,"u"),e.TgZ(33,"label"),e._uU(34,"clear picture of the form and the latest prescription to 03086770106. Save the hard copy. "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(35,"div",4),e.TgZ(36,"div",14),e.TgZ(37,"label"),e._uU(38," 3. Please lodge a complaint by calling at 051-8313214 in case you do not receive an acknowlegement within 05 working days. "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(39,"div",4),e.TgZ(40,"div",14),e.TgZ(41,"label"),e._uU(42," 4. Please inform the parent / legal guardian to expect Meethi Zindagi's representative to contact them for further documentation. "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(43,"div",4),e.TgZ(44,"div",14),e.TgZ(45,"label"),e._uU(46," 5. Once the documentation process is completed, the child will he supported until they reach the adult age of 18 years, or in case of college/university education, the age of 21 years. "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(47,"div",15),e.TgZ(48,"div",4),e.TgZ(49,"div",16),e.TgZ(50,"label"),e.TgZ(51,"b"),e.TgZ(52,"u"),e._uU(53,"\u0688\u0627\u06a9\u0679\u0631/ \u062d\u0648\u0627\u0644\u06c1 \u062f\u06cc\u0646\u06d2 \u0648\u0627\u0644\u06d2 \u0634\u062e\u0635 \u06a9\u06d2 \u0644\u06cc\u06d2 \u0645\u0639\u0644\u0648\u0645\u0627\u062a"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(54,"div",17),e.TgZ(55,"label"),e._uU(56," .\u0661 - \u0628\u0631\u0627\u0626\u06d2 \u06a9\u0631\u0645 \u0627\u067e\u0646\u0627 \u0628\u0686\u06d2 \u06a9\u0627 \u0646\u0627\u0645 \u060c \u0641\u0648\u0646 \u0646\u0645\u0628\u0631 \u0627\u0648\u0631 \u06af\u06be\u0631 \u06a9\u0627 \u067e\u062a\u06c1 \u062f\u0631\u06af\u0627 \u06a9\u0631\u06cc\u06ba \u060c \u0627\u0648\u0631 \u0627\u067e\u0646\u0627 \u0633\u0631\u067e\u0631\u0633\u062a \u06a9\u06d2 \u062f\u0633\u062a\u062e\u0637 \u06a9\u0631\u0648\u0627\u0626\u06d2"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(57,"div",4),e.TgZ(58,"div",17),e.TgZ(59,"label"),e._uU(60," \u0662- \u0641\u0627\u0631\u0645 \u06a9\u06cc \u0648\u0627\u0636\u062d \u062a\u0635\u0648\u06cc\u0631 \u0627\u0648\u0631 \u062a\u0627\u0632\u06c1 \u062a\u0631\u06cc\u0646 \u0628\u0686\u06d2 \u06a9\u06d2 \u0646\u0633\u062e\u06d2 \u06a9\u0648 \u0648\u0627\u0679\u0633 \u0627\u06cc\u067e \u067e\u0631 03086770106 \u067e\u0631 \u0628\u06be\u06cc\u062c\u06cc\u06ba\u06d4 \u06c1\u0627\u0631\u0688 \u06a9\u0627\u067e\u06cc \u0645\u062d\u0641\u0648\u0638 \u06a9\u0631\u06cc\u06ba\u06d4 "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(61,"div",4),e.TgZ(62,"div",17),e.TgZ(63,"label"),e._uU(64," \u0663 - \u0628\u0631\u0627\u06c1 \u06a9\u0631\u0645 0518313214 \u067e\u0631 \u06a9\u0627\u0644 \u06a9\u0631\u06a9\u06d2 \u0634\u06a9\u0627\u06cc\u062a \u062f\u0631\u062c \u06a9\u0631\u0648\u0627\u0626\u06cc\u06ba \u0627\u06af\u0631 \u0622\u067e \u06a9\u0648 05 \u06a9\u0627\u0645 \u06a9\u06d2 \u062f\u0646\u0648\u06ba \u06a9\u06d2 \u0627\u0646\u062f\u0631 \u06a9\u0648\u0626\u06cc \u0631\u0633\u06cc\u062f \u0645\u0648\u0635\u0648\u0644 \u0646\u06c1\u06cc\u06ba \u06c1\u0648\u062a\u06cc \u06c1\u06d2\u06d4 "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(65,"div",4),e.TgZ(66,"div",17),e.TgZ(67,"label"),e._uU(68," \u0664-\u062f\u0633\u062a\u0627\u0648\u06cc\u0632\u0627\u062a \u06a9\u0627 \u0639\u0645\u0644 \u0645\u06a9\u0645\u0644 \u06c1\u0648\u0646\u06d2 \u06a9\u06d2 \u0628\u0639\u062f\u060c \u0628\u0686\u06d2 \u06a9\u06cc \u0627\u0633 \u0648\u0642\u062a \u062a\u06a9 \u0645\u062f\u062f \u06a9\u06cc \u062c\u0627\u0626\u06d2 \u06af\u06cc \u062c\u0628 \u062a\u06a9 \u06a9\u06c1 \u0648\u06c1 18 \u0633\u0627\u0644 \u06a9\u06cc \u0628\u0627\u0644\u063a \u0639\u0645\u0631 \u062a\u06a9 \u0646\u06c1 \u067e\u06c1\u0646\u0686 \u062c\u0627\u0626\u06d2\u060c \u06cc\u0627 \u06a9\u0627\u0644\u062c/\u06cc\u0648\u0646\u06cc\u0648\u0631\u0633\u0679\u06cc \u062a\u06a9 \u067e\u06c1\u0646\u0686 \u062c\u0627\u0626\u06d2\u06d4 "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(69,"div",4),e.TgZ(70,"div",17),e.TgZ(71,"p",18),e._uU(72," \u0665-\u062f\u0633\u062a\u0627\u0648\u06cc\u0632\u0627\u062a \u06a9\u0627 \u0639\u0645\u0644 \u0645\u06a9\u0645\u0644 \u06c1\u0648\u0646\u06d2 \u06a9\u06d2 \u0628\u0639\u062f\u060c \u0628\u0686\u06d2 \u06a9\u06cc \u0627\u0633 \u0648\u0642\u062a \u062a\u06a9 \u0645\u062f\u062f \u06a9\u06cc \u062c\u0627\u0626\u06d2 \u06af\u06cc \u062c\u0628 \u062a\u06a9 \u06a9\u06c1 \u0648\u06c1 18 \u0633\u0627\u0644 \u06a9\u06cc \u0628\u0627\u0644\u063a \u0639\u0645\u0631 \u06a9\u0648 \u0646\u06c1 \u067e\u06c1\u0646\u0686 \u062c\u0627\u0626\u06d2\u060c \u06cc\u0627 \u06a9\u0627\u0644\u062c/\u06cc\u0648\u0646\u06cc\u0648\u0631\u0633\u0679\u06cc \u06a9\u06cc \u062a\u0639\u0644\u06cc\u0645 \u06a9\u06d2 \u0645\u0639\u0627\u0645\u0644\u06d2 \u0645\u06cc\u06ba\u060c 21 \u0633\u0627\u0644 \u06a9\u06cc \u0639\u0645\u0631 \u06a9\u0648 \u067e\u06c1\u0646\u0686 \u062c\u0627\u0626\u06d2\u06d4 "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(73,"div",19),e._UZ(74,"div",20),e.qZA(),e.TgZ(75,"div",4),e.TgZ(76,"div",21),e.TgZ(77,"u",22),e.TgZ(78,"b"),e._uU(79,"Personal Information: "),e.qZA(),e.qZA(),e.TgZ(80,"b",22),e._uU(81," \xa0\u0630\u0627\u062a\u06cc \u0645\u0639\u0644\u0648\u0645\u0627\u062a"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(82,"div",4),e.TgZ(83,"div",23),e.TgZ(84,"label",24),e.TgZ(85,"b"),e._uU(86," POI Number"),e.qZA(),e.qZA(),e.TgZ(87,"label",25),e._uU(88),e.qZA(),e.qZA(),e.TgZ(89,"div",26),e.TgZ(90,"label",24),e.TgZ(91,"b"),e._uU(92," Name of the child (\u0628\u0686\u06d2 \u06a9\u0627 \u0646\u0627\u0645)"),e.qZA(),e.qZA(),e.TgZ(93,"label",25),e._uU(94),e.qZA(),e.qZA(),e.TgZ(95,"div",23),e.TgZ(96,"label",24),e.TgZ(97,"b"),e._uU(98," Class (\u06a9\u0644\u0627\u0633)"),e.qZA(),e.qZA(),e.TgZ(99,"label",25),e._uU(100),e.qZA(),e.qZA(),e.TgZ(101,"div",26),e.TgZ(102,"label",24),e.TgZ(103,"b"),e._uU(104," City (\u0634\u06c1\u0631)"),e.qZA(),e.qZA(),e.TgZ(105,"label",25),e._uU(106),e.qZA(),e.qZA(),e.qZA(),e.TgZ(107,"div",4),e.TgZ(108,"div",5),e.TgZ(109,"label",24),e.TgZ(110,"b"),e._uU(111," Religion/Ethnicity (\u0645\u0630\u06c1\u0628)"),e.qZA(),e.qZA(),e.TgZ(112,"label",25),e._uU(113),e.qZA(),e.qZA(),e.TgZ(114,"div",23),e.TgZ(115,"label",24),e.TgZ(116,"b"),e._uU(117," Gender (\u062c\u0646\u0633)"),e.qZA(),e.qZA(),e.TgZ(118,"label",25),e._uU(119),e.qZA(),e.qZA(),e.TgZ(120,"div",5),e.TgZ(121,"label",24),e.TgZ(122,"b"),e._uU(123," Date of Birth (\u062a\u0627\u0631\u06cc\u062e \u067e\u06cc\u062f\u0627\u0626\u0634)"),e.qZA(),e.qZA(),e.TgZ(124,"label",25),e._uU(125),e.qZA(),e.qZA(),e.TgZ(126,"div",26),e.TgZ(127,"label",24),e.TgZ(128,"b"),e._uU(129," Diagnosed on (\u06a9\u0628 \u062a\u0634\u062e\u06cc\u0635 \u06be\u0648\u0626\u06cc)"),e.qZA(),e.qZA(),e.TgZ(130,"label",25),e._uU(131),e.qZA(),e.qZA(),e.qZA(),e.TgZ(132,"div",4),e.TgZ(133,"div",27),e.TgZ(134,"u",22),e.TgZ(135,"b"),e._uU(136,"Parent's Information: "),e.qZA(),e.qZA(),e.TgZ(137,"b",22),e._uU(138," \xa0(\u0648\u0627\u0644\u062f\u06cc\u0646 \u06a9\u06cc \u0645\u0639\u0644\u0648\u0645\u0627\u062a)"),e.qZA(),e.TgZ(139,"div",4),e.TgZ(140,"div",27),e.TgZ(141,"label",24),e.TgZ(142,"b"),e._uU(143," Father Name (\u0648\u0627\u0644\u062f \u06a9\u0627 \u0646\u0627\u0645)"),e.qZA(),e.qZA(),e.TgZ(144,"label",25),e._uU(145),e.qZA(),e.qZA(),e.TgZ(146,"div",27),e.TgZ(147,"label",24),e.TgZ(148,"b"),e._uU(149," Father's Occupation (\u0648\u0627\u0644\u062f \u06a9\u0627 \u067e\u06cc\u0634\u06c1)"),e.qZA(),e.qZA(),e.TgZ(150,"label",25),e._uU(151),e.qZA(),e.qZA(),e.qZA(),e.TgZ(152,"div",4),e.TgZ(153,"div",27),e.TgZ(154,"label",24),e.TgZ(155,"b"),e._uU(156," Mother's Name (\u0648\u0627\u0644\u062f\u06c1 \u06a9\u0627 \u0646\u0627\u0645)"),e.qZA(),e.qZA(),e.TgZ(157,"label",25),e._uU(158),e.qZA(),e.qZA(),e.TgZ(159,"div",27),e.TgZ(160,"label",24),e.TgZ(161,"b"),e._uU(162," Mother's Occupation (\u0648\u0627\u0644\u062f\u06c1 \u06a9\u0627 \u067e\u06cc\u0634\u06c1)"),e.qZA(),e.qZA(),e.TgZ(163,"label",25),e._uU(164),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(165,"div",27),e.TgZ(166,"u",22),e.TgZ(167,"b"),e._uU(168,"Medical Information: "),e.qZA(),e.qZA(),e.TgZ(169,"b",22),e._uU(170," \xa0(\u0637\u0628\u06cc \u0645\u0639\u0644\u0648\u0645\u0627\u062a)"),e.qZA(),e.TgZ(171,"div",4),e.TgZ(172,"label",24),e.TgZ(173,"b"),e._uU(174," Hb1Ac (At Registration Time)"),e.qZA(),e.qZA(),e.TgZ(175,"label",25),e._uU(176),e.qZA(),e.qZA(),e.TgZ(177,"div",4),e.TgZ(178,"label",24),e.TgZ(179,"b"),e._uU(180," Family history of Diabetes (Type)"),e.qZA(),e.qZA(),e.TgZ(181,"label",25),e._uU(182),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(183,"form",28),e.TgZ(184,"div",4),e.TgZ(185,"div",29),e.TgZ(186,"label",24),e.TgZ(187,"b"),e._uU(188," Other medical info (if any) (\u06a9\u0628 \u062a\u0634\u062e\u06cc\u0635 \u06be\u0648\u0626\u06cc)"),e.qZA(),e.qZA(),e.TgZ(189,"label",25),e._uU(190),e.qZA(),e.qZA(),e.qZA(),e.TgZ(191,"div",4),e.TgZ(192,"div",21),e.TgZ(193,"label",24),e.TgZ(194,"b"),e._uU(195," Complications/ conditions at the time of registration (\u0627\u0646\u062f\u0631\u0627\u062c \u06a9\u06d2 \u0648\u0642\u062a \u06a9\u0648\u0626\u06cc \u0627\u0648\u0631 \u067e\u06cc\u0686\u06cc\u062f\u06af\u06cc)"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(196,"div",4),e._UZ(197,"div",30),e.TgZ(198,"div",23),e.YNc(199,us,2,0,"label",31),e.YNc(200,gs,2,0,"label",31),e.TgZ(201,"label",24),e._uU(202," Eye (\u0622\u0646\u06a9\u06be)"),e.qZA(),e.qZA(),e.TgZ(203,"div",23),e.YNc(204,ms,2,0,"label",31),e.YNc(205,ps,2,0,"label",31),e.TgZ(206,"label",24),e._uU(207," Foot (\u067e\u0627\u0624\u06ba)"),e.qZA(),e.qZA(),e.TgZ(208,"div",23),e.YNc(209,_s,2,0,"label",31),e.YNc(210,hs,2,0,"label",31),e.TgZ(211,"label",24),e._uU(212," Kidneys (\u06af\u0631\u062f\u06d2)"),e.qZA(),e.qZA(),e.TgZ(213,"div",23),e.YNc(214,fs,2,0,"label",31),e.YNc(215,Zs,2,0,"label",31),e.TgZ(216,"label",24),e._uU(217," Cardiovascular (\u062f\u0644) "),e.qZA(),e.qZA(),e.TgZ(218,"div",23),e.YNc(219,bs,2,0,"label",31),e.YNc(220,vs,2,0,"label",31),e.TgZ(221,"label",24),e._uU(222," Nerve (\u0646\u0633)"),e.qZA(),e.qZA(),e.TgZ(223,"div",23),e.YNc(224,Ts,2,0,"label",31),e.YNc(225,As,2,0,"label",31),e.TgZ(226,"label",24),e._uU(227," Other (\u062f\u06cc\u06af\u0631)"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(228,"div",4),e.TgZ(229,"div",29),e.TgZ(230,"label",22),e.TgZ(231,"b"),e.TgZ(232,"u"),e._uU(233,"Consent by Parent/ Legal Guardian on behalf of the child "),e.qZA(),e._uU(234," (\u0648\u0627\u0644\u062f\u06cc\u0646 \u06a9\u06cc \u0637\u0631\u0641 \u0633\u06d2 \u0628\u0686\u06d2 \u0636\u0627\u0645\u0646\u062f\u06cc)"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(235,"div",4),e.TgZ(236,"div",29),e.TgZ(237,"div",32),e.TgZ(238,"div",4),e.TgZ(239,"div",33),e.TgZ(240,"label",24),e.TgZ(241,"b"),e._uU(242,"I wish to register my child for support from Meethi Zindagi. I give my consent to Meethi Zindagi, its affiliates and agents, to use my image and details, in accordance with its data privacy policy. This consent includes"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(243,"div",34),e.TgZ(244,"label",35),e.TgZ(245,"b"),e._uU(246,"\u0645\u06cc\u06ba \u0627\u067e\u0646\u06d2 \u0628\u0686\u06d2 \u06a9\u0648 \u0633\u067e\u0648\u0631\u0679 \u0645\u06cc\u0679\u06be\u06cc \u0632\u0646\u062f\u06af\u06cc \u06a9\u06d2 \u0644\u0626\u06d2 \u0631\u062c\u0633\u0679\u0631 \u06a9\u0631\u0646\u0627 \u0686\u0627\u06c1\u062a\u0627 \u06c1\u0648\u06ba\u06d4 \u0645\u06cc\u06ba \u0645\u06cc\u0679\u06be\u06cc \u0632\u0646\u062f\u06af\u06cc \u06a9\u0648 \u060c \u0627\u0633 \u0633\u06d2 \u0648\u0627\u0628\u0633\u062a\u06c1 \u062a\u0646\u0638\u06cc\u0645\u0648\u06ba \u0627\u0648\u0631 \u0627\u06cc\u062c\u0646\u0679\u0648\u06ba \u06a9\u0648 \u060c \u0627\u0633 \u06a9\u06cc \u0627\u0639\u062f\u0627\u062f \u0648 \u0634\u0645\u0627\u0631 \u06a9\u06cc \u0631\u0627\u0632\u062f\u0627\u0631\u06cc \u06a9\u06cc \u067e\u0627\u0644\u06cc\u0633\u06cc \u06a9\u06d2 \u0645\u0637\u0627\u0628\u0642 \u0627\u067e\u0646\u06cc \u0634\u0628\u06cc\u06c1\u06c1 \u0627\u0648\u0631 \u062a\u0641\u0635\u06cc\u0644\u0627\u062a \u0627\u0633\u062a\u0639\u0645\u0627\u0644 \u06a9\u0631\u0646\u06d2 \u06a9\u06d2 \u0644\u0626\u06d2 \u0627\u067e\u0646\u06cc \u0631\u0636\u0627\u0645\u0646\u062f\u06cc \u062f\u06cc\u062a\u0627 \u06c1\u0648\u06ba\u06d4 \u0627\u0633 \u0631\u0636\u0627\u0645\u0646\u062f\u06cc \u0645\u06cc\u06ba \u0634\u0627\u0645\u0644 \u06c1\u06cc\u06ba"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(247,"div",36),e.TgZ(248,"div",37),e.YNc(249,Cs,2,0,"label",31),e.YNc(250,qs,2,0,"label",31),e.TgZ(251,"label",24),e._uU(252," Use On Public Media "),e.qZA(),e._UZ(253,"br"),e.YNc(254,xs,2,0,"label",31),e.YNc(255,Is,2,0,"label",31),e.TgZ(256,"label",24),e._uU(257," Anonymous case studies. research and statistics "),e.qZA(),e._UZ(258,"br"),e.YNc(259,ys,2,0,"label",31),e.YNc(260,ks,2,0,"label",31),e.TgZ(261,"label",24),e._uU(262," I allow use of real name / nick name "),e.qZA(),e._UZ(263,"br"),e.TgZ(264,"label",24),e.TgZ(265,"b"),e._uU(266," Sign / thumb impression of parent / guardian: ________________________________ "),e.qZA(),e.qZA(),e._UZ(267,"br"),e.TgZ(268,"label",24),e.TgZ(269,"b"),e._uU(270,"Date: ________________________________ "),e.qZA(),e.qZA(),e._UZ(271,"br"),e.qZA(),e.TgZ(272,"div",5),e.TgZ(273,"div",38),e.TgZ(274,"label",24),e.TgZ(275,"b"),e.TgZ(276,"u"),e._uU(277,"For office use only "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(278,"label",24),e._uU(279,"All Documents have been received and the child is eligible for support."),e.qZA(),e._UZ(280,"br"),e.TgZ(281,"label"),e._uU(282," ______________________ "),e.qZA(),e.TgZ(283,"label",24),e.TgZ(284,"b"),e._uU(285,"Signature of registering authority"),e.qZA(),e.qZA(),e.TgZ(286,"label",24),e.TgZ(287,"b"),e._uU(288,"Stamp"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(289,"div",39),e.TgZ(290,"div",40),e.TgZ(291,"label",22),e.TgZ(292,"b"),e.TgZ(293,"u"),e._uU(294,"For Offical use only (Personal data of beneficieries - protected by data protection policy)"),e.qZA(),e.qZA(),e.qZA(),e._UZ(295,"br"),e._UZ(296,"br"),e.TgZ(297,"label",22),e.TgZ(298,"b"),e.TgZ(299,"u"),e._uU(300,"Contact Information"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(301,"div",40),e.TgZ(302,"div",41),e.TgZ(303,"label",24),e.TgZ(304,"b"),e._uU(305,"Father's Contact (\u0648\u0627\u0644\u062f \u06a9\u0627 \u0631\u0627\u0628\u0637\u06c1 \u0646\u0645\u0628\u0631)"),e.qZA(),e.qZA(),e.TgZ(306,"label",25),e._uU(307),e.qZA(),e.TgZ(308,"label",24),e.TgZ(309,"b"),e._uU(310,"Mother's Contact (\u0648\u0627\u0644\u062f\u06c1 \u06a9\u0627 \u0631\u0627\u0628\u0637\u06c1 \u0646\u0645\u0628\u0631)"),e.qZA(),e.qZA(),e.TgZ(311,"label",25),e._uU(312),e.qZA(),e.qZA(),e.TgZ(313,"div",41),e.TgZ(314,"label",24),e.TgZ(315,"b"),e._uU(316,"Father's CNIC (\u0648\u0627\u0644\u062f \u06a9\u0627 \u0642\u0648\u0645\u06cc \u0634\u0646\u0627\u062e\u062a\u06cc \u06a9\u0627\u0631\u0688)"),e.qZA(),e.qZA(),e.TgZ(317,"label",25),e._uU(318),e.qZA(),e.TgZ(319,"label",24),e.TgZ(320,"b"),e._uU(321,"Mother's CNIC (\u0648\u0627\u0644\u062f\u06c1 \u06a9\u0627 \u0642\u0648\u0645\u06cc \u0634\u0646\u0627\u062e\u062a\u06cc \u06a9\u0627\u0631\u0688)"),e.qZA(),e.qZA(),e.TgZ(322,"label",25),e._uU(323),e.qZA(),e.qZA(),e.qZA(),e.TgZ(324,"div",40),e.TgZ(325,"div",42),e.TgZ(326,"label",24),e.TgZ(327,"b"),e._uU(328,"Residential Address (\u0631\u06c1\u0627\u0626\u0634\u06cc \u067e\u062a\u06c1)"),e.qZA(),e.qZA(),e.TgZ(329,"label",25),e._uU(330),e.qZA(),e.TgZ(331,"label",24),e.TgZ(332,"b"),e._uU(333,"Postal Address (\u0688\u0627\u06a9 \u06a9\u0627 \u067e\u062a\u06c1)"),e.qZA(),e.qZA(),e.TgZ(334,"label",25),e._uU(335),e.qZA(),e.TgZ(336,"label",24),e.TgZ(337,"b"),e._uU(338," School Name and Address (\u0627\u0633\u06a9\u0648\u0644 \u06a9\u0627 \u0646\u0627\u0645)"),e.qZA(),e.qZA(),e.TgZ(339,"label",25),e._uU(340),e.qZA(),e._UZ(341,"br"),e.TgZ(342,"label",22),e.TgZ(343,"b"),e.TgZ(344,"u"),e._uU(345,"Referred By"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(346,"div",40),e.TgZ(347,"div",41),e.TgZ(348,"label",24),e.TgZ(349,"b"),e._uU(350,"Doctor Name (\u0688\u0627\u06a9\u0679\u0631 \u06a9\u0627 \u0646\u0627\u0645)"),e.qZA(),e.qZA(),e.TgZ(351,"label",25),e._uU(352),e.qZA(),e.qZA(),e.TgZ(353,"div",41),e.TgZ(354,"label",24),e.TgZ(355,"b"),e._uU(356,"Hospital Name (\u06c1\u0633\u067e\u062a\u0627\u0644 \u06a9\u0627 \u0646\u0627\u0645 ) "),e.qZA(),e.qZA(),e.TgZ(357,"label",25),e._uU(358),e.qZA(),e.qZA(),e.qZA(),e.TgZ(359,"div",40),e.TgZ(360,"div",42),e.TgZ(361,"label",24),e.TgZ(362,"b"),e._uU(363," Glucometer Owned (\u0634\u0648\u06af\u0631 \u0686\u06cc\u06a9 \u06a9\u0631\u0646\u06d2 \u0648\u0627\u0644\u06cc \u0645\u0634\u06cc\u0646)"),e.qZA(),e.qZA(),e._uU(364,"\xa0\xa0\xa0\xa0\xa0\xa0 "),e.YNc(365,Us,2,0,"label",31),e._uU(366,"\xa0 "),e.YNc(367,Ns,2,0,"label",31),e._UZ(368,"br"),e.TgZ(369,"label",24),e.TgZ(370,"b"),e.TgZ(371,"u"),e._uU(372,"If not owned or different from the supported glucometers:"),e.qZA(),e.qZA(),e.qZA(),e._UZ(373,"br"),e.TgZ(374,"label",24),e.TgZ(375,"b"),e._uU(376,"Glucometer Company Name"),e.qZA(),e.qZA(),e.TgZ(377,"label",25),e._uU(378,"\xa0"),e.qZA(),e.TgZ(379,"label",24),e.TgZ(380,"b"),e._uU(381,"Date of Provision by Meethi Zindagi"),e.qZA(),e.qZA(),e.TgZ(382,"div",1),e.TgZ(383,"div",43),e.TgZ(384,"label",25),e._uU(385,"\xa0"),e.qZA(),e.TgZ(386,"label",24),e.TgZ(387,"b"),e._uU(388,"Day \u062f\u0646"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(389,"div",43),e.TgZ(390,"label",25),e._uU(391,"\xa0"),e.qZA(),e.TgZ(392,"label",24),e.TgZ(393,"b"),e._uU(394,"Month \u0645\u06c1\u06cc\u0646\u06c1 "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(395,"div",43),e.TgZ(396,"label",25),e._uU(397,"\xa0"),e.qZA(),e.TgZ(398,"label",24),e.TgZ(399,"b"),e._uU(400,"Year \u0633\u0627\u0644"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(401,"div",44),e.TgZ(402,"div",40),e.TgZ(403,"div",45),e.TgZ(404,"label",24),e.TgZ(405,"b"),e._uU(406,"Documents to be attached"),e.qZA(),e.qZA(),e._UZ(407,"br"),e.TgZ(408,"label",46),e._uU(409,"\u2610 CNIC of Parents "),e.qZA(),e._UZ(410,"br"),e.TgZ(411,"label",46),e._uU(412,"\u2610 Latest prescription "),e.qZA(),e._UZ(413,"br"),e.TgZ(414,"label",46),e._uU(415,"\u2610 2x Passport size pictures "),e.qZA(),e._UZ(416,"br"),e.TgZ(417,"label",46),e._uU(418,"\u2610 Electricity/Gas bill copies "),e.qZA(),e._UZ(419,"br"),e.TgZ(420,"label",46),e._uU(421,"\u2610 School registration (if applicable) "),e.qZA(),e._UZ(422,"br"),e.TgZ(423,"label",46),e._uU(424,"\u2610 Nisab Calculation "),e.qZA(),e._UZ(425,"br"),e.TgZ(426,"label",46),e._uU(427,"\u2610 B-form/ birth certificate "),e.qZA(),e._UZ(428,"br"),e.qZA(),e.TgZ(429,"div",45),e.TgZ(430,"label",24),e._uU(431,"\xa0\xa0\xa0"),e.TgZ(432,"b"),e._uU(433,"\u062f\u0633\u062a\u0627\u0648\u06cc\u0632\u0627\u062a / \u06a9\u0627\u063a\u0630\u0627\u062a"),e.qZA(),e.qZA(),e._UZ(434,"br"),e.TgZ(435,"label",47),e._uU(436,"\u0688\u0627\u06a9\u0679\u0631 \u06a9\u0627 \u062a\u0627\u0632\u06c1 \u062a\u0631\u06cc\u0646 \u0646\u0633\u062e\u06c1"),e.qZA(),e._UZ(437,"br"),e.TgZ(438,"label",47),e._uU(439,"2x \u067e\u0627\u0633\u067e\u0648\u0631\u0679 \u0633\u0627\u0626\u0632 \u06a9\u06cc \u062a\u0635\u0627\u0648\u06cc\u0631"),e.qZA(),e._UZ(440,"br"),e.TgZ(441,"label",47),e._uU(442,"\u0628\u062c\u0644\u06cc/\u06af\u06cc\u0633 \u06a9\u06d2 \u0628\u0644 \u06a9\u06cc \u06a9\u0627\u067e\u06cc\u0627\u06ba "),e.qZA(),e._UZ(443,"br"),e.TgZ(444,"label",47),e._uU(445,"\u0627\u0633\u06a9\u0648\u0644 \u0631\u062c\u0633\u0679\u0631\u06cc\u0634\u0646 "),e.qZA(),e._UZ(446,"br"),e.TgZ(447,"label",47),e._uU(448,"\u0646\u0635\u0627\u0628 \u06a9\u0627 \u062d\u0633\u0627\u0628"),e.qZA(),e._UZ(449,"br"),e.TgZ(450,"label",47),e._uU(451,"\u0628\u06cc \u0641\u0627\u0631\u0645 / \u067e\u06cc\u062f\u0627\u0626\u0634 \u06a9\u0627 \u0633\u0631\u0679\u06cc\u0641\u06a9\u06cc\u0679 "),e.qZA(),e._UZ(452,"br"),e.qZA(),e._UZ(453,"div",45),e.TgZ(454,"div",45),e.TgZ(455,"div",48),e.TgZ(456,"label",24),e.TgZ(457,"b"),e.TgZ(458,"u"),e._uU(459,"For Office Use Only"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(460,"label",24),e._uU(461,"Date of"),e.qZA(),e.TgZ(462,"label",24),e._uU(463,"\xa0Application:______________"),e.qZA(),e.TgZ(464,"label",24),e._uU(465,"\xa0Doc. completion:______________"),e.qZA(),e.TgZ(466,"label",24),e._uU(467,"Registration Number:______________"),e.qZA(),e.TgZ(468,"label",24),e._uU(469,"Eligibility: Zakat/Donation"),e.qZA(),e.TgZ(470,"label",24),e._uU(471,"Glucometer:______________"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(472,"div",49),e.TgZ(473,"div",50),e.TgZ(474,"button",51),e.NdJ("click",function(){return o.back()}),e._uU(475,"Cancel"),e.qZA(),e.TgZ(476,"button",52),e.NdJ("click",function(){return o.print()}),e._uU(477,"Print"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(15),e.s9C("src",o.image,e.LSH),e.xp6(73),e.hij("\xa0",o.poino,""),e.xp6(6),e.hij("\xa0",o.Name,""),e.xp6(6),e.hij("\xa0",o.class,""),e.xp6(6),e.hij("\xa0",o.city,""),e.xp6(7),e.hij("\xa0",o.Religion,""),e.xp6(6),e.hij("\xa0",o.gender,""),e.xp6(6),e.hij("\xa0",o.dob,""),e.xp6(6),e.hij("\xa0",o.diagdate,""),e.xp6(14),e.hij("\xa0",o.fname,""),e.xp6(6),e.hij("\xa0",o.foccp,""),e.xp6(7),e.hij("\xa0",o.mname,""),e.xp6(6),e.hij("\xa0",o.moccp,""),e.xp6(12),e.hij("\xa0",o.Hb1Ac,""),e.xp6(6),e.hij("\xa0",o.FamilyHistoryDiabetesType,""),e.xp6(1),e.Q6J("formGroup",o.childForm),e.xp6(7),e.hij("\xa0",o.OtherMedicalInfo,""),e.xp6(9),e.Q6J("ngIf",o.compeye),e.xp6(1),e.Q6J("ngIf",o.Noeye),e.xp6(4),e.Q6J("ngIf",o.compfoot),e.xp6(1),e.Q6J("ngIf",o.Nofoot),e.xp6(4),e.Q6J("ngIf",o.compkidney),e.xp6(1),e.Q6J("ngIf",o.Nokidney),e.xp6(4),e.Q6J("ngIf",o.compcardio),e.xp6(1),e.Q6J("ngIf",o.Nocardio),e.xp6(4),e.Q6J("ngIf",o.compnerve),e.xp6(1),e.Q6J("ngIf",o.Nonerve),e.xp6(4),e.Q6J("ngIf",o.compother),e.xp6(1),e.Q6J("ngIf",o.Noother),e.xp6(24),e.Q6J("ngIf",o.public),e.xp6(1),e.Q6J("ngIf",o.Nopublic),e.xp6(4),e.Q6J("ngIf",o.sponsors),e.xp6(1),e.Q6J("ngIf",o.Nosponsors),e.xp6(4),e.Q6J("ngIf",o.casestudy),e.xp6(1),e.Q6J("ngIf",o.Nocasestudy),e.xp6(47),e.hij("\xa0",o.fcontact,""),e.xp6(5),e.hij("\xa0",o.mcontact,""),e.xp6(6),e.hij("\xa0",o.fcnic,""),e.xp6(5),e.hij("\xa0",o.mcnic,""),e.xp6(7),e.hij("\xa0",o.resaddress,""),e.xp6(5),e.hij("\xa0",o.posaddress,""),e.xp6(5),e.hij("\xa0",o.schoolname,""),e.xp6(12),e.hij("\xa0",o.DocName,""),e.xp6(6),e.hij("\xa0",o.HosName,""),e.xp6(7),e.Q6J("ngIf",o.Yescheck),e.xp6(2),e.Q6J("ngIf",o.Nocheck))},directives:[a._Y,a.JL,a.F,a.sg,g.O5],styles:["","@page \n    {\n        size: auto;   \n\n  margin: 0mm 0mm 0mm 0mm;\n    }"]}),i})();function Ss(i,n){1&i&&(e.TgZ(0,"div",18),e._uU(1," Updated Successfully!. "),e.qZA())}function Fs(i,n){1&i&&(e.TgZ(0,"div",19),e._uU(1," Date of birth should be less than diagnosis date. "),e.qZA())}function Ds(i,n){1&i&&(e.TgZ(0,"span",20),e._uU(1,"Personal Information"),e.qZA(),e.TgZ(2,"div",21),e._UZ(3,"i",22),e.qZA())}function Js(i,n){if(1&i&&(e.TgZ(0,"div",73),e.TgZ(1,"div",74),e._uU(2,"POI: "),e.TgZ(3,"strong"),e._uU(4),e.qZA(),e._uU(5," already exists"),e.qZA(),e.qZA()),2&i){const t=e.oxw(3);e.xp6(4),e.hij(" ",t.childForm.controls.poino.value," ")}}function Es(i,n){if(1&i&&(e.ynx(0),e.YNc(1,Js,6,1,"div",72),e.BQk()),2&i){e.oxw();const t=e.MAs(16),o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.poinoerr.errors?null:o.poinoerr.errors.poiExists)("ngIfElse",t)}}function Rs(i,n){}function Ps(i,n){if(1&i&&(e.TgZ(0,"div",75),e.TgZ(1,"div",74),e._uU(2,"POI: "),e.TgZ(3,"strong"),e._uU(4),e.qZA(),e._uU(5," is available"),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(4),e.hij(" ",t.childForm.controls.poino.value," ")}}function Ys(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"First Name is required"),e.qZA())}function Qs(i,n){if(1&i&&(e.TgZ(0,"div",76),e.YNc(1,Ys,2,0,"div",77),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.fname.errors.required)}}function Os(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"last Name is required"),e.qZA())}function Ms(i,n){if(1&i&&(e.TgZ(0,"div",76),e.YNc(1,Os,2,0,"div",77),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.lname.errors.required)}}function Vs(i,n){if(1&i&&(e.TgZ(0,"option",78),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.CategoryId),e.xp6(1),e.hij("",t.CategoryName," ")}}function Bs(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Gender is required"),e.qZA())}function Hs(i,n){if(1&i&&(e.TgZ(0,"div",76),e.YNc(1,Bs,2,0,"div",77),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.gender.errors.required)}}function $s(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Age is required "),e.qZA())}function Ls(i,n){if(1&i&&(e.TgZ(0,"div",76),e.YNc(1,$s,2,0,"div",77),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.dob.errors.required)}}function Gs(i,n){if(1&i&&(e.TgZ(0,"option",78),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.CategoryId),e.xp6(1),e.hij("",t.CategoryName," ")}}function js(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Religion is required"),e.qZA())}function zs(i,n){if(1&i&&(e.TgZ(0,"div",76),e.YNc(1,js,2,0,"div",77),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.religion.errors.required)}}function Ws(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"School Name is required"),e.qZA())}function Ks(i,n){if(1&i&&(e.TgZ(0,"div",76),e.YNc(1,Ws,2,0,"div",77),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.schoolname.errors.required)}}function Xs(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Class is required"),e.qZA())}function er(i,n){if(1&i&&(e.TgZ(0,"div",76),e.YNc(1,Xs,2,0,"div",77),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.class.errors.required)}}function tr(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," School Address is required "),e.qZA())}function ir(i,n){if(1&i&&(e.TgZ(0,"div",76),e.YNc(1,tr,2,0,"div",77),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.schooladdress.errors.required)}}function or(i,n){if(1&i&&(e.TgZ(0,"option",78),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.Id),e.xp6(1),e.hij("",t.Name," ")}}function nr(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"City is required"),e.qZA())}function sr(i,n){if(1&i&&(e.TgZ(0,"div",76),e.YNc(1,nr,2,0,"div",77),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.city.errors.required)}}function rr(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Residential Address is required "),e.qZA())}function ar(i,n){if(1&i&&(e.TgZ(0,"div",76),e.YNc(1,rr,2,0,"div",77),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.residentialaddress.errors.required)}}function lr(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Postal Address is required "),e.qZA())}function dr(i,n){if(1&i&&(e.TgZ(0,"div",76),e.YNc(1,lr,2,0,"div",77),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.postaladdress.errors.required)}}const q=function(i){return{"is-invalid":i}};function cr(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",23),e._UZ(1,"input",24),e.TgZ(2,"div",25),e.TgZ(3,"div",26),e.TgZ(4,"div",27),e.TgZ(5,"label"),e.TgZ(6,"input",28),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw().lfacsupport=s}),e.qZA(),e._uU(7," LFAC Support "),e.qZA(),e.qZA(),e.TgZ(8,"div",29),e.TgZ(9,"label",30),e._uU(10,"POI NO "),e.TgZ(11,"input",31),e.NdJ("keydown",function(s){return e.CHM(t),e.oxw().eventHandler(s)}),e.qZA(),e.qZA(),e.YNc(12,Es,2,2,"ng-container",32),e.YNc(13,Rs,0,0,"ng-template",null,33,e.W1O),e.YNc(15,Ps,6,1,"ng-template",null,34,e.W1O),e.qZA(),e.qZA(),e.TgZ(17,"div",35),e.TgZ(18,"div",27),e.TgZ(19,"label",36),e._uU(20,"First Name"),e.qZA(),e._UZ(21,"input",37),e.YNc(22,Qs,2,1,"div",38),e.qZA(),e.TgZ(23,"div",39),e.TgZ(24,"label",36),e._uU(25,"Last Name"),e.qZA(),e._UZ(26,"input",40),e.YNc(27,Ms,2,1,"div",38),e.qZA(),e.TgZ(28,"div",39),e.TgZ(29,"label",41),e._uU(30,"Gender"),e.qZA(),e.TgZ(31,"select",42),e.TgZ(32,"option",43),e._uU(33,"Select Gender"),e.qZA(),e.YNc(34,Vs,2,2,"option",44),e.qZA(),e.YNc(35,Hs,2,1,"div",38),e.qZA(),e.TgZ(36,"div",45),e.TgZ(37,"label",46),e._uU(38,"DOB"),e.qZA(),e._UZ(39,"input",47),e.YNc(40,Ls,2,1,"div",38),e.qZA(),e.qZA(),e.TgZ(41,"div",23),e.TgZ(42,"div",27),e.TgZ(43,"label",48),e._uU(44,"Religion"),e.qZA(),e.TgZ(45,"select",49),e.TgZ(46,"option",43),e._uU(47,"Select Religion"),e.qZA(),e.YNc(48,Gs,2,2,"option",44),e.qZA(),e.YNc(49,zs,2,1,"div",38),e.qZA(),e.TgZ(50,"div",39),e.TgZ(51,"label",50),e._uU(52,"School Name"),e.qZA(),e._UZ(53,"input",51),e.YNc(54,Ks,2,1,"div",38),e.qZA(),e.TgZ(55,"div",52),e.TgZ(56,"label",53),e._uU(57,"Class"),e.qZA(),e._UZ(58,"input",54),e.YNc(59,er,2,1,"div",38),e.qZA(),e.TgZ(60,"div",55),e.TgZ(61,"label",56),e._uU(62,"School Address"),e.qZA(),e._UZ(63,"input",57),e.YNc(64,ir,2,1,"div",38),e.qZA(),e.qZA(),e.TgZ(65,"div",58),e.TgZ(66,"div",59),e.TgZ(67,"label",60),e._uU(68,"City"),e.qZA(),e.TgZ(69,"select",61),e.TgZ(70,"option",43),e._uU(71,"Select City"),e.qZA(),e.YNc(72,or,2,2,"option",44),e.qZA(),e.YNc(73,sr,2,1,"div",38),e.qZA(),e.TgZ(74,"div",62),e.TgZ(75,"label",63),e._uU(76,"Residential Address"),e.qZA(),e._UZ(77,"input",64),e.YNc(78,ar,2,1,"div",38),e.qZA(),e.TgZ(79,"div",62),e.TgZ(80,"label",65),e._uU(81,"Postal Address"),e.qZA(),e._UZ(82,"input",66),e.YNc(83,dr,2,1,"div",38),e.qZA(),e.qZA(),e.qZA(),e.TgZ(84,"div",39),e.TgZ(85,"div",67),e.TgZ(86,"div",68),e.TgZ(87,"div",69),e._UZ(88,"img",70),e._uU(89,"\xa0\xa0\xa0\xa0 "),e.TgZ(90,"button",71),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(),r=e.MAs(31);return s.open(r)}),e._uU(91,"Upload Picture"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(92,"div",35),e._UZ(93,"div",69),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.MAs(14),o=e.oxw();e.xp6(6),e.Q6J("value",1)("ngModel",o.lfacsupport),e.xp6(6),e.Q6J("ngIf",o.childForm.controls.poino.dirty)("ngIfElse",t),e.xp6(9),e.Q6J("ngClass",e.VKq(31,q,o.submitted&&o.f.fname.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.fname.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(33,q,o.submitted&&o.f.lname.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.lname.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(35,q,o.submitted&&o.f.gender.errors)),e.xp6(3),e.Q6J("ngForOf",o.gender),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.gender.errors),e.xp6(4),e.Q6J("max",o.maxDate)("ngClass",e.VKq(37,q,o.submitted&&o.f.dob.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.dob.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(39,q,o.submitted&&o.f.religion.errors)),e.xp6(3),e.Q6J("ngForOf",o.religion),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.religion.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(41,q,o.submitted&&o.f.schoolname.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.schoolname.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(43,q,o.submitted&&o.f.class.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.class.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(45,q,o.submitted&&o.f.schooladdress.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.schooladdress.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(47,q,o.submitted&&o.f.city.errors)),e.xp6(3),e.Q6J("ngForOf",o.allcities),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.city.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(49,q,o.submitted&&o.f.residentialaddress.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.residentialaddress.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(51,q,o.submitted&&o.f.postaladdress.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.postaladdress.errors),e.xp6(5),e.s9C("src",o.img,e.LSH)}}function ur(i,n){1&i&&(e.TgZ(0,"span",20),e._uU(1,"Parent Information"),e.qZA(),e.TgZ(2,"div",21),e._UZ(3,"i",22),e.qZA())}function gr(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"First Name is required"),e.qZA())}function mr(i,n){if(1&i&&(e.TgZ(0,"div",76),e.YNc(1,gr,2,0,"div",77),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.pfname.errors.required)}}function pr(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Occupation is required"),e.qZA())}function _r(i,n){if(1&i&&(e.TgZ(0,"div",76),e.YNc(1,pr,2,0,"div",77),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.poccupation.errors.required)}}function hr(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Cnic is required with dashes"),e.qZA())}function fr(i,n){1&i&&(e.TgZ(0,"div",100),e._uU(1,"Please Enter valid NIC number"),e.qZA())}function Zr(i,n){if(1&i&&(e.TgZ(0,"div",76),e.YNc(1,hr,2,0,"div",77),e.YNc(2,fr,2,0,"div",99),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.pcnic.errors.required),e.xp6(1),e.Q6J("ngIf",t.childForm.controls.pcnic.hasError("pattern"))}}function br(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Contact is required "),e.qZA())}function vr(i,n){1&i&&(e.TgZ(0,"div",100),e._uU(1," Enter Contact Number "),e.qZA())}function Tr(i,n){if(1&i&&(e.TgZ(0,"div",76),e.YNc(1,br,2,0,"div",77),e.YNc(2,vr,2,0,"div",99),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.pcontact.errors.required),e.xp6(1),e.Q6J("ngIf",t.childForm.controls.pcontact.hasError("pattern"))}}function Ar(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"First Name is required"),e.qZA())}function Cr(i,n){if(1&i&&(e.TgZ(0,"div",76),e.YNc(1,Ar,2,0,"div",77),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.mfname.errors.required)}}function qr(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Occupation is required"),e.qZA())}function xr(i,n){if(1&i&&(e.TgZ(0,"div",76),e.YNc(1,qr,2,0,"div",77),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.moccupation.errors.required)}}function Ir(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Cnic is required with dashes"),e.qZA())}function yr(i,n){1&i&&(e.TgZ(0,"div",100),e._uU(1,"Please Enter valid NIC number"),e.qZA())}function kr(i,n){if(1&i&&(e.TgZ(0,"div",76),e.YNc(1,Ir,2,0,"div",77),e.YNc(2,yr,2,0,"div",99),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.mcnic.errors.required),e.xp6(1),e.Q6J("ngIf",t.childForm.controls.mcnic.hasError("pattern"))}}function Ur(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Contact is required "),e.qZA())}function Nr(i,n){1&i&&(e.TgZ(0,"div",100),e._uU(1," Enter Contact Number "),e.qZA())}function wr(i,n){if(1&i&&(e.TgZ(0,"div",76),e.YNc(1,Ur,2,0,"div",77),e.YNc(2,Nr,2,0,"div",99),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.mcontact.errors.required),e.xp6(1),e.Q6J("ngIf",t.childForm.controls.mcontact.hasError("pattern"))}}function Sr(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Guardian Name is required"),e.qZA())}function Fr(i,n){if(1&i&&(e.TgZ(0,"div",76),e.YNc(1,Sr,2,0,"div",77),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.gfname.errors.required)}}function Dr(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Occupation is required"),e.qZA())}function Jr(i,n){if(1&i&&(e.TgZ(0,"div",76),e.YNc(1,Dr,2,0,"div",77),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.goccupation.errors.required)}}function Er(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Cnic is required with dashes"),e.qZA())}function Rr(i,n){1&i&&(e.TgZ(0,"div",100),e._uU(1,"Please Enter valid NIC number"),e.qZA())}function Pr(i,n){if(1&i&&(e.TgZ(0,"div",76),e.YNc(1,Er,2,0,"div",77),e.YNc(2,Rr,2,0,"div",99),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.gcnic.errors.required),e.xp6(1),e.Q6J("ngIf",t.childForm.controls.gcnic.hasError("pattern"))}}function Yr(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Contact is required "),e.qZA())}function Qr(i,n){1&i&&(e.TgZ(0,"div",100),e._uU(1," Enter Contact Number "),e.qZA())}function Or(i,n){if(1&i&&(e.TgZ(0,"div",76),e.YNc(1,Yr,2,0,"div",77),e.YNc(2,Qr,2,0,"div",99),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.gcontact.errors.required),e.xp6(1),e.Q6J("ngIf",t.childForm.controls.gcontact.hasError("pattern"))}}function Mr(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",79),e.TgZ(1,"div",25),e.TgZ(2,"div",35),e.TgZ(3,"div",27),e.TgZ(4,"label",80),e._uU(5,"Father Name"),e.qZA(),e._UZ(6,"input",81),e.YNc(7,mr,2,1,"div",38),e.qZA(),e.TgZ(8,"div",39),e.TgZ(9,"label",82),e._uU(10,"Occupation"),e.qZA(),e._UZ(11,"input",83),e.YNc(12,_r,2,1,"div",38),e.qZA(),e.TgZ(13,"div",39),e.TgZ(14,"label"),e._uU(15,"CNIC: "),e.qZA(),e.TgZ(16,"input",84),e.NdJ("preValueChange",function(s){return e.CHM(t),e.oxw().childForm.value.pcnic=s}),e.qZA(),e.YNc(17,Zr,3,2,"div",38),e.qZA(),e.TgZ(18,"div",45),e.TgZ(19,"label",85),e._uU(20,"Contact"),e.qZA(),e._UZ(21,"input",86),e.YNc(22,Tr,3,2,"div",38),e.qZA(),e.qZA(),e.TgZ(23,"div",35),e.TgZ(24,"div",27),e.TgZ(25,"label",87),e._uU(26,"Mother Name"),e.qZA(),e._UZ(27,"input",88),e.YNc(28,Cr,2,1,"div",38),e.qZA(),e.TgZ(29,"div",39),e.TgZ(30,"label",89),e._uU(31,"Occupation"),e.qZA(),e._UZ(32,"input",90),e.YNc(33,xr,2,1,"div",38),e.qZA(),e.TgZ(34,"div",39),e.TgZ(35,"label"),e._uU(36,"CNIC: "),e.qZA(),e._UZ(37,"input",91),e.YNc(38,kr,3,2,"div",38),e.qZA(),e.TgZ(39,"div",45),e.TgZ(40,"label",85),e._uU(41,"Contact"),e.qZA(),e._UZ(42,"input",92),e.YNc(43,wr,3,2,"div",38),e.qZA(),e.qZA(),e.TgZ(44,"div",35),e.TgZ(45,"div",27),e.TgZ(46,"label",93),e._uU(47,"Guardian Name"),e.qZA(),e._UZ(48,"input",94),e.YNc(49,Fr,2,1,"div",38),e.qZA(),e.TgZ(50,"div",39),e.TgZ(51,"label",95),e._uU(52,"Occupation"),e.qZA(),e._UZ(53,"input",96),e.YNc(54,Jr,2,1,"div",38),e.qZA(),e.TgZ(55,"div",39),e.TgZ(56,"label"),e._uU(57,"CNIC: "),e.qZA(),e._UZ(58,"input",97),e.YNc(59,Pr,3,2,"div",38),e.qZA(),e.TgZ(60,"div",45),e.TgZ(61,"label",85),e._uU(62,"Contact"),e.qZA(),e._UZ(63,"input",98),e.YNc(64,Or,3,2,"div",38),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(6),e.Q6J("ngClass",e.VKq(36,q,t.submitted&&t.f.pfname.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.pfname.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(38,q,t.submitted&&t.f.poccupation.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.poccupation.errors),e.xp6(4),e.Q6J("cnicControl",t.childForm.controls.pcnic)("preValue",t.childForm.value.pcnic)("ngClass",e.VKq(40,q,t.submitted&&t.f.pcnic.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.pcnic.errors),e.xp6(4),e.Q6J("preValue",t.childForm.value.pcontact)("phoneControl",t.childForm.controls.pcontact)("ngClass",e.VKq(42,q,t.submitted&&t.f.pcontact.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.pcontact.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(44,q,t.submitted&&t.f.mfname.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.mfname.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(46,q,t.submitted&&t.f.moccupation.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.moccupation.errors),e.xp6(4),e.Q6J("cnicControl",t.childForm.controls.mcnic)("preValue",t.childForm.value.mcnic)("ngClass",e.VKq(48,q,t.submitted&&t.f.mcnic.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.mcnic.errors),e.xp6(4),e.Q6J("preValue",t.childForm.value.mcontact)("phoneControl",t.childForm.controls.mcontact)("ngClass",e.VKq(50,q,t.submitted&&t.f.mcontact.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.mcontact.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(52,q,t.submitted&&t.f.gfname.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.gfname.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(54,q,t.submitted&&t.f.goccupation.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.goccupation.errors),e.xp6(4),e.Q6J("cnicControl",t.childForm.controls.gcnic)("preValue",t.childForm.value.gcnic)("ngClass",e.VKq(56,q,t.submitted&&t.f.gcnic.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.gcnic.errors),e.xp6(4),e.Q6J("preValue",t.childForm.value.gcontact)("phoneControl",t.childForm.controls.gcontact)("ngClass",e.VKq(58,q,t.submitted&&t.f.gcontact.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.gcontact.errors)}}function Vr(i,n){1&i&&(e.TgZ(0,"span",20),e._uU(1,"Medical Information"),e.qZA(),e.TgZ(2,"div",21),e._UZ(3,"i",22),e.qZA())}function Br(i,n){if(1&i&&(e.TgZ(0,"option",78),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.HospitalId),e.xp6(1),e.hij("",t.HospitalName," ")}}function Hr(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Hospital is required"),e.qZA())}function $r(i,n){if(1&i&&(e.TgZ(0,"div",76),e.YNc(1,Hr,2,0,"div",77),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.HospitalName.errors.required)}}function Lr(i,n){if(1&i&&(e.TgZ(0,"option",78),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.DoctorId),e.xp6(1),e.AsE("",t.FirstName," ",t.LastName," ")}}function Gr(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Doctor is required"),e.qZA())}function jr(i,n){if(1&i&&(e.TgZ(0,"div",76),e.YNc(1,Gr,2,0,"div",77),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.doctorname.errors.required)}}function zr(i,n){if(1&i&&(e.TgZ(0,"option",78),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.CategoryId),e.xp6(1),e.hij("",t.CategoryName," ")}}function Wr(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Diabetes Type is required"),e.qZA())}function Kr(i,n){if(1&i&&(e.TgZ(0,"div",76),e.YNc(1,Wr,2,0,"div",77),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.diabetestype.errors.required)}}function Xr(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Diagnosis Date is required"),e.qZA())}function ea(i,n){if(1&i&&(e.TgZ(0,"div",76),e.YNc(1,Xr,2,0,"div",77),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.mdiadate.errors.required)}}function ta(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Family Diabetes is required"),e.qZA())}function ia(i,n){if(1&i&&(e.TgZ(0,"div",76),e.YNc(1,ta,2,0,"div",77),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.mfamilydiabeteshitorytype.errors.required)}}function oa(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Glucometer Company is required"),e.qZA())}function na(i,n){if(1&i&&(e.TgZ(0,"div",76),e.YNc(1,oa,2,0,"div",77),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.mglucompany.errors.required)}}function sa(i,n){1&i&&e._UZ(0,"div",76)}function ra(i,n){1&i&&(e.TgZ(0,"p"),e._uU(1,"Complication is required"),e.qZA())}function aa(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Medical Info is required"),e.qZA())}function la(i,n){if(1&i&&(e.TgZ(0,"div",76),e.YNc(1,aa,2,0,"div",77),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.medinfo.errors.required)}}function da(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",79),e.TgZ(1,"div",25),e.TgZ(2,"div",35),e.TgZ(3,"div",101),e.TgZ(4,"div",35),e.TgZ(5,"div",101),e.TgZ(6,"div",102),e.TgZ(7,"div",39),e.TgZ(8,"label",103),e._uU(9,"Hospital Name"),e.qZA(),e.TgZ(10,"select",104),e.TgZ(11,"option",43),e._uU(12,"Select Hospital"),e.qZA(),e.YNc(13,Br,2,2,"option",44),e.qZA(),e.YNc(14,$r,2,1,"div",38),e.qZA(),e.TgZ(15,"div",39),e.TgZ(16,"label",105),e._uU(17,"Doctor Name"),e.qZA(),e.TgZ(18,"select",106),e.TgZ(19,"option",43),e._uU(20,"Select Doctor"),e.qZA(),e.YNc(21,Lr,2,3,"option",44),e.qZA(),e.YNc(22,jr,2,1,"div",38),e.qZA(),e.TgZ(23,"div",39),e.TgZ(24,"label",105),e._uU(25,"Diabetes Type"),e.qZA(),e.TgZ(26,"select",107),e.TgZ(27,"option",43),e._uU(28,"Select Diabetes Type"),e.qZA(),e.YNc(29,zr,2,2,"option",44),e.qZA(),e.YNc(30,Kr,2,1,"div",38),e.qZA(),e.TgZ(31,"div",45),e.TgZ(32,"label"),e._uU(33,"Diagnosis Date"),e.qZA(),e._UZ(34,"input",108),e.YNc(35,ea,2,1,"div",38),e.qZA(),e.qZA(),e.TgZ(36,"div",109),e.TgZ(37,"div",39),e.TgZ(38,"label"),e._uU(39,"Family Diabetes"),e.qZA(),e._UZ(40,"input",110),e.YNc(41,ia,2,1,"div",38),e.qZA(),e.TgZ(42,"div",39),e.TgZ(43,"label"),e._uU(44,"Glucometer Company"),e.qZA(),e._UZ(45,"input",111),e.YNc(46,na,2,1,"div",38),e.qZA(),e.TgZ(47,"div",39),e.TgZ(48,"label"),e._uU(49,"Complication"),e.qZA(),e.TgZ(50,"ng-select",112),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw().selectedPersonId=s})("change",function(s){return e.CHM(t),e.oxw().changeComplication(s)}),e.qZA(),e.YNc(51,sa,1,0,"div",38),e.YNc(52,ra,2,0,"p",77),e.qZA(),e.TgZ(53,"div",45),e.TgZ(54,"label"),e._uU(55,"Other Medical Info"),e.qZA(),e._UZ(56,"input",113),e.YNc(57,la,2,1,"div",38),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(10),e.Q6J("ngClass",e.VKq(23,q,t.submitted&&t.f.HospitalName.errors)),e.xp6(3),e.Q6J("ngForOf",t.allhospitals),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.HospitalName.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(25,q,t.submitted&&t.f.doctorname.errors)),e.xp6(3),e.Q6J("ngForOf",t.doctor),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.doctorname.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(27,q,t.submitted&&t.f.diabetestype.errors)),e.xp6(3),e.Q6J("ngForOf",t.diabtype),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.diabetestype.errors),e.xp6(4),e.Q6J("max",t.maxDate)("ngClass",e.VKq(29,q,t.submitted&&t.f.mdiadate.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.mdiadate.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(31,q,t.submitted&&t.f.mfamilydiabeteshitorytype.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.mfamilydiabeteshitorytype.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(33,q,t.submitted&&t.f.mglucompany.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.mglucompany.errors),e.xp6(4),e.Q6J("items",t.complication)("multiple",!0)("ngModel",t.selectedPersonId),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.selectComp.errors),e.xp6(1),e.Q6J("ngIf",t.selectcomvalidator),e.xp6(4),e.Q6J("ngClass",e.VKq(35,q,t.submitted&&t.f.medinfo.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.medinfo.errors)}}function ca(i,n){1&i&&(e.TgZ(0,"span",20),e._uU(1,"Test History"),e.qZA(),e.TgZ(2,"div",21),e._UZ(3,"i",22),e.qZA())}function ua(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"HbA1c is required"),e.qZA())}function ga(i,n){if(1&i&&(e.TgZ(0,"div",76),e.YNc(1,ua,2,0,"div",77),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.HbA1c.errors.required)}}function ma(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Test Date is required"),e.qZA())}function pa(i,n){if(1&i&&(e.TgZ(0,"div",76),e.YNc(1,ma,2,0,"div",77),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.HbA1ctestdate.errors.required)}}function _a(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Micro Albuminuria is required"),e.qZA())}function ha(i,n){if(1&i&&(e.TgZ(0,"div",76),e.YNc(1,_a,2,0,"div",77),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.MicroAlbuminuria.errors.required)}}function fa(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Test Date is required"),e.qZA())}function Za(i,n){if(1&i&&(e.TgZ(0,"div",76),e.YNc(1,fa,2,0,"div",77),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.MicroAlbuminuriatestdate.errors.required)}}function ba(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Urine ACR is required"),e.qZA())}function va(i,n){if(1&i&&(e.TgZ(0,"div",76),e.YNc(1,ba,2,0,"div",77),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.urineacr.errors.required)}}function Ta(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Test Date is required"),e.qZA())}function Aa(i,n){if(1&i&&(e.TgZ(0,"div",76),e.YNc(1,Ta,2,0,"div",77),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.urineacrtestdate.errors.required)}}function Ca(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Eyes Test is required"),e.qZA())}function qa(i,n){if(1&i&&(e.TgZ(0,"div",76),e.YNc(1,Ca,2,0,"div",77),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.eyestest.errors.required)}}function xa(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Test Date is required"),e.qZA())}function Ia(i,n){if(1&i&&(e.TgZ(0,"div",76),e.YNc(1,xa,2,0,"div",77),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.eyestestdate.errors.required)}}function ya(i,n){if(1&i&&(e.TgZ(0,"div",79),e.TgZ(1,"div",25),e.TgZ(2,"div",114),e.TgZ(3,"div",39),e.TgZ(4,"label"),e._uU(5,"HbA1c"),e.qZA(),e._UZ(6,"input",115),e.YNc(7,ga,2,1,"div",38),e.qZA(),e.TgZ(8,"div",39),e.TgZ(9,"label"),e._uU(10,"Test Date"),e.qZA(),e._UZ(11,"input",116),e.YNc(12,pa,2,1,"div",38),e.qZA(),e.TgZ(13,"div",39),e.TgZ(14,"label"),e._uU(15,"Micro Albuminuria"),e.qZA(),e._UZ(16,"input",117),e.YNc(17,ha,2,1,"div",38),e.qZA(),e.TgZ(18,"div",45),e.TgZ(19,"label"),e._uU(20,"Test Date"),e.qZA(),e._UZ(21,"input",118),e.YNc(22,Za,2,1,"div",38),e.qZA(),e.qZA(),e.TgZ(23,"div",109),e.TgZ(24,"div",39),e.TgZ(25,"label"),e._uU(26,"Urine ACR"),e.qZA(),e._UZ(27,"input",119),e.YNc(28,va,2,1,"div",38),e.qZA(),e.TgZ(29,"div",39),e.TgZ(30,"label"),e._uU(31,"Test Date"),e.qZA(),e._UZ(32,"input",120),e.YNc(33,Aa,2,1,"div",38),e.qZA(),e.TgZ(34,"div",39),e.TgZ(35,"label"),e._uU(36,"Eyes Test"),e.qZA(),e._UZ(37,"input",121),e.YNc(38,qa,2,1,"div",38),e.qZA(),e.TgZ(39,"div",45),e.TgZ(40,"label"),e._uU(41,"Test Date"),e.qZA(),e._UZ(42,"input",122),e.YNc(43,Ia,2,1,"div",38),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(6),e.Q6J("ngClass",e.VKq(20,q,t.submitted&&t.f.HbA1c.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.HbA1c.errors),e.xp6(4),e.Q6J("max",t.maxDate)("ngClass",e.VKq(22,q,t.submitted&&t.f.HbA1ctestdate.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.HbA1ctestdate.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(24,q,t.submitted&&t.f.MicroAlbuminuria.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.MicroAlbuminuria.errors),e.xp6(4),e.Q6J("max",t.maxDate)("ngClass",e.VKq(26,q,t.submitted&&t.f.MicroAlbuminuriatestdate.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.MicroAlbuminuriatestdate.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(28,q,t.submitted&&t.f.urineacr.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.urineacr.errors),e.xp6(4),e.Q6J("max",t.maxDate)("ngClass",e.VKq(30,q,t.submitted&&t.f.urineacrtestdate.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.urineacrtestdate.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(32,q,t.submitted&&t.f.eyestest.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.eyestest.errors),e.xp6(4),e.Q6J("max",t.maxDate)("ngClass",e.VKq(34,q,t.submitted&&t.f.eyestestdate.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.eyestestdate.errors)}}function ka(i,n){1&i&&(e.TgZ(0,"span",20),e._uU(1,"Consent by Parent/Legal Guardian"),e.qZA(),e.TgZ(2,"div",21),e._UZ(3,"i",22),e.qZA())}function Ua(i,n){1&i&&(e.TgZ(0,"label",139),e._uU(1,"Please Upload File"),e.qZA())}function Na(i,n){if(1&i&&(e.TgZ(0,"label",85),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Oqu(t.filename)}}function wa(i,n){if(1&i&&(e.TgZ(0,"label",85),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Oqu(t.filename2)}}function Sa(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"a",135),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return s.downloadFile(s.db3filename)}),e._uU(1),e.ALo(2,"slice"),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(1),e.Oqu(e.Dn7(2,1,t.dbs3filename,0,30))}}function Fa(i,n){if(1&i&&(e.TgZ(0,"label",85),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Oqu(t.filename6)}}function Da(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"a",135),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return s.downloadFile(s.db7filename)}),e._uU(1),e.ALo(2,"slice"),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(1),e.Oqu(e.Dn7(2,1,t.dbs7filename,0,30))}}function Ja(i,n){if(1&i&&(e.TgZ(0,"label",140),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Oqu(t.filename1)}}function Ea(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"a",141),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return s.downloadFile(s.db2filename)}),e._uU(1),e.ALo(2,"slice"),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(1),e.Oqu(e.Dn7(2,1,t.dbs2filename,0,30))}}function Ra(i,n){1&i&&(e.TgZ(0,"label",139),e._uU(1,"Please Upload File"),e.qZA())}function Pa(i,n){if(1&i&&(e.TgZ(0,"label",85),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Oqu(t.filename3)}}function Ya(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"a",135),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return s.downloadFile(s.db4filename)}),e._uU(1),e.ALo(2,"slice"),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(1),e.Oqu(e.Dn7(2,1,t.dbs4filename,0,30))}}function Qa(i,n){if(1&i&&(e.TgZ(0,"label",85),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Oqu(t.filename5)}}function Oa(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"a",135),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return s.downloadFile(s.db6filename)}),e._uU(1),e.ALo(2,"slice"),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(1),e.Oqu(e.Dn7(2,1,t.dbs6filename,0,30))}}function Ma(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",79),e.TgZ(1,"div",101),e.TgZ(2,"div",35),e.TgZ(3,"h6",123),e._uU(4,"I wish to register my child for support from MeethiZindagi. I give my consent to MeethiZindagi, its affiliates and agents, to use my child\u2019s image and details, in accordance with its data privacy policy. This consent includes:"),e.qZA(),e.TgZ(5,"div",124),e.TgZ(6,"div",23),e.TgZ(7,"div",101),e.TgZ(8,"label"),e.TgZ(9,"input",125),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw().firstconcheck=s})("change",function(s){return e.CHM(t),e.oxw().onCheckboxChange1(s)}),e.qZA(),e._uU(10," Use On Public Media "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"div",23),e.TgZ(12,"div",101),e.TgZ(13,"label"),e.TgZ(14,"input",126),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw().secondconcheck=s})("change",function(s){return e.CHM(t),e.oxw().onCheckboxChange1(s)}),e.qZA(),e._uU(15," Anonymous case studies. research and statistics "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(16,"div",23),e.TgZ(17,"div",101),e.TgZ(18,"label"),e.TgZ(19,"input",127),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw().thirdconcheck=s})("change",function(s){return e.CHM(t),e.oxw().onCheckboxChange1(s)}),e.qZA(),e._uU(20," I allow use of real name / nick name "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(21,"div",128),e.TgZ(22,"div",23),e.TgZ(23,"div",129),e.TgZ(24,"div",79),e.TgZ(25,"div",39),e.TgZ(26,"label",85),e._uU(27,"Latest Prescription"),e.qZA(),e.qZA(),e.TgZ(28,"div",39),e.TgZ(29,"a",130),e._uU(30,"Upload File "),e.TgZ(31,"input",131,132),e.NdJ("change",function(s){return e.CHM(t),e.oxw().onFileSelectdoc(s)}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(33,"div",39),e.YNc(34,Ua,2,0,"label",133),e.YNc(35,Na,2,1,"label",134),e.TgZ(36,"a",135),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return s.downloadFile(s.db1filename)}),e._uU(37),e.qZA(),e.qZA(),e.qZA(),e.TgZ(38,"div",79),e.TgZ(39,"div",39),e.TgZ(40,"label",85),e._uU(41,"School Registration"),e.qZA(),e.qZA(),e.TgZ(42,"div",39),e.TgZ(43,"a",130),e._uU(44,"Upload File "),e.TgZ(45,"input",131,132),e.NdJ("change",function(s){return e.CHM(t),e.oxw().onFileSelectdoc2(s)}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(47,"div",39),e.YNc(48,wa,2,1,"label",134),e.YNc(49,Sa,3,5,"a",136),e.qZA(),e.qZA(),e.TgZ(50,"div",79),e.TgZ(51,"div",39),e.TgZ(52,"label",85),e._uU(53,"B-form/Birth Certificate"),e.qZA(),e.qZA(),e.TgZ(54,"div",39),e.TgZ(55,"a",130),e._uU(56,"Upload File "),e.TgZ(57,"input",131,132),e.NdJ("change",function(s){return e.CHM(t),e.oxw().onFileSelectdoc6(s)}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(59,"div",39),e.YNc(60,Fa,2,1,"label",134),e.YNc(61,Da,3,5,"a",136),e.qZA(),e.qZA(),e.qZA(),e.TgZ(62,"div",129),e.TgZ(63,"div",79),e.TgZ(64,"div",39),e.TgZ(65,"label",85),e._uU(66,"Electricity/Gas bill"),e.qZA(),e.qZA(),e.TgZ(67,"div",39),e.TgZ(68,"a",130),e._uU(69,"Upload File "),e.TgZ(70,"input",131,132),e.NdJ("change",function(s){return e.CHM(t),e.oxw().onFileSelectdoc1(s)}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(72,"div",39),e.YNc(73,Ja,2,1,"label",137),e.YNc(74,Ea,3,5,"a",138),e.qZA(),e.qZA(),e.TgZ(75,"div",79),e.TgZ(76,"div",39),e.TgZ(77,"label",85),e._uU(78,"Cnic of Father/Mother/Gurdian"),e.qZA(),e.qZA(),e.TgZ(79,"div",39),e.TgZ(80,"a",130),e._uU(81,"Upload File "),e.TgZ(82,"input",131,132),e.NdJ("change",function(s){return e.CHM(t),e.oxw().onFileSelectdoc3(s)}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(84,"div",39),e.YNc(85,Ra,2,0,"label",133),e.YNc(86,Pa,2,1,"label",134),e.YNc(87,Ya,3,5,"a",136),e.qZA(),e.qZA(),e.TgZ(88,"div",79),e.TgZ(89,"div",39),e.TgZ(90,"label",85),e._uU(91,"Any Other Supporting Document"),e.qZA(),e.qZA(),e.TgZ(92,"div",39),e.TgZ(93,"a",130),e._uU(94,"Upload File "),e.TgZ(95,"input",131,132),e.NdJ("change",function(s){return e.CHM(t),e.oxw().onFileSelectdoc5(s)}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(97,"div",39),e.YNc(98,Qa,2,1,"label",134),e.YNc(99,Oa,3,5,"a",136),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(9),e.Q6J("value",1)("ngModel",t.firstconcheck),e.xp6(5),e.Q6J("value",2)("ngModel",t.secondconcheck),e.xp6(5),e.Q6J("value",3)("ngModel",t.thirdconcheck),e.xp6(15),e.Q6J("ngIf",t.latestpres),e.xp6(1),e.Q6J("ngIf",t.file1data),e.xp6(2),e.Oqu(t.dbs1filename),e.xp6(11),e.Q6J("ngIf",t.file3data),e.xp6(1),e.Q6J("ngIf",t.db3data),e.xp6(11),e.Q6J("ngIf",t.file7data),e.xp6(1),e.Q6J("ngIf",t.db7data),e.xp6(12),e.Q6J("ngIf",t.file2data),e.xp6(1),e.Q6J("ngIf",t.db2data),e.xp6(11),e.Q6J("ngIf",t.cniccheck),e.xp6(1),e.Q6J("ngIf",t.file4data),e.xp6(1),e.Q6J("ngIf",t.db4data),e.xp6(11),e.Q6J("ngIf",t.file6data),e.xp6(1),e.Q6J("ngIf",t.db6data)}}function Va(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",142),e.TgZ(1,"h4",143),e._uU(2,"Profile update"),e.qZA(),e.TgZ(3,"button",144),e.NdJ("click",function(){return e.CHM(t).$implicit.dismiss("Cross click")}),e.TgZ(4,"span",145),e._uU(5,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"div",146),e.TgZ(7,"form"),e.TgZ(8,"div",147),e.TgZ(9,"label"),e._uU(10,"Upload Image"),e.qZA(),e.TgZ(11,"div",148),e.TgZ(12,"a",149),e._uU(13,"Choose File "),e.TgZ(14,"input",150,132),e.NdJ("change",function(s){return e.CHM(t),e.oxw().onFileSelect(s)}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(16,"image-cropper",151),e.NdJ("imageCropped",function(s){return e.CHM(t),e.oxw().imageCropped(s)})("imageLoaded",function(){return e.CHM(t),e.oxw().imageLoaded()})("cropperReady",function(){return e.CHM(t),e.oxw().cropperReady()})("loadImageFailed",function(){return e.CHM(t),e.oxw().loadImageFailed()}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"div",152),e.TgZ(18,"button",153),e.NdJ("click",function(){return e.CHM(t).$implicit.close("Save click")}),e._uU(19,"Save"),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(16),e.Q6J("imageChangedEvent",t.imageChangedEvent)("maintainAspectRatio",!0)("aspectRatio",1)("resizeToWidth",256)}}let Ba=(()=>{class i{constructor(t,o,s,r,l,d,m,_,Z,A,I){this.route=t,this.modalService=o,this.myFormBuilder=s,this.childSer=r,this.insSer=l,this.myRouter=d,this.cdref=m,this.entitySer=_,this.location=Z,this.userService=A,this.hospitalSer=I,this.addJson={},this.imagename="",this.filename="",this.activeIds=["toggle-11"],this.closeOthers=!0,this.dbs1filename="",this.dbs2filename="",this.dbs3filename="",this.dbs4filename="",this.dbs5filename="",this.dbs6filename="",this.dbs7filename="",this.dbs8filename="",this.db1filename="",this.db2filename="",this.db3filename="",this.db4filename="",this.db5filename="",this.db6filename="",this.db7filename="",this.filename1="",this.filename2="",this.filename3="",this.filename4="",this.filename5="",this.filename6="",this.prespath="",this.billpath="",this.schoolpath="",this.cnicpath="",this.mcnicpath="",this.gcnicpath="",this.bfrompath="",this.db1data=!1,this.db2data=!1,this.db3data=!1,this.db4data=!1,this.db5data=!1,this.db6data=!1,this.db7data=!1,this.file1data=!1,this.file2data=!1,this.file3data=!1,this.file4data=!1,this.file5data=!1,this.file6data=!1,this.file7data=!1,this.maxDate=(0,g.p6)(new Date,"yyyy-MM-dd","en"),this.imgpath="",this.firstconsent=!1,this.secondconsent=!1,this.thirdconsent=!1,this.comp=[],this.step=2,this.submitted=!1,this.dumyyarray=[],this.checked=!1,this.firstconcheck=!1,this.secondconcheck=!1,this.thirdconcheck=!1,this.lfacsupport=!1,this.isVisibleSuccess=!1,this.isVisibleFailure=!1,this.IsSHowPage=!1,this.click=!1,this.selectcomvalidator=!1,this.progressInfos=[],this.message="",this.previouspoi="",this.websiteList=[{id:1,name:"this consent is given for use on social media"},{id:2,name:"this consent is given for restricted sharing with sponser/authorities only"},{id:3,name:"this consent is given for using data for case studies,research and statistics"}],this.complication=[{id:"1",name:"Eye"},{id:"2",name:"Foot"},{id:"3",name:"Kidneys"},{id:"4",name:"Cardiovascular"},{id:"5",name:"Nerves"},{id:"6",name:"Other"},{id:"7",name:"No"}],this.gender=[],this.selectedcomplication=3,this.selectedPersonId=[],this.diabtype=[],this.allhospitals=[],this.religion=[],this.allcities=[]}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():(this.formControls(),this.weburl=window.location.protocol+"//"+window.location.host,this.getdatabyid(this.route.snapshot.paramMap.get("id")),this.getCategorybyEntityType(1),this.getCategorybyEntityType(1225),this.getCategorybyEntityType(1226),this.getCategorybyEntityType(1227),this.getalldoctor(),this.getallcities(),this.getallhospitals(),this.cdref.detectChanges())}get poinoerr(){return this.childForm.controls.poino}getalldoctor(){this.insSer.getAllActiveData().subscribe(t=>{t.length>0&&(this.doctor=t)})}getallcities(){this.childSer.getallcities().subscribe(t=>{t.length>0&&(this.allcities=t)})}getallhospitals(){this.hospitalSer.getAllHospitals().subscribe(t=>{t.length>0&&(this.allhospitals=t)})}getCategorybyEntityType(t){this.entitySer.getCategorybyEntityType(t).subscribe(o=>{if(o.length>0)for(var s in o)1==o[s].EntityTypeId?this.gender.push(o[s]):1225==o[s].EntityTypeId?this.religion.push(o[s]):1227==o[s].EntityTypeId&&this.diabtype.push(o[s])})}getdatabyid(t){this.childSer.getdatabyid(this.route.snapshot.paramMap.get("id")).subscribe(s=>{s.length>0&&(this.ChildName=s[0].PatientFirstName+" "+s[0].PatientLastName,this.previouspoi=s[0].poino,this.childForm.controls.poino.setValue(s[0].poino),this.childForm.controls.regnumber.setValue(s[0].RegNumber),this.childForm.controls.fname.setValue(s[0].PatientFirstName),this.childForm.controls.lname.setValue(s[0].PatientLastName),this.childForm.controls.gender.setValue(s[0].Gender),this.childForm.controls.dob.setValue(s[0].DateofBirth),this.childForm.controls.religion.setValue(s[0].ReligionEthnicity),this.childForm.controls.schoolname.setValue(s[0].SchoolName),this.childForm.controls.class.setValue(s[0].Class),this.childForm.controls.schooladdress.setValue(s[0].SchoolAddress),this.childForm.controls.city.setValue(s[0].City),this.childForm.controls.residentialaddress.setValue(s[0].ResidentialAddress),this.childForm.controls.postaladdress.setValue(s[0].PostalAddress),this.childForm.controls.pfname.setValue(s[0].FatherName),this.childForm.controls.poccupation.setValue(s[0].FatherOccupation),this.childForm.controls.pcnic.setValue(s[0].FatherCNIC),this.childForm.controls.pcontact.setValue(s[0].FatherContact),this.childForm.controls.mfname.setValue(s[0].MotherName),this.childForm.controls.moccupation.setValue(s[0].MotherOccupation),this.childForm.controls.mcnic.setValue(s[0].MotherCNIC),this.childForm.controls.mcontact.setValue(s[0].MotherContact),this.childForm.controls.gfname.setValue(s[0].GuardianName),this.childForm.controls.goccupation.setValue(s[0].GuardianOccupation),this.childForm.controls.gcnic.setValue(s[0].GuardianCNIC),this.childForm.controls.gcontact.setValue(s[0].GuardianContact),this.childForm.controls.HospitalName.setValue(s[0].Hospital),this.childForm.controls.doctorname.setValue(s[0].Doctor),this.childForm.controls.diabetestype.setValue(s[0].DiabetesType),this.childForm.controls.mdiadate.setValue(s[0].DiagnosedDate),this.childForm.controls.mfamilydiabeteshitorytype.setValue(s[0].FamilyHistoryDiabetesType),this.childForm.controls.mglucompany.setValue(s[0].Glucometer),this.childForm.controls.medinfo.setValue(s[0].OtherMedicalInfo),1==s[0].CompCardio&&(this.selectedPersonId=[...this.selectedPersonId,{id:"4",name:"Cardiovascular"}]),1==s[0].CompEye&&(this.selectedPersonId=[...this.selectedPersonId,{id:"1",name:"Eye"}]),1==s[0].CompFoot&&(this.selectedPersonId=[...this.selectedPersonId,{id:"2",name:"Foot"}]),1==s[0].CompKidney&&(this.selectedPersonId=[...this.selectedPersonId,{id:"3",name:"Kidneys"}]),1==s[0].CompNerve&&(this.selectedPersonId=[...this.selectedPersonId,{id:"5",name:"Nerves"}]),1==s[0].CompOther&&(this.selectedPersonId=[...this.selectedPersonId,{id:"6",name:"Other"}]),1==s[0].CompNo&&(this.selectedPersonId=[...this.selectedPersonId,{id:"7",name:"No"}],console.log("inside compe data res",this.selectedPersonId)),this.selectedPersonIdlength=this.selectedPersonId.length,this.childForm.controls.HbA1c.setValue(s[0].HbA1c),this.childForm.controls.HbA1ctestdate.setValue(s[0].HbA1cDate),this.childForm.controls.MicroAlbuminuria.setValue(s[0].Microalb),this.childForm.controls.MicroAlbuminuriatestdate.setValue(s[0].MicroalbDate),this.childForm.controls.urineacr.setValue(s[0].UrineACR),this.childForm.controls.urineacrtestdate.setValue(s[0].UrineACR1Date),this.childForm.controls.eyestest.setValue(s[0].Eyestest),this.childForm.controls.eyestestdate.setValue(s[0].EyestestDate),""==s[0].PatientPhoto||null==s[0].PatientPhoto?this.img="./assets/images/download.png":(window,this.img=this.weburl+"/Documents/childdata/"+this.route.snapshot.paramMap.get("id")+"/"+s[0].PatientPhoto,this.dbimg=s[0].PatientPhoto),this.cdref.detectChanges(),this.lfacsupport=0!=s[0].LfacSupport,this.firstconcheck=0!=s[0].PublicMedia,this.secondconcheck=0!=s[0].SharingWithSponsors,this.thirdconcheck=0!=s[0].CaseStudies,this.cdref.detectChanges())}),this.route.snapshot.paramMap.get("id"),this.childSer.getpathdatabyid(this.route.snapshot.paramMap.get("id")).subscribe(s=>{for(let r in s)1==s[r].DocType?(s[r].DocLink.indexOf("."),this.db1data=!0,this.file1data=!1,this.dbs1filename=s[r].DocLink,console.log("dbs1filename  :::> ",this.dbs1filename),this.db1filename=this.weburl+"/Documents/childdata/"+this.route.snapshot.paramMap.get("id")+"/"+s[r].DocLink,console.log("db1filename:",this.db1filename)):2==s[r].DocType?(s[r].DocLink.indexOf("."),this.db2data=!0,this.file2data=!1,this.dbs2filename=s[r].DocLink,this.db2filename=this.weburl+"/Documents/childdata/"+this.route.snapshot.paramMap.get("id")+"/"+s[r].DocLink,console.log("db2filename:",this.db2filename)):3==s[r].DocType?(s[r].DocLink.indexOf("."),this.db3data=!0,this.file3data=!1,this.dbs3filename=s[r].DocLink,this.db3filename=this.weburl+"/Documents/childdata/"+this.route.snapshot.paramMap.get("id")+"/"+s[r].DocLink,console.log("db3filename:",this.db3filename)):4==s[r].DocType?(s[r].DocLink.indexOf("."),this.db4data=!0,this.file4data=!1,this.dbs4filename=s[r].DocLink,this.db4filename=this.weburl+"/Documents/childdata/"+this.route.snapshot.paramMap.get("id")+"/"+s[r].DocLink):5==s[r].DocType?(s[r].DocLink.indexOf("."),this.db5data=!0,this.file5data=!1,this.dbs5filename=s[r].DocLink,this.db5filename=this.weburl+"/Documents/childdata/"+this.route.snapshot.paramMap.get("id")+"/"+s[r].DocLink):6==s[r].DocType?(s[r].DocLink.indexOf("."),this.db6data=!0,this.file6data=!1,this.dbs6filename=s[r].DocLink,this.db6filename=this.weburl+"/Documents/childdata/"+this.route.snapshot.paramMap.get("id")+"/"+s[r].DocLink):7==s[r].DocType&&(s[r].DocLink.indexOf("."),this.db7data=!0,this.file7data=!1,this.dbs7filename=s[r].DocLink,this.db7filename=this.weburl+"/Documents/childdata/"+this.route.snapshot.paramMap.get("id")+"/"+s[r].DocLink)})}downloadFile(t){const o=document.createElement("a");console.log(t),document.body.appendChild(o),o.setAttribute("href",t),o.download=t,o.click()}onCheckboxChange(t){const o=this.childForm.get("checkArray");if(t.target.checked)o.push(new a.NI(t.target.value));else{let s=0;o.controls.forEach(r=>{r.value!=t.target.value?s++:o.removeAt(s)})}}onCheckboxChange1(t){1==t.target.value?this.firstconsent=!!t.target.checked:2==t.target.value?this.secondconsent=!!t.target.checked:3==t.target.value&&(this.thirdconsent=!!t.target.checked)}changeComplication(t){this.comp=t,null==this.comp||""==this.comp?(this.selectcomvalidator=!0,$(".ng-select-container").css("border","1px solid #C71C22")):(this.selectcomvalidator=!1,$(".ng-select-container").css("border","1px solid #ced4da"))}onFileSelect(t){const o=t.target.files[0];if(null==o)this.imagename="";else if(o.size>2e6)alert("please select file less than 2 mb"),this.imagename="";else{this.imagename=o.name,this.imageChangedEvent=t;const r=new FileReader;if(r.readAsDataURL(o),r.onload=()=>{(new Image).src=r.result,this.url=r.result},!o.type.match(/image-*/))return void alert("Invalid format");this.fileInputLabel=o.name}}onFileSelectdoc(t){const o=t.target.files[0];if(null==o)this.filename="";else if(o.size>2e6)alert("please select file less than 2 mb"),this.filename="";else{this.db1data=!1,this.file1data=!0;let r=o.name.split(".").pop();var s=o.name.split(".");this.filename=s[0],console.log("file name without ext : ",this.filename),this.filetype=o.name.substring(o.name.indexOf(".")+1,o.name.length),"pdf"==r||"jpg"==r||"jpeg"==r?(this.latestPrescription=new FormData,this.latestPrescription.append("latestprescription",o)):(alert("Supported file: pdf,jpg,jpeg "),this.filename="")}}Submit(){if(this.submitted=!0,""!=this.filename||0!=this.db1data)if(""!=this.filename3||0!=this.db4data){if(Date.parse(this.childForm.value.dob)>=Date.parse(this.childForm.value.mdiadate))return this.isJoiningGreater=!0,void setTimeout(()=>this.isJoiningGreater=!1,1e3);if(this.selectedPersonId.length==this.selectedPersonIdlength)for(let o in this.selectedPersonId)this.comp.push(this.selectedPersonId[o]);if(this.childForm.invalid)return this.closeOthers=!1,void(this.activeIds=["toggle-11","toggle-12","toggle-13","toggle-14","toggle-15"]);if(this.lfacsupport=""!=this.childForm.value.lfacsupport,this.childForm.value.pcnic==this.childForm.value.mcnic&&null!=this.childForm.value.pcnic&&null!=this.childForm.value.mcnic&&""!=this.childForm.value.mcnic&&""!=this.childForm.value.pcnic)alert("Father and mother cnic shouldnot be same");else{for(var t in $("#btn-submit").attr("disabled",!0),this.compothers="",this.compeye="",this.compfoot="",this.compcard="",this.compkidney="",this.Compnerve="",this.compno="",this.comp)1==this.comp[t].id?this.compeye=!0:2==this.comp[t].id?this.compfoot=!0:3==this.comp[t].id?this.compkidney=!0:4==this.comp[t].id?this.compcard=!0:5==this.comp[t].id?this.Compnerve=!0:6==this.comp[t].id?this.compothers=!0:7==this.comp[t].id&&(this.compno=!0);let A,I,P,j,z,W,_e,ae,o="",s="",r="",l="",d="",m="",_="",Z="";null!=this.dbs1filename&&(s=this.dbs1filename),null!=this.dbs2filename&&(r=this.dbs2filename),null!=this.dbs3filename&&(l=this.dbs3filename),null!=this.dbs4filename&&(d=this.dbs4filename),null!=this.dbs5filename&&(m=this.dbs5filename),null!=this.dbs6filename&&(_=this.dbs6filename),null!=this.dbs7filename&&(Z=this.dbs7filename),""!=this.img&&(o=this.dbimg),A=Date.now(),""!=this.imagename&&(o="a"+A+".png"),setTimeout(()=>{I=Date.now(),""!=this.filename&&(this.latestpres=!1,s=this.filename.split(".")[0]+I+"."+this.filetype)},1),setTimeout(()=>{""!=this.filename1&&(P=Date.now(),r=this.filename1.split(".")[0]+P+"."+this.filetype1)},2),setTimeout(()=>{""!=this.filename2&&(j=Date.now(),l=this.filename2.split(".")[0]+j+"."+this.filetype2)},3),setTimeout(()=>{""!=this.filename3&&(z=Date.now(),this.cniccheck=!1,d=this.filename3.split(".")[0]+z+"."+this.filetype3)},4),setTimeout(()=>{""!=this.filename4&&(W=Date.now(),m=this.filename4.split(".")[0],m=m+W+"."+this.filetype4)},5),setTimeout(()=>{""!=this.filename5&&(_e=Date.now(),_=this.filename5.split(".")[0]+_e+"."+this.filetype5)},6),setTimeout(()=>{""!=this.filename6&&(ae=Date.now(),Z=this.filename6.split(".")[0]+ae+"."+this.filetype6)},7),setTimeout(()=>{this.addJson={poino:this.childForm.value.poino,regnumber:this.childForm.value.regnumber,fname:this.childForm.value.fname,lname:this.childForm.value.lname,gender:this.childForm.value.gender,dob:this.childForm.value.dob,religion:this.childForm.value.religion,schoolname:this.childForm.value.schoolname,class:this.childForm.value.class,schooladdress:this.childForm.value.schooladdress,city:this.childForm.value.city,residentialaddress:this.childForm.value.residentialaddress,postaladdress:this.childForm.value.postaladdress,pfname:this.childForm.value.pfname,poccupation:this.childForm.value.poccupation,pcnic:this.childForm.value.pcnic,pcontact:this.childForm.value.pcontact,mfname:this.childForm.value.mfname,moccupation:this.childForm.value.moccupation,mcnic:this.childForm.value.mcnic,mcontact:this.childForm.value.mcontact,gfname:this.childForm.value.gfname,goccupation:this.childForm.value.goccupation,gcnic:this.childForm.value.gcnic,gcontact:this.childForm.value.gcontact,firstconsent:this.childForm.value.firstconsent,secondconsent:this.childForm.value.secondconsent,thirdconsent:this.childForm.value.thirdconsent,hospitalname:this.childForm.value.HospitalName,diabetestype:this.childForm.value.diabetestype,doctorname:this.childForm.value.doctorname,mdiadate:this.childForm.value.mdiadate,mfamilydiabeteshitorytype:this.childForm.value.mfamilydiabeteshitorytype,mglucompany:this.childForm.value.mglucompany,compeye:this.compeye,compfoot:this.compfoot,compkidney:this.compkidney,compcard:this.compcard,compothers:this.compothers,compno:this.compno,compnerve:this.Compnerve,medinfo:this.childForm.value.medinfo,HbA1c:this.childForm.value.HbA1c,HbA1ctestdate:this.childForm.value.HbA1ctestdate,MicroAlbuminuria:this.childForm.value.MicroAlbuminuria,MicroAlbuminuriatestdate:this.childForm.value.MicroAlbuminuriatestdate,urineacr:this.childForm.value.urineacr,urineacrtestdate:this.childForm.value.urineacrtestdate,eyestest:this.childForm.value.eyestest,eyestestdate:this.childForm.value.eyestestdate,prespath:s,billpath:r,schoolpath:l,cnicpath:d,mcnicpath:m,gcnicpath:_,bfrompath:Z,imgpath:o,lfacsupport:this.lfacsupport};let F=this.childForm.value.regnumber;console.log(this.addJson),this.childSer.updatechildreg(this.addJson).subscribe(vt=>{vt&&(this.isVisibleSuccess=!0,setTimeout(()=>this.isVisibleSuccess=!1,1e3),this.childSer.addfolder(F).subscribe(D=>{}),""!=this.filename&&this.childSer.addlatestprecdoc(this.latestPrescription,F,I).subscribe(D=>{}),""!=this.filename1&&this.childSer.addlatestprecdoc(this.billpdf,F,P).subscribe(D=>{}),""!=this.filename2&&this.childSer.addlatestprecdoc(this.schoolpdf,F,j).subscribe(D=>{}),""!=this.filename3&&this.childSer.addlatestprecdoc(this.cnicpdf,F,z).subscribe(D=>{}),""!=this.filename4&&this.childSer.addlatestprecdoc(this.mcnicpdf,F,W).subscribe(D=>{}),""!=this.filename5&&this.childSer.addlatestprecdoc(this.gcnicpdf,F,_e).subscribe(D=>{}),""!=this.filename6&&this.childSer.addlatestprecdoc(this.bformpdf,F,ae).subscribe(D=>{}),""!=this.filename6&&this.childSer.addlatestprecdoc(this.bformpdf,F,ae).subscribe(D=>{}),""!=this.imagename&&this.childSer.addUserImage(this.imgpdf,F,A).subscribe(D=>{}))})},1e3),setTimeout(()=>{this.myRouter.navigate(["/pages/child-info"])},3e3)}}else this.cniccheck=!0;else this.latestpres=!0}Cancel(){this.location.back()}onFileSelectdoc1(t){const o=t.target.files[0];if(null==o)this.filename1="";else if(o.size>2e6)alert("please select file less than 2 mb"),this.filename1="";else{this.db2data=!1,this.file2data=!0,this.filename1=o.name,console.log(this.filename1),this.filetype1=o.name.substring(o.name.indexOf(".")+1,o.name.length);var s=this.filename1.split(".").pop();"pdf"==s||"jpg"==s||"jpeg"==s?(this.billpdf=new FormData,this.billpdf.append("latestprescription",o)):(alert("Supported file: pdf,jpg,jpeg "),this.filename1="")}}onFileSelectdoc2(t){const o=t.target.files[0];if(null==o)this.filename2="";else if(o.size>2e6)alert("please select file less than 2 mb"),this.filename2="";else{this.db3data=!1,this.file3data=!0,this.filename2=o.name,this.filetype2=o.name.substring(o.name.indexOf(".")+1,o.name.length);var s=this.filename2.split(".").pop();"pdf"==s||"jpg"==s||"jpeg"==s?(this.schoolpdf=new FormData,this.schoolpdf.append("latestprescription",o)):(alert("Supported file: pdf,jpg,jpeg "),this.filename2="")}}onFileSelectdoc3(t){const o=t.target.files[0];if(null==o)this.filename3="";else if(o.size>2e6)alert("please select file less than 2 mb"),this.filename3="";else{this.db4data=!1,this.file4data=!0,this.filename3=o.name,this.filetype3=o.name.substring(o.name.indexOf(".")+1,o.name.length);var s=this.filename3.split(".").pop();"pdf"==s||"jpg"==s||"jpeg"==s?(this.cnicpdf=new FormData,this.cnicpdf.append("latestprescription",o)):(alert("Supported file: pdf,jpg,jpeg "),this.filename3="")}}onFileSelectdoc6(t){const o=t.target.files[0];if(null==o)this.filename6="";else if(this.db7data=!1,this.file7data=!0,o.size>2e6)alert("please select file less than 2 mb"),this.filename6="";else{this.filename6="",this.filename6=o.name,this.filetype6=o.name.substring(o.name.indexOf(".")+1,o.name.length);var s=this.filename6.split(".").pop();"pdf"==s||"jpg"==s||"jpeg"==s?(this.bformpdf=new FormData,this.bformpdf.append("latestprescription",o)):(alert("Supported file: pdf,jpg,jpeg "),this.filename6="")}}onFileSelectdoc4(t){const o=t.target.files[0];if(null==o)this.filename4="";else if(o.size>2e6)alert("please select file less than 2 mb"),this.filename4="";else{this.db5data=!1,this.file5data=!0,this.filename4=o.name,this.filetype4=o.name.substring(o.name.indexOf(".")+1,o.name.length);var s=this.filename4.split(".").pop();"pdf"==s||"jpg"==s||"jpeg"==s?(this.mcnicpdf=new FormData,this.mcnicpdf.append("latestprescription",o)):(alert("Supported file: pdf,jpg,jpeg "),this.filename4="")}}eventHandler(t){return!(4==t.target.value.length&&("Backspace"==t.code||"Delete"==t.code))}onFileSelectdoc5(t){const o=t.target.files[0];if(null==o)this.filename5="";else if(o.size>2e6)alert("please select file less than 2 mb"),this.filename5="";else{this.db6data=!1,this.file6data=!0,this.filename5=o.name,this.filetype5=o.name.substring(o.name.indexOf(".")+1,o.name.length);var s=this.filename5.split(".").pop();"pdf"==s||"jpg"==s||"jpeg"==s?(this.gcnicpdf=new FormData,this.gcnicpdf.append("latestprescription",o)):(alert("Supported file: pdf,jpg,jpeg "),this.filename5="")}}imageCropped(t){this.croppedImage=this.dataURLtoFile(t.base64,"a.png"),$("#profilepic").attr("src",t.base64),this.imgpdf=new FormData,this.imgpdf.append("uploadedImage",this.croppedImage)}imageLoaded(){}cropperReady(){}loadImageFailed(){}dataURLtoFile(t,o){for(var s=t.split(","),r=s[0].match(/:(.*?);/)[1],l=atob(s[1]),d=l.length,m=new Uint8Array(d);d--;)m[d]=l.charCodeAt(d);return new File([m],o,{type:r})}open(t){this.modalService.open(t,{ariaLabelledBy:"modal-basic-title"}).result.then(o=>{this.closeResult=`Closed with: ${o}`},o=>{this.closeResult=`Dismissed ${this.getDismissReason(o)}`})}getDismissReason(t){return t===u.If.ESC?"by pressing ESC":t===u.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${t}`}get f(){return this.childForm.controls}formControls(){this.childForm=this.myFormBuilder.group({lfacsupport:[""],regnumber:[""],fname:["",[a.kI.required,a.kI.pattern("^[a-zA-Z0-9_][a-zA-Z-0-9_ ]*$")]],lname:["",[a.kI.pattern("^[a-zA-Z0-9_][a-zA-Z-0-9_ ]*$")]],gender:["",a.kI.required],dob:["",a.kI.required],religion:["",a.kI.required],schoolname:[""],class:[""],schooladdress:[""],city:["",a.kI.required],residentialaddress:["",[a.kI.required]],postaladdress:[""],pfname:["",[a.kI.required,a.kI.pattern("^[a-zA-Z0-9_][a-zA-Z-0-9_ ]*$")]],poccupation:["",a.kI.required],pcnic:["",[a.kI.required,a.kI.pattern("^[0-9+]{5}-[0-9+]{7}-[0-9]{1}$")]],pcontact:["03",a.kI.compose([a.kI.required,a.kI.pattern(/^((\+92)|(0092))-{0,1}\d{3}-{0,1}\d{7}$|^\d{11}$|^\d{4}-\d{7}$/)])],mfname:["",[a.kI.required,a.kI.pattern("^[a-zA-Z0-9_][a-zA-Z-0-9_ ]*$")]],moccupation:["",a.kI.required],mcnic:["",[a.kI.required,a.kI.pattern("^[0-9+]{5}-[0-9+]{7}-[0-9]{1}$")]],mcontact:["03",a.kI.compose([a.kI.required,a.kI.pattern(/^((\+92)|(0092))-{0,1}\d{3}-{0,1}\d{7}$|^\d{11}$|^\d{4}-\d{7}$/)])],gfname:[""],goccupation:[""],gcnic:["",[a.kI.pattern("^[0-9+]{5}-[0-9+]{7}-[0-9]{1}$")]],gcontact:["03"],firstconsent:[""],secondconsent:[""],thirdconsent:[""],HospitalName:["",a.kI.required],diabetestype:["",a.kI.required],doctorname:["",a.kI.required],mdiadate:["",a.kI.required],mfamilydiabeteshitorytype:[""],mglucompany:[""],HbA1c:[""],HbA1ctestdate:[""],MicroAlbuminuria:[""],MicroAlbuminuriatestdate:[""],urineacr:[""],urineacrtestdate:[""],eyestest:[""],eyestestdate:[""],selectComp:[""],medinfo:[""],poino:["POI-",{validators:[a.kI.required],asyncValidators:[no(this.childSer,this)],updateOn:"blur"}]})}ngOnDestroy(){console.log("destroyed")}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(p.gz),e.Y36(u.FF),e.Y36(a.qu),e.Y36(S),e.Y36(B),e.Y36(p.F0),e.Y36(e.sBO),e.Y36(O),e.Y36(g.Ye),e.Y36(h),e.Y36(de))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit-chid-reg"]],decls:32,vars:6,consts:[["class","alertnotify","style","background: #54a254",4,"ngIf"],["class","alertnotify","style","background: #cb3837",4,"ngIf"],[1,"container-fluid"],[1,"theme-heading"],[1,"text-dark"],[3,"formGroup"],["onsubmit","expandAll()",3,"closeOthers","activeIds"],["id","toggle-11"],["ngbPanelTitle",""],["ngbPanelContent",""],["id","toggle-12"],["id","toggle-13"],["id","toggle-14"],["id","toggle-15"],[1,"text-right","mb-2","mt-2"],["id","btn-submit",1,"btn","upload-btn","btn-sm","mr-1","ml-2",2,"width","70px",3,"click"],[1,"btn","reset-btn","btn-sm",2,"width","70px",3,"click"],["content",""],[1,"alertnotify",2,"background","#54a254"],[1,"alertnotify",2,"background","#cb3837"],[1,"card-header--title"],[1,"pull-right"],[1,"fa","fa-angle-down","fa-lg"],[1,"row"],["type","number","formControlName","regnumber","hidden",""],[1,"col-md-9"],[1,"row","form-inline"],[1,"col-md-3","pl-1"],["type","checkbox","formControlName","lfacsupport",3,"value","ngModel","ngModelChange"],[1,"col-md-6","pl-1"],["for","poino",1,"col-form-label-sm"],["type","text","onkeyup","[this.value=this.value.toUpperCase()]","placeholder","Enter POI","formControlName","poino","id","poino","ngClass","{ 'is-invalid': f.poino.errors }",1,"form-control","form-control-sm",3,"keydown"],[4,"ngIf","ngIfElse"],["checkpoi",""],["poiNotExists",""],[1,"row","mt-1"],["for","fname",1,"col-form-label-sm"],["type","text","placeholder","First Name","formControlName","fname","id","fname","appAlphabetOnly","",1,"form-control","form-control-sm",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"col-md-3"],["type","text","placeholder","Last Name","formControlName","lname","id","lname","appAlphabetOnly","",1,"form-control","form-control-sm",3,"ngClass"],["for","Gender",1,"col-form-label-sm"],["id","gender","formControlName","gender",1,"form-control","form-control-sm",3,"ngClass"],["value","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-3","pr-1"],["for","DOB",1,"col-form-label-sm"],["type","date","id","age","placeholder","DOB","formControlName","dob",1,"form-control","form-control-sm",3,"max","ngClass"],["for","Religion",1,"col-form-label-sm"],["id","religion","formControlName","religion",1,"form-control","form-control-sm",3,"ngClass"],["for","schoolname",1,"col-form-label-sm"],["type","text","placeholder","School Name","formControlName","schoolname",1,"form-control","form-control-sm",3,"ngClass"],[1,"col-md-2"],["for","Class",1,"col-form-label-sm"],["type","text","placeholder","Class","formControlName","class",1,"form-control","form-control-sm",3,"ngClass"],[1,"col-md-4","pr-1"],["for","SchoolAddress",1,"col-form-label-sm"],["type","text","id","schooladdress","placeholder","School Address","formControlName","schooladdress",1,"form-control","form-control-sm",3,"ngClass"],[1,"row","mb-1"],[1,"col-md-2","pl-1"],["for","City",1,"col-form-label-sm"],["id","city","formControlName","city",1,"form-control","form-control-sm",3,"ngClass"],[1,"col-md-5","pl-1"],["for","ResidentialAddress",1,"col-form-label-sm"],["type","text","id","residentialaddress","placeholder","Residential Address","formControlName","residentialaddress",1,"form-control","form-control-sm",3,"ngClass"],["for","PostalAddress",1,"col-form-label-sm"],["type","text","id","postaladdress","placeholder","Postal Address","formControlName","postaladdress",1,"form-control","form-control-sm",3,"ngClass"],[1,"modal-body",2,"padding","0%"],[1,"row","mt-1","justify-content-center"],[1,"col-md-6","offset-md-3"],["id","profilepic","height","100px","width","120px",1,"rounded-circle",3,"src"],[1,"btn-pill","btn","upload-btn","btn-sm","mt-1",3,"click"],["class","invalid-feedback d-block",4,"ngIf","ngIfElse"],[1,"invalid-feedback","d-block"],[2,"padding-left","120px"],[1,"valid-feedback","d-block"],[1,"invalid-feedback"],[4,"ngIf"],[3,"value"],[1,"row","mt-2"],["for","pfname",1,"col-form-label-sm"],["type","text","placeholder","First Name","formControlName","pfname","appAlphabetOnly","",1,"form-control","form-control-sm",3,"ngClass"],["for","poccupation",1,"col-form-label-sm"],["type","text","placeholder","Occupation","formControlName","poccupation","appAlphabetOnly","",1,"form-control","form-control-sm",3,"ngClass"],["type","text","cnicMask","","placeholder","XXXXX-XXXXXXX-X","formControlName","pcnic","maxlength","15","appNicFormattor","",1,"Cnic","form-control","form-control-sm",3,"cnicControl","preValue","ngClass","preValueChange"],["for",""],["type","text","placeholder","03000000000","phoneMask","","formControlName","pcontact","maxlength","12",1,"Phone","form-control","form-control-sm",3,"preValue","phoneControl","ngClass"],["for","mfname",1,"col-form-label-sm"],["type","text","placeholder","First Name","formControlName","mfname","appAlphabetOnly","",1,"form-control","form-control-sm",3,"ngClass"],["for","moccupation",1,"col-form-label-sm"],["type","text","placeholder","Occupation","formControlName","moccupation","appAlphabetOnly","",1,"form-control","form-control-sm",3,"ngClass"],["type","text","cnicMask","","placeholder","XXXXX-XXXXXXX-X","formControlName","mcnic","maxlength","15","appNicFormattor","",1,"Cnic","form-control","form-control-sm",3,"cnicControl","preValue","ngClass"],["type","text","placeholder","03000000000","phoneMask","","formControlName","mcontact","maxlength","12",1,"Phone","form-control","form-control-sm",3,"preValue","phoneControl","ngClass"],["for","gfname",1,"col-form-label-sm"],["type","text","placeholder","Guardian Name","formControlName","gfname","appAlphabetOnly","",1,"form-control","form-control-sm",3,"ngClass"],["for","goccupation",1,"col-form-label-sm"],["type","text","placeholder","Occupation","formControlName","goccupation","appAlphabetOnly","",1,"form-control","form-control-sm",3,"ngClass"],["type","text","cnicMask","","placeholder","XXXXX-XXXXXXX-X","formControlName","gcnic","maxlength","15","appNicFormattor","",1,"Cnic","form-control","form-control-sm",3,"cnicControl","preValue","ngClass"],["type","text","placeholder","03000000000","phoneMask","","formControlName","gcontact","maxlength","12",1,"Phone","form-control","form-control-sm",3,"preValue","phoneControl","ngClass"],["class","text-danger",4,"ngIf"],[1,"text-danger"],[1,"col-md-12"],[1,"row","pl-1"],["for","hospital",1,"col-form-label-sm"],["id","hospitalname","formControlName","HospitalName",1,"form-control","form-control-sm",3,"ngClass"],["for","doctor",1,"col-form-label-sm"],["id","doctorname","formControlName","doctorname",1,"form-control","form-control-sm",3,"ngClass"],["id","diabetestype","formControlName","diabetestype",1,"form-control","form-control-sm",3,"ngClass"],["type","date","placeholder","Diagnosis Date","formControlName","mdiadate","id","mdiadate","appAlphabetOnly","",1,"form-control","form-control-sm",3,"max","ngClass"],[1,"row","mt-1","mb-1","pl-1"],["type","text","placeholder","Family Diabetes","formControlName","mfamilydiabeteshitorytype","id","mfamilydiabeteshitorytype","appAlphabetOnly","",1,"form-control","form-control-sm",3,"ngClass"],["type","text","placeholder","Glucometer Company","formControlName","mglucompany","id","mglucompany","appAlphabetOnly","",1,"form-control","form-control-sm",3,"ngClass"],["bindLabel","name","formControlName","selectComp","id","selectComp",3,"items","multiple","ngModel","ngModelChange","change"],["type","text","placeholder","Medical Info","formControlName","medinfo","id","medinfo","appAlphabetOnly","",1,"form-control","form-control-sm",3,"ngClass"],[1,"row","mt-1","pl-1"],["ng-pattern","/^\\-?\\d+((\\.|\\,)\\d+)?$/","type","text","placeholder","HbA1c","formControlName","HbA1c","id","HbA1c",1,"form-control","form-control-sm",3,"ngClass"],["type","date","placeholder","Test Date","formControlName","HbA1ctestdate","id","HbA1ctestdate",1,"form-control","form-control-sm",3,"max","ngClass"],["ng-pattern","/^\\-?\\d+((\\.|\\,)\\d+)?$/","type","text","placeholder","Micro Albuminuria","formControlName","MicroAlbuminuria","id","MicroAlbuminuria",1,"form-control","form-control-sm",3,"ngClass"],["type","date","placeholder","Test Date","formControlName","MicroAlbuminuriatestdate","id","MicroAlbuminuriatestdate",1,"form-control","form-control-sm",3,"max","ngClass"],["ng-pattern","/^\\-?\\d+((\\.|\\,)\\d+)?$/","type","text","placeholder","Urine ACR","formControlName","urineacr","id","urineacr",1,"form-control","form-control-sm",3,"ngClass"],["type","date","placeholder","Test Date","formControlName","urineacrtestdate","id","urineacrtestdate",1,"form-control","form-control-sm",3,"max","ngClass"],["ng-pattern","/^\\-?\\d+((\\.|\\,)\\d+)?$/","type","text","placeholder","Eyes Test","formControlName","eyestest","id","eyestest",1,"form-control","form-control-sm",3,"ngClass"],["type","date","placeholder","Test Date","formControlName","eyestestdate","id","eyestestdate",1,"form-control","form-control-sm",3,"max","ngClass"],[2,"padding-left","5px"],[1,"col-md-9",2,"padding-left","15px"],["type","checkbox","formControlName","firstconsent",3,"value","ngModel","ngModelChange","change"],["type","checkbox","formControlName","secondconsent",3,"value","ngModel","ngModelChange","change"],["type","checkbox","formControlName","thirdconsent",3,"value","ngModel","ngModelChange","change"],[1,"pinkcard"],[1,"col-md-6"],[1,"btn-pill","btn","upload-btn","btn-outline-primary"],["type","file","id","customFile","name","uploadedImage","accept","image/jpg,image/jpeg,application/pdf,application/jpeg,application/jpg","required","",1,"center-block","file-upload",3,"change"],["UploadFileInput",""],["style","color:red",4,"ngIf"],["for","",4,"ngIf"],["type","button","href","javascript: void(0);",1,"link-color-white",3,"click"],["type","button","class","link-color-white","href","javascript: void(0);",3,"click",4,"ngIf"],["for","","style","color: white;",4,"ngIf"],["type","button","class","link-color-white","href","","download","",3,"click",4,"ngIf"],[2,"color","red"],["for","",2,"color","white"],["type","button","href","","download","",1,"link-color-white",3,"click"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"form-group"],[1,"custom-file"],[1,"btn","btn-primary","text-white"],["type","file","id","customFile","name","uploadedImage","accept","image/*","required","",1,"center-block","file-upload",3,"change"],["name","uploadedImagei","format","jpeg",3,"imageChangedEvent","maintainAspectRatio","aspectRatio","resizeToWidth","imageCropped","imageLoaded","cropperReady","loadImageFailed"],[1,"modal-footer"],["type","button",1,"btn","upload-btn",3,"click"]],template:function(t,o){1&t&&(e.YNc(0,Ss,2,0,"div",0),e.YNc(1,Fs,2,0,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"h5",3),e._uU(4,"Update "),e.TgZ(5,"strong",4),e._uU(6),e.qZA(),e._uU(7," Registration Details"),e.qZA(),e.TgZ(8,"form",5),e.TgZ(9,"ngb-accordion",6),e.TgZ(10,"ngb-panel",7),e.YNc(11,Ds,4,0,"ng-template",8),e.YNc(12,cr,94,53,"ng-template",9),e.qZA(),e.TgZ(13,"ngb-panel",10),e.YNc(14,ur,4,0,"ng-template",8),e.YNc(15,Mr,65,60,"ng-template",9),e.qZA(),e.TgZ(16,"ngb-panel",11),e.YNc(17,Vr,4,0,"ng-template",8),e.YNc(18,da,58,37,"ng-template",9),e.qZA(),e.TgZ(19,"ngb-panel",12),e.YNc(20,ca,4,0,"ng-template",8),e.YNc(21,ya,44,36,"ng-template",9),e.qZA(),e.TgZ(22,"ngb-panel",13),e.YNc(23,ka,4,0,"ng-template",8),e.YNc(24,Ma,100,20,"ng-template",9),e.qZA(),e.qZA(),e.TgZ(25,"div",14),e.TgZ(26,"button",15),e.NdJ("click",function(){return o.Submit()}),e._uU(27,"Update"),e.qZA(),e.TgZ(28,"button",16),e.NdJ("click",function(){return o.Cancel()}),e._uU(29,"Cancel"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(30,Va,20,4,"ng-template",null,17,e.W1O)),2&t&&(e.Q6J("ngIf",o.isVisibleSuccess),e.xp6(1),e.Q6J("ngIf",o.isJoiningGreater),e.xp6(5),e.Oqu(o.ChildName),e.xp6(2),e.Q6J("formGroup",o.childForm),e.xp6(1),e.Q6J("closeOthers",o.closeOthers)("activeIds",o.activeIds))},directives:[g.O5,a._Y,a.JL,a.sg,u.gY,u.Gk,u.Cu,u.gW,a.wV,a.Fj,a.JJ,a.u,a.Wl,g.mk,x,a.EJ,a.YN,a.Kr,g.sg,Ve,a.nD,J,Be.w9,a.F,ce.ap],pipes:[g.OU],styles:['.card[_ngcontent-%COMP%]{border-radius:0%}#customFile[_ngcontent-%COMP%]{position:absolute;top:0;left:0;filter:alpha(opacity=0);-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";opacity:0;background-color:transparent;color:transparent}.pinkcard[_ngcontent-%COMP%]{padding:15px}p[_ngcontent-%COMP%]{margin-top:.25rem;font-size:80%;color:#c71c22}.errorclass[_ngcontent-%COMP%]{border:1px solid #C71C22}']}),i})();function Ha(i,n){1&i&&(e.TgZ(0,"div",49),e._uU(1," Something went wrong!. "),e.qZA())}function $a(i,n){1&i&&(e.TgZ(0,"div",50),e._uU(1," Added Successfully!. "),e.qZA())}function La(i,n){1&i&&(e.TgZ(0,"div",49),e._uU(1," Something went wrong!. "),e.qZA())}function Ga(i,n){1&i&&(e.TgZ(0,"div",49),e._uU(1," Deleted Successfully!. "),e.qZA())}function ja(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," First Name is required "),e.qZA())}function za(i,n){if(1&i&&(e.TgZ(0,"div",51),e.YNc(1,ja,2,0,"div",52),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.fname.errors.required)}}function Wa(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Last Name is required "),e.qZA())}function Ka(i,n){if(1&i&&(e.TgZ(0,"div",51),e.YNc(1,Wa,2,0,"div",52),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.lname.errors.required)}}function Xa(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Guardian Name is required "),e.qZA())}function el(i,n){if(1&i&&(e.TgZ(0,"div",51),e.YNc(1,Xa,2,0,"div",52),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.guardian.errors.required)}}function tl(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Contact number is required "),e.qZA())}function il(i,n){if(1&i&&(e.TgZ(0,"div",51),e.YNc(1,tl,2,0,"div",52),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.contact.errors.required)}}function ol(i,n){if(1&i&&(e.TgZ(0,"option",53),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.DoctorId),e.xp6(1),e.hij(" ",t.FirstName+"-"+t.LastName," ")}}function nl(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Doctor Name is required "),e.qZA())}function sl(i,n){if(1&i&&(e.TgZ(0,"div",51),e.YNc(1,nl,2,0,"div",52),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.DoctorId.errors.required)}}function rl(i,n){if(1&i&&(e.TgZ(0,"option",53),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.Id),e.xp6(1),e.hij(" ",t.Name," ")}}function al(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"City is required"),e.qZA())}function ll(i,n){if(1&i&&(e.TgZ(0,"div",51),e.YNc(1,al,2,0,"div",52),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.city.errors.required)}}function dl(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Residential Address is required "),e.qZA())}function cl(i,n){if(1&i&&(e.TgZ(0,"div",51),e.YNc(1,dl,2,0,"div",52),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.raddress.errors.required)}}function ul(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e.TgZ(14,"button",54),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().edit(r.PatientId)}),e._UZ(15,"i",55),e.qZA(),e._uU(16,"\xa0 "),e.TgZ(17,"button",56),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().Delete(r.PatientId)}),e._UZ(18,"i",57),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=n.$implicit,o=n.index;e.xp6(2),e.Oqu(o+1),e.xp6(2),e.AsE("",t.FirstName," ",t.LastName,""),e.xp6(2),e.Oqu(t.GuardianName),e.xp6(2),e.Oqu(t.PhoneNumberMobile),e.xp6(2),e.Oqu(t.CName),e.xp6(2),e.Oqu(t.CreatedDate)}}const ue=function(i){return{"is-invalid":i}};let yt=(()=>{class i{constructor(t,o,s,r,l,d,m,_){this.frombuilder=t,this.childReferral=o,this.docterdetail=s,this.confirmationDialogService=r,this.childinfo=l,this.detectChanges=d,this.router=m,this.userService=_,this.isVisibleSuccess=!1,this.isVisibleFailure=!1,this.isDeletefailure=!1,this.isDeleteSuccess=!1,this.firstconsent=!1,this.secondconsent=!1,this.thirdconsent=!1,this.fourthconsent=!1,this.submitted=!1,this.Data={},this.filename="",this.childdataPost=[],this.childdataPre=[]}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():(this.formcontrols(),this.getAllDoctor(),this.getcities(),this.getchildReferralinfo())}get f(){return this.ReferralForm.controls}formcontrols(){this.ReferralForm=this.frombuilder.group({fname:["",a.kI.required],lname:["",a.kI.required],city:["",a.kI.required],guardian:["",a.kI.required],raddress:["",a.kI.required],DoctorId:[1,a.kI.required],contact:["03",{validators:[a.kI.required,a.kI.pattern(/^((\+92)|(0092))-{0,1}\d{3}-{0,1}\d{7}$|^\d{11}$|^\d{4}-\d{7}$/)]}],firstconsent:[""],secondconsent:[""],thirdconsent:[""],fourthconsent:[""]})}activate(t){this.confirmationDialogService.confirm("Please confirm..","Forward for approval ?").then(o=>{o&&($("#"+t).removeClass("btn-secondary"),$("#"+t).addClass("btn-success"),$("#"+t).html("Registered"),this.childinfo.updateRegStatus(t,1).subscribe(s=>{s&&this.getchildReferralinfo()}))}).catch(()=>console.log(""))}Activate1(t){this.confirmationDialogService.confirm("Please confirm","Do you really want To Activate... ?").then(o=>{o&&($("#"+t).removeClass("btn-secondary"),$("#"+t).addClass("btn-success"),$("#"+t).html("Active"),this.childinfo.updateRegStatus(t,2).subscribe(s=>{}))}).catch(()=>console.log(""))}edit(t){this.router.navigate(["/pages/edit-child-referal/"+t])}Delete(t){this.childReferral.deleteReferralbyid(t).subscribe(o=>{o?(this.isDeleteSuccess=!0,setTimeout(()=>this.isDeleteSuccess=!1,3e3),this.getchildReferralinfo()):(this.isDeletefailure=!0,setTimeout(()=>this.isDeletefailure=!1,3e3))})}getchildReferralinfo(){this.childReferral.getchildReferralinfo().subscribe(t=>{if(this.childdataPre=[],!(t.length>0))return this.detectChanges.detectChanges(),void $("#predatatable").DataTable({paging:!0,searching:!0,pageLength:5,lengthMenu:[[5,10,20,-1],[5,10,20,50]],ordering:!0});this.detectChanges.detectChanges();for(let o in t)0==t[o].RegStatus?this.childdataPre.push(t[o]):this.detectChanges.detectChanges();this.detectChanges.detectChanges(),$("#predatatable").DataTable({paging:!0,searching:!0,pageLength:5,lengthMenu:[[5,10,20,-1],[5,10,20,50]],ordering:!0})}),$("#predatatable").dataTable().fnDestroy()}onFileSelectdoc1(t){const o=t.target.files[0];if(null==o||""==o)this.filename="";else if(o.size>2e6)alert("File Size cannot exceed 2MB"),this.filename="";else{this.filename=o.name,this.filetype=o.name.substring(o.name.indexOf(".")+1,o.name.length);var s=this.filename.split(".").pop();"pdf"==s||"jpg"==s||"jpeg"==s?(this.prespdf=new FormData,this.prespdf.append("latestprescription",o)):(alert("Please upload pdf of doc file"),this.filename="")}}onCheckboxChange1(t){1==t.target.value?this.firstconsent=!!t.target.checked:2==t.target.value?this.secondconsent=!!t.target.checked:3==t.target.value?this.thirdconsent=!!t.target.checked:4==t.target.value&&(t.target.checked?(this.firstconsent=!0,this.secondconsent=!0,this.thirdconsent=!0,this.fourthconsent=!0):(this.firstconsent=!1,this.secondconsent=!1,this.thirdconsent=!1,this.fourthconsent=!1))}getAllDoctor(){this.docterdetail.getAllActiveData().subscribe(t=>{this.allEntities=t})}submit(){this.submitted=!0;let o,t="";o=Date.now(),!this.ReferralForm.invalid&&(alert(this.filename),""!=this.filename&&(this.filename=this.filename.substring(0,this.filename.indexOf(".")),t=this.filename+o+"."+this.filetype),this.Data={fname:this.ReferralForm.value.fname,lname:this.ReferralForm.value.lname,city:this.ReferralForm.value.city,guardian:this.ReferralForm.value.guardian,raddress:this.ReferralForm.value.raddress,DoctorId:this.ReferralForm.value.DoctorId,contact:this.ReferralForm.value.contact,firstconsent:this.firstconsent,secondconsent:this.secondconsent,thirdconsent:this.thirdconsent,fourthconsent:this.fourthconsent,prespath:t},this.childReferral.childReferralRegister(this.Data).subscribe(s=>{s?(this.isVisibleSuccess=!0,setTimeout(()=>this.isVisibleSuccess=!1,3e3),this.childReferral.getlastid().subscribe(r=>{if(this.ReferralForm.reset(),this.getchildReferralinfo(),r){let l=r[0].PatientId;this.childReferral.addfolder(l).subscribe(d=>{}),""!=t&&this.childReferral.addlatestprecdoc(this.prespdf,l,o).subscribe(d=>{})}})):(this.isVisibleFailure=!0,setTimeout(()=>this.isVisibleFailure=!1,3e3))}))}getcities(){this.childinfo.getallcities().subscribe(t=>{this.cities=t,console.table(t)})}ngOnDestroy(){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(ie),e.Y36(B),e.Y36(b),e.Y36(S),e.Y36(e.sBO),e.Y36(p.F0),e.Y36(h))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-childreferal"]],decls:114,vars:43,consts:[[1,"content-wrapper"],["class","alertnotify","style","background: #CB3837",4,"ngIf"],["class","alertnotify","style","background: #54A254",4,"ngIf"],[1,"container-fluid"],[3,"formGroup"],[1,"card"],[2,"text-align","center"],[1,"card-body"],[1,"row"],[1,"col-md-12"],[1,"row","mt-2",2,"padding-left","15px"],[1,"col-md-2"],[1,"col-form-label-sm"],["type","text","placeholder","Enter First Name","formControlName","fname","id","fname","appAlphabetOnly","","maxlength","20",1,"form-control","form-control-sm",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","lname"],["type","text","placeholder","Enter Last Name","formControlName","lname","id","lname","appAlphabetOnly","","maxlength","20",1,"form-control","form-control-sm",3,"ngClass"],["for","guardian"],["type","text","placeholder","Enter Guardian Name","formControlName","guardian","id","guardian","appAlphabetOnly","","maxlength","20",1,"form-control","form-control-sm",3,"ngClass"],["for","contact"],["type","text","placeholder","03","phoneMask","","formControlName","contact","id","contact","maxlength","12",1,"Phone","form-control","form-control-sm",3,"preValue","phoneControl","ngClass"],["formControlName","DoctorId","id","DoctorId",1,"form-control","form-control-sm",3,"ngClass"],["value","Null","hidden",""],[3,"value",4,"ngFor","ngForOf"],["for","City"],["formControlName","city","id","city",1,"form-control","form-control-sm",3,"ngClass"],[1,"col-md-4"],["type","text","placeholder","Enter Residential Address","formControlName","raddress","id","raddress","maxlength","40",1,"form-control","form-control-sm",3,"ngClass"],[2,"margin-top","10px"],["type","checkbox","formControlName","firstconsent","id","firstconsent",3,"value","change"],["type","checkbox","formControlName","secondconsent","id","secondconsent",3,"value","change"],["type","checkbox","formControlName","thirdconsent","id","thirdconsent",3,"value","change"],["type","checkbox","formControlName","fourthconsent","id","fourthconsent",3,"value","change"],["for",""],[1,"col-md-4",2,"padding-left","10px"],[1,"btn","btn-primary","btn-sm","text-white"],["type","file","id","customFile","name","uploadedImage","accept","application/pdf,image/jpg,image/jpeg","required","",1,"center-block","file-upload",2,"color","blue",3,"change"],["UploadFileInput",""],[2,"padding-left","10px"],[1,"row","mb-2","mt-2"],[1,"col-md-9"],[1,"row",2,"margin-left","9px"],["type","submit",1,"btn","btn-sm","mr-1","ml-2","upload-btn",3,"click"],[1,"mt-2"],[1,"card","main-card","mt-4"],[1,"card-header"],["id","predatatable",1,"table","table-striped","table-bordered",2,"width","100%"],["scope","col"],[4,"ngFor","ngForOf"],[1,"alertnotify",2,"background","#CB3837"],[1,"alertnotify",2,"background","#54A254"],[1,"invalid-feedback"],[4,"ngIf"],[3,"value"],[1,"btn","btn-sm","edit-btn",3,"click"],[1,"fa","fa-pencil","fa-sm"],[1,"btn","btn-sm","delet-btn",3,"click"],[1,"fa","fa-trash","fa-sm"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Ha,2,0,"div",1),e.YNc(2,$a,2,0,"div",2),e.qZA(),e.TgZ(3,"div",0),e.YNc(4,La,2,0,"div",1),e.YNc(5,Ga,2,0,"div",1),e.qZA(),e.TgZ(6,"div",3),e.TgZ(7,"form",4),e.TgZ(8,"div",5),e.TgZ(9,"h5",6),e.TgZ(10,"b"),e._uU(11,"Child Referral Form"),e.qZA(),e.qZA(),e.TgZ(12,"div",7),e.TgZ(13,"div",8),e.TgZ(14,"div",9),e.TgZ(15,"div",10),e.TgZ(16,"div",11),e.TgZ(17,"label",12),e._uU(18,"First Name"),e.qZA(),e._UZ(19,"input",13),e.YNc(20,za,2,1,"div",14),e.qZA(),e.TgZ(21,"div",11),e.TgZ(22,"label",15),e._uU(23,"Last Name"),e.qZA(),e._UZ(24,"input",16),e.YNc(25,Ka,2,1,"div",14),e.qZA(),e.TgZ(26,"div",11),e.TgZ(27,"label",17),e._uU(28,"Guardian Name"),e.qZA(),e._UZ(29,"input",18),e.YNc(30,el,2,1,"div",14),e.qZA(),e.TgZ(31,"div",11),e.TgZ(32,"label",19),e._uU(33,"Contact Number"),e.qZA(),e._UZ(34,"input",20),e.YNc(35,il,2,1,"div",14),e.qZA(),e.TgZ(36,"div",11),e.TgZ(37,"label"),e._uU(38,"Doctor Name"),e.qZA(),e.TgZ(39,"select",21),e.TgZ(40,"option",22),e._uU(41,"Please Select"),e.qZA(),e.YNc(42,ol,2,2,"option",23),e.qZA(),e.YNc(43,sl,2,1,"div",14),e.qZA(),e.qZA(),e.TgZ(44,"div",10),e.TgZ(45,"div",11),e.TgZ(46,"label",24),e._uU(47,"City"),e.qZA(),e.TgZ(48,"select",25),e.TgZ(49,"option",22),e._uU(50,"Please Select"),e.qZA(),e.YNc(51,rl,2,2,"option",23),e.qZA(),e.YNc(52,ll,2,1,"div",14),e.qZA(),e.TgZ(53,"div",26),e.TgZ(54,"label"),e._uU(55,"Residential Address"),e.qZA(),e._UZ(56,"input",27),e.YNc(57,cl,2,1,"div",14),e.qZA(),e.TgZ(58,"div",26),e.TgZ(59,"label"),e._uU(60,"Referral Purpose"),e.qZA(),e.TgZ(61,"div",28),e.TgZ(62,"input",29),e.NdJ("change",function(r){return o.onCheckboxChange1(r)}),e.qZA(),e._uU(63," Education "),e.TgZ(64,"input",30),e.NdJ("change",function(r){return o.onCheckboxChange1(r)}),e.qZA(),e._uU(65," Test Strips "),e.TgZ(66,"input",31),e.NdJ("change",function(r){return o.onCheckboxChange1(r)}),e.qZA(),e._uU(67," Insulin "),e.TgZ(68,"input",32),e.NdJ("change",function(r){return o.onCheckboxChange1(r)}),e.qZA(),e._uU(69," All of the above. "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(70,"div",10),e.TgZ(71,"label",33),e._uU(72,"Upload Prescription"),e.qZA(),e._UZ(73,"br"),e.TgZ(74,"div",34),e.TgZ(75,"a",35),e._uU(76,"Choose File "),e.TgZ(77,"input",36,37),e.NdJ("change",function(r){return o.onFileSelectdoc1(r)}),e.qZA(),e.qZA(),e.TgZ(79,"label",38),e._uU(80),e.qZA(),e.qZA(),e.qZA(),e._UZ(81,"div",39),e.TgZ(82,"div",39),e.TgZ(83,"div",40),e.TgZ(84,"div",41),e.TgZ(85,"div",26),e.TgZ(86,"button",42),e.NdJ("click",function(){return o.submit()}),e._uU(87,"Submit"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(88,"div",43),e.TgZ(89,"div",44),e.TgZ(90,"div",45),e.TgZ(91,"h6"),e.TgZ(92,"b"),e._uU(93,"Pre-Pending List"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(94,"div",7),e.TgZ(95,"table",46),e.TgZ(96,"thead"),e.TgZ(97,"tr"),e.TgZ(98,"th",47),e._uU(99,"#"),e.qZA(),e.TgZ(100,"th",47),e._uU(101,"Child Name"),e.qZA(),e.TgZ(102,"th",47),e._uU(103,"Guardian Name"),e.qZA(),e.TgZ(104,"th",47),e._uU(105,"Contact No."),e.qZA(),e.TgZ(106,"th",47),e._uU(107,"City"),e.qZA(),e.TgZ(108,"th",47),e._uU(109,"Last Contact"),e.qZA(),e.TgZ(110,"th",47),e._uU(111,"Action"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(112,"tbody"),e.YNc(113,ul,19,7,"tr",48),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",o.isVisibleFailure),e.xp6(1),e.Q6J("ngIf",o.isVisibleSuccess),e.xp6(2),e.Q6J("ngIf",o.isDeletefailure),e.xp6(1),e.Q6J("ngIf",o.isDeleteSuccess),e.xp6(2),e.Q6J("formGroup",o.ReferralForm),e.xp6(12),e.Q6J("ngClass",e.VKq(29,ue,o.submitted&&o.f.fname.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.fname.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(31,ue,o.submitted&&o.f.lname.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.lname.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(33,ue,o.submitted&&o.f.guardian.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.guardian.errors),e.xp6(4),e.Q6J("preValue",o.ReferralForm.value.contact)("phoneControl",o.ReferralForm.controls.contact)("ngClass",e.VKq(35,ue,o.submitted&&o.f.contact.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.contact.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(37,ue,o.submitted&&o.f.DoctorId.errors)),e.xp6(3),e.Q6J("ngForOf",o.allEntities),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.DoctorId.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(39,ue,o.submitted&&o.f.city.errors)),e.xp6(3),e.Q6J("ngForOf",o.cities),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.city.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(41,ue,o.submitted&&o.f.raddress.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.raddress.errors),e.xp6(5),e.Q6J("value",1),e.xp6(2),e.Q6J("value",2),e.xp6(2),e.Q6J("value",3),e.xp6(2),e.Q6J("value",4),e.xp6(12),e.Oqu(o.filename),e.xp6(33),e.Q6J("ngForOf",o.childdataPre))},directives:[g.O5,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,x,a.nD,g.mk,J,a.EJ,a.YN,a.Kr,g.sg,a.Wl],styles:['.card[_ngcontent-%COMP%]{border-radius:0%}#customFile[_ngcontent-%COMP%]{position:absolute;z-index:2;top:0;left:0;filter:alpha(opacity=0);-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";opacity:0;background-color:transparent;color:transparent}.custom-file-input[_ngcontent-%COMP%]{position:relative;z-index:2;width:100%;height:calc(1.5em + .75rem + 2px);margin:0;opacity:0}p[_ngcontent-%COMP%]{margin-top:.25rem;font-size:80%;color:#c71c22}.errorclass[_ngcontent-%COMP%]{border:1px solid #C71C22}']}),i})();function gl(i,n){1&i&&(e.TgZ(0,"div",9),e._uU(1," Something went wrong!. "),e.qZA())}function ml(i,n){1&i&&(e.TgZ(0,"div",10),e._uU(1," Updated successfully!. "),e.qZA())}function pl(i,n){1&i&&(e.TgZ(0,"div",9),e._uU(1," Already Registered!. "),e.qZA())}function _l(i,n){if(1&i&&(e.TgZ(0,"span",11),e._uU(1,"Edit: "),e.TgZ(2,"strong",12),e._uU(3),e.qZA(),e.qZA(),e.TgZ(4,"div",13),e._UZ(5,"i",14),e.qZA()),2&i){const t=e.oxw();e.xp6(3),e.hij("",t.ChildName," ")}}function hl(i,n){if(1&i&&(e.TgZ(0,"option",59),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.DoctorId),e.xp6(1),e.hij(" ",t.FirstName+"-"+t.LastName," ")}}function fl(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Doctor Name is required "),e.qZA())}function Zl(i,n){if(1&i&&(e.TgZ(0,"div",60),e.YNc(1,fl,2,0,"div",61),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.DoctorId.errors.required)}}function bl(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," First Name is required "),e.qZA())}function vl(i,n){if(1&i&&(e.TgZ(0,"div",60),e.YNc(1,bl,2,0,"div",61),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.fname.errors.required)}}function Tl(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Last Name is required "),e.qZA())}function Al(i,n){if(1&i&&(e.TgZ(0,"div",60),e.YNc(1,Tl,2,0,"div",61),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.lname.errors.required)}}function Cl(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Guardian Name is required "),e.qZA())}function ql(i,n){if(1&i&&(e.TgZ(0,"div",60),e.YNc(1,Cl,2,0,"div",61),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.guardian.errors.required)}}function xl(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Contact number is required "),e.qZA())}function Il(i,n){if(1&i&&(e.TgZ(0,"div",60),e.YNc(1,xl,2,0,"div",61),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.contact.errors.required)}}function yl(i,n){if(1&i&&(e.TgZ(0,"option",59),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.Id),e.xp6(1),e.hij(" ",t.Name," ")}}function kl(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"City is required"),e.qZA())}function Ul(i,n){if(1&i&&(e.TgZ(0,"div",60),e.YNc(1,kl,2,0,"div",61),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.city.errors.required)}}function Nl(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Residential Address is required "),e.qZA())}function wl(i,n){if(1&i&&(e.TgZ(0,"div",60),e.YNc(1,Nl,2,0,"div",61),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.raddress.errors.required)}}function Sl(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"a",62),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return s.downloadFile(s.dbs1filename)}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(1),e.Oqu(t.db1filename)}}const ge=function(i){return{"is-invalid":i}};function Fl(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"form",15),e.TgZ(1,"div",16),e.TgZ(2,"div",17),e.TgZ(3,"div",18),e.TgZ(4,"div",19),e.TgZ(5,"div",20),e.TgZ(6,"label",21),e._uU(7,"Doctor Name"),e.qZA(),e.TgZ(8,"select",22),e.TgZ(9,"option",23),e._uU(10,"Please Select"),e.qZA(),e.YNc(11,hl,2,2,"option",24),e.qZA(),e.YNc(12,Zl,2,1,"div",25),e.qZA(),e.qZA(),e.TgZ(13,"div",26),e.TgZ(14,"div",20),e.TgZ(15,"label",21),e._uU(16,"Child First Name"),e.qZA(),e._UZ(17,"input",27),e.YNc(18,vl,2,1,"div",25),e.qZA(),e.qZA(),e.TgZ(19,"div",26),e.TgZ(20,"div",20),e.TgZ(21,"label",28),e._uU(22,"Child Last Name"),e.qZA(),e._UZ(23,"input",29),e.YNc(24,Al,2,1,"div",25),e.qZA(),e.qZA(),e.TgZ(25,"div",26),e.TgZ(26,"div",20),e.TgZ(27,"label",30),e._uU(28,"Guardian Name"),e.qZA(),e._UZ(29,"input",31),e.YNc(30,ql,2,1,"div",25),e.qZA(),e.qZA(),e.TgZ(31,"div",26),e.TgZ(32,"div",20),e.TgZ(33,"label",32),e._uU(34,"Contact Number"),e.qZA(),e._UZ(35,"input",33),e.YNc(36,Il,2,1,"div",25),e.qZA(),e.qZA(),e.TgZ(37,"div",26),e.TgZ(38,"div",20),e.TgZ(39,"label",34),e._uU(40,"City"),e.qZA(),e.TgZ(41,"select",35),e.TgZ(42,"option",23),e._uU(43,"Please Select City"),e.qZA(),e.YNc(44,yl,2,2,"option",24),e.qZA(),e.YNc(45,Ul,2,1,"div",25),e.qZA(),e.qZA(),e.TgZ(46,"div",26),e.TgZ(47,"div",20),e.TgZ(48,"label",21),e._uU(49,"Residential Address"),e.qZA(),e._UZ(50,"input",36),e.YNc(51,wl,2,1,"div",25),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(52,"div",37),e.TgZ(53,"div",38),e.TgZ(54,"div",26),e.TgZ(55,"div",20),e.TgZ(56,"h3",39),e._uU(57,"UPLOAD PRESCRIPTION"),e.qZA(),e.TgZ(58,"label",40),e._uU(59),e.qZA(),e.YNc(60,Sl,2,1,"a",41),e.qZA(),e.qZA(),e.TgZ(61,"div",26),e.TgZ(62,"div",20),e.TgZ(63,"a",42),e._uU(64," Upload File "),e.TgZ(65,"input",43,44),e.NdJ("change",function(s){return e.CHM(t),e.oxw().onFileSelectdoc1(s)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(67,"div",45),e.TgZ(68,"h5",46),e._uU(69,"Referral Purpose"),e.qZA(),e.qZA(),e.TgZ(70,"div",47),e.TgZ(71,"div",26),e.TgZ(72,"div",20),e.TgZ(73,"input",48),e.NdJ("change",function(s){return e.CHM(t),e.oxw().onCheckboxChange1(s)}),e.qZA(),e.TgZ(74,"label",39),e._uU(75,"\xa0\xa0\xa0Education"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(76,"div",26),e.TgZ(77,"div",20),e.TgZ(78,"input",49),e.NdJ("change",function(s){return e.CHM(t),e.oxw().onCheckboxChange1(s)}),e.qZA(),e.TgZ(79,"label",39),e._uU(80,"\xa0\xa0\xa0Test Strips"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(81,"div",26),e.TgZ(82,"div",20),e.TgZ(83,"input",50),e.NdJ("change",function(s){return e.CHM(t),e.oxw().onCheckboxChange1(s)}),e.qZA(),e.TgZ(84,"label",39),e._uU(85,"\xa0\xa0\xa0Insulin"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(86,"div",51),e.TgZ(87,"div",20),e.TgZ(88,"input",52),e.NdJ("change",function(s){return e.CHM(t),e.oxw().onCheckboxChange1(s)}),e.qZA(),e.TgZ(89,"label",39),e._uU(90,"\xa0\xa0\xa0Peer Support Check"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(91,"div",53),e.TgZ(92,"div",18),e.TgZ(93,"div",54),e.TgZ(94,"div",55),e.TgZ(95,"button",56),e.NdJ("click",function(){return e.CHM(t),e.oxw().submit()}),e._uU(96,"Update"),e.qZA(),e._uU(97,"\xa0 "),e.TgZ(98,"button",57),e.NdJ("click",function(){return e.CHM(t),e.oxw().cancel()}),e._uU(99,"Cancel"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(100,"div",58),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("formGroup",t.ReferralForm),e.xp6(8),e.Q6J("ngClass",e.VKq(25,ge,t.submitted&&t.f.DoctorId.errors)),e.xp6(3),e.Q6J("ngForOf",t.allEntities),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.DoctorId.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(27,ge,t.submitted&&t.f.fname.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.fname.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(29,ge,t.submitted&&t.f.lname.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.lname.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(31,ge,t.submitted&&t.f.guardian.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.guardian.errors),e.xp6(5),e.Q6J("preValue",t.ReferralForm.value.contact)("phoneControl",t.ReferralForm.controls.contact)("ngClass",e.VKq(33,ge,t.submitted&&t.f.contact.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.contact.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(35,ge,t.submitted&&t.f.city.errors)),e.xp6(3),e.Q6J("ngForOf",t.cities),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.city.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(37,ge,t.submitted&&t.f.raddress.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.raddress.errors),e.xp6(8),e.Oqu(t.filename),e.xp6(1),e.Q6J("ngIf",t.db1data),e.xp6(13),e.Q6J("value",1),e.xp6(5),e.Q6J("value",2),e.xp6(5),e.Q6J("value",3),e.xp6(5),e.Q6J("value",4)}}let Dl=(()=>{class i{constructor(t,o,s,r,l,d,m,_,Z){this.frombuilder=t,this.childReferral=o,this.docterdetail=s,this._location=r,this.route=l,this.city=d,this.naviagator=m,this.spinner=_,this.userService=Z,this.isVisibleSuccess=!1,this.isVisibleFailure=!1,this.isDuplicateFailure=!1,this.submitted=!1,this.Data={},this.filename="",this.firstconsent=!1,this.secondconsent=!1,this.thirdconsent=!1,this.fourthconsent=!1,this.collapseFlag=!0}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():(this.formcontrols(),this.getAllDoctor(),this.getdatabyid(),this.getcities())}get f(){return this.ReferralForm.controls}formcontrols(){this.ReferralForm=this.frombuilder.group({fname:["",a.kI.required],lname:["",a.kI.required],city:["",a.kI.required],guardian:["",a.kI.required],raddress:["",a.kI.required],DoctorId:["",a.kI.required],contact:["03",{validators:[a.kI.required,a.kI.pattern(/^((\+92)|(0092))-{0,1}\d{3}-{0,1}\d{7}$|^\d{11}$|^\d{4}-\d{7}$/)]}],firstconsent:[""],secondconsent:[""],thirdconsent:[""],fourthconsent:[""]})}submit(){this.spinner.show(),this.submitted=!0;let o,t="";o=Date.now(),this.ReferralForm.invalid?this.spinner.hide():(null!=this.db1filename&&(t=this.db1filename),""!=this.filename&&(t=this.filenamebackend+o+"."+this.filetype),this.Data={fname:this.ReferralForm.value.fname,lname:this.ReferralForm.value.lname,city:this.ReferralForm.value.city,guardian:this.ReferralForm.value.guardian,raddress:this.ReferralForm.value.raddress,DoctorId:this.ReferralForm.value.DoctorId,contact:this.ReferralForm.value.contact,patientid:this.PatientId,thirdconsent:this.ReferralForm.value.thirdconsent,firstconsent:this.ReferralForm.value.firstconsent,secondconsent:this.ReferralForm.value.secondconsent,fourthconsent:this.ReferralForm.value.fourthconsent,prespath:t},this.childReferral.updateReferral(this.Data).subscribe(s=>{s&&("true"==s.duplicate?(this.spinner.hide(),this.isDuplicateFailure=!0,setTimeout(()=>this.isDuplicateFailure=!1,3e3)):""!=this.filename?this.childReferral.addlatestprecdoc(this.prespdf,this.PatientId,o).subscribe(r=>{r&&setTimeout(()=>{this.naviagator.navigate(["/pages/PendingReferralTable"]),this.spinner.hide()},3e3)}):(this.spinner.hide(),this.isVisibleSuccess=!0,setTimeout(()=>{this.isVisibleSuccess=!1},2e3),setTimeout(()=>{this.naviagator.navigate(["/pages/PendingReferralTable"])},500)))}))}downloadFile(t){let o=document.createElement("a");o.download=t,o.href=t,o.click()}getcities(){this.city.getallcities().subscribe(t=>{this.cities=t,console.table(t)})}getdatabyid(){this.childReferral.getdatabyid(this.route.snapshot.paramMap.get("id")).subscribe(o=>{o.length>0&&(this.ReferralForm.controls.fname.setValue(o[0].FirstName),this.ReferralForm.controls.lname.setValue(o[0].LastName),this.ChildName=o[0].FirstName+" "+o[0].LastName,this.ReferralForm.controls.city.setValue(o[0].City),this.ReferralForm.controls.guardian.setValue(o[0].GuardianName),this.ReferralForm.controls.raddress.setValue(o[0].Address),this.ReferralForm.controls.contact.setValue(o[0].PhoneNumberMobile),this.ReferralForm.controls.DoctorId.setValue(o[0].ReferredBy),this.PatientId=o[0].PatientId,this.firstconcheck=0!=o[0].Education,this.secondconcheck=0!=o[0].TestStrip,this.thirdconcheck=0!=o[0].Insulin,this.fourthconcheck=0!=o[0].Alloftheabove,""!=o[0].Priscription&&(o[0].Priscription.indexOf("."),this.db1data=!0,this.file1data=!1,this.db1filename=o[0].Priscription,this.weburl=window.location.protocol+"//"+window.location.host+"/Documents/childrefdata/",this.dbs1filename=this.weburl+t+"/"+o[0].Priscription)),this.ReferralForm.controls.firstconsent.setValue(o[0].Education),this.ReferralForm.controls.secondconsent.setValue(o[0].TestStrip),this.ReferralForm.controls.thirdconsent.setValue(o[0].Insulin),this.ReferralForm.controls.fourthconsent.setValue(o[0].Alloftheabove)});let t=this.route.snapshot.paramMap.get("id")}onFileSelectdoc1(t){const o=t.target.files[0];if(null==o)this.filename="";else if(o.size>2e6)alert("please select file less than 2 mb"),this.filename="";else{this.db1data=!1,this.file1data=!0,this.filename=o.name,this.filetype=o.name.substring(o.name.indexOf(".")+1,o.name.length),this.filenamebackend=o.name.substring(0,o.name.indexOf("."));var s=this.filename.split(".").pop();"pdf"==s||"jpg"==s||"jpeg"==s?(this.prespdf=new FormData,this.prespdf.append("latestprescription",o)):(alert("Please upload pdf of doc file"),this.filename="")}}onCheckboxChange1(t){1==t.target.value?this.firstconsent=!!t.target.checked:2==t.target.value?this.secondconsent=!!t.target.checked:3==t.target.value?this.thirdconsent=!!t.target.checked:4==t.target.value&&(this.fourthconsent=!!t.target.checked)}getAllDoctor(){this.docterdetail.getAllActiveData().subscribe(t=>{this.allEntities=t})}cancel(){this.ReferralForm.reset(),this._location.back()}collapse(){this.collapseFlag=0==this.collapseFlag}ngOnDestroy(){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(ie),e.Y36(B),e.Y36(g.Ye),e.Y36(p.gz),e.Y36(S),e.Y36(p.F0),e.Y36(v.t2),e.Y36(h))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-childreferaledit"]],decls:12,vars:4,consts:[[1,"content-wrapper"],["class","alertnotify","style","background: #CB3837",4,"ngIf"],["class","alertnotify","style","background: #54A254",4,"ngIf"],["bdColor","rgba(51,51,51,0.6)","size","medium","color","#fff","type","timer"],[2,"font-size","20px","color","white","margin-top","30px"],["activeIds","toggle-11",3,"closeOthers"],["id","toggle-11"],["ngbPanelTitle",""],["ngbPanelContent",""],[1,"alertnotify",2,"background","#CB3837"],[1,"alertnotify",2,"background","#54A254"],[1,"card-header--title"],[1,"text-dark"],[1,"pull-right"],[1,"fa","fa-angle-down","fa-lg"],[3,"formGroup"],[1,"row"],[1,"col-md-5"],[1,"col-md-12"],[1,"row","mt-1",2,"padding-left","15px"],[1,"col"],["id","s2"],["id","DoctorId","formControlName","DoctorId",1,"form-control","form-control-sm",3,"ngClass"],["value","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],[1,"row","mt-2",2,"padding-left","15px"],["type","text","id","fname","placeholder","Enter First Name","formControlName","fname","appAlphabetOnly","","maxlength","20",1,"form-control","form-control-sm",3,"ngClass"],["for","lname","id","s2"],["type","text","id","lname","placeholder","Enter Last Name","formControlName","lname","appAlphabetOnly","","maxlength","20",1,"form-control","form-control-sm",3,"ngClass"],["for","guardian","id","s2"],["type","text","id","guardian","placeholder","Enter Guardian Name","formControlName","guardian","appAlphabetOnly","","maxlength","20",1,"form-control","form-control-sm",3,"ngClass"],["for","contact","id","s2"],["type","text","id","contact","placeholder","03","formControlName","contact","phoneMask","","maxlength","12",1,"Phone","form-control","form-control-sm",3,"preValue","phoneControl","ngClass"],["for","City","id","s2"],["id","city","formControlName","city",1,"form-control","form-control-sm",3,"ngClass"],["type","text","id","raddress","placeholder","Enter Residential Address","formControlName","raddress","maxlength","200",1,"form-control","form-control-sm",3,"ngClass"],[1,"col-md-5","offset-1","mt-2"],[1,"pinkcard","mb-1",2,"padding","15px"],["for",""],[2,"padding-left","10px"],["style","padding-left: 10px","type","button","href","javascript: void(0);","id","downloadedFile","class","link-color-white",3,"click",4,"ngIf"],[1,"mb-2","mr-2","btn","upload-btn","rounded-pill","px-4"],["type","file","id","customFile","name","uploadedImage","accept","application/pdf,image/png,image/jpeg,","required","",1,"center-block","file-upload",2,"color","blue",3,"change"],["UploadFileInput",""],[1,"row","mb-1"],["id","s4",1,"mt-5"],[1,"card-border-local",2,"padding","15px"],["type","checkbox","formControlName","firstconsent","id","firstconsent",3,"value","change"],["type","checkbox","formControlName","secondconsent","id","secondconsent",3,"value","change"],["type","checkbox","formControlName","thirdconsent","id","thirdconsent",3,"value","change"],[1,"row","mt-2","mb-2",2,"padding-left","15px"],["type","checkbox","formControlName","fourthconsent","id","fourthconsent",3,"value","change"],[1,"row","mt-5"],[1,"row","mr-1",2,"float","right"],[1,"col",2,"float","right"],["ngbTooltip","Submit","type","submit","id","submit",1,"btn","btn-sm","upload-btn",3,"click"],["ngbTooltip","Reset","type","submit","id","reset",1,"btn","btn-sm","reset-btn",3,"click"],[1,"row",2,"padding-left","15px"],[3,"value"],[1,"invalid-feedback"],[4,"ngIf"],["type","button","href","javascript: void(0);","id","downloadedFile",1,"link-color-white",2,"padding-left","10px",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,gl,2,0,"div",1),e.YNc(2,ml,2,0,"div",2),e.TgZ(3,"div",0),e.YNc(4,pl,2,0,"div",1),e.qZA(),e.qZA(),e.TgZ(5,"ngx-spinner",3),e.TgZ(6,"p",4),e._uU(7,"Please wait..."),e.qZA(),e.qZA(),e.TgZ(8,"ngb-accordion",5),e.TgZ(9,"ngb-panel",6),e.YNc(10,_l,6,1,"ng-template",7),e.YNc(11,Fl,101,39,"ng-template",8),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",o.isVisibleFailure),e.xp6(1),e.Q6J("ngIf",o.isVisibleSuccess),e.xp6(2),e.Q6J("ngIf",o.isDuplicateFailure),e.xp6(4),e.Q6J("closeOthers",!0))},directives:[g.O5,v.Ro,u.gY,u.Gk,u.Cu,u.gW,a._Y,a.JL,a.sg,a.EJ,a.JJ,a.u,g.mk,a.YN,a.Kr,g.sg,a.Fj,x,a.nD,J,a.Wl,u._L],styles:['#customFile[_ngcontent-%COMP%]{position:absolute;top:0;left:0;filter:alpha(opacity=0);-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";opacity:0;background-color:transparent;color:transparent}input[type=checkbox][_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{font-size:medium;vertical-align:middle}input[type=checkbox][_ngcontent-%COMP%]{border:.1em;border-radius:.5em;width:1.3em;height:1.3em;vertical-align:middle}']}),i})();var Jl=T(8332);const El=function(i){return{background:i}};function Rl(i,n){if(1&i&&(e.ynx(0),e.TgZ(1,"tr",30),e.TgZ(2,"td"),e._uU(3),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.qZA(),e.BQk()),2&i){const t=n.$implicit;e.xp6(1),e.Q6J("ngStyle",e.VKq(5,El,t.Alert?"#ff005eb3":"rgba(0,0,0,.03)")),e.xp6(2),e.Oqu(t.Item),e.xp6(2),e.Oqu(t.Received),e.xp6(2),e.Oqu(t.Issued),e.xp6(2),e.Oqu(t.Stock)}}let kt=(()=>{class i{constructor(t,o,s,r){this.dashSer=t,this.userSer=o,this.detectchanges=s,this.popUpSer=r,this.allactivedata=[],this.provinceLabel=[],this.provinceCount=[],this.totalchildren=0,this.activechildren=0,this.pendingchildren=0,this.totdoctor=0,this.activedoctor=0,this.pendingdoctor=0,this.prependingchildren=0,this.tothospital=0,this.totpackage=0,this.ChartTitle="Province Wise Children",this.showChart=!1,this.IsSHowPage=!1}ngOnInit(){this.userSer.tokenExpired()?this.userSer.logout():(this.childGraph(),this.gettotalregstatus(),this.donughtChart(),this.getCurrentStock())}gettotalregstatus(){this.dashSer.gettotalregstatus().subscribe(t=>{if(t.length>0)for(var o in t)"totaldoctor"==t[o].counts&&(this.totdoctor=t[o].total),"activedoctor"==t[o].counts&&(this.activedoctor=t[o].total),"pendingdoctor"==t[o].counts&&(this.pendingdoctor=t[o].total),"totalpackage"==t[o].counts&&(this.totpackage=t[o].total),"totalhospital"==t[o].counts&&(this.tothospital=t[o].total),"totalchildren"==t[o].counts&&(this.totalchildren=t[o].total),"activechildren"==t[o].counts&&(this.activechildren=t[o].total),"pendingchildren"==t[o].counts&&(this.pendingchildren=t[o].total),"prependingchildren"==t[o].counts&&(this.prependingchildren=t[o].total)})}getCurrentStock(){this.dashSer.getCurrentStock().subscribe(t=>{t.length>0?(this.allactivedata=t,console.log(t),this.detectchanges.detectChanges(),$("#stockDataTable").DataTable({paging:!0,lengthMenu:[[8,10,20],[8,10,20]]})):(this.allactivedata=[],this.detectchanges.detectChanges(),$("#stockDataTable").DataTable({paging:!0,searching:!0,ordering:!0,lengthMenu:[[8,10,20],[8,10,20]]}))}),$("#stockDataTable").dataTable().fnDestroy()}childGraph(){this.ChartTitle="Province Wise Children",this.dashSer.getallChildrenCount().subscribe(t=>{if(this.provinceCount=[],this.provinceLabel=[],console.log(t,"response count"),t.length>0)for(var o in t)this.provinceCount.push(t[o].total),this.provinceLabel.push(t[o].Province);this.massPopchart&&this.massPopchart.destroy(),this.donughtChart()})}HospitalsGraph(){this.ChartTitle="Province Wise Hospitals",this.dashSer.getallHospitalsCount().subscribe(t=>{if(console.log(t,"responseeeee"),this.provinceCount=[],this.provinceLabel=[],console.log(t,"response count"),t.length>0)for(var o in t)this.provinceCount.push(t[o].total),this.provinceLabel.push(t[o].Province);this.massPopchart&&this.massPopchart.destroy(),this.donughtChart()})}PackagesGraph(){this.ChartTitle="Packages Sent To Children",this.dashSer.getallpackagesCount().subscribe(t=>{if(console.log(t,"responseeeee"),this.provinceCount=[],this.provinceLabel=[],console.log(t,"response count"),t.length>0)for(var o in t)this.provinceCount.push(t[o].total),this.provinceLabel.push(t[o].Province);this.massPopchart&&this.massPopchart.destroy(),this.donughtChart()})}DoctorsGraph(){this.ChartTitle="Province Wise Doctors",this.dashSer.getallDoctorsCount().subscribe(t=>{if(console.log(t,"responseeeee"),this.provinceCount=[],this.provinceLabel=[],console.log(t,"response count"),t.length>0)for(var o in t)this.provinceCount.push(t[o].total),this.provinceLabel.push(t[o].Province);this.massPopchart&&this.massPopchart.destroy(),this.donughtChart()})}getmap(){this.dashSer.getallChildrenCount().subscribe(t=>{if(t.length>0){let o=document.createElement("script");o.src="./assets/countrymap.js",o.type="text/javascript",o.async=!0,o.charset="utf-8",document.getElementsByTagName("head")[0].appendChild(o);let s=document.createElement("script");s.src="./assets/mapdata.js",s.type="text/javascript",s.async=!0,s.charset="utf-8",document.getElementsByTagName("head")[0].appendChild(s),$("#map").css("width","100%"),$("#map_access").css("width","100%"),$("svg").css("width","100%"),$("#map_inner").find("svg").css("left","15%"),setTimeout(()=>{for(var r in t){let l=document.createElement("script");l.type="text/javascript",l.innerHTML="$(simplemaps_countrymap_mapdata)[0].locations.push({  lat: "+t[r].Latitude+",lng: "+t[r].Longitude+',name: "'+t[r].city+'",description :'+t[r].total+"})",document.getElementsByTagName("head")[0].appendChild(l)}},1e3),setTimeout(()=>{let r=document.createElement("script");r.type="text/javascript",r.innerHTML="$(simplemaps_countrymap.load())",document.getElementsByTagName("head")[0].appendChild(r),$("#map").css("width","80%"),$("#map_access").css("width","80%"),$("svg").css("width","100%"),$("#map_inner").find("svg").css("left","20%"),$("#map_access").css("display","block")},2e3)}})}donughtChart(){this.massPopchart=new Jl.Chart("myChart1",{type:"doughnut",data:{labels:this.provinceLabel,datasets:[{label:"Total Children Registered :",data:this.provinceCount,backgroundColor:["rgba(255, 99, 132, 0.6)","rgba(75, 192, 192, 0.6)","rgba(153, 102, 255, 0.6)","rgba(255, 159, 64, 0.6)","rgba(128, 128, 0, 0.6)","rgba(54, 162, 235, 0.6)","rgba(0,  128, 128, 0.6)"],borderWidth:1,borderCollapse:"#777",hoverBorderWidth:1,hoverBorderColor:"#000"}]},options:{maintainAspectRatio:!0}})}ngOnDestroy(){console.log("destroyed")}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(At.s),e.Y36(h),e.Y36(e.sBO),e.Y36(b))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-dashboard"]],decls:80,vars:11,consts:[[1,"row","mg-2"],[1,"col-md-3",3,"click"],[1,"card-counter","info"],[1,"fa","fa-users"],[1,"count-name"],[1,"count-numbers"],[1,"count-numbersC"],[1,"count-numbers1"],[1,"count-numbersC1"],[1,"count-numbers2"],[1,"count-numbersC2"],[1,"card-counter","danger"],[1,"fa","fa-user-md"],[1,"card-counter","green"],[1,"fa","fa-building"],[1,"count-numbersC",2,"font-size","xx-large"],[1,"card-counter","success"],[1,"fa","fa-cube"],[1,"row"],[1,"col-md-6",2,"padding-left","7px"],[1,"card"],[1,"card-header","header"],[1,"card-body"],["id","myChart1","width","400","height","280"],[1,"col-md-6"],[1,"card-header"],[1,"table-responsive"],["id","stockDataTable",1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[3,"ngStyle"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.NdJ("click",function(){return o.childGraph()}),e.TgZ(2,"div",2),e._UZ(3,"i",3),e.TgZ(4,"span",4),e._uU(5,"Children"),e.qZA(),e._UZ(6,"br"),e.TgZ(7,"span",5),e._uU(8,"Total"),e.qZA(),e.TgZ(9,"span",6),e._uU(10),e.qZA(),e.TgZ(11,"span",7),e._uU(12,"Active"),e.qZA(),e.TgZ(13,"span",8),e._uU(14),e.qZA(),e.TgZ(15,"span",9),e._uU(16,"Prepending"),e.qZA(),e.TgZ(17,"span",10),e._uU(18),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"div",1),e.NdJ("click",function(){return o.DoctorsGraph()}),e.TgZ(20,"div",11),e._UZ(21,"i",12),e.TgZ(22,"span",4),e._uU(23,"Doctors"),e.qZA(),e._UZ(24,"br"),e.TgZ(25,"span",5),e._uU(26,"Total"),e.qZA(),e.TgZ(27,"span",6),e._uU(28),e.qZA(),e.TgZ(29,"span",7),e._uU(30,"Active"),e.qZA(),e.TgZ(31,"span",8),e._uU(32),e.qZA(),e.TgZ(33,"span",9),e._uU(34,"Pending"),e.qZA(),e.TgZ(35,"span",10),e._uU(36),e.qZA(),e.qZA(),e.qZA(),e.TgZ(37,"div",1),e.NdJ("click",function(){return o.HospitalsGraph()}),e.TgZ(38,"div",13),e._UZ(39,"i",14),e.TgZ(40,"span",4),e._uU(41,"Hospitals"),e.qZA(),e.TgZ(42,"span",15),e._uU(43),e.qZA(),e.qZA(),e.qZA(),e.TgZ(44,"div",1),e.NdJ("click",function(){return o.PackagesGraph()}),e.TgZ(45,"div",16),e._UZ(46,"i",17),e.TgZ(47,"span",4),e._uU(48,"Packages Sent"),e.qZA(),e.TgZ(49,"span",15),e._uU(50),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(51,"div",18),e.TgZ(52,"div",19),e.TgZ(53,"div",20),e.TgZ(54,"div",21),e.TgZ(55,"h5"),e._uU(56),e.qZA(),e.qZA(),e.TgZ(57,"div",22),e.TgZ(58,"canvas",23),e._uU(59),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(60,"div",24),e.TgZ(61,"div",20),e.TgZ(62,"div",25),e.TgZ(63,"h5"),e._uU(64,"Stock"),e.qZA(),e.qZA(),e.TgZ(65,"div",22),e.TgZ(66,"div",26),e.TgZ(67,"table",27),e.TgZ(68,"thead"),e.TgZ(69,"tr"),e.TgZ(70,"th",28),e._uU(71,"Item Name"),e.qZA(),e.TgZ(72,"th",28),e._uU(73,"Received Qty"),e.qZA(),e.TgZ(74,"th",28),e._uU(75,"Issued Qty"),e.qZA(),e.TgZ(76,"th",28),e._uU(77,"Current Stock"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(78,"tbody"),e.YNc(79,Rl,10,7,"ng-container",29),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(10),e.Oqu(o.totalchildren),e.xp6(4),e.Oqu(o.activechildren),e.xp6(4),e.Oqu(o.prependingchildren),e.xp6(10),e.Oqu(o.activedoctor+o.pendingdoctor),e.xp6(4),e.Oqu(o.activedoctor),e.xp6(4),e.Oqu(o.pendingdoctor),e.xp6(7),e.Oqu(o.tothospital),e.xp6(7),e.Oqu(o.totpackage),e.xp6(6),e.Oqu(o.ChartTitle),e.xp6(3),e.Oqu(o.massPopchart),e.xp6(20),e.Q6J("ngForOf",o.allactivedata))},directives:[g.sg,g.PC],styles:[".card-counter[_ngcontent-%COMP%]{box-shadow:2px 2px 10px #dadada;margin:5px;padding:20px 10px;background-color:#fff;height:100px;border-radius:5px;transition:.3s linear all}.card-counter[_ngcontent-%COMP%]:hover{box-shadow:4px 4px 20px #dadada;transition:.3s linear all}.card-counter.primary[_ngcontent-%COMP%], .card-counter.danger[_ngcontent-%COMP%], .card-counter.success[_ngcontent-%COMP%]{background-color:#585799;color:#fff}.card-counter.green[_ngcontent-%COMP%], .card-counter.info[_ngcontent-%COMP%]{background-color:#8b8bf1;color:#fff}.card-counter[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:5em;opacity:.4}.card-counter[_ngcontent-%COMP%]   .count-numbers[_ngcontent-%COMP%]{position:absolute;right:100px;top:35px;font-size:13px;font-weight:500;display:block}.card-counter[_ngcontent-%COMP%]   .count-numbersC[_ngcontent-%COMP%]{position:absolute;right:35px;top:35px;font-size:13px;font-weight:500;display:block}.card-counter[_ngcontent-%COMP%]   .count-numbersC1[_ngcontent-%COMP%]{position:absolute;right:35px;top:51px;font-size:13px;font-weight:500;display:block}.card-counter[_ngcontent-%COMP%]   .count-numbers1[_ngcontent-%COMP%]{position:absolute;right:100px;top:51px;font-size:13px;font-weight:500;display:block}.card-counter[_ngcontent-%COMP%]   .count-numbersC2[_ngcontent-%COMP%]{position:absolute;right:35px;top:67px;font-size:13px;font-weight:500;display:block}.card-counter[_ngcontent-%COMP%]   .count-numbers2[_ngcontent-%COMP%]{position:absolute;right:100px;top:67px;font-size:13px;font-weight:500;display:block}.card-counter[_ngcontent-%COMP%]   .count-name[_ngcontent-%COMP%]{position:absolute;right:35px;top:10px;font-style:italic;text-transform:capitalize;display:block;font-size:20px}.header[_ngcontent-%COMP%]{padding-left:10px;padding-top:10px}.mapcard[_ngcontent-%COMP%]{background-color:#f5f5f5}.count-numbersC[_ngcontent-%COMP%]{font-size:xx-large}"]}),i})(),Se=(()=>{class i{constructor(t){this.httpClient=t,this.token=localStorage.getItem("token"),this.httpOptions={headers:new c.WM({authorization:`Bearer ${this.token}`})}}getAllDepartment(){let t=localStorage.getItem("token"),o={headers:new c.WM({authorization:`Bearer ${t}`})};return this.httpClient.get("/api/department/getAllDept",o)}addDepartment(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/department/addDept",t,s)}editDepartment(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/department/updateDept",t,s)}deleteDepartment(t,o){let s=localStorage.getItem("token"),r={headers:new c.WM({authorization:`Bearer ${s}`})};return this.httpClient.get("/api/department/deleteDept?Departmentid="+t+"&userid="+o,r)}getDepartmentbyid(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/department/getDepartmentById?DepartmentId="+t,s)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(c.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Pl(i,n){1&i&&(e.TgZ(0,"div",13),e._uU(1," Something went wrong!. "),e.qZA())}function Yl(i,n){1&i&&(e.TgZ(0,"div",13),e._uU(1," Department is Already Added!. "),e.qZA())}function Ql(i,n){1&i&&(e.TgZ(0,"div",14),e._uU(1," Department is Added Successfully!. "),e.qZA())}function Ol(i,n){1&i&&(e.TgZ(0,"div",13),e._uU(1," Please First Remove EmployeeDepartment Of Same Department!. "),e.qZA())}function Ml(i,n){1&i&&(e.TgZ(0,"div",14),e._uU(1," Department is Deleted Successfully!. "),e.qZA())}function Vl(i,n){1&i&&(e.TgZ(0,"span",15),e._uU(1,"Add Department"),e.qZA(),e.TgZ(2,"div",16),e._UZ(3,"i",17),e.qZA())}function Bl(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Department Name is required "),e.qZA())}function Hl(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Department Name cannot contain whitespace"),e.qZA())}function $l(i,n){if(1&i&&(e.TgZ(0,"div",33),e.YNc(1,Bl,2,0,"div",34),e.YNc(2,Hl,2,0,"div",34),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.DeptName.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.DeptName.hasError("whitespace"))}}function Ll(i,n){if(1&i&&(e.TgZ(0,"option",35),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.DepartmentId),e.xp6(1),e.hij(" ",t.DeptName," ")}}function Gl(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Location is required "),e.qZA())}function jl(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Location cannot contain whitespace"),e.qZA())}function zl(i,n){if(1&i&&(e.TgZ(0,"div",33),e.YNc(1,Gl,2,0,"div",34),e.YNc(2,jl,2,0,"div",34),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.Location.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.Location.hasError("whitespace"))}}function Wl(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Mobile Number is required "),e.qZA())}function Kl(i,n){1&i&&(e.TgZ(0,"div",37),e._uU(1," Please Enter valid Mobile number (without dash) "),e.qZA())}function Xl(i,n){if(1&i&&(e.TgZ(0,"div",33),e.YNc(1,Wl,2,0,"div",34),e.YNc(2,Kl,2,0,"div",36),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.PhoneNumber.errors.required),e.xp6(1),e.Q6J("ngIf",t.depForm.controls.PhoneNumber.hasError("pattern"))}}const rt=function(i){return{"is-invalid":i}};function ed(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"form",18),e.TgZ(1,"div",19),e.TgZ(2,"div",20),e.TgZ(3,"label"),e._uU(4,"Department Name"),e.qZA(),e._UZ(5,"input",21),e.YNc(6,$l,3,2,"div",22),e.qZA(),e.TgZ(7,"div",20),e.TgZ(8,"label"),e._uU(9,"Super Department"),e.qZA(),e.TgZ(10,"select",23),e.TgZ(11,"option",24),e._uU(12,"Please Select"),e.qZA(),e.YNc(13,Ll,2,2,"option",25),e.qZA(),e.qZA(),e.TgZ(14,"div",20),e.TgZ(15,"label"),e._uU(16,"Location"),e.qZA(),e._UZ(17,"input",26),e.YNc(18,zl,3,2,"div",22),e.qZA(),e.TgZ(19,"div",20),e.TgZ(20,"label"),e._uU(21,"Mobile Number "),e.qZA(),e._UZ(22,"input",27),e.YNc(23,Xl,3,2,"div",22),e.qZA(),e.qZA(),e.TgZ(24,"div",19),e.TgZ(25,"div",20),e.TgZ(26,"label"),e._uU(27,"Description "),e.qZA(),e._UZ(28,"textarea",28),e.qZA(),e.qZA(),e._UZ(29,"br"),e.TgZ(30,"div",29),e.TgZ(31,"div",30),e.TgZ(32,"button",31),e.NdJ("click",function(){return e.CHM(t),e.oxw().addDep()}),e._uU(33," Submit"),e.qZA(),e._uU(34,"\xa0 "),e.TgZ(35,"button",32),e.NdJ("click",function(){return e.CHM(t),e.oxw().reset()}),e._uU(36," Reset "),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("formGroup",t.depForm),e.xp6(5),e.Q6J("ngClass",e.VKq(10,rt,t.submitted&&t.f.DeptName.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.DeptName.errors),e.xp6(7),e.Q6J("ngForOf",t.alldepartments),e.xp6(4),e.Q6J("ngClass",e.VKq(12,rt,t.submitted&&t.f.Location.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.Location.errors),e.xp6(4),e.Q6J("preValue",t.depForm.value.PhoneNumber)("phoneControl",t.depForm.controls.PhoneNumber)("ngClass",e.VKq(14,rt,t.submitted&&t.f.PhoneNumber.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.PhoneNumber.errors)}}function td(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",42),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;return e.oxw().openConfirmationDialog(s.DepartmentId)}),e._UZ(1,"i",43),e.qZA()}}function id(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"th",38),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e.TgZ(12,"button",39),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().editDepartment(r.DepartmentId)}),e._UZ(13,"i",40),e.qZA(),e._uU(14," \xa0 "),e.YNc(15,td,2,0,"button",41),e.qZA(),e.qZA()}if(2&i){const t=n.$implicit,o=n.index,s=e.oxw();e.xp6(2),e.Oqu(o+1),e.xp6(2),e.Oqu(t.DeptName),e.xp6(2),e.Oqu(t.PhoneNumber),e.xp6(2),e.Oqu(t.Location),e.xp6(2),e.Oqu(t.SuperDepartment),e.xp6(5),e.Q6J("ngIf",s.IsDelete)}}let od=(()=>{class i{constructor(t,o,s,r,l,d,m){this.myFormBuilder=t,this.depSer=o,this.myRouter=s,this.userService=r,this.cdr=l,this.popUpSer=d,this.detectChanges=m,this.isVisibleSuccess=!1,this.isVisibleFailure=!1,this.departmentVisibleFailure=!1,this.submitted=!1,this.addJson={},this.IsSHowPage=!1,this.tData=!1,this.IsDelete=!1,this.isdeleteSuccess=!1,this.isdeleteFailure=!1}get f(){return this.depForm.controls}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():(this.getAllSuperdepartments(),this.formControls(),this.getAllDepartment())}addDep(){this.submitted=!0,!this.depForm.invalid&&(this.addJson="Please Select"==this.depForm.value.SuperDepartment?{DeptName:this.depForm.value.DeptName,Description:this.depForm.value.Description,PhoneNumber:this.depForm.value.PhoneNumber,Location:this.depForm.value.Location,SuperDepartment:null}:{DeptName:this.depForm.value.DeptName,Description:this.depForm.value.Description,PhoneNumber:this.depForm.value.PhoneNumber,Location:this.depForm.value.Location,SuperDepartment:this.depForm.value.SuperDepartment},this.depSer.addDepartment(this.addJson).subscribe(t=>{"Duplicate"==t?(this.departmentVisibleFailure=!0,setTimeout(()=>this.departmentVisibleFailure=!1,5e3)):t?(this.isVisibleSuccess=!0,setTimeout(()=>this.isVisibleSuccess=!1,3e3),this.depForm.reset(),this.submitted=!1,this.getAllDepartment(),this.getAllSuperdepartments()):(this.isVisibleFailure=!0,setTimeout(()=>this.isVisibleFailure=!1,5e3))}))}formControls(){this.depForm=this.myFormBuilder.group({DeptName:["",[a.kI.required]],SuperDepartment:[null],Location:["",[a.kI.required]],PhoneNumber:["03",a.kI.compose([a.kI.required,a.kI.pattern(/^((\+92)|(0092))-{0,1}\d{3}-{0,1}\d{7}$|^\d{11}$|^\d{4}-\d{7}$/)])],Description:[""]})}getAllSuperdepartments(){this.depSer.getAllDepartment().subscribe(t=>{t.length>0&&(this.alldepartments=t,this.cdr.detectChanges())})}reset(){this.depForm.reset(),this.submitted=!1}getAllDepartment(){this.tData=!0,setTimeout(()=>{this.depSer.getAllDepartment().subscribe(t=>{t.length>0?(this.departments=t,this.detectChanges.detectChanges(),$("#depdataTable").DataTable({paging:!0,searching:!0,ordering:!0})):(this.departments=[],this.detectChanges.detectChanges(),$("#depdataTable").DataTable({paging:!0,searching:!0,ordering:!0}))})},500),$("#depdataTable").dataTable().fnDestroy()}editDepartment(t){this.myRouter.navigate(["/pages/edit-department/"+t])}openConfirmationDialog(t){let o=localStorage.getItem("CurrentUserId");this.popUpSer.confirm("Please Confirm..","Do you really want to Delete?").then(s=>{s&&this.depSer.deleteDepartment(t,o).subscribe(r=>{0==r?(this.isdeleteFailure=!0,setTimeout(()=>this.isdeleteFailure=!1,5e3)):(this.tData=!1,this.getAllDepartment(),this.isdeleteSuccess=!0,setTimeout(()=>this.isdeleteSuccess=!1,3e3))})}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)"))}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(Se),e.Y36(p.F0),e.Y36(h),e.Y36(e.sBO),e.Y36(b),e.Y36(e.sBO))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-department"]],decls:34,vars:7,consts:[[1,"content-wrapper"],["class","alertnotify","style","background: #cb3837",4,"ngIf"],["class","alertnotify","style","background: #54a254",4,"ngIf"],["activeIds","toggle-11",3,"closeOthers"],["id","toggle-11"],["ngbPanelTitle",""],["ngbPanelContent",""],[1,"card","main-card","mb-3"],[1,"card-header"],[1,"table-responsive"],["id","depdataTable",1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[1,"alertnotify",2,"background","#cb3837"],[1,"alertnotify",2,"background","#54a254"],[1,"card-header--title"],[1,"pull-right"],[1,"fa","fa-angle-down","fa-lg"],[3,"formGroup"],[1,"row"],[1,"col-6","col-sm-6","col-md-3","col-lg-3"],["type","text","name","deptName","placeholder","Department Name","formControlName","DeptName","id","DeptName","appAlphabetOnly","",1,"form-control","form-control-sm",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["name","superDepartment","formControlName","SuperDepartment","id","SuperDepartment",1,"form-control","form-control-sm"],["value","null"],[3,"value",4,"ngFor","ngForOf"],["type","text","name","location","placeholder","Location","formControlName","Location","id","Location",1,"form-control","form-control-sm",3,"ngClass"],["type","text","name","phoneNumber","placeholder","Mobile Number","phoneMask","","formControlName","PhoneNumber","id","Phone","maxlength","12",1,"Phone","form-control","form-control-sm",3,"preValue","phoneControl","ngClass"],["type","text","name","description","placeholder","Description","id","Description","formControlName","Description",1,"form-control","form-control-sm"],[1,"row","mt-2"],[1,"col","text-right"],[1,"btn","upload-btn","btn-sm",3,"click"],[1,"btn","reset-btn","btn-sm",3,"click"],[1,"invalid-feedback"],[4,"ngIf"],[3,"value"],["class","text-danger",4,"ngIf"],[1,"text-danger"],["scope","row"],[1,"btn","edit-btn","btn-sm",3,"click"],[1,"fa","fa-pencil","fa-fw"],["class","btn delet-btn btn-sm",3,"click",4,"ngIf"],[1,"btn","delet-btn","btn-sm",3,"click"],[1,"fa","fa-trash","fa-fw"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Pl,2,0,"div",1),e.YNc(2,Yl,2,0,"div",1),e.YNc(3,Ql,2,0,"div",2),e.YNc(4,Ol,2,0,"div",1),e.YNc(5,Ml,2,0,"div",2),e.qZA(),e.TgZ(6,"ngb-accordion",3),e.TgZ(7,"ngb-panel",4),e.YNc(8,Vl,4,0,"ng-template",5),e.YNc(9,ed,37,16,"ng-template",6),e.qZA(),e.qZA(),e._UZ(10,"br"),e.TgZ(11,"div",7),e.TgZ(12,"div",8),e.TgZ(13,"b"),e._uU(14,"List of All Departments"),e.qZA(),e.qZA(),e.TgZ(15,"div",9),e._UZ(16,"br"),e.TgZ(17,"table",10),e.TgZ(18,"thead"),e.TgZ(19,"tr"),e.TgZ(20,"th",11),e._uU(21,"#"),e.qZA(),e.TgZ(22,"th",11),e._uU(23,"Department Name"),e.qZA(),e.TgZ(24,"th",11),e._uU(25,"Contact No"),e.qZA(),e.TgZ(26,"th",11),e._uU(27,"Location"),e.qZA(),e.TgZ(28,"th",11),e._uU(29,"Super Department"),e.qZA(),e.TgZ(30,"th",11),e._uU(31,"Action"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(32,"tbody"),e.YNc(33,id,16,6,"tr",12),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",o.isVisibleFailure),e.xp6(1),e.Q6J("ngIf",o.departmentVisibleFailure),e.xp6(1),e.Q6J("ngIf",o.isVisibleSuccess),e.xp6(1),e.Q6J("ngIf",o.isdeleteFailure),e.xp6(1),e.Q6J("ngIf",o.isdeleteSuccess),e.xp6(1),e.Q6J("closeOthers",!0),e.xp6(27),e.Q6J("ngForOf",o.departments))},directives:[g.O5,u.gY,u.Gk,u.Cu,u.gW,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,x,g.mk,a.EJ,a.YN,a.Kr,g.sg,J,a.nD],styles:[""]}),i})();function nd(i,n){1&i&&(e.TgZ(0,"div",7),e._uU(1," Something went wrong!. "),e.qZA())}function sd(i,n){1&i&&(e.TgZ(0,"div",7),e._uU(1," Already Added!. "),e.qZA())}function rd(i,n){1&i&&(e.TgZ(0,"div",8),e._uU(1," Updated Successfully!. "),e.qZA())}function ad(i,n){1&i&&(e.TgZ(0,"span",9),e._uU(1,"Edit Department"),e.qZA())}function ld(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Department Name is required"),e.qZA())}function dd(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Department Name cannot contain whitespace"),e.qZA())}function cd(i,n){if(1&i&&(e.TgZ(0,"div",25),e.YNc(1,ld,2,0,"div",26),e.YNc(2,dd,2,0,"div",26),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.DeptName.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.DeptName.hasError("whitespace"))}}function ud(i,n){if(1&i&&(e.TgZ(0,"option",27),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.DepartmentId),e.xp6(1),e.Oqu(t.DeptName)}}function gd(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Location is required"),e.qZA())}function md(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Location cannot contain whitespace"),e.qZA())}function pd(i,n){if(1&i&&(e.TgZ(0,"div",25),e.YNc(1,gd,2,0,"div",26),e.YNc(2,md,2,0,"div",26),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.Location.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.Location.hasError("whitespace"))}}function _d(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Mobile Number is required"),e.qZA())}function hd(i,n){1&i&&(e.TgZ(0,"div",29),e._uU(1,"Please Enter valid Mobile number (without dash)"),e.qZA())}function fd(i,n){if(1&i&&(e.TgZ(0,"div",25),e.YNc(1,_d,2,0,"div",26),e.YNc(2,hd,2,0,"div",28),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.PhoneNumber.errors.required),e.xp6(1),e.Q6J("ngIf",t.depForm.controls.PhoneNumber.hasError("pattern"))}}const at=function(i){return{"is-invalid":i}};function Zd(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"form",10),e._UZ(1,"input",11),e.TgZ(2,"div",12),e.TgZ(3,"div",13),e.TgZ(4,"label"),e._uU(5,"Department Name"),e.qZA(),e._UZ(6,"input",14),e.YNc(7,cd,3,2,"div",15),e.qZA(),e.TgZ(8,"div",13),e.TgZ(9,"label"),e._uU(10,"Super Department"),e.qZA(),e.TgZ(11,"select",16),e.YNc(12,ud,2,2,"option",17),e.qZA(),e.qZA(),e.TgZ(13,"div",13),e.TgZ(14,"label"),e._uU(15,"Location"),e.qZA(),e._UZ(16,"input",18),e.YNc(17,pd,3,2,"div",15),e.qZA(),e.TgZ(18,"div",13),e.TgZ(19,"label"),e._uU(20,"Mobile Number "),e.qZA(),e._UZ(21,"input",19),e.YNc(22,fd,3,2,"div",15),e.qZA(),e.qZA(),e.TgZ(23,"div",12),e.TgZ(24,"div",13),e.TgZ(25,"label"),e._uU(26,"Description "),e.qZA(),e._UZ(27,"textarea",20),e.qZA(),e.qZA(),e.TgZ(28,"div",21),e.TgZ(29,"div",22),e.TgZ(30,"button",23),e.NdJ("click",function(){return e.CHM(t),e.oxw().updateDep()}),e._uU(31,"Update"),e.qZA(),e._uU(32,"\xa0 "),e.TgZ(33,"button",24),e.NdJ("click",function(){return e.CHM(t),e.oxw().addCancel()}),e._uU(34,"Cancel"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("formGroup",t.depForm),e.xp6(6),e.Q6J("ngClass",e.VKq(10,at,t.submitted&&t.f.DeptName.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.DeptName.errors),e.xp6(5),e.Q6J("ngForOf",t.alldepartments),e.xp6(4),e.Q6J("ngClass",e.VKq(12,at,t.submitted&&t.f.Location.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.Location.errors),e.xp6(4),e.Q6J("preValue",t.depForm.value.PhoneNumber)("phoneControl",t.depForm.controls.PhoneNumber)("ngClass",e.VKq(14,at,t.submitted&&t.f.PhoneNumber.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.PhoneNumber.errors)}}let bd=(()=>{class i{constructor(t,o,s,r,l,d,m){this.myFormBuilder=t,this.depSer=o,this.myRouter=s,this.route=r,this.userService=l,this.popUpSer=d,this.location=m,this.submitted=!1,this.isVisibleSuccess=!1,this.isVisibleFailure=!1,this.departmentVisibleFailure=!1,this.IsSHowPage=!1}get f(){return this.depForm.controls}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():(this.formControls(),this.getAlldepartments())}formControls(){this.depForm=this.myFormBuilder.group({DepartmentId:[""],DeptName:["",[a.kI.required]],SuperDepartment:[""],Location:["",[a.kI.required]],PhoneNumber:["",a.kI.compose([a.kI.required,a.kI.pattern(/^((\+92)|(0092))-{0,1}\d{3}-{0,1}\d{7}$|^\d{11}$|^\d{4}-\d{7}$/)])],Description:[""]}),this.depSer.getDepartmentbyid(this.route.snapshot.paramMap.get("id")).subscribe(t=>{this.selectedValue=t[0].ParentId,this.department=t,this.depForm.controls.DepartmentId.setValue(t[0].DepartmentId),this.depForm.controls.DeptName.setValue(t[0].DeptName),this.depForm.controls.SuperDepartment.setValue(t[0].ParentId),this.depForm.controls.Location.setValue(t[0].Location),this.depForm.controls.PhoneNumber.setValue(t[0].PhoneNumber),this.depForm.controls.Description.setValue(t[0].Description)})}updateDep(){this.submitted=!0,!this.depForm.invalid&&this.depSer.editDepartment(this.depForm.value).subscribe(t=>{"Duplicate"==t?(this.departmentVisibleFailure=!0,setTimeout(()=>this.departmentVisibleFailure=!1,5e3)):t?(this.isVisibleSuccess=!0,setTimeout(()=>this.isVisibleSuccess=!1,3e3),setTimeout(()=>this.myRouter.navigate(["/pages/add-department"]),3e3)):(this.isVisibleFailure=!0,setTimeout(()=>this.isVisibleFailure=!1,5e3))})}getAlldepartments(){this.depSer.getAllDepartment().subscribe(t=>{t.length>0&&(this.alldepartments=t)})}addCancel(){this.location.back()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(Se),e.Y36(p.F0),e.Y36(p.gz),e.Y36(h),e.Y36(b),e.Y36(g.Ye))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit-department"]],decls:8,vars:4,consts:[[1,"content-wrapper"],["class","alertnotify","style","background: #cb3837;",4,"ngIf"],["class","alertnotify","style","background: #54a254;",4,"ngIf"],["activeIds","toggle-11",3,"closeOthers"],["id","toggle-11"],["ngbPanelTitle",""],["ngbPanelContent",""],[1,"alertnotify",2,"background","#cb3837"],[1,"alertnotify",2,"background","#54a254"],[1,"card-header--title"],[3,"formGroup"],["type","hidden","formControlName","DepartmentId"],[1,"row"],[1,"col-6","col-sm-6","col-md-3","col-lg-3"],["type","text","name","deptName","placeholder","Department Name","formControlName","DeptName","id","DeptName","appAlphabetOnly","",1,"form-control","form-control-sm",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["name","superDepartment","formControlName","SuperDepartment",1,"form-control","form-control-sm"],[3,"value",4,"ngFor","ngForOf"],["type","text","name","location","placeholder","Location","formControlName","Location","id","Location",1,"form-control","form-control-sm",3,"ngClass"],["type","text","name","phoneNumber","placeholder","Mobile Number","formControlName","PhoneNumber","phoneMask","","id","PhoneNumber","maxlength","12",1,"Phone","form-control","form-control-sm",3,"preValue","phoneControl","ngClass"],["type","text","name","description","placeholder","Description","id","Description","formControlName","Description",1,"form-control","form-control-sm"],[1,"row","mt-2"],[1,"col","text-right"],[1,"btn","upload-btn","btn-sm",3,"click"],["data-target","#toggle-11","data-toggle","collapse",1,"btn","reset-btn","btn-sm",3,"click"],[1,"invalid-feedback"],[4,"ngIf"],[3,"value"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,nd,2,0,"div",1),e.YNc(2,sd,2,0,"div",1),e.YNc(3,rd,2,0,"div",2),e.qZA(),e.TgZ(4,"ngb-accordion",3),e.TgZ(5,"ngb-panel",4),e.YNc(6,ad,2,0,"ng-template",5),e.YNc(7,Zd,35,16,"ng-template",6),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",o.isVisibleFailure),e.xp6(1),e.Q6J("ngIf",o.departmentVisibleFailure),e.xp6(1),e.Q6J("ngIf",o.isVisibleSuccess),e.xp6(1),e.Q6J("closeOthers",!0))},directives:[g.O5,u.gY,u.Gk,u.Cu,u.gW,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,x,g.mk,a.EJ,g.sg,a.YN,a.Kr,J,a.nD],styles:[""]}),i})(),lt=(()=>{class i{constructor(t){this.httpClient=t,this.token=localStorage.getItem("token"),this.httpOptions={headers:new c.WM({authorization:`Bearer ${this.token}`})}}AddDiabeteslog(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/diabeteslog/AddDiabeteslog",t,s)}getAllPoino(){let t=localStorage.getItem("token"),o={headers:new c.WM({authorization:`Bearer ${t}`})};return this.httpClient.get("/api/diabeteslog/getAllPoino",o)}getallDiabeteslog(){let t=localStorage.getItem("token"),o={headers:new c.WM({authorization:`Bearer ${t}`})};return this.httpClient.get("/api/diabeteslog/GetAllDiabetesLog",o)}GetAllDiabetesLogbyId(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("api/diabeteslog/GetAllDiabetesLogbyId?id="+t,s)}updateDiabeteslog(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("api/diabeteslog/updateDiabeteslog",t,s)}deleteDiabeteslog(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("api/diabeteslog/deleteDiabeteslog?id="+t,s)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(c.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function vd(i,n){1&i&&(e.TgZ(0,"div",8),e._uU(1," Something went wrong!. "),e.qZA())}function Td(i,n){1&i&&(e.TgZ(0,"div",9),e._uU(1," Added Successfully!. "),e.qZA())}function Ad(i,n){1&i&&(e.TgZ(0,"div",8),e._uU(1," Something went wrong!. "),e.qZA())}function Cd(i,n){1&i&&(e.TgZ(0,"div",8),e._uU(1," Deleted Successfully!. "),e.qZA())}function qd(i,n){1&i&&(e.TgZ(0,"span",10),e._uU(1,"Diabetes Log"),e.qZA(),e.TgZ(2,"div",11),e._UZ(3,"i",12),e.qZA())}function xd(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"POI is required"),e.qZA())}function Id(i,n){if(1&i&&(e.TgZ(0,"div",42),e.YNc(1,xd,2,0,"div",43),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.poinumber.errors.required)}}function yd(i,n){if(1&i&&(e.TgZ(0,"option",44),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.CategoryId),e.xp6(1),e.Oqu(t.CategoryName)}}function kd(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Meal is required"),e.qZA())}function Ud(i,n){if(1&i&&(e.TgZ(0,"div",42),e.YNc(1,kd,2,0,"div",43),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.mealtype.errors)}}function Nd(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Meal is required "),e.qZA())}function wd(i,n){if(1&i&&(e.TgZ(0,"div",42),e.YNc(1,Nd,2,0,"div",43),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.mealtaken.errors.required)}}function Sd(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Meal is required "),e.qZA())}function Fd(i,n){if(1&i&&(e.TgZ(0,"div",42),e.YNc(1,Sd,2,0,"div",43),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.glubeforemeal.errors.required)}}function Dd(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Meal is required "),e.qZA())}function Jd(i,n){if(1&i&&(e.TgZ(0,"div",42),e.YNc(1,Dd,2,0,"div",43),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.gluaftermeal.errors.required)}}function Ed(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Meal is required "),e.qZA())}function Rd(i,n){if(1&i&&(e.TgZ(0,"div",42),e.YNc(1,Ed,2,0,"div",43),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.insulin.errors.required)}}function Pd(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Date is required "),e.qZA())}function Yd(i,n){if(1&i&&(e.TgZ(0,"div",42),e.YNc(1,Pd,2,0,"div",43),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.date.errors.required)}}const me=function(i){return{"is-invalid":i}};function Qd(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"form",13),e.TgZ(1,"div"),e.TgZ(2,"div"),e.TgZ(3,"div",14),e.TgZ(4,"div",15),e.TgZ(5,"div",14),e.TgZ(6,"div",16),e.TgZ(7,"label",17),e._uU(8,"POI No"),e.qZA(),e._UZ(9,"input",18),e.YNc(10,Id,2,1,"div",19),e.qZA(),e.TgZ(11,"div",20),e.TgZ(12,"label",21),e._uU(13,"Meal Type (Breakfast/Lunch/Dinner)"),e.qZA(),e.TgZ(14,"select",22),e.TgZ(15,"option",23),e._uU(16,"Please Select"),e.qZA(),e.YNc(17,yd,2,2,"option",24),e.qZA(),e.YNc(18,Ud,2,1,"div",19),e.qZA(),e.TgZ(19,"div",20),e.TgZ(20,"label",25),e._uU(21,"Meal Taken"),e.qZA(),e._UZ(22,"input",26),e.YNc(23,wd,2,1,"div",19),e.qZA(),e.qZA(),e.TgZ(24,"div",14),e.TgZ(25,"div",27),e.TgZ(26,"label",28),e._uU(27,"Glucose Reading Before"),e.qZA(),e._UZ(28,"input",29),e.YNc(29,Fd,2,1,"div",19),e.qZA(),e.TgZ(30,"div",27),e.TgZ(31,"label",30),e._uU(32,"Glucose Reading After"),e.qZA(),e._UZ(33,"input",31),e.YNc(34,Jd,2,1,"div",19),e.qZA(),e.qZA(),e.TgZ(35,"div",14),e.TgZ(36,"div",27),e.TgZ(37,"label",32),e._uU(38,"Insulin Dose"),e.qZA(),e._UZ(39,"input",33),e.YNc(40,Rd,2,1,"div",19),e.qZA(),e.TgZ(41,"div",27),e.TgZ(42,"label",32),e._uU(43,"Date"),e.qZA(),e._UZ(44,"input",34),e.YNc(45,Yd,2,1,"div",19),e.qZA(),e.qZA(),e.qZA(),e.TgZ(46,"div",20),e.TgZ(47,"div",14),e.TgZ(48,"div",35),e.TgZ(49,"label",36),e._uU(50,"Comments "),e.qZA(),e.TgZ(51,"textarea",37),e._uU(52,"                    "),e.qZA(),e.TgZ(53,"div",38),e.TgZ(54,"div",39),e.TgZ(55,"button",40),e.NdJ("click",function(){return e.CHM(t),e.oxw().submit()}),e._uU(56,"Submit"),e.qZA(),e._uU(57,"\xa0 "),e.TgZ(58,"button",41),e.NdJ("click",function(){return e.CHM(t),e.oxw().cancel()}),e._uU(59,"Reset"),e.qZA(),e._uU(60,"\xa0 "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("formGroup",t.DiabetesLog),e.xp6(9),e.Q6J("ngClass",e.VKq(16,me,t.submitted&&t.f.poinumber.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.poinumber.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(18,me,t.submitted&&t.f.mealtype.errors)),e.xp6(3),e.Q6J("ngForOf",t.Mealtype),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.mealtype.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(20,me,t.submitted&&t.f.mealtaken.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.mealtaken.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(22,me,t.submitted&&t.f.glubeforemeal.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.glubeforemeal.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(24,me,t.submitted&&t.f.gluaftermeal.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.gluaftermeal.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(26,me,t.submitted&&t.f.insulin.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.insulin.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(28,me,t.submitted&&t.f.date.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.date.errors)}}function Od(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",54),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;return e.oxw(2).EditDiabetesLog(s.DiabetesLogId)}),e._UZ(1,"i",55),e.qZA()}}function Md(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",56),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;return e.oxw(2).Delete(s.DiabetesLogId)}),e._UZ(1,"i",57),e.qZA()}}function Vd(i,n){if(1&i&&(e.TgZ(0,"tr"),e.TgZ(1,"th",51),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td"),e._uU(18),e.qZA(),e.TgZ(19,"td"),e.YNc(20,Od,2,0,"button",52),e._uU(21," \xa0 "),e.YNc(22,Md,2,0,"button",53),e.qZA(),e.qZA()),2&i){const t=n.$implicit,o=n.index,s=e.oxw(2);e.xp6(2),e.Oqu(o+1),e.xp6(2),e.Oqu(t.PoiNo),e.xp6(2),e.Oqu(t.CategoryName),e.xp6(2),e.Oqu(t.MealTaken),e.xp6(2),e.Oqu(t.GlucoseBeforeMeal),e.xp6(2),e.Oqu(t.GlucoseAfterMeal),e.xp6(2),e.Oqu(t.InsulinDose),e.xp6(2),e.Oqu(t.submitedDate1),e.xp6(2),e.Oqu(t.Comments),e.xp6(2),e.Q6J("ngIf",s.editrec),e.xp6(2),e.Q6J("ngIf",s.deleterec)}}function Bd(i,n){if(1&i&&(e.TgZ(0,"div",14),e.TgZ(1,"h6",45),e._uU(2," Diabetes Log Table "),e.qZA(),e.TgZ(3,"div",46),e._UZ(4,"br"),e.TgZ(5,"table",47),e.TgZ(6,"thead"),e.TgZ(7,"tr"),e.TgZ(8,"th",48),e._uU(9,"#"),e.qZA(),e.TgZ(10,"th",48),e._uU(11,"POI No"),e.qZA(),e.TgZ(12,"th",48),e._uU(13,"Meal Type"),e.qZA(),e.TgZ(14,"th",48),e._uU(15,"Meal Taken"),e.qZA(),e.TgZ(16,"th",48),e._uU(17,"GlucoseBeforeMeal"),e.qZA(),e.TgZ(18,"th",48),e._uU(19,"GlucoseAfterMeal "),e.qZA(),e.TgZ(20,"th",48),e._uU(21,"InsulinDose"),e.qZA(),e.TgZ(22,"th",48),e._uU(23,"Date&Time"),e.qZA(),e.TgZ(24,"th",48),e._uU(25,"Comments"),e.qZA(),e.TgZ(26,"th",49),e._uU(27," Action "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(28,"tbody"),e.YNc(29,Vd,23,11,"tr",50),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(29),e.Q6J("ngForOf",t.DataformDb)}}let Hd=(()=>{class i{constructor(t,o,s,r,l,d,m){this.frombuilder=t,this.diabeteslog=o,this.Entity=s,this.route=r,this.detectChanges=l,this.userService=d,this.popUpSer=m,this.submitted=!1,this.isVisibleFailure=!1,this.isVisibleSuccess=!1,this.IsSHowPage=!1,this.editrec=!1,this.tabrec=!1,this.poino=[],this.deleterec=!1}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():(this.formcontrols(),this.getallpoino(),this.entity(1229),this.tabrec=!0,this.getallDiabeteslog(),setTimeout(()=>{this.userService.checkUserHasAccess("/pages/delete-diabetes-log").subscribe(t=>{this.deleterec=!0})},300),setTimeout(()=>{this.userService.checkUserHasAccess("/pages/edit-diabetes-log").subscribe(t=>{this.editrec=!0})},300))}getallpoino(){this.diabeteslog.getAllPoino().subscribe(t=>{t.length>0&&(this.poino=t)})}get f(){return this.DiabetesLog.controls}formcontrols(){this.DiabetesLog=this.frombuilder.group({poinumber:["POI-00000",a.kI.required],mealtaken:["",a.kI.required],mealtype:["",a.kI.required],glubeforemeal:["",a.kI.required],gluaftermeal:["",a.kI.required],insulin:["",a.kI.required],date:["",a.kI.required],comment:[""]})}submit(){this.submitted=!0,!this.DiabetesLog.invalid&&(this.formdata={poino:this.DiabetesLog.value.poinumber,mealtaken:this.DiabetesLog.value.mealtaken,mealtype:this.DiabetesLog.value.mealtype,glubeforemeal:this.DiabetesLog.value.glubeforemeal,gluaftermeal:this.DiabetesLog.value.gluaftermeal,insulin:this.DiabetesLog.value.insulin,comment:this.DiabetesLog.value.comment,date:this.DiabetesLog.value.date},console.log(this.formdata,"asaassaasasasasassaass"),this.diabeteslog.AddDiabeteslog(this.formdata).subscribe(t=>{t?(this.isVisibleSuccess=!0,setTimeout(()=>{this.isVisibleSuccess=!1},3e3),this.getallDiabeteslog(),this.DiabetesLog.reset(),this.submitted=!1):(this.isVisibleFailure=!0,setTimeout(()=>{this.isVisibleFailure=!1},3e3))}))}cancel(){this.DiabetesLog.reset(),this.submitted=!1,this.formcontrols()}getallDiabeteslog(){this.diabeteslog.getallDiabeteslog().subscribe(t=>{t.length>0?(this.DataformDb=t,this.detectChanges.detectChanges(),$("#depdataTable").DataTable({paging:!0,searching:!0,ordering:!0})):(this.DataformDb=[],this.detectChanges.detectChanges(),$("#depdataTable").DataTable({paging:!0,searching:!0,ordering:!0}))}),$("#depdataTable").dataTable().fnDestroy()}entity(t){this.Mealtype=[],this.Entity.getCategorybyEntityType(t).subscribe(o=>{for(let s in o){let r=0;if(!(o[s].EntityTypeId=1229))return console.log("",r+1);this.Mealtype.push(o[s]),console.log("",r+1)}})}EditDiabetesLog(t){console.log("click"),this.route.navigate(["/pages/edit-diabetes-log/"+t])}Delete(t){this.popUpSer.confirmCommon("","Do you want to delete?").then(o=>{o&&(console.log(t),this.diabeteslog.deleteDiabeteslog(t).subscribe(s=>{s?(this.isDeleteSuccess=!0,setTimeout(()=>this.isDeleteSuccess=!1,3e3),this.getallDiabeteslog()):(this.isDeletefailure=!0,setTimeout(()=>this.isDeletefailure=!1,3e3))}))}).catch(()=>console.log(""))}ngOnDestroy(){console.log("ondestroyed")}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(lt),e.Y36(O),e.Y36(p.F0),e.Y36(e.sBO),e.Y36(h),e.Y36(b))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-diabetes-log"]],decls:11,vars:6,consts:[[1,"content-wrapper"],["class","alertnotify","style","background: #CB3837",4,"ngIf"],["class","alertnotify","style","background: #54A254",4,"ngIf"],["activeIds","toggle-11",3,"closeOthers"],["id","toggle-11"],["ngbPanelTitle",""],["ngbPanelContent",""],["class","row",4,"ngIf"],[1,"alertnotify",2,"background","#CB3837"],[1,"alertnotify",2,"background","#54A254"],[1,"card-header--title"],[1,"pull-right"],[1,"fa","fa-angle-down","fa-lg"],[3,"formGroup"],[1,"row"],[1,"col-md-8"],[1,"col-md-4",2,"padding-left","15px"],["for",""],["type","text","placeholder","PoiNo","formControlName","poinumber","id","poinumber",1,"form-control","form-control-sm",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"col-md-4"],["for","Meal Type",1,"col-form-label-sm"],["formControlName","mealtype",1,"form-control","form-control-sm",3,"ngClass"],["value","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["for","Meal Taken",1,"col-form-label-sm"],["type","text","placeholder","Meal Taken","formControlName","mealtaken","id","mealtaken",1,"form-control","form-control-sm",3,"ngClass"],[1,"col-md-6",2,"padding-left","15px"],["for","Glucose Reading Before",1,"col-form-label-sm"],["type","number","placeholder","Before Meal mg/dl","formControlName","glubeforemeal","id","glubeforemeal",1,"form-control","form-control-sm",3,"ngClass"],["for","Glucose Reading After",1,"col-form-label-sm"],["type","number","placeholder","After Meal mg/dl","formControlName","gluaftermeal","id","gluaftermeal",1,"form-control","form-control-sm",3,"ngClass"],["for","Insulin",1,"col-form-label-sm"],["type","number","placeholder"," mg/dl","formControlName","insulin","id","insulin",1,"form-control","form-control-sm",3,"ngClass"],["type","date","formControlName","date","id","date",1,"form-control","form-control-sm",3,"ngClass"],[1,"col-md-12",2,"padding-left","15px"],["for","Comments",1,"col-form-label-sm"],["type","text","rows","6","cols","60","placeholder","comments here ....","formControlName","comment","id","comment",1,"form-control","form-control-sm"],[1,"row","m-2","float-right"],[1,"col"],["type","submit",1,"btn","upload-btn","btn-sm",2,"width","70px",3,"click"],["type","submit",1,"btn","reset-btn","btn-sm",2,"width","70px",3,"click"],[1,"invalid-feedback"],[4,"ngIf"],[3,"value"],[1,"theme-heading","pt-6"],[1,"table-responsive"],["id","depdataTable",1,"table","table-striped","text-center"],["scope","col"],["scope","col",1,"col-2"],[4,"ngFor","ngForOf"],["scope","row"],["class","btn edit-btn btn-sm",3,"click",4,"ngIf"],["class","btn delet-btn btn-sm",3,"click",4,"ngIf"],[1,"btn","edit-btn","btn-sm",3,"click"],[1,"fa","fa-pencil","fa-fw"],[1,"btn","delet-btn","btn-sm",3,"click"],[1,"fa","fa-trash","fa-fw"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,vd,2,0,"div",1),e.YNc(2,Td,2,0,"div",2),e.qZA(),e.TgZ(3,"div",0),e.YNc(4,Ad,2,0,"div",1),e.YNc(5,Cd,2,0,"div",1),e.qZA(),e.TgZ(6,"ngb-accordion",3),e.TgZ(7,"ngb-panel",4),e.YNc(8,qd,4,0,"ng-template",5),e.YNc(9,Qd,61,30,"ng-template",6),e.qZA(),e.qZA(),e.YNc(10,Bd,30,1,"div",7)),2&t&&(e.xp6(1),e.Q6J("ngIf",o.isVisibleFailure),e.xp6(1),e.Q6J("ngIf",o.isVisibleSuccess),e.xp6(2),e.Q6J("ngIf",o.isDeletefailure),e.xp6(1),e.Q6J("ngIf",o.isDeleteSuccess),e.xp6(1),e.Q6J("closeOthers",!0),e.xp6(4),e.Q6J("ngIf",o.tabrec))},directives:[g.O5,u.gY,u.Gk,u.Cu,u.gW,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,g.mk,a.EJ,a.YN,a.Kr,g.sg,a.wV],styles:[""]}),i})(),He=(()=>{class i{constructor(t){this.httpClient=t,this.token=localStorage.getItem("token"),this.httpOptions={headers:new c.WM({authorization:`Bearer ${this.token}`})}}getAllEmpDept(){let t=localStorage.getItem("token"),o={headers:new c.WM({authorization:`Bearer ${t}`})};return this.httpClient.get("/api/EmpDept/getAll",o)}addEmpDept(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/EmpDept/add",t,s)}editEmpDept(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/EmpDept/update",t,s)}deleteEmpDept(t,o){let s=localStorage.getItem("token"),r={headers:new c.WM({authorization:`Bearer ${s}`})};return this.httpClient.get("/api/EmpDept/delete?id="+t+"&userid="+o,r)}getEmpDeptbyid(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/EmpDept/getById?id="+t,s)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(c.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),be=(()=>{class i{constructor(t){this.httpClient=t,this.token=localStorage.getItem("token"),this.httpOptions={headers:new c.WM({authorization:`Bearer ${this.token}`})}}getAllShifts(){return this.httpClient.get("/api/shifts/getAllShifts",this.httpOptions)}addShifts(t){return this.httpClient.post("/api/shifts/register",t,this.httpOptions)}editShifts(t){return this.httpClient.post("/api/shifts/update",t,this.httpOptions)}deleteShifts(t,o){return this.httpClient.get("/api/shifts/delete?ShiftID="+t+"&userid="+o,this.httpOptions)}getShiftsbyid(t){return this.httpClient.get("/api/shifts/getShiftById?ShiftID="+t,this.httpOptions)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(c.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),$e=(()=>{class i{constructor(t){this.httpClient=t,this.token=localStorage.getItem("token"),this.httpOptions={headers:new c.WM({authorization:`Bearer ${this.token}`})}}getAllemployees(){let t=localStorage.getItem("token"),o={headers:new c.WM({authorization:`Bearer ${t}`})};return this.httpClient.get("/api/employee/getAllEmployee",o)}getAllEmployeesWithoutDepartment(){let t=localStorage.getItem("token"),o={headers:new c.WM({authorization:`Bearer ${t}`})};return this.httpClient.get("/api/employee/getAllEmployeesWithoutDepartment",o)}getAllEmployeeSupervisor(){let t=localStorage.getItem("token"),o={headers:new c.WM({authorization:`Bearer ${t}`})};return this.httpClient.get("/api/employee/getAllEmployeeSupervisor",o)}addemployees(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/employee/register",t,s)}editemployee(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/employee/updateEmployee",t,s)}deleteemployee(t,o){let s=localStorage.getItem("token"),r={headers:new c.WM({authorization:`Bearer ${s}`})};return this.httpClient.get("/api/employee/deleteEmployee?EmployeeId="+t+"&userid="+o,r)}deleteemployeeAuth(t,o){let s=localStorage.getItem("token"),r={headers:new c.WM({authorization:`Bearer ${s}`})};return this.httpClient.get("/api/employee/deleteEmployeeById?EmployeeId="+t+"&userid="+o,r)}getemployeebyid(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/employee/getEmployeeById?EmployeeId="+t,s)}getAllemployeesWithoutToken(){return this.httpClient.get("/api/employee/getAllemployeesWithoutToken")}getAllEmployeeByDepartment(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/employee/getAllEmployeeByDepartment?DepartmentId="+t,s)}getAllEmployeesNotAssignedToDep(){let t=localStorage.getItem("token"),o={headers:new c.WM({authorization:`Bearer ${t}`})};return this.httpClient.get("/api/employee/getAllEmployeesNotAssignedToDep",o)}getAllEmployeesNotAssignedToDep_Edit(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/employee/getAllEmployeesNotAssignedToDep_Edit?id="+t,s)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(c.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function $d(i,n){1&i&&(e.TgZ(0,"div",13),e._uU(1," Something went wrong!. "),e.qZA())}function Ld(i,n){1&i&&(e.TgZ(0,"div",13),e._uU(1," Already Added!. "),e.qZA())}function Gd(i,n){1&i&&(e.TgZ(0,"div",14),e._uU(1," Added Successfully!. "),e.qZA())}function jd(i,n){1&i&&(e.TgZ(0,"div",13),e._uU(1," Start Date Must be Less Than End Date!. "),e.qZA())}function zd(i,n){1&i&&(e.TgZ(0,"div",13),e._uU(1," End Date Must be Greater Than Today's Date!. "),e.qZA())}function Wd(i,n){1&i&&(e.TgZ(0,"div",14),e._uU(1," Deleted Successfully!. "),e.qZA())}function Kd(i,n){1&i&&(e.TgZ(0,"span",15),e._uU(1,"Assign Employee Department"),e.qZA(),e.TgZ(2,"div",16),e._UZ(3,"i",17),e.qZA())}function Xd(i,n){if(1&i&&(e.TgZ(0,"option",32),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.DepartmentId),e.xp6(1),e.Oqu(t.DeptName)}}function ec(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Department is required "),e.qZA())}function tc(i,n){if(1&i&&(e.TgZ(0,"div",33),e.YNc(1,ec,2,0,"div",34),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.DepartmentId.errors.required)}}function ic(i,n){if(1&i&&(e.TgZ(0,"option",32),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.EmployeeId),e.xp6(1),e.Oqu(t.FullName)}}function oc(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Employee is required "),e.qZA())}function nc(i,n){if(1&i&&(e.TgZ(0,"div",33),e.YNc(1,oc,2,0,"div",34),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.Employeeid.errors.required)}}function sc(i,n){if(1&i&&(e.TgZ(0,"option",32),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.ShiftID),e.xp6(1),e.Oqu(t.Name)}}function rc(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Shift is required"),e.qZA())}function ac(i,n){if(1&i&&(e.TgZ(0,"div",33),e.YNc(1,rc,2,0,"div",34),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.ShiftId.errors.required)}}function lc(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Start Date is required"),e.qZA())}function dc(i,n){if(1&i&&(e.TgZ(0,"div",33),e.YNc(1,lc,2,0,"div",34),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.StartDate.errors.required)}}function cc(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"End Date is required"),e.qZA())}function uc(i,n){if(1&i&&(e.TgZ(0,"div",33),e.YNc(1,cc,2,0,"div",34),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.EndDate.errors.required)}}const Fe=function(i){return{"is-invalid":i}};function gc(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"form",18),e.TgZ(1,"div",19),e.TgZ(2,"div",20),e.TgZ(3,"label"),e._uU(4,"Department Name "),e.qZA(),e.TgZ(5,"select",21),e.TgZ(6,"option",22),e._uU(7,"Please Select"),e.qZA(),e.YNc(8,Xd,2,2,"option",23),e.qZA(),e.YNc(9,tc,2,1,"div",24),e.qZA(),e.TgZ(10,"div",20),e.TgZ(11,"label"),e._uU(12,"Employee "),e.qZA(),e.TgZ(13,"select",25),e.TgZ(14,"option",22),e._uU(15,"Please Select"),e.qZA(),e.YNc(16,ic,2,2,"option",23),e.qZA(),e.YNc(17,nc,2,1,"div",24),e.qZA(),e.TgZ(18,"div",20),e.TgZ(19,"label"),e._uU(20,"Shift "),e.qZA(),e.TgZ(21,"select",26),e.TgZ(22,"option",22),e._uU(23,"Please Select"),e.qZA(),e.YNc(24,sc,2,2,"option",23),e.qZA(),e.YNc(25,ac,2,1,"div",24),e.qZA(),e.TgZ(26,"div",20),e.TgZ(27,"label"),e._uU(28,"Start Date"),e.qZA(),e._UZ(29,"input",27),e.YNc(30,dc,2,1,"div",24),e.qZA(),e.qZA(),e.TgZ(31,"div",19),e.TgZ(32,"div",20),e.TgZ(33,"label"),e._uU(34,"End Date "),e.qZA(),e._UZ(35,"input",28),e.YNc(36,uc,2,1,"div",24),e.qZA(),e.qZA(),e._UZ(37,"br"),e.TgZ(38,"div",29),e.TgZ(39,"button",30),e.NdJ("click",function(){return e.CHM(t),e.oxw().addEmpDep()}),e._uU(40,"Submit"),e.qZA(),e._uU(41,"\xa0 "),e.TgZ(42,"button",31),e.NdJ("click",function(){return e.CHM(t),e.oxw().addCancel()}),e._uU(43,"Reset"),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("formGroup",t.empdepForm),e.xp6(5),e.Q6J("ngClass",e.VKq(14,Fe,t.submitted&&t.f.DepartmentId.errors)),e.xp6(3),e.Q6J("ngForOf",t.departments),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.DepartmentId.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(16,Fe,t.submitted&&t.f.Employeeid.errors)),e.xp6(3),e.Q6J("ngForOf",t.employees),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.Employeeid.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(18,Fe,t.submitted&&t.f.ShiftId.errors)),e.xp6(3),e.Q6J("ngForOf",t.shifts),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.ShiftId.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(20,Fe,t.submitted&&t.f.StartDate.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.StartDate.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(22,Fe,t.submitted&&t.f.EndDate.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.EndDate.errors)}}function mc(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",39),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;return e.oxw().openConfirmationDialog(s.id)}),e._UZ(1,"i",40),e.qZA()}}function pc(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"th",35),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e.TgZ(14,"button",36),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().editEmpDep(r.id)}),e._UZ(15,"i",37),e.qZA(),e._uU(16," \xa0 "),e.YNc(17,mc,2,0,"button",38),e.qZA(),e.qZA()}if(2&i){const t=n.$implicit,o=n.index,s=e.oxw();e.xp6(2),e.Oqu(o+1),e.xp6(2),e.Oqu(t.DeptName),e.xp6(2),e.Oqu(t.ShiftName),e.xp6(2),e.Oqu(t.EmployeeName),e.xp6(2),e.Oqu(t.StartDate),e.xp6(2),e.Oqu(t.EndDate),e.xp6(5),e.Q6J("ngIf",s.IsDelete)}}let _c=(()=>{class i{constructor(t,o,s,r,l,d,m,_,Z,A){this.myFormBuilder=t,this.empdepSer=o,this.shiftsSer=s,this.depSer=r,this.employeeSer=l,this.myRouter=d,this.userService=m,this.popUpSer=_,this.empDep=Z,this.cdr=A,this.IsDelete=!1,this.tData=!1,this.isVisibleSuccess=!1,this.isVisibleFailure=!1,this.isDeleteSuccess=!1,this.empdeptVisibleFailure=!1,this.submitted=!1,this.IsGreaterDate=!1,this.IsCurrentGreaterDate=!1,this.IsSHowPage=!1,this.Currentdate=(0,g.p6)(new Date,"yyyy-MM-dd","en")}get f(){return this.empdepForm.controls}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():(this.employees=[],this.getallEmpdepartments(),this.getAllShifts(),this.getAllDepartment(),this.getAllEmployees(),this.formControls(),this.getAllDepEmployees(),this.getAllShifts(),this.getAllDepartment(),this.formControls())}addEmpDep(){this.submitted=!0,!this.empdepForm.invalid&&("null"==this.empdepForm.value.DepartmentId||"null"==this.empdepForm.value.ShiftId||"null"==this.empdepForm.value.Employeeid?this.popUpSer.confirmCommon("","Please fill the required fields").then(t=>{}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)")):Date.parse(this.empdepForm.value.EndDate)<Date.parse(this.empdepForm.value.StartDate)?(this.IsGreaterDate=!0,setTimeout(()=>this.IsGreaterDate=!1,1e3)):this.Currentdate>this.empdepForm.value.EndDate?(this.IsCurrentGreaterDate=!0,setTimeout(()=>this.IsCurrentGreaterDate=!1,1e3)):this.empdepSer.addEmpDept(this.empdepForm.value).subscribe(t=>{"Duplicate"==t?(this.empdeptVisibleFailure=!0,setTimeout(()=>this.empdeptVisibleFailure=!1,5e3)):t?(this.isVisibleSuccess=!0,setTimeout(()=>this.isVisibleSuccess=!1,3e3),this.empdepForm.reset(),this.submitted=!1,this.getAllDepEmployees(),this.getAllEmployees()):(this.isVisibleFailure=!0,setTimeout(()=>this.isVisibleFailure=!1,5e3))}))}formControls(){this.empdepForm=this.myFormBuilder.group({DepartmentId:[null,a.kI.required],ShiftId:[null,a.kI.required],Employeeid:[null,a.kI.required],StartDate:["",[a.kI.required]],EndDate:["",[a.kI.required]]})}getallEmpdepartments(){this.empdepSer.getAllEmpDept().subscribe(t=>{t.length>0&&(this.allEmpdepartments=t)})}getAllShifts(){this.shiftsSer.getAllShifts().subscribe(t=>{t.length>0&&(this.shifts=t)})}getAllDepartment(){this.depSer.getAllDepartment().subscribe(t=>{t.length>0&&(this.departments=t)})}getAllEmployees(){this.employeeSer.getAllEmployeesNotAssignedToDep().subscribe(t=>{t.length>0&&(this.employees=t,this.cdr.detectChanges())})}addCancel(){this.empdepForm.reset(),this.submitted=!1}getAllDepEmployees(){this.tData=!0,setTimeout(()=>{this.empDep.getAllEmpDept().subscribe(t=>{t.length>0?(this.employeesDep=t,this.cdr.detectChanges(),$("#empdDepdataTable").DataTable({paging:!0,searching:!0,ordering:!0})):(this.employeesDep=[],this.cdr.detectChanges(),$("#empdDepdataTable").DataTable({paging:!0,searching:!0,ordering:!0}))})},500),$("#empdDepdataTable").dataTable().fnDestroy()}editEmpDep(t){this.myRouter.navigate(["/pages/edit-employee-dept/"+t])}openConfirmationDialog(t){let o=localStorage.getItem("CurrentUserId");this.popUpSer.confirm("Please Confirm..","Do you really want to Delete?").then(s=>{s&&this.empDep.deleteEmpDept(t,o).subscribe(r=>{r?(this.isVisibleFailure=!0,setTimeout(()=>this.isVisibleFailure=!1,5e3)):(this.tData=!1,this.getAllDepEmployees(),this.isDeleteSuccess=!0,setTimeout(()=>this.isDeleteSuccess=!1,3e3))})}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)"))}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(He),e.Y36(be),e.Y36(Se),e.Y36($e),e.Y36(p.F0),e.Y36(h),e.Y36(b),e.Y36(He),e.Y36(e.sBO))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-empdept"]],decls:37,vars:8,consts:[[1,"content-wrapper"],["class","alertnotify","style","background: #cb3837;",4,"ngIf"],["class","alertnotify","style","background: #54a254;",4,"ngIf"],["activeIds","toggle-11",3,"closeOthers"],["id","toggle-11"],["ngbPanelTitle",""],["ngbPanelContent",""],[1,"card","main-card","mb-3"],[1,"card-header"],[1,"table-responsive"],["id","empdDepdataTable",1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[1,"alertnotify",2,"background","#cb3837"],[1,"alertnotify",2,"background","#54a254"],[1,"card-header--title"],[1,"pull-right"],[1,"fa","fa-angle-down","fa-lg"],[3,"formGroup"],[1,"row"],[1,"col-6","col-sm-6","col-md-3","col-lg-3"],["name","departmentId","formControlName","DepartmentId","id","DepartmentId",1,"form-control","form-control-sm",3,"ngClass"],["value","null"],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["name","employeeid","formControlName","Employeeid","id","Employeeid",1,"form-control","form-control-sm",3,"ngClass"],["name","shiftId","formControlName","ShiftId","id","ShiftId",1,"form-control","form-control-sm",3,"ngClass"],["type","date","name","startDate","placeholder","Start Date","formControlName","StartDate","id","StartDate",1,"form-control","form-control-sm",3,"ngClass"],["type","date","name","endDate","placeholder","End Date","formControlName","EndDate","id","EndDate",1,"form-control","form-control-sm",3,"ngClass"],[1,"text-right"],[1,"btn","upload-btn","btn-sm",3,"click"],[1,"btn","reset-btn","btn-sm",3,"click"],[3,"value"],[1,"invalid-feedback"],[4,"ngIf"],["scope","row"],[1,"btn","edit-btn","btn-sm",3,"click"],[1,"fa","fa-pencil","fa-fw"],["class","btn delet-btn btn-sm",3,"click",4,"ngIf"],[1,"btn","delet-btn","btn-sm",3,"click"],[1,"fa","fa-trash","fa-fw"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,$d,2,0,"div",1),e.YNc(2,Ld,2,0,"div",1),e.YNc(3,Gd,2,0,"div",2),e.YNc(4,jd,2,0,"div",1),e.YNc(5,zd,2,0,"div",1),e.YNc(6,Wd,2,0,"div",2),e.qZA(),e.TgZ(7,"ngb-accordion",3),e.TgZ(8,"ngb-panel",4),e.YNc(9,Kd,4,0,"ng-template",5),e.YNc(10,gc,44,24,"ng-template",6),e.qZA(),e.qZA(),e._UZ(11,"br"),e.TgZ(12,"div",7),e.TgZ(13,"div",8),e.TgZ(14,"b"),e._uU(15,"List of All Employees Department"),e.qZA(),e.qZA(),e.TgZ(16,"div",9),e._UZ(17,"br"),e.TgZ(18,"table",10),e.TgZ(19,"thead"),e.TgZ(20,"tr"),e.TgZ(21,"th",11),e._uU(22,"#"),e.qZA(),e.TgZ(23,"th",11),e._uU(24,"Department"),e.qZA(),e.TgZ(25,"th",11),e._uU(26,"Shift"),e.qZA(),e.TgZ(27,"th",11),e._uU(28,"Employee Name"),e.qZA(),e.TgZ(29,"th",11),e._uU(30,"Start Date"),e.qZA(),e.TgZ(31,"th",11),e._uU(32,"End Date"),e.qZA(),e.TgZ(33,"th",11),e._uU(34,"Action"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(35,"tbody"),e.YNc(36,pc,18,7,"tr",12),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",o.isVisibleFailure),e.xp6(1),e.Q6J("ngIf",o.empdeptVisibleFailure),e.xp6(1),e.Q6J("ngIf",o.isVisibleSuccess),e.xp6(1),e.Q6J("ngIf",o.IsGreaterDate),e.xp6(1),e.Q6J("ngIf",o.IsCurrentGreaterDate),e.xp6(1),e.Q6J("ngIf",o.isDeleteSuccess),e.xp6(1),e.Q6J("closeOthers",!0),e.xp6(29),e.Q6J("ngForOf",o.employeesDep))},directives:[g.O5,u.gY,u.Gk,u.Cu,u.gW,a._Y,a.JL,a.sg,a.EJ,a.JJ,a.u,g.mk,a.YN,a.Kr,g.sg,a.Fj],styles:[""]}),i})();function hc(i,n){1&i&&(e.TgZ(0,"div",7),e._uU(1," Something went wrong!. "),e.qZA())}function fc(i,n){1&i&&(e.TgZ(0,"div",7),e._uU(1," Already Added!. "),e.qZA())}function Zc(i,n){1&i&&(e.TgZ(0,"div",8),e._uU(1," Updated Successfully!. "),e.qZA())}function bc(i,n){1&i&&(e.TgZ(0,"div",7),e._uU(1," Start Date Must be Less Than End Date!. "),e.qZA())}function vc(i,n){1&i&&(e.TgZ(0,"div",7),e._uU(1," End Date Must be Greater Than Today's Date!. "),e.qZA())}function Tc(i,n){1&i&&(e.TgZ(0,"span",9),e._uU(1,"Edit Employee Department"),e.qZA())}function Ac(i,n){if(1&i&&(e.TgZ(0,"option",25),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.DepartmentId),e.xp6(1),e.hij("",t.DeptName," ")}}function Cc(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Department is required"),e.qZA())}function qc(i,n){if(1&i&&(e.TgZ(0,"div",26),e.YNc(1,Cc,2,0,"div",27),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.DepartmentId.errors.required)}}function xc(i,n){if(1&i&&(e.TgZ(0,"option",25),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.EmployeeId),e.xp6(1),e.hij(" ",t.FullName,"")}}function Ic(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Employee is required"),e.qZA())}function yc(i,n){if(1&i&&(e.TgZ(0,"div",26),e.YNc(1,Ic,2,0,"div",27),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.Employeeid.errors.required)}}function kc(i,n){if(1&i&&(e.TgZ(0,"option",25),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.ShiftID),e.xp6(1),e.Oqu(t.Name)}}function Uc(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Shift is required"),e.qZA())}function Nc(i,n){if(1&i&&(e.TgZ(0,"div",26),e.YNc(1,Uc,2,0,"div",27),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.ShiftId.errors.required)}}function wc(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Start Date is required"),e.qZA())}function Sc(i,n){if(1&i&&(e.TgZ(0,"div",26),e.YNc(1,wc,2,0,"div",27),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.StartDate.errors.required)}}function Fc(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"End Date is required"),e.qZA())}function Dc(i,n){if(1&i&&(e.TgZ(0,"div",26),e.YNc(1,Fc,2,0,"div",27),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.EndDate.errors.required)}}const De=function(i){return{"is-invalid":i}};function Jc(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"form",10),e._UZ(1,"input",11),e.TgZ(2,"div",12),e.TgZ(3,"div",13),e.TgZ(4,"label"),e._uU(5,"Department Name "),e.qZA(),e.TgZ(6,"select",14),e.TgZ(7,"option",15),e._uU(8,"Please Select Department"),e.qZA(),e.YNc(9,Ac,2,2,"option",16),e.qZA(),e.YNc(10,qc,2,1,"div",17),e.qZA(),e.TgZ(11,"div",13),e.TgZ(12,"label"),e._uU(13,"Employee "),e.qZA(),e.TgZ(14,"select",18),e.TgZ(15,"option",15),e._uU(16,"Please Select "),e.qZA(),e.YNc(17,xc,2,2,"option",16),e.qZA(),e.YNc(18,yc,2,1,"div",17),e.qZA(),e.TgZ(19,"div",13),e.TgZ(20,"label"),e._uU(21,"Shift "),e.qZA(),e.TgZ(22,"select",19),e.TgZ(23,"option",15),e._uU(24,"Please Select "),e.qZA(),e.YNc(25,kc,2,2,"option",16),e.qZA(),e.YNc(26,Nc,2,1,"div",17),e.qZA(),e.TgZ(27,"div",13),e.TgZ(28,"label"),e._uU(29,"Start Date"),e.qZA(),e._UZ(30,"input",20),e.YNc(31,Sc,2,1,"div",17),e.qZA(),e.qZA(),e.TgZ(32,"div",12),e.TgZ(33,"div",13),e.TgZ(34,"label"),e._uU(35,"End Date "),e.qZA(),e._UZ(36,"input",21),e.YNc(37,Dc,2,1,"div",17),e.qZA(),e.qZA(),e._UZ(38,"br"),e.TgZ(39,"div",22),e.TgZ(40,"button",23),e.NdJ("click",function(){return e.CHM(t),e.oxw().updateEmployee()}),e._uU(41,"Update"),e.qZA(),e._uU(42,"\xa0 "),e.TgZ(43,"button",24),e.NdJ("click",function(){return e.CHM(t),e.oxw().addCancel()}),e._uU(44,"Cancel"),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("formGroup",t.empdepForm),e.xp6(6),e.Q6J("ngClass",e.VKq(14,De,t.submitted&&t.f.DepartmentId.errors)),e.xp6(3),e.Q6J("ngForOf",t.departments),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.DepartmentId.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(16,De,t.submitted&&t.f.Employeeid.errors)),e.xp6(3),e.Q6J("ngForOf",t.employees),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.Employeeid.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(18,De,t.submitted&&t.f.ShiftId.errors)),e.xp6(3),e.Q6J("ngForOf",t.shifts),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.ShiftId.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(20,De,t.submitted&&t.f.StartDate.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.StartDate.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(22,De,t.submitted&&t.f.EndDate.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.EndDate.errors)}}let Ec=(()=>{class i{constructor(t,o,s,r,l,d,m,_,Z,A,I){this.myFormBuilder=t,this.empdepSer=o,this.shiftsSer=s,this.depSer=r,this.employeeSer=l,this.myRouter=d,this.route=m,this.userService=_,this.popUpSer=Z,this.location=A,this.cdr=I,this.submitted=!1,this.isVisibleSuccess=!1,this.isVisibleFailure=!1,this.empdeptVisibleFailure=!1,this.IsGreaterDate=!1,this.IsCurrentGreaterDate=!1,this.IsSHowPage=!1,this.Currentdate=(0,g.p6)(new Date,"yyyy-MM-dd","en")}get f(){return this.empdepForm.controls}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():(this.formControl(),this.getallEmpdepartments(),this.getAllEmployees(),this.getAllShifts(),this.getAllDepartment())}formControl(){this.empdepForm=this.myFormBuilder.group({id:[""],DepartmentId:[null,a.kI.required],ShiftId:[null,a.kI.required],Employeeid:[null,a.kI.required],StartDate:["",[a.kI.required]],EndDate:["",[a.kI.required]]}),this.empdepSer.getEmpDeptbyid(this.route.snapshot.paramMap.get("id")).subscribe(t=>{t.length>0&&(this.allEmpdepartments=t,this.empdepForm.controls.id.setValue(t[0].id),this.empdepForm.controls.DepartmentId.setValue(t[0].DepartmentId),this.empdepForm.controls.ShiftId.setValue(t[0].ShiftId),this.empdepForm.controls.StartDate.setValue(t[0].StartDate),this.empdepForm.controls.EndDate.setValue(t[0].EndDate),this.empdepForm.controls.Employeeid.setValue(t[0].Employeeid))})}updateEmployee(){this.submitted=!0,!this.empdepForm.invalid&&("null"==this.empdepForm.value.DepartmentId||"null"==this.empdepForm.value.ShiftId||"null"==this.empdepForm.value.Employeeid?this.popUpSer.confirmCommon("","Please fill the required fields").then(t=>{}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)")):Date.parse(this.empdepForm.value.EndDate)<=Date.parse(this.empdepForm.value.StartDate)?(this.IsGreaterDate=!0,setTimeout(()=>this.IsGreaterDate=!1,1e3)):this.Currentdate>this.empdepForm.value.EndDate?(this.IsCurrentGreaterDate=!0,setTimeout(()=>this.IsCurrentGreaterDate=!1,1e3)):this.empdepSer.editEmpDept(this.empdepForm.value).subscribe(t=>{"Duplicate"==t?(this.empdeptVisibleFailure=!0,setTimeout(()=>this.empdeptVisibleFailure=!1,5e3)):t?(this.isVisibleSuccess=!0,setTimeout(()=>this.isVisibleSuccess=!1,3e3),setTimeout(()=>this.myRouter.navigate(["/pages/add-employee-dept"]),3e3)):(this.isVisibleFailure=!0,setTimeout(()=>this.isVisibleFailure=!1,5e3))}))}getallEmpdepartments(){this.empdepSer.getAllEmpDept().subscribe(t=>{t.length>0&&(this.allEmpdepartments=t,this.cdr.detectChanges())})}getAllShifts(){this.shiftsSer.getAllShifts().subscribe(t=>{t.length>0&&(this.shifts=t,this.cdr.detectChanges())})}getAllDepartment(){this.depSer.getAllDepartment().subscribe(t=>{t.length>0&&(this.departments=t,this.cdr.detectChanges())})}getAllEmployees(){this.employeeSer.getAllEmployeesNotAssignedToDep_Edit(this.route.snapshot.paramMap.get("id")).subscribe(t=>{t.length>0&&(this.employees=t,this.cdr.detectChanges())})}addCancel(){this.location.back()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(He),e.Y36(be),e.Y36(Se),e.Y36($e),e.Y36(p.F0),e.Y36(p.gz),e.Y36(h),e.Y36(b),e.Y36(g.Ye),e.Y36(e.sBO))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit-empdept"]],decls:10,vars:6,consts:[[1,"content-wrapper"],["class","alertnotify","style","background: #cb3837;",4,"ngIf"],["class","alertnotify","style","background: #54a254;",4,"ngIf"],["activeIds","toggle-11",3,"closeOthers"],["id","toggle-11"],["ngbPanelTitle",""],["ngbPanelContent",""],[1,"alertnotify",2,"background","#cb3837"],[1,"alertnotify",2,"background","#54a254"],[1,"card-header--title"],[3,"formGroup"],["type","hidden","formControlName","id"],[1,"row"],[1,"col-6","col-sm-6","col-md-3","col-lg-3"],["name","departmentId","formControlName","DepartmentId",1,"form-control","form-control-sm",3,"ngClass"],["value","null"],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["name","employeeid","formControlName","Employeeid","id","Employeeid","disabled","",1,"form-control","form-control-sm",3,"ngClass"],["name","shiftId","formControlName","ShiftId","id","ShiftId",1,"form-control","form-control-sm",3,"ngClass"],["type","date","name","startDate","placeholder","Start Date","formControlName","StartDate","id","StartDate",1,"form-control","form-control-sm",3,"ngClass"],["type","date","name","endDate","placeholder","End Date","formControlName","EndDate","id","EndDate",1,"form-control","form-control-sm",3,"ngClass"],[1,"text-right"],[1,"btn","upload-btn","btn-sm",3,"click"],["data-target","#toggle-11","data-toggle","collapse",1,"btn","reset-btn","btn-sm",3,"click"],[3,"value"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,hc,2,0,"div",1),e.YNc(2,fc,2,0,"div",1),e.YNc(3,Zc,2,0,"div",2),e.YNc(4,bc,2,0,"div",1),e.YNc(5,vc,2,0,"div",1),e.qZA(),e.TgZ(6,"ngb-accordion",3),e.TgZ(7,"ngb-panel",4),e.YNc(8,Tc,2,0,"ng-template",5),e.YNc(9,Jc,45,24,"ng-template",6),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",o.isVisibleFailure),e.xp6(1),e.Q6J("ngIf",o.empdeptVisibleFailure),e.xp6(1),e.Q6J("ngIf",o.isVisibleSuccess),e.xp6(1),e.Q6J("ngIf",o.IsGreaterDate),e.xp6(1),e.Q6J("ngIf",o.IsCurrentGreaterDate),e.xp6(1),e.Q6J("closeOthers",!0))},directives:[g.O5,u.gY,u.Gk,u.Cu,u.gW,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,a.EJ,g.mk,a.YN,a.Kr,g.sg],styles:[""]}),i})();function Rc(i,n){1&i&&(e.TgZ(0,"div",27),e._uU(1," Something went wrong!. "),e.qZA())}function Pc(i,n){1&i&&(e.TgZ(0,"div",28),e._uU(1," Added Successfully!. "),e.qZA())}function Yc(i,n){1&i&&(e.TgZ(0,"div",27),e._uU(1," Something went wrong!. "),e.qZA())}function Qc(i,n){1&i&&(e.TgZ(0,"div",27),e._uU(1," Email,Contact or Cnic is already Registered!. "),e.qZA())}function Oc(i,n){1&i&&(e.TgZ(0,"div",27),e._uU(1," Already Added!. "),e.qZA())}function Mc(i,n){1&i&&(e.TgZ(0,"div",28),e._uU(1," Added Successfully!. "),e.qZA())}function Vc(i,n){1&i&&(e.TgZ(0,"div",27),e._uU(1," Start Date Must be Less Than End Date!. "),e.qZA())}function Bc(i,n){1&i&&(e.TgZ(0,"div",27),e._uU(1," Birth Date Must be Less Than Joining Date!. "),e.qZA())}function Hc(i,n){if(1&i&&(e.TgZ(0,"div",27),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",t.delt," ")}}function $c(i,n){1&i&&(e.TgZ(0,"div",27),e._uU(1," Deleted Successfully!. "),e.qZA())}function Lc(i,n){1&i&&(e.TgZ(0,"div",27),e._uU(1," Incorrect Password!. "),e.qZA())}function Gc(i,n){1&i&&(e.TgZ(0,"div",27),e._uU(1," Deleted Successfully. "),e.qZA())}function jc(i,n){1&i&&(e.TgZ(0,"span",29),e._uU(1,"Add Employee"),e.qZA(),e.TgZ(2,"div",30),e._UZ(3,"i",31),e.qZA())}function zc(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," First Name is required "),e.qZA())}function Wc(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"First Name cannot contain whitespace"),e.qZA())}function Kc(i,n){if(1&i&&(e.TgZ(0,"div",51),e.YNc(1,zc,2,0,"div",52),e.YNc(2,Wc,2,0,"div",52),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.FirstName.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.FirstName.hasError("whitespace"))}}function Xc(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Last Name is required "),e.qZA())}function eu(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Last Name cannot contain whitespace"),e.qZA())}function tu(i,n){if(1&i&&(e.TgZ(0,"div",51),e.YNc(1,Xc,2,0,"div",52),e.YNc(2,eu,2,0,"div",52),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.LastName.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.LastName.hasError("whitespace"))}}function iu(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Mobile Number is required "),e.qZA())}function ou(i,n){1&i&&(e.TgZ(0,"div",54),e._uU(1," Please Enter valid Mobile number (without dash) "),e.qZA())}function nu(i,n){if(1&i&&(e.TgZ(0,"div",51),e.YNc(1,iu,2,0,"div",52),e.YNc(2,ou,2,0,"div",53),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.Phone.errors.required),e.xp6(1),e.Q6J("ngIf",t.employeeForm.controls.Phone.hasError("pattern"))}}function su(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Email is required "),e.qZA())}function ru(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Email must be a valid email address "),e.qZA())}function au(i,n){if(1&i&&(e.TgZ(0,"div",51),e.YNc(1,su,2,0,"div",52),e.YNc(2,ru,2,0,"div",52),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.Email.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.Email.errors.email)}}function lu(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Cnic is required"),e.qZA())}function du(i,n){1&i&&(e.TgZ(0,"div",54),e._uU(1,"Please Enter valid NIC number"),e.qZA())}function cu(i,n){if(1&i&&(e.TgZ(0,"div",51),e.YNc(1,lu,2,0,"div",52),e.YNc(2,du,2,0,"div",53),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.Cnic.errors.required),e.xp6(1),e.Q6J("ngIf",t.employeeForm.controls.Cnic.hasError("pattern"))}}function uu(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Address is required"),e.qZA())}function gu(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Address cannot contain whitespace"),e.qZA())}function mu(i,n){if(1&i&&(e.TgZ(0,"div",51),e.YNc(1,uu,2,0,"div",52),e.YNc(2,gu,2,0,"div",52),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.Address.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.Address.hasError("whitespace"))}}function pu(i,n){if(1&i&&(e.TgZ(0,"option",55),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.CategoryId),e.xp6(1),e.hij("",t.CategoryName," ")}}function _u(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Designation is required "),e.qZA())}function hu(i,n){if(1&i&&(e.TgZ(0,"div",51),e.YNc(1,_u,2,0,"div",52),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.Designation.errors.required)}}function fu(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Joining Date is required "),e.qZA())}function Zu(i,n){if(1&i&&(e.TgZ(0,"div",51),e.YNc(1,fu,2,0,"div",52),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.JoiningDate.errors.required)}}function bu(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Birth Date is required "),e.qZA())}function vu(i,n){if(1&i&&(e.TgZ(0,"div",51),e.YNc(1,bu,2,0,"div",52),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.BirthDate.errors.required)}}function Tu(i,n){if(1&i&&(e.TgZ(0,"option",55),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.CategoryId),e.xp6(1),e.hij("",t.CategoryName," ")}}function Au(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Marital Status is required"),e.qZA())}function Cu(i,n){if(1&i&&(e.TgZ(0,"div",51),e.YNc(1,Au,2,0,"div",52),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.MaritalStatus.errors.required)}}function qu(i,n){if(1&i&&(e.TgZ(0,"option",55),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.CategoryId),e.xp6(1),e.Oqu(t.CategoryName)}}function xu(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Gender is required"),e.qZA())}function Iu(i,n){if(1&i&&(e.TgZ(0,"div",51),e.YNc(1,xu,2,0,"div",52),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.Gender.errors.required)}}const H=function(i){return{"is-invalid":i}};function yu(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"form",20),e.TgZ(1,"div",32),e.TgZ(2,"div",33),e.TgZ(3,"label"),e._uU(4,"First Name"),e.qZA(),e._UZ(5,"input",34),e.YNc(6,Kc,3,2,"div",35),e.qZA(),e.TgZ(7,"div",33),e.TgZ(8,"label"),e._uU(9,"Last Name"),e.qZA(),e._UZ(10,"input",36),e.YNc(11,tu,3,2,"div",35),e.qZA(),e.TgZ(12,"div",33),e.TgZ(13,"label"),e._uU(14,"Mobile Number"),e.qZA(),e._UZ(15,"input",37),e.YNc(16,nu,3,2,"div",35),e.qZA(),e.TgZ(17,"div",33),e.TgZ(18,"label"),e._uU(19,"Email"),e.qZA(),e._UZ(20,"input",38),e.YNc(21,au,3,2,"div",35),e.qZA(),e.qZA(),e.TgZ(22,"div",32),e.TgZ(23,"div",33),e.TgZ(24,"label"),e._uU(25,"CNIC "),e.qZA(),e._UZ(26,"input",39),e.YNc(27,cu,3,2,"div",35),e.qZA(),e.TgZ(28,"div",33),e.TgZ(29,"label"),e._uU(30,"Address"),e.qZA(),e._UZ(31,"input",40),e.YNc(32,mu,3,2,"div",35),e.qZA(),e.TgZ(33,"div",33),e.TgZ(34,"label"),e._uU(35,"Designation "),e.qZA(),e.TgZ(36,"select",41),e.TgZ(37,"option",42),e._uU(38,"Please Select"),e.qZA(),e.YNc(39,pu,2,2,"option",43),e.qZA(),e.YNc(40,hu,2,1,"div",35),e.qZA(),e.TgZ(41,"div",33),e.TgZ(42,"label"),e._uU(43,"Joining Date"),e.qZA(),e._UZ(44,"input",44),e.YNc(45,Zu,2,1,"div",35),e.qZA(),e.qZA(),e.TgZ(46,"div",32),e.TgZ(47,"div",33),e.TgZ(48,"label"),e._uU(49,"Birth Date "),e.qZA(),e._UZ(50,"input",45),e.YNc(51,vu,2,1,"div",35),e.qZA(),e.TgZ(52,"div",33),e.TgZ(53,"label"),e._uU(54,"Marital Status"),e.qZA(),e.TgZ(55,"select",46),e.TgZ(56,"option",42),e._uU(57,"Please Select"),e.qZA(),e.YNc(58,Tu,2,2,"option",43),e.qZA(),e.YNc(59,Cu,2,1,"div",35),e.qZA(),e.TgZ(60,"div",33),e.TgZ(61,"label"),e._uU(62,"Gender"),e.qZA(),e.TgZ(63,"select",47),e.TgZ(64,"option",42),e._uU(65,"Please Select"),e.qZA(),e.YNc(66,qu,2,2,"option",43),e.qZA(),e.YNc(67,Iu,2,1,"div",35),e.qZA(),e.qZA(),e._UZ(68,"br"),e.TgZ(69,"div",32),e.TgZ(70,"div",48),e.TgZ(71,"button",49),e.NdJ("click",function(){return e.CHM(t),e.oxw().addEmployee()}),e._uU(72," Submit"),e.qZA(),e._uU(73,"\xa0 "),e.TgZ(74,"button",50),e.NdJ("click",function(){return e.CHM(t),e.oxw().reset()}),e._uU(75,"Reset"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("formGroup",t.employeeForm),e.xp6(5),e.Q6J("ngClass",e.VKq(32,H,t.submitted&&t.f.FirstName.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.FirstName.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(34,H,t.submitted&&t.f.LastName.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.LastName.errors),e.xp6(4),e.Q6J("preValue",t.employeeForm.value.Phone)("phoneControl",t.employeeForm.controls.Phone)("ngClass",e.VKq(36,H,t.submitted&&t.f.Phone.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.Phone.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(38,H,t.submitted&&t.f.Email.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.Email.errors),e.xp6(5),e.Q6J("preValue",t.employeeForm.value.Cnic)("cnicControl",t.employeeForm.controls.Cnic)("ngClass",e.VKq(40,H,t.submitted&&t.f.Cnic.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.Cnic.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(42,H,t.submitted&&t.f.Address.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.Address.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(44,H,t.submitted&&t.f.Designation.errors)),e.xp6(3),e.Q6J("ngForOf",t.designationList),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.Designation.errors),e.xp6(4),e.Q6J("max",t.maxdate)("ngClass",e.VKq(46,H,t.submitted&&t.f.JoiningDate.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.JoiningDate.errors),e.xp6(5),e.Q6J("max",t.minBirthDate)("ngClass",e.VKq(48,H,t.submitted&&t.f.BirthDate.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.BirthDate.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(50,H,t.submitted&&t.f.MaritalStatus.errors)),e.xp6(3),e.Q6J("ngForOf",t.maritalStatusList),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.MaritalStatus.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(52,H,t.submitted&&t.f.Gender.errors)),e.xp6(3),e.Q6J("ngForOf",t.genderList),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.Gender.errors)}}function ku(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",60),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;return e.oxw().showdeletemodal(s.EmployeeId)}),e._UZ(1,"i",61),e.qZA()}}function Uu(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"th",56),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e.TgZ(14,"button",57),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().editEmployees(r.EmployeeId)}),e._UZ(15,"i",58),e.qZA(),e.YNc(16,ku,2,0,"button",59),e.qZA(),e.qZA()}if(2&i){const t=n.$implicit,o=n.index,s=e.oxw();e.xp6(2),e.Oqu(o+1),e.xp6(2),e.Oqu(t.FullName),e.xp6(2),e.Oqu(t.Phone),e.xp6(2),e.Oqu(t.Email),e.xp6(2),e.Oqu(t.DesignationName),e.xp6(2),e.Oqu(t.JoiningDate),e.xp6(4),e.Q6J("ngIf",s.IsDelete)}}const Nu=function(){return["/pages/PendingReferralTable"]};function wu(i,n){if(1&i&&(e.TgZ(0,"label"),e.TgZ(1,"li"),e._uU(2),e.TgZ(3,"b"),e.TgZ(4,"a",65),e._uU(5,"Child Referral"),e.qZA(),e.qZA(),e._uU(6," Page, please remove them first. "),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(2),e.hij(" ",t.ReferringPatientContact," entries exist in "),e.xp6(2),e.Q6J("routerLink",e.DdM(2,Nu))}}function Su(i,n){1&i&&(e.TgZ(0,"label"),e.TgZ(1,"li"),e._uU(2," No entries found in Add Vendor Page "),e.qZA(),e.qZA())}const Fu=function(){return["/pages/child-info"]};function Du(i,n){if(1&i&&(e.TgZ(0,"label"),e.TgZ(1,"li"),e._uU(2),e.TgZ(3,"b"),e.TgZ(4,"a",65),e._uU(5,"Child Registration Status"),e.qZA(),e.qZA(),e._uU(6," Page, please delete first. "),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(2),e.hij(" ",t.PatientInformation," entries exist in "),e.xp6(2),e.Q6J("routerLink",e.DdM(2,Fu))}}function Ju(i,n){1&i&&(e.TgZ(0,"label"),e.TgZ(1,"li"),e._uU(2," No entries found in Packages List Page "),e.qZA(),e.qZA())}function Eu(i,n){if(1&i&&(e.TgZ(0,"label"),e.TgZ(1,"li"),e._uU(2),e.TgZ(3,"b"),e._uU(4,"Purchase Order"),e.qZA(),e._uU(5," Page, please delete first. "),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(2),e.hij(" ",t.PurchasedOrderSub_items," entries exist in ")}}function Ru(i,n){1&i&&(e.TgZ(0,"label"),e.TgZ(1,"li"),e._uU(2," No entries found in Purchase Order Page "),e.qZA(),e.qZA())}function Pu(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",17),e.TgZ(1,"h4",62),e._uU(2,"Delete Failed"),e.qZA(),e.TgZ(3,"button",63),e.NdJ("click",function(){return e.CHM(t).$implicit.dismiss("Cross click")}),e.TgZ(4,"span",64),e._uU(5,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"div",19),e.TgZ(7,"ul"),e.YNc(8,wu,7,3,"label",52),e.YNc(9,Su,3,0,"label",52),e.YNc(10,Du,7,3,"label",52),e.YNc(11,Ju,3,0,"label",52),e.YNc(12,Eu,6,1,"label",52),e.YNc(13,Ru,3,0,"label",52),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(8),e.Q6J("ngIf",t.ReferringPatientContact>0),e.xp6(1),e.Q6J("ngIf",t.ReferringPatientContact<=0),e.xp6(1),e.Q6J("ngIf",t.PatientInformation>0),e.xp6(1),e.Q6J("ngIf",t.PatientInformation<=0),e.xp6(1),e.Q6J("ngIf",t.PurchasedOrderSub_items>0),e.xp6(1),e.Q6J("ngIf",t.PurchasedOrderSub_items<=0)}}let Yu=(()=>{class i{constructor(t,o,s,r,l,d,m,_,Z,A,I,P){this.myFormBuilder=t,this.employeeSer=o,this.myRouter=s,this.utilitySer=r,this.empdepSer=l,this.shiftsSer=d,this.depSer=m,this.userService=_,this.popUpSer=Z,this.detectChanges=A,this.modalService=I,this.fb=P,this.submitted=!1,this.IsDelete=!1,this.isVisibleFailurePassword=!1,this.isVisibleSuccessDoctorDelete=!1,this.isVisibleFailureInvalidPassword=!1,this.tData=!1,this.isVisibleSuccess=!1,this.isdeleteFailure=!1,this.isdeleteSuccess=!1,this.isVisibleFailure=!1,this.CnicVisibleFailure=!1,this.empdeptVisibleFailure=!1,this.MaritalStatusId=2,this.showModal=!1,this.EmployeeDesignationId=3,this.GenderId=1,this.json={},this.IsSHowPage=!1,this.isJoiningGreater=!1,this.today=new Date,this.minBirthDate=(0,g.p6)(new Date((new Date).setDate(this.today.getDate()-6570)),"yyyy-MM-dd","en"),this.maxdate=(0,g.p6)(new Date,"yyyy-MM-dd","en"),this.isVisibleSuccessEmployeeDep=!1,this.isVisibleFailureEmployeeDep=!1,this.submittedEmployeeDep=!1,this.IsGreaterDate=!1,this.formdata={}}ngOnInit(){setTimeout(()=>{this.userService.checkUserHasAccess("/pages/delete-employee").subscribe(t=>{this.IsDelete=t.length>0})},200),this.userService.tokenExpired()?this.userService.logout():(this.formControlEmployee(),this.formControlsEmployeeDepartment(),this.getCategorybyEntityType(this.MaritalStatusId),this.getCategorybyEntityType(this.GenderId),this.getCategorybyEntityType(this.EmployeeDesignationId),this.getallEmpdepartments(),this.getAllShifts(),this.getAllDepartment(),this.getAllEmployees(),this.getAllEmployeestab()),this.formControlss()}getf(){return this.passwordForm.controls}formControlss(){this.passwordForm=this.fb.group({password:["",[a.kI.required]]})}showdeletemodal(t){this.showModal=!0,this.EId=t}hide(){this.showModal=!1,this.EId="",this.passwordForm.reset()}onSubmit(){let t=localStorage.getItem("CurrentUserEmail");this.formdata={Email:t,Password:this.passwordForm.value.password},this.userService.matchPassword(this.formdata).subscribe(s=>{console.log(s,"before token");let r=s;"Invalid Password"==s?(this.isVisibleFailureInvalidPassword=!0,setTimeout(()=>this.isVisibleFailureInvalidPassword=!1,2e3)):"Email Does Not Exist"==s||r.success&&(this.deleteEmployees(),this.isVisibleSuccessDoctorDelete=!0,setTimeout(()=>this.isVisibleSuccessDoctorDelete=!1,2e3),this.hide())})}deleteEmployees(){let t=localStorage.getItem("CurrentUserId");this.employeeSer.deleteemployeeAuth(this.EId,t).subscribe(o=>{console.log(o),this.getAllEmployeestab()})}enterPasswordToDelete(){this.Deactivate=!0}Delete(t,o){this.EmployeeId=o,this.popUpSer.confirmCommon("Please confirm..","Do you really want to delete?").then(s=>{if(s){let r=localStorage.getItem("CurrentUserId");this.employeeSer.deleteemployee(o,r).subscribe(l=>{console.log(l,"response delete"),this.ReferringPatientContact=l[0].count,this.PatientInformation=l[1].count,this.ReferringPatientContact>0||this.PatientInformation>0?(console.log("other files"),this.modalService.open(t,{ariaLabelledBy:"modal-basic-title"}).result.then(d=>{this.closeResult=`Closed with: ${d}`,console.log("other files1")},d=>{this.closeResult=`Dismissed ${this.getDismissReason(d)}`})):this.enterPasswordToDelete()})}}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)"))}getDismissReason(t){return t===u.If.ESC?"by pressing ESC":t===u.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${t}`}get f(){return this.employeeForm.controls}formControlEmployee(){this.employeeForm=this.myFormBuilder.group({FirstName:["",[a.kI.required,a.kI.pattern("^[a-zA-Z0-9_][a-zA-Z-0-9_ ]*$")]],LastName:["",[a.kI.required,a.kI.pattern("^[a-zA-Z0-9_][a-zA-Z-0-9_ ]*$")]],Phone:["03",a.kI.compose([a.kI.required,a.kI.pattern(/^((\+92)|(0092))-{0,1}\d{3}-{0,1}\d{7}$|^\d{11}$|^\d{4}-\d{7}$/)])],Email:["",[a.kI.required,a.kI.email]],Cnic:["",[a.kI.required,a.kI.pattern("^[0-9+]{5}-[0-9+]{7}-[0-9]{1}$")]],Address:["",[a.kI.required]],Designation:[null,a.kI.required],JoiningDate:["",a.kI.required],BirthDate:["",a.kI.required],MaritalStatus:[null,a.kI.required],Gender:[null,a.kI.required]})}addEmployee(){this.submitted=!0,!this.employeeForm.invalid&&("null"==this.employeeForm.value.Designation||"null"==this.employeeForm.value.MaritalStatus||"null"==this.employeeForm.value.Gender?this.popUpSer.confirmCommon("","Please fill the required fields").then(t=>{}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)")):Date.parse(this.employeeForm.value.JoiningDate)<=Date.parse(this.employeeForm.value.BirthDate)?(this.isJoiningGreater=!0,setTimeout(()=>this.isJoiningGreater=!1,1e3)):(this.json={FirstName:this.employeeForm.value.FirstName,LastName:this.employeeForm.value.LastName,Phone:this.employeeForm.value.Phone,Email:this.employeeForm.value.Email,Cnic:this.employeeForm.value.Cnic,Address:this.employeeForm.value.Address,Designation:this.employeeForm.value.Designation,JoiningDate:this.employeeForm.value.JoiningDate,BirthDate:this.employeeForm.value.BirthDate,MaritalStatus:this.employeeForm.value.MaritalStatus,Gender:this.employeeForm.value.Gender},this.employeeSer.addemployees(this.json).subscribe(t=>{"Duplicate"==t?(this.CnicVisibleFailure=!0,setTimeout(()=>this.CnicVisibleFailure=!1,5e3)):t?(this.isVisibleSuccess=!0,setTimeout(()=>this.isVisibleSuccess=!1,3e3),this.employeeForm.reset(),this.submitted=!1,this.getAllEmployeestab(),setTimeout(()=>{$("#tab2").addClass("active"),$("#addDepartment").addClass("active show"),$("#tab1").removeClass("active"),$("#addEmployee").removeClass("active")},500)):(this.isVisibleFailure=!0,setTimeout(()=>this.isVisibleFailure=!1,5e3))})))}getCategorybyEntityType(t){this.utilitySer.getCategorybyEntityType(t).subscribe(o=>{o.length>0&&(t==this.MaritalStatusId?this.maritalStatusList=o:t==this.GenderId?this.genderList=o:this.designationList=o)})}reset(){this.employeeForm.reset(),this.submitted=!1}get g(){return this.empdepForm.controls}addEmpDep(){this.submittedEmployeeDep=!0,!this.empdepForm.invalid&&("null"==this.empdepForm.value.DepartmentId||"null"==this.empdepForm.value.ShiftId||"null"==this.empdepForm.value.Employeeid?this.popUpSer.confirmCommon("","Please fill the required fields").then(t=>{}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)")):Date.parse(this.empdepForm.value.EndDate)<Date.parse(this.empdepForm.value.StartDate)?(this.IsGreaterDate=!0,setTimeout(()=>this.IsGreaterDate=!1,1e3)):this.empdepSer.addEmpDept(this.empdepForm.value).subscribe(t=>{"Duplicate"==t?(this.empdeptVisibleFailure=!0,setTimeout(()=>this.empdeptVisibleFailure=!1,5e3)):t?(this.isVisibleSuccessEmployeeDep=!0,setTimeout(()=>this.isVisibleSuccessEmployeeDep=!1,3e3),this.empdepForm.reset(),this.submittedEmployeeDep=!1,this.getAllEmployeestab()):(this.isVisibleFailureEmployeeDep=!0,setTimeout(()=>this.isVisibleFailureEmployeeDep=!1,5e3))}))}formControlsEmployeeDepartment(){this.empdepForm=this.myFormBuilder.group({DepartmentId:[null,a.kI.required],ShiftId:[null,a.kI.required],Employeeid:[null,a.kI.required],StartDate:["",[a.kI.required]],EndDate:["",[a.kI.required]]})}getallEmpdepartments(){this.empdepSer.getAllEmpDept().subscribe(t=>{t.length>0&&(this.allEmpdepartments=t)})}getAllShifts(){this.shiftsSer.getAllShifts().subscribe(t=>{t.length>0&&(this.shifts=t)})}getAllDepartment(){this.depSer.getAllDepartment().subscribe(t=>{t.length>0&&(this.departments=t)})}getAllEmployees(){this.employeeSer.getAllemployees().subscribe(t=>{t.length>0&&(console.log(t),this.employees=t)})}reset1(){this.empdepForm.reset(),this.submittedEmployeeDep=!1}getAllEmployeestab(){this.tData=!0,setTimeout(()=>{this.employeeSer.getAllemployees().subscribe(t=>{t.length>0?(this.allemployees1=t,this.detectChanges.detectChanges(),$("#employeedataTable").DataTable({paging:!0,searching:!0,ordering:!0})):(this.allemployees1=[],this.detectChanges.detectChanges(),$("#employeedataTable").DataTable({paging:!0,searching:!0,ordering:!0}))})},500),$("#employeedataTable").dataTable().fnDestroy()}editEmployees(t){this.myRouter.navigate(["/pages/edit-employee/"+t])}ngOnDestroy(){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36($e),e.Y36(p.F0),e.Y36(O),e.Y36(He),e.Y36(be),e.Y36(Se),e.Y36(h),e.Y36(b),e.Y36(e.sBO),e.Y36(u.FF),e.Y36(a.qu))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-employee"]],inputs:{allemployees1:"allemployees1"},decls:61,vars:17,consts:[[1,"content-wrapper"],["class","alertnotify","style","background: #cb3837;",4,"ngIf"],["class","alertnotify","style","background: #54a254;",4,"ngIf"],["activeIds","toggle-11",3,"closeOthers"],["id","toggle-11"],["ngbPanelTitle",""],["ngbPanelContent",""],[1,"card","main-card","mb-3"],[1,"card-header"],[1,"table-responsive"],["id","employeedataTable",1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],["content",""],["id","imagemodal","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal"],[1,"modal-dialog",2,"width","50%","height","20px","position","center","margin-top","5%"],[1,"modal-content"],[1,"modal-header"],["id","myModalLabel",1,"modal-title"],[1,"modal-body"],[3,"formGroup"],[1,"form-group"],[1,"from-control"],["type","password","id","password","formControlName","password",1,"form-control"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary",3,"click"],["type","button","data-dismiss","modal",1,"btn","btn-danger",3,"click"],[1,"alertnotify",2,"background","#cb3837"],[1,"alertnotify",2,"background","#54a254"],[1,"card-header--title"],[1,"pull-right"],[1,"fa","fa-angle-down","fa-lg"],[1,"row"],[1,"col-6","col-sm-6","col-md-3","col-lg-3"],["type","text","name","firstName","placeholder","First Name","formControlName","FirstName","id","FirstName","appAlphabetOnly","",1,"form-control","form-control-sm",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","text","name","lastName","placeholder","Last Name","formControlName","LastName","id","LastName","appAlphabetOnly","",1,"form-control","form-control-sm",3,"ngClass"],["type","text","name","phone","placeholder","Mobile Number","phoneMask","","formControlName","Phone","id","Phone","maxlength","12",1,"Phone","form-control","form-control-sm",3,"preValue","phoneControl","ngClass"],["type","email","name","email","placeholder","Email","formControlName","Email","id","Email",1,"form-control","form-control-sm",3,"ngClass"],["type","text","name","cnic","cnicMask","","placeholder","XXXXX-XXXXXXX-X","formControlName","Cnic","id","Cnic","maxlength","15",1,"Cnic","form-control","form-control-sm",3,"preValue","cnicControl","ngClass"],["type","text","name","address","placeholder","Address","formControlName","Address","id","Address",1,"form-control","form-control-sm",3,"ngClass"],["name","designation","formControlName","Designation","id","Designation",1,"form-control","form-control-sm",3,"ngClass"],["value","null"],[3,"value",4,"ngFor","ngForOf"],["type","date","name","joiningDate","placeholder","JoiningDate","formControlName","JoiningDate","id","JoiningDate","onkeydown","return false",1,"form-control","form-control-sm",3,"max","ngClass"],["type","date","name","birthDate","placeholder","BirthDate","formControlName","BirthDate","id","BirthDate","onkeydown","return false",1,"form-control","form-control-sm",3,"max","ngClass"],["name","maritalStatus","formControlName","MaritalStatus","id","MaritalStatus",1,"form-control","form-control-sm",3,"ngClass"],["name","gender","formControlName","Gender","id","Gender",1,"form-control","form-control-sm",3,"ngClass"],[1,"col-md-12","text-right"],[1,"btn","upload-btn","btn-sm",3,"click"],[1,"btn","reset-btn","btn-sm",3,"click"],[1,"invalid-feedback"],[4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"text-danger"],[3,"value"],["scope","row"],[1,"btn","edit-btn","btn-sm","mr-1",3,"click"],[1,"fa","fa-pencil","fa-fw"],["class","btn delet-btn btn-sm",3,"click",4,"ngIf"],[1,"btn","delet-btn","btn-sm",3,"click"],[1,"fa","fa-trash","fa-fw"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["routerLinkActive","router-link-active",3,"routerLink"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Rc,2,0,"div",1),e.YNc(2,Pc,2,0,"div",2),e.YNc(3,Yc,2,0,"div",1),e.YNc(4,Qc,2,0,"div",1),e.YNc(5,Oc,2,0,"div",1),e.YNc(6,Mc,2,0,"div",2),e.YNc(7,Vc,2,0,"div",1),e.YNc(8,Bc,2,0,"div",1),e.YNc(9,Hc,2,1,"div",1),e.YNc(10,$c,2,0,"div",1),e.qZA(),e.YNc(11,Lc,2,0,"div",1),e.YNc(12,Gc,2,0,"div",1),e.TgZ(13,"ngb-accordion",3),e.TgZ(14,"ngb-panel",4),e.YNc(15,jc,4,0,"ng-template",5),e.YNc(16,yu,76,54,"ng-template",6),e.qZA(),e.qZA(),e.TgZ(17,"div",7),e.TgZ(18,"div",8),e.TgZ(19,"b"),e._uU(20,"List of All Employees"),e.qZA(),e.qZA(),e.TgZ(21,"div",9),e._UZ(22,"br"),e.TgZ(23,"table",10),e.TgZ(24,"thead"),e.TgZ(25,"tr"),e.TgZ(26,"th",11),e._uU(27,"#"),e.qZA(),e.TgZ(28,"th",11),e._uU(29,"Full Name"),e.qZA(),e.TgZ(30,"th",11),e._uU(31,"Contact No"),e.qZA(),e.TgZ(32,"th",11),e._uU(33,"Email"),e.qZA(),e.TgZ(34,"th",11),e._uU(35,"Designation"),e.qZA(),e.TgZ(36,"th",11),e._uU(37,"Joining Date"),e.qZA(),e.TgZ(38,"th",11),e._uU(39,"Action"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(40,"tbody"),e.YNc(41,Uu,17,7,"tr",12),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(42,Pu,14,6,"ng-template",null,13,e.W1O),e.TgZ(44,"div",14),e.TgZ(45,"div",15),e.TgZ(46,"div",16),e.TgZ(47,"div",17),e.TgZ(48,"h4",18),e._uU(49,"Do you Really want to Delete"),e.qZA(),e.qZA(),e.TgZ(50,"div",19),e.TgZ(51,"form",20),e.TgZ(52,"div",21),e.TgZ(53,"label",22),e._uU(54,"Password"),e.qZA(),e._UZ(55,"input",23),e.qZA(),e.qZA(),e.qZA(),e.TgZ(56,"div",24),e.TgZ(57,"button",25),e.NdJ("click",function(){return o.onSubmit()}),e._uU(58,"Submit"),e.qZA(),e.TgZ(59,"button",26),e.NdJ("click",function(){return o.hide()}),e._uU(60,"Cancel"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",o.isVisibleFailure),e.xp6(1),e.Q6J("ngIf",o.isVisibleSuccess),e.xp6(1),e.Q6J("ngIf",o.isVisibleFailureEmployeeDep),e.xp6(1),e.Q6J("ngIf",o.CnicVisibleFailure),e.xp6(1),e.Q6J("ngIf",o.empdeptVisibleFailure),e.xp6(1),e.Q6J("ngIf",o.isVisibleSuccessEmployeeDep),e.xp6(1),e.Q6J("ngIf",o.IsGreaterDate),e.xp6(1),e.Q6J("ngIf",o.isJoiningGreater),e.xp6(1),e.Q6J("ngIf",o.isdeleteFailure),e.xp6(1),e.Q6J("ngIf",o.isdeleteSuccess),e.xp6(1),e.Q6J("ngIf",o.isVisibleFailureInvalidPassword),e.xp6(1),e.Q6J("ngIf",o.isVisibleSuccessDoctorDelete),e.xp6(1),e.Q6J("closeOthers",!0),e.xp6(28),e.Q6J("ngForOf",o.allemployees1),e.xp6(3),e.Udp("display",o.showModal?"block":"none"),e.xp6(7),e.Q6J("formGroup",o.passwordForm))},directives:[g.O5,u.gY,u.Gk,u.Cu,u.gW,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,x,g.mk,J,a.nD,Ve,a.EJ,a.YN,a.Kr,g.sg,p.yS,p.Od],styles:[""]}),i})();function Qu(i,n){1&i&&(e.TgZ(0,"div",7),e._uU(1," Something went wrong!. "),e.qZA())}function Ou(i,n){1&i&&(e.TgZ(0,"div",7),e._uU(1," Email,Contact or Cnic is already Registered!. "),e.qZA())}function Mu(i,n){1&i&&(e.TgZ(0,"div",8),e._uU(1," Updated Successfully!. "),e.qZA())}function Vu(i,n){1&i&&(e.TgZ(0,"div",7),e._uU(1," Birth Date Must be Less Than Joining Date!. "),e.qZA())}function Bu(i,n){1&i&&(e.TgZ(0,"span",9),e._uU(1,"Edit Employee"),e.qZA())}function Hu(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"First Name is required"),e.qZA())}function $u(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"First Name cannot contain whitespace"),e.qZA())}function Lu(i,n){if(1&i&&(e.TgZ(0,"div",31),e.YNc(1,Hu,2,0,"div",32),e.YNc(2,$u,2,0,"div",32),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.FirstName.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.FirstName.hasError("whitespace"))}}function Gu(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Last Name is required"),e.qZA())}function ju(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Last Name cannot contain whitespace"),e.qZA())}function zu(i,n){if(1&i&&(e.TgZ(0,"div",31),e.YNc(1,Gu,2,0,"div",32),e.YNc(2,ju,2,0,"div",32),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.LastName.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.LastName.hasError("whitespace"))}}function Wu(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Mobile Number is required"),e.qZA())}function Ku(i,n){1&i&&(e.TgZ(0,"div",34),e._uU(1,"Please Enter valid Mobile number (without dash)"),e.qZA())}function Xu(i,n){if(1&i&&(e.TgZ(0,"div",31),e.YNc(1,Wu,2,0,"div",32),e.YNc(2,Ku,2,0,"div",33),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.Phone.errors.required),e.xp6(1),e.Q6J("ngIf",t.employeeForm.controls.Phone.hasError("pattern"))}}function eg(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Email is required"),e.qZA())}function tg(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Email must be a valid email address"),e.qZA())}function ig(i,n){if(1&i&&(e.TgZ(0,"div",31),e.YNc(1,eg,2,0,"div",32),e.YNc(2,tg,2,0,"div",32),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.Email.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.Email.errors.email)}}function og(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Cnic is required"),e.qZA())}function ng(i,n){1&i&&(e.TgZ(0,"div",34),e._uU(1,"Please Enter valid NIC number"),e.qZA())}function sg(i,n){if(1&i&&(e.TgZ(0,"div",31),e.YNc(1,og,2,0,"div",32),e.YNc(2,ng,2,0,"div",33),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.Cnic.errors.required),e.xp6(1),e.Q6J("ngIf",t.employeeForm.controls.Cnic.hasError("pattern"))}}function rg(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Address is required"),e.qZA())}function ag(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Name cannot contain whitespace"),e.qZA())}function lg(i,n){if(1&i&&(e.TgZ(0,"div",31),e.YNc(1,rg,2,0,"div",32),e.YNc(2,ag,2,0,"div",32),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.Address.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.Name.hasError("whitespace"))}}function dg(i,n){if(1&i&&(e.TgZ(0,"option",35),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.CategoryId),e.xp6(1),e.Oqu(t.CategoryName)}}function cg(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Designation is required"),e.qZA())}function ug(i,n){if(1&i&&(e.TgZ(0,"div",31),e.YNc(1,cg,2,0,"div",32),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.Designation.errors.required)}}function gg(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"JoiningDate is required"),e.qZA())}function mg(i,n){if(1&i&&(e.TgZ(0,"div",31),e.YNc(1,gg,2,0,"div",32),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.JoiningDate.errors.required)}}function pg(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"BirthDate is required"),e.qZA())}function _g(i,n){if(1&i&&(e.TgZ(0,"div",31),e.YNc(1,pg,2,0,"div",32),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.BirthDate.errors.required)}}function hg(i,n){if(1&i&&(e.TgZ(0,"option",35),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.CategoryId),e.xp6(1),e.Oqu(t.CategoryName)}}function fg(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Super Department is required"),e.qZA())}function Zg(i,n){if(1&i&&(e.TgZ(0,"div",31),e.YNc(1,fg,2,0,"div",32),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.MaritalStatus.errors.required)}}function bg(i,n){if(1&i&&(e.TgZ(0,"option",35),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.CategoryId),e.xp6(1),e.Oqu(t.CategoryName)}}function vg(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Super Gender is required"),e.qZA())}function Tg(i,n){if(1&i&&(e.TgZ(0,"div",31),e.YNc(1,vg,2,0,"div",32),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.Gender.errors.required)}}const L=function(i){return{"is-invalid":i}};function Ag(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"form",10),e._UZ(1,"input",11),e.TgZ(2,"div",12),e.TgZ(3,"div",13),e.TgZ(4,"label"),e._uU(5,"First Name"),e.qZA(),e._UZ(6,"input",14),e.YNc(7,Lu,3,2,"div",15),e.qZA(),e.TgZ(8,"div",13),e.TgZ(9,"label"),e._uU(10,"Last Name"),e.qZA(),e._UZ(11,"input",16),e.YNc(12,zu,3,2,"div",15),e.qZA(),e.TgZ(13,"div",13),e.TgZ(14,"label"),e._uU(15,"Mobile Number "),e.qZA(),e._UZ(16,"input",17),e.YNc(17,Xu,3,2,"div",15),e.qZA(),e.TgZ(18,"div",13),e.TgZ(19,"label"),e._uU(20,"Email"),e.qZA(),e._UZ(21,"input",18),e.YNc(22,ig,3,2,"div",15),e.qZA(),e.qZA(),e.TgZ(23,"div",12),e.TgZ(24,"div",13),e.TgZ(25,"label"),e._uU(26,"CNIC "),e.qZA(),e._UZ(27,"input",19),e.YNc(28,sg,3,2,"div",15),e.qZA(),e.TgZ(29,"div",13),e.TgZ(30,"label"),e._uU(31,"Address"),e.qZA(),e._UZ(32,"input",20),e.YNc(33,lg,3,2,"div",15),e.qZA(),e.TgZ(34,"div",13),e.TgZ(35,"label"),e._uU(36,"Designation "),e.qZA(),e.TgZ(37,"select",21),e.TgZ(38,"option",22),e._uU(39,"Please Select"),e.qZA(),e.YNc(40,dg,2,2,"option",23),e.qZA(),e.YNc(41,ug,2,1,"div",15),e.qZA(),e.TgZ(42,"div",13),e.TgZ(43,"label"),e._uU(44,"JoiningDate"),e.qZA(),e._UZ(45,"input",24),e.YNc(46,mg,2,1,"div",15),e.qZA(),e.qZA(),e.TgZ(47,"div",12),e.TgZ(48,"div",13),e.TgZ(49,"label"),e._uU(50,"BirthDate "),e.qZA(),e._UZ(51,"input",25),e.YNc(52,_g,2,1,"div",15),e.qZA(),e.TgZ(53,"div",13),e.TgZ(54,"label"),e._uU(55,"Marital Status"),e.qZA(),e.TgZ(56,"select",26),e.TgZ(57,"option",22),e._uU(58,"Please Select"),e.qZA(),e.YNc(59,hg,2,2,"option",23),e.qZA(),e.YNc(60,Zg,2,1,"div",15),e.qZA(),e.TgZ(61,"div",13),e.TgZ(62,"label"),e._uU(63,"Gender"),e.qZA(),e.TgZ(64,"select",27),e.TgZ(65,"option",22),e._uU(66,"Please Select"),e.qZA(),e.YNc(67,bg,2,2,"option",23),e.qZA(),e.YNc(68,Tg,2,1,"div",15),e.qZA(),e.qZA(),e._UZ(69,"br"),e.TgZ(70,"div",12),e.TgZ(71,"div",28),e.TgZ(72,"button",29),e.NdJ("click",function(){return e.CHM(t),e.oxw().updateEmployee()}),e._uU(73,"Update"),e.qZA(),e._uU(74,"\xa0 "),e.TgZ(75,"button",30),e.NdJ("click",function(){return e.CHM(t),e.oxw().addCancel()}),e._uU(76,"Cancel"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("formGroup",t.employeeForm),e.xp6(6),e.Q6J("ngClass",e.VKq(32,L,t.submitted&&t.f.FirstName.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.FirstName.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(34,L,t.submitted&&t.f.LastName.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.LastName.errors),e.xp6(4),e.Q6J("phoneControl",t.employeeForm.controls.Phone)("preValue",t.employeeForm.value.Phone)("ngClass",e.VKq(36,L,t.submitted&&t.f.Phone.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.Phone.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(38,L,t.submitted&&t.f.Email.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.Email.errors),e.xp6(5),e.Q6J("preValue",t.employeeForm.value.Cnic)("cnicControl",t.employeeForm.controls.Cnic)("ngClass",e.VKq(40,L,t.submitted&&t.f.Cnic.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.Cnic.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(42,L,t.submitted&&t.f.Address.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.Address.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(44,L,t.submitted&&t.f.Designation.errors)),e.xp6(3),e.Q6J("ngForOf",t.designationList),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.Designation.errors),e.xp6(4),e.Q6J("max",t.maxdate)("ngClass",e.VKq(46,L,t.submitted&&t.f.JoiningDate.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.JoiningDate.errors),e.xp6(5),e.Q6J("max",t.minBirthDate)("ngClass",e.VKq(48,L,t.submitted&&t.f.BirthDate.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.BirthDate.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(50,L,t.submitted&&t.f.MaritalStatus.errors)),e.xp6(3),e.Q6J("ngForOf",t.maritalStatusList),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.MaritalStatus.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(52,L,t.submitted&&t.f.Gender.errors)),e.xp6(3),e.Q6J("ngForOf",t.genderList),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.Gender.errors)}}let Cg=(()=>{class i{constructor(t,o,s,r,l,d,m,_){this.myFormBuilder=t,this.empSer=o,this.myRouter=s,this.route=r,this.utilitySer=l,this.userService=d,this.popUpSer=m,this.location=_,this.submitted=!1,this.isVisibleSuccess=!1,this.isVisibleFailure=!1,this.isJoiningGreater=!1,this.CnicVisibleFailure=!1,this.today=new Date,this.minBirthDate=(0,g.p6)(new Date((new Date).setDate(this.today.getDate()-6570)),"yyyy-MM-dd","en"),this.maxdate=(0,g.p6)(new Date,"yyyy-MM-dd","en"),this.MaritalStatusId=2,this.EmployeeDesignationId=3,this.GenderId=1,this.IsSHowPage=!1}get f(){return this.employeeForm.controls}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():(this.formControl(),this.getAllemployees(),this.getCategorybyEntityType(this.MaritalStatusId),this.getCategorybyEntityType(this.GenderId),this.getCategorybyEntityType(this.EmployeeDesignationId))}formControl(){this.employeeForm=this.myFormBuilder.group({EmployeeId:[""],FirstName:["",[a.kI.required,a.kI.pattern("^[a-zA-Z0-9_][a-zA-Z-0-9_ ]*$")]],LastName:["",[a.kI.required,a.kI.pattern("^[a-zA-Z0-9_][a-zA-Z-0-9_ ]*$")]],Phone:["",a.kI.compose([a.kI.required,a.kI.pattern(/^((\+92)|(0092))-{0,1}\d{3}-{0,1}\d{7}$|^\d{11}$|^\d{4}-\d{7}$/)])],Email:["",[a.kI.required,a.kI.email]],Cnic:["",[a.kI.required,a.kI.pattern("^[0-9+]{5}-[0-9+]{7}-[0-9]{1}$")]],Address:["",[a.kI.required]],Designation:[null,a.kI.required],JoiningDate:["",a.kI.required],BirthDate:["",a.kI.required],MaritalStatus:[null,a.kI.required],Gender:[null,a.kI.required]}),this.empSer.getemployeebyid(this.route.snapshot.paramMap.get("id")).subscribe(t=>{t.length>0&&(this.employeeForm.controls.EmployeeId.setValue(t[0].EmployeeId),this.employeeForm.controls.FirstName.setValue(t[0].FirstName),this.employeeForm.controls.LastName.setValue(t[0].LastName),this.employeeForm.controls.Phone.setValue(t[0].Phone),this.employeeForm.controls.Email.setValue(t[0].Email),this.employeeForm.controls.Cnic.setValue(t[0].Cnic),this.employeeForm.controls.Address.setValue(t[0].Address),this.employeeForm.controls.Designation.setValue(t[0].Designation),this.employeeForm.controls.JoiningDate.setValue(t[0].JoiningDate),this.employeeForm.controls.BirthDate.setValue(t[0].BirthDate),this.employeeForm.controls.MaritalStatus.setValue(t[0].MaritalStatus),this.employeeForm.controls.Gender.setValue(t[0].Gender))})}updateEmployee(){this.submitted=!0,!this.employeeForm.invalid&&("null"==this.employeeForm.value.Designation||"null"==this.employeeForm.value.MaritalStatus||"null"==this.employeeForm.value.Gender?this.popUpSer.confirmCommon("","Please fill the required fields").then(t=>{}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)")):Date.parse(this.employeeForm.value.JoiningDate)<=Date.parse(this.employeeForm.value.BirthDate)?(this.isJoiningGreater=!0,setTimeout(()=>this.isJoiningGreater=!1,1e3)):this.empSer.editemployee(this.employeeForm.value).subscribe(t=>{"Duplicate"==t?(this.CnicVisibleFailure=!0,setTimeout(()=>this.CnicVisibleFailure=!1,5e3)):t?(this.isVisibleSuccess=!0,setTimeout(()=>this.isVisibleSuccess=!1,3e3),setTimeout(()=>this.myRouter.navigate(["/pages/add-employee"]),3e3)):(this.isVisibleFailure=!0,setTimeout(()=>this.isVisibleFailure=!1,5e3))}))}getAllemployees(){this.empSer.getAllemployees().subscribe(t=>{t.length>0&&(this.allemployees=t)})}getCategorybyEntityType(t){this.utilitySer.getCategorybyEntityType(t).subscribe(o=>{o.length>0&&(t==this.MaritalStatusId?this.maritalStatusList=o:t==this.GenderId?this.genderList=o:this.designationList=o)})}addCancel(){this.location.back()}ngOnDestroy(){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36($e),e.Y36(p.F0),e.Y36(p.gz),e.Y36(O),e.Y36(h),e.Y36(b),e.Y36(g.Ye))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit-employee"]],decls:9,vars:5,consts:[[1,"content-wrapper"],["class","alertnotify","style","background: #cb3837;",4,"ngIf"],["class","alertnotify","style","background: #54a254;",4,"ngIf"],["activeIds","toggle-11",3,"closeOthers"],["id","toggle-11"],["ngbPanelTitle",""],["ngbPanelContent",""],[1,"alertnotify",2,"background","#cb3837"],[1,"alertnotify",2,"background","#54a254"],[1,"card-header--title"],[3,"formGroup"],["type","hidden","formControlName","EmployeeId","id","EmployeeId"],[1,"row"],[1,"col-6","col-sm-6","col-md-3","col-lg-3"],["type","text","name","firstName","placeholder","First Name","formControlName","FirstName","id","FirstName","appAlphabetOnly","",1,"form-control","form-control-sm",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","text","name","lastName","placeholder","Last Name","formControlName","LastName","id","LastName","appAlphabetOnly","",1,"form-control","form-control-sm",3,"ngClass"],["type","text","name","phone","placeholder","Mobile Number","formControlName","Phone","id","Phone","maxlength","12","phoneMask","",1,"Phone","form-control","form-control-sm",3,"phoneControl","preValue","ngClass"],["type","text","name","email","placeholder","Email","formControlName","Email","id","Email",1,"form-control","form-control-sm",3,"ngClass"],["type","text","name","cnic","placeholder","Cnic","formControlName","Cnic","id","Cnic","cnicMask","","maxlength","15",1,"Cnic","form-control","form-control-sm",3,"preValue","cnicControl","ngClass"],["type","text","name","address","placeholder","Address","formControlName","Address","id","Address",1,"form-control","form-control-sm",3,"ngClass"],["name","designation","formControlName","Designation","id","Designation",1,"form-control","form-control-sm",3,"ngClass"],["value","null"],[3,"value",4,"ngFor","ngForOf"],["type","date","name","joiningDate","placeholder","JoiningDate","formControlName","JoiningDate","id","JoiningDate","onkeydown","return false",1,"form-control","form-control-sm",3,"max","ngClass"],["type","date","name","birthDate","placeholder","BirthDate","formControlName","BirthDate","id","BirthDate","onkeydown","return false",1,"form-control","form-control-sm",3,"max","ngClass"],["name","maritalStatus","formControlName","MaritalStatus","id","MaritalStatus",1,"form-control","form-control-sm",3,"ngClass"],["name","gender","formControlName","Gender",1,"form-control","form-control-sm",3,"ngClass"],[1,"col","text-right"],[1,"btn","upload-btn","btn-sm",3,"click"],["data-target","#toggle-11","data-toggle","collapse",1,"btn","reset-btn","btn-sm",3,"click"],[1,"invalid-feedback"],[4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"text-danger"],[3,"value"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Qu,2,0,"div",1),e.YNc(2,Ou,2,0,"div",1),e.YNc(3,Mu,2,0,"div",2),e.YNc(4,Vu,2,0,"div",1),e.qZA(),e.TgZ(5,"ngb-accordion",3),e.TgZ(6,"ngb-panel",4),e.YNc(7,Bu,2,0,"ng-template",5),e.YNc(8,Ag,77,54,"ng-template",6),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",o.isVisibleFailure),e.xp6(1),e.Q6J("ngIf",o.CnicVisibleFailure),e.xp6(1),e.Q6J("ngIf",o.isVisibleSuccess),e.xp6(1),e.Q6J("ngIf",o.isJoiningGreater),e.xp6(1),e.Q6J("closeOthers",!0))},directives:[g.O5,u.gY,u.Gk,u.Cu,u.gW,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,x,g.mk,a.nD,J,Ve,a.EJ,a.YN,a.Kr,g.sg],styles:[""]}),i})();var qg=T(8259);function xg(i,n){1&i&&(e.TgZ(0,"div",33),e._uU(1," Record is already added!. "),e.qZA())}function Ig(i,n){1&i&&(e.TgZ(0,"div",34),e._uU(1," Added Successfully!. "),e.qZA())}function yg(i,n){1&i&&(e.TgZ(0,"div",33),e._uU(1," Incorrect Password!. "),e.qZA())}function kg(i,n){1&i&&(e.TgZ(0,"div",33),e._uU(1," Email does not exist! "),e.qZA())}function Ug(i,n){1&i&&(e.TgZ(0,"div",33),e._uU(1," Deleted Successfully!. "),e.qZA())}function Ng(i,n){1&i&&(e.TgZ(0,"span",35),e._uU(1,"Add Category"),e.qZA(),e.TgZ(2,"div",36),e._UZ(3,"i",37),e.qZA())}function wg(i,n){if(1&i&&(e.TgZ(0,"option",49),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.EntityTypeId),e.xp6(1),e.hij(" ",t.EntityName," ")}}function Sg(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Entity Name is required"),e.qZA())}function Fg(i,n){if(1&i&&(e.TgZ(0,"div",50),e.YNc(1,Sg,2,0,"div",51),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.EntityTypeId.errors.required)}}function Dg(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Category Name is required"),e.qZA())}function Jg(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Category Name Cannot Start With Number"),e.qZA())}function Eg(i,n){if(1&i&&(e.TgZ(0,"div",50),e.YNc(1,Dg,2,0,"div",51),e.YNc(2,Jg,2,0,"div",51),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.CategoryName.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.CategoryName.errors.pattern)}}function Rg(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Positive number is required"),e.qZA())}function Pg(i,n){if(1&i&&(e.TgZ(0,"div",50),e.YNc(1,Rg,2,0,"div",51),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.priority.errors.pattern)}}const dt=function(i){return{"is-invalid":i}};function Yg(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"form",21),e.TgZ(1,"div",38),e.TgZ(2,"div",39),e.TgZ(3,"label"),e._uU(4,"Entity Name"),e.qZA(),e.TgZ(5,"select",40),e.TgZ(6,"option",41),e._uU(7,"Please Select"),e.qZA(),e.YNc(8,wg,2,2,"option",42),e.qZA(),e.YNc(9,Fg,2,1,"div",43),e.qZA(),e.TgZ(10,"div",39),e.TgZ(11,"label"),e._uU(12,"Category Name"),e.qZA(),e._UZ(13,"input",44),e.YNc(14,Eg,3,2,"div",43),e.qZA(),e.TgZ(15,"div",39),e.TgZ(16,"label"),e._uU(17,"Priority"),e.qZA(),e._UZ(18,"input",45),e.YNc(19,Pg,2,1,"div",43),e.qZA(),e.qZA(),e._UZ(20,"br"),e.TgZ(21,"div",38),e.TgZ(22,"div",46),e.TgZ(23,"button",47),e.NdJ("click",function(){return e.CHM(t),e.oxw().addCategory()}),e._uU(24,"Submit"),e.qZA(),e._uU(25,"\xa0 "),e.TgZ(26,"button",48),e.NdJ("click",function(){return e.CHM(t),e.oxw().addCancel()}),e._uU(27,"Reset"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("formGroup",t.categoryForm),e.xp6(5),e.Q6J("ngClass",e.VKq(8,dt,t.submitted&&t.f.EntityTypeId.errors)),e.xp6(3),e.Q6J("ngForOf",t.allEntities),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.EntityTypeId.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(10,dt,t.submitted&&t.f.CategoryName.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.CategoryName.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(12,dt,t.submitted&&t.f.priority.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.priority.errors)}}function Qg(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"th",52),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e.TgZ(10,"button",53),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().editCategory(r.CategoryId)}),e._UZ(11,"i",54),e.qZA(),e._uU(12," \xa0 "),e.TgZ(13,"button",55),e.NdJ("click",function(){const r=e.CHM(t).$implicit,l=e.oxw();return l.Delete(l.content,r.CategoryId)}),e._UZ(14,"i",56),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=n.$implicit,o=n.index;e.xp6(2),e.Oqu(o+1),e.xp6(2),e.Oqu(t.EntityName),e.xp6(2),e.Oqu(t.CategoryName),e.xp6(2),e.Oqu(t.PRI)}}let Og=(()=>{class i{constructor(t,o,s,r,l,d,m){this.myFormBuilder=t,this.entitySer=o,this.myRouter=s,this.detectChanges=r,this.userService=l,this.fb=d,this.popUpSer=m,this.submitted=!1,this.tData=!1,this.IsSHowPage=!1,this.showTabData=!1,this.IsDelete=!1,this.showModal=!1,this.isVisibleSuccess=!1,this.isVisibleFailure=!1,this.isVisibleFailurePassword=!1,this.isVisibleSuccessDelete=!1,this.isVisibleFailureInvalidPassword=!1,this.isVisibleFailureEmailNotExist=!1,this.formdata={}}get f(){return this.categoryForm.controls}get f1(){return this.passwordForm.controls}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():(this.formControls(),this.passwordFormControl(),this.getAllEntities(),this.getAllCategories())}ngOnChanges(t){0!=t.updatecategory.currentValue&&this.getAllEntities()}formControls(){this.categoryForm=this.myFormBuilder.group({CategoryName:["",[a.kI.required,a.kI.pattern("^[a-zA-Z0-9_][a-zA-Z-0-9_ ]*$")]],EntityTypeId:[null,a.kI.required],priority:["",[a.kI.required,a.kI.pattern("^[0-9]*$")]]})}addCategory(){this.submitted=!0,!this.categoryForm.invalid&&this.entitySer.addCategory(this.categoryForm.value).subscribe(t=>{t?(this.isVisibleSuccess=!0,setTimeout(()=>this.isVisibleSuccess=!1,1e3),this.getAllCategories(),this.categoryForm.reset(),this.submitted=!1):(this.isVisibleFailure=!0,setTimeout(()=>this.isVisibleFailure=!1,1e3))})}getAllEntities(){this.entitySer.getAllEntities().subscribe(t=>{this.allEntities=t})}addCancel(){this.categoryForm.reset(),this.submitted=!1}getAllCategories(){this.tData=!0,setTimeout(()=>{this.entitySer.getAllCategories().subscribe(t=>{t.length>0?(this.categories=t,this.detectChanges.detectChanges(),$("#categorydataTable").DataTable({paging:!0,searching:!0,ordering:!0})):(this.categories=[],this.detectChanges.detectChanges(),$("#categorydataTable").DataTable({paging:!0,searching:!0,ordering:!0}))})},500),$("#categorydataTable").dataTable().fnDestroy()}editCategory(t){this.myRouter.navigate(["/pages/edit-category/"+t])}passwordFormControl(){this.passwordForm=this.fb.group({password:["",[a.kI.required]]})}showdeletemodal(){this.showModal=!0}hide(){this.showModal=!1,this.passwordForm.reset()}onSubmit(){let t=localStorage.getItem("CurrentUserEmail");this.formdata={Email:t,Password:this.passwordForm.value.password},this.userService.matchPassword(this.formdata).subscribe(s=>{console.log(s,"before token");let r=s;"Invalid Password"==s?(this.isVisibleFailureInvalidPassword=!0,setTimeout(()=>this.isVisibleFailureInvalidPassword=!1,2e3)):"Email Does Not Exist"==s?(this.isVisibleFailureEmailNotExist=!0,setTimeout(()=>this.isVisibleFailureEmailNotExist=!1,2e3)):r.success&&(this.deleteEmployees(),this.isVisibleSuccessDelete=!0,setTimeout(()=>this.isVisibleSuccessDelete=!1,2e3),this.hide())})}deleteEmployees(){let t=localStorage.getItem("CurrentUserId");this.entitySer.deleteCategory(this.CategoryId,t).subscribe(o=>{console.log(o),this.getAllCategories()})}Delete(t,o){this.CategoryId=o,this.popUpSer.confirmCommon("Please confirm..","Do you really want to delete?").then(s=>{s&&(localStorage.getItem("CurrentUserId"),this.enterPasswordToDelete())}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)"))}enterPasswordToDelete(){this.Deactivate=!0}hideDeactivate(){this.Deactivate=!1,this.passwordForm.reset()}performDeleteAction(){let t=this.passwordForm.value;console.log(t.password,this.CategoryId);let o=localStorage.getItem("CurrentUserEmail");this.passwordForm.valid?this.userService.matchPassword({Email:o,Password:t.password}).subscribe(r=>{console.log(r,"before token");let l=r;"Invalid Password"==r?(console.log("Invalid Password"),this.isVisibleFailureInvalidPassword=!0,setTimeout(()=>this.isVisibleFailureInvalidPassword=!1,2e3)):"Email Does Not Exist"==r?(console.log("Email Does Not Exist"),this.isVisibleFailureEmailNotExist=!0,setTimeout(()=>this.isVisibleFailureEmailNotExist=!1,2e3)):l.success&&(this.deleteCategory(),console.log("matched pass"))}):(console.log("invalidddd"),this.isVisibleFailurePassword=!0,setTimeout(()=>this.isVisibleFailurePassword=!1,2e3))}deleteCategory(){let t=localStorage.getItem("CurrentUserId");this.entitySer.deleteCategory(this.CategoryId,t).subscribe(o=>{console.log(o),this.hideDeactivate(),this.getAllCategories(),this.getAllEntities(),this.isVisibleSuccessDelete=!0,setTimeout(()=>this.isVisibleSuccessDelete=!1,2e3)})}getDismissReason(t){return t===u.If.ESC?"by pressing ESC":t===u.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${t}`}ngOnDestroy(){console.log("destroyed")}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(O),e.Y36(p.F0),e.Y36(e.sBO),e.Y36(h),e.Y36(a.qu),e.Y36(b))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-category"]],inputs:{updatecategory:"updatecategory"},features:[e.TTD],decls:68,vars:13,consts:[[1,"content-wrapper"],["class","alertnotify","style","background: #cb3837;",4,"ngIf"],["class","alertnotify","style","background: #54a254;",4,"ngIf"],["activeIds","toggle-11",3,"closeOthers"],["id","toggle-11"],["ngbPanelTitle",""],["ngbPanelContent",""],[1,"card","main-card","mt-3"],[1,"card-header"],[1,"table-responsive"],["id","categorydataTable",1,"table","table-striped"],["scope","col"],["scope","col",1,"col-3"],["scope","col-1"],[4,"ngFor","ngForOf"],["id","imagemodal","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal"],[1,"modal-dialog",2,"width","50%","height","20px","position","center","margin-top","5%"],[1,"modal-content"],[1,"modal-header"],["id","myModalLabel",1,"modal-title"],[1,"modal-body"],[3,"formGroup"],[1,"form-group"],[1,"from-control"],["type","password","id","password","formControlName","password",1,"form-control"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary",3,"click"],["type","button","data-dismiss","modal",1,"btn","btn-danger",3,"click"],["id","deactivatemodal","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal"],[3,"formGroup","ngSubmit"],["type","password","placeholder","Enter password...","required","required","aria-required","true","formControlName","password",1,"form-control"],["type","submit",1,"btn","upload-btn",3,"click"],["type","button","data-dismiss","modal",1,"btn","reset-btn",3,"click"],[1,"alertnotify",2,"background","#cb3837"],[1,"alertnotify",2,"background","#54a254"],[1,"card-header--title"],[1,"pull-right"],[1,"fa","fa-angle-down","fa-lg"],[1,"row"],[1,"col"],["formControlName","EntityTypeId",1,"form-control","form-control-sm",3,"ngClass"],["value","null"],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["type","text","placeholder","Category Name","formControlName","CategoryName",1,"form-control","form-control-sm",3,"ngClass"],["type","number","placeholder","Priority","formControlName","priority","min","0",1,"form-control","form-control-sm",3,"ngClass"],[1,"col","text-right"],[1,"btn","upload-btn","btn-sm",3,"click"],[1,"btn","reset-btn","btn-sm",3,"click"],[3,"value"],[1,"invalid-feedback"],[4,"ngIf"],["scope","row"],[1,"btn","edit-btn","btn-sm",3,"click"],[1,"fa","fa-pencil","fa-fw"],[1,"btn","delet-btn","btn-sm",3,"click"],[1,"fa","fa-trash","fa-fw"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,xg,2,0,"div",1),e.YNc(2,Ig,2,0,"div",2),e.YNc(3,yg,2,0,"div",1),e.YNc(4,kg,2,0,"div",1),e.YNc(5,Ug,2,0,"div",1),e.qZA(),e.TgZ(6,"ngb-accordion",3),e.TgZ(7,"ngb-panel",4),e.YNc(8,Ng,4,0,"ng-template",5),e.YNc(9,Yg,28,14,"ng-template",6),e.qZA(),e.qZA(),e.TgZ(10,"div",7),e.TgZ(11,"div",8),e.TgZ(12,"b"),e._uU(13,"List of All Categories"),e.qZA(),e.qZA(),e.TgZ(14,"div",9),e._UZ(15,"br"),e.TgZ(16,"table",10),e.TgZ(17,"thead"),e.TgZ(18,"tr"),e.TgZ(19,"th",11),e._uU(20,"#"),e.qZA(),e.TgZ(21,"th",12),e._uU(22,"Entity Name"),e.qZA(),e.TgZ(23,"th",12),e._uU(24,"Category Name"),e.qZA(),e.TgZ(25,"th",13),e._uU(26,"Priority"),e.qZA(),e.TgZ(27,"th",11),e._uU(28,"Action"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(29,"tbody"),e.YNc(30,Qg,15,4,"tr",14),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(31,"div",15),e.TgZ(32,"div",16),e.TgZ(33,"div",17),e.TgZ(34,"div",18),e.TgZ(35,"h4",19),e._uU(36,"Do you Really want to Delete"),e.qZA(),e.qZA(),e.TgZ(37,"div",20),e.TgZ(38,"form",21),e.TgZ(39,"div",22),e.TgZ(40,"label",23),e._uU(41,"Password"),e.qZA(),e._UZ(42,"input",24),e.qZA(),e.qZA(),e.qZA(),e.TgZ(43,"div",25),e.TgZ(44,"button",26),e.NdJ("click",function(){return o.onSubmit()}),e._uU(45,"Submit"),e.qZA(),e.TgZ(46,"button",27),e.NdJ("click",function(){return o.hide()}),e._uU(47,"Cancel"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(48,"div",28),e.TgZ(49,"div",16),e.TgZ(50,"div",17),e.TgZ(51,"div",18),e.TgZ(52,"h4",19),e._uU(53,"Admin Permission Required "),e.qZA(),e.qZA(),e.TgZ(54,"div",20),e.TgZ(55,"p"),e.TgZ(56,"strong"),e._uU(57,"Please enter your login password to continue."),e.qZA(),e.qZA(),e.TgZ(58,"form",29),e.NdJ("ngSubmit",function(){return o.performDeleteAction()}),e.TgZ(59,"div",22),e.TgZ(60,"label",23),e._uU(61,"Password"),e.qZA(),e._UZ(62,"input",30),e.qZA(),e.qZA(),e.qZA(),e.TgZ(63,"div",25),e.TgZ(64,"button",31),e.NdJ("click",function(){return o.performDeleteAction()}),e._uU(65,"Submit"),e.qZA(),e.TgZ(66,"button",32),e.NdJ("click",function(){return o.hideDeactivate()}),e._uU(67,"Cancel"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",o.isVisibleFailure),e.xp6(1),e.Q6J("ngIf",o.isVisibleSuccess),e.xp6(1),e.Q6J("ngIf",o.isVisibleFailureInvalidPassword),e.xp6(1),e.Q6J("ngIf",o.isVisibleFailureEmailNotExist),e.xp6(1),e.Q6J("ngIf",o.isVisibleSuccessDelete),e.xp6(1),e.Q6J("closeOthers",!0),e.xp6(24),e.Q6J("ngForOf",o.categories),e.xp6(1),e.Udp("display",o.showModal?"block":"none"),e.xp6(7),e.Q6J("formGroup",o.passwordForm),e.xp6(10),e.Udp("display",o.Deactivate?"block":"none"),e.xp6(10),e.Q6J("formGroup",o.passwordForm))},directives:[g.O5,u.gY,u.Gk,u.Cu,u.gW,a._Y,a.JL,a.sg,a.EJ,a.JJ,a.u,g.mk,a.YN,a.Kr,g.sg,a.Fj,a.wV,a.qQ,a.Q7],styles:[""]}),i})();function Mg(i,n){1&i&&(e.TgZ(0,"div",34),e._uU(1," Already Added!. "),e.qZA())}function Vg(i,n){1&i&&(e.TgZ(0,"div",35),e._uU(1," Added Successfully!. "),e.qZA())}function Bg(i,n){1&i&&(e.TgZ(0,"div",34),e._uU(1," Deleted Successfully!. "),e.qZA())}function Hg(i,n){1&i&&(e.TgZ(0,"div",34),e._uU(1," Incorrect Password!. "),e.qZA())}function $g(i,n){1&i&&(e.TgZ(0,"span",36),e._uU(1,"Add Entity"),e.qZA(),e.TgZ(2,"div",37),e._UZ(3,"i",38),e.qZA())}function Lg(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Entity Name is required wihth no first Space"),e.qZA())}function Gg(i,n){if(1&i&&(e.TgZ(0,"div",45),e.YNc(1,Lg,2,0,"div",46),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.EntityName.errors.required||t.f.EntityName.hasError("whitespace"))}}const jg=function(i){return{"is-invalid":i}};function zg(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"form",22),e.TgZ(1,"div",3),e.TgZ(2,"div",39),e.TgZ(3,"label"),e._uU(4,"Entity Name"),e.qZA(),e._UZ(5,"input",40),e.YNc(6,Gg,2,1,"div",41),e.qZA(),e.qZA(),e._UZ(7,"br"),e.TgZ(8,"div",3),e.TgZ(9,"div",42),e.TgZ(10,"button",43),e.NdJ("click",function(){return e.CHM(t),e.oxw().addEntity()}),e._uU(11,"Submit"),e.qZA(),e._uU(12,"\xa0 "),e.TgZ(13,"button",44),e.NdJ("click",function(){return e.CHM(t),e.oxw().addCancel()}),e._uU(14,"Reset"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("formGroup",t.entityForm),e.xp6(5),e.Q6J("ngClass",e.VKq(3,jg,t.submitted&&t.f.EntityName.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.EntityName.errors)}}function Wg(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"th",47),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e.TgZ(6,"button",48),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().editEntity(r.EntityTypeId)}),e._UZ(7,"i",49),e.qZA(),e._uU(8," \xa0 "),e.TgZ(9,"button",50),e.NdJ("click",function(){const r=e.CHM(t).$implicit,l=e.oxw();return l.Delete(l.content,r.EntityTypeId)}),e._UZ(10,"i",51),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=n.$implicit,o=n.index;e.xp6(2),e.Oqu(o+1),e.xp6(2),e.AsE("",t.EntityName," (",t.EntityTypeId,")")}}let Kg=(()=>{class i{constructor(t,o,s,r,l,d,m){this.myFormBuilder=t,this.entitser=o,this.detectChanges=s,this.myRouter=r,this.userService=l,this.fb=d,this.popUpSer=m,this.entityCreated=0,this.submitted=!1,this.submitted1=!1,this.tData=!1,this.isVisibleSuccess=!1,this.isVisibleFailure=!1,this.IsSHowPage=!1,this.showTabData=!1,this.IsDelete=!1,this.showModal=!1,this.isVisibleFailurePassword=!1,this.isVisibleSuccessDelete=!1,this.isVisibleFailureInvalidPassword=!1,this.isVisibleFailureEmailNotExist=!1,this.formdata={}}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():(this.formControls(),this.passwordFormControl(),this.getAllEntities())}formControls(){this.entityForm=this.myFormBuilder.group({EntityName:["",[a.kI.required,a.kI.pattern("^[a-zA-Z0-9_][a-zA-Z-0-9_ ]*$")]]})}get f(){return this.entityForm.controls}addEntity(){this.submitted=!0,!this.entityForm.invalid&&this.entitser.addEntity(this.entityForm.value).subscribe(t=>{t?(this.isVisibleSuccess=!0,setTimeout(()=>this.isVisibleSuccess=!1,1e3),this.getAllEntities(),this.submitted=!1,this.entityForm.reset(),this.entityCreated=this.entityCreated+1):(this.isVisibleFailure=!0,setTimeout(()=>this.isVisibleFailure=!1,1e3))})}addCancel(){this.entityForm.reset(),this.submitted=!1}getAllEntities(){this.tData=!0,setTimeout(()=>{this.entitser.getAllEntities().subscribe(t=>{t.length>0?(this.entities=t,this.detectChanges.detectChanges(),$("#entitiesdataTable").DataTable({paging:!0,searching:!0,ordering:!0})):(this.entities=[],this.detectChanges.detectChanges(),$("#entitiesdataTable").DataTable({paging:!0,searching:!0,ordering:!0}))})},500),$("#entitiesdataTable").dataTable().fnDestroy()}editEntity(t){this.myRouter.navigate(["/pages/edit-entity/"+t])}getf(){return this.passwordForm.controls}passwordFormControl(){this.passwordForm=this.fb.group({password:["",[a.kI.required]]})}showdeletemodal(){this.showModal=!0}hide(){this.showModal=!1,this.passwordForm.reset()}onSubmit(){let t=localStorage.getItem("CurrentUserEmail");this.formdata={Email:t,Password:this.passwordForm.value.password},this.userService.matchPassword(this.formdata).subscribe(s=>{console.log(s,"before token");let r=s;"Invalid Password"==s?(this.isVisibleFailureInvalidPassword=!0,setTimeout(()=>this.isVisibleFailureInvalidPassword=!1,2e3)):"Email Does Not Exist"==s||r.success&&(this.deleteEntity(),this.isVisibleSuccessDelete=!0,setTimeout(()=>this.isVisibleSuccessDelete=!1,2e3),this.hide())})}deleteEntity(){console.log("hereee");let o={CurrentUserId:localStorage.getItem("CurrentUserId"),EntityTypeId:this.EntityTypeId};this.entitser.deleteEntity(o).subscribe(s=>{console.log(s),this.hideDeactivate(),console.log("hide"),this.getAllEntities(),console.log("entity"),this.isVisibleSuccessDelete=!0,setTimeout(()=>this.isVisibleSuccessDelete=!1,2e3)})}deleteEmployees(){localStorage.getItem("CurrentUserId"),this.entitser.deleteEntity(qg.data).subscribe(o=>{console.log(o),this.getAllEntities()})}enterPasswordToDelete(){this.Deactivate=!0}Delete(t,o){this.EntityTypeId=o,this.popUpSer.confirmCommon("Please confirm..","Do you really want to delete?").then(s=>{if(s){let r=localStorage.getItem("CurrentUserId");console.log(r),this.enterPasswordToDelete()}}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)"))}hideDeactivate(){this.Deactivate=!1,this.passwordForm.reset()}performDeleteAction(){let t=this.passwordForm.value;console.log(t.password,this.EntityTypeId);let o=localStorage.getItem("CurrentUserEmail");this.passwordForm.valid?this.userService.matchPassword({Email:o,Password:t.password}).subscribe(r=>{console.log(r,"before token");let l=r;"Invalid Password"==r?(console.log("Invalid Password"),this.isVisibleFailureInvalidPassword=!0,setTimeout(()=>this.isVisibleFailureInvalidPassword=!1,2e3)):"Email Does Not Exist"==r?(console.log("Email Does Not Exist"),this.isVisibleFailureEmailNotExist=!0,setTimeout(()=>this.isVisibleFailureEmailNotExist=!1,2e3)):l.success&&(this.deleteEntity(),this.entityCreated=this.entityCreated+1,console.log("matched pass"))}):(console.log("invalidddd"),this.isVisibleFailurePassword=!0,setTimeout(()=>this.isVisibleFailurePassword=!1,2e3))}getDismissReason(t){return t===u.If.ESC?"by pressing ESC":t===u.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${t}`}ngOnDestroy(){console.log("destroyed")}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(O),e.Y36(e.sBO),e.Y36(p.F0),e.Y36(h),e.Y36(a.qu),e.Y36(b))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-entity"]],decls:67,vars:13,consts:[[1,"content-wrapper"],["class","alertnotify","style","background: #cb3837;",4,"ngIf"],["class","alertnotify","style","background: #54a254;",4,"ngIf"],[1,"row"],[1,"col-md-6"],["activeIds","toggle-11",3,"closeOthers"],["id","toggle-11"],["ngbPanelTitle",""],["ngbPanelContent",""],[1,"card","main-card","mt-3"],[1,"card-header"],[1,"table-responsive"],["id","entitiesdataTable",1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[3,"updatecategory"],["id","imagemodal","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal"],[1,"modal-dialog",2,"width","50%","height","20px","position","center","margin-top","5%"],[1,"modal-content"],[1,"modal-header"],["id","myModalLabel",1,"modal-title"],[1,"modal-body"],[3,"formGroup"],[1,"form-group"],[1,"from-control"],["type","password","id","password","formControlName","password",1,"form-control"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary",3,"click"],["type","button","data-dismiss","modal",1,"btn","btn-danger",3,"click"],["id","deactivatemodal","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal"],[3,"formGroup","ngSubmit"],["type","password","placeholder","Enter password...","required","required","aria-required","true","formControlName","password",1,"form-control"],["type","submit",1,"btn","upload-btn",3,"click"],["type","button","data-dismiss","modal",1,"btn","reset-btn",3,"click"],[1,"alertnotify",2,"background","#cb3837"],[1,"alertnotify",2,"background","#54a254"],[1,"card-header--title"],[1,"pull-right"],[1,"fa","fa-angle-down","fa-lg"],[1,"col"],["type","text","placeholder","Entity Name","formControlName","EntityName","id","EntityName","appAlphabetOnly","",1,"form-control","form-control-sm",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"col","text-right"],[1,"btn","upload-btn","btn-sm",3,"click"],[1,"btn","reset-btn","btn-sm",3,"click"],[1,"invalid-feedback"],[4,"ngIf"],["scope","row"],[1,"btn","edit-btn","btn-sm",3,"click"],[1,"fa","fa-pencil","fa-fw"],[1,"btn","delet-btn","btn-sm",3,"click"],[1,"fa","fa-trash","fa-fw"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Mg,2,0,"div",1),e.YNc(2,Vg,2,0,"div",2),e.YNc(3,Bg,2,0,"div",1),e.YNc(4,Hg,2,0,"div",1),e.qZA(),e.TgZ(5,"div",3),e.TgZ(6,"div",4),e.TgZ(7,"ngb-accordion",5),e.TgZ(8,"ngb-panel",6),e.YNc(9,$g,4,0,"ng-template",7),e.YNc(10,zg,15,5,"ng-template",8),e.qZA(),e.qZA(),e.TgZ(11,"div",9),e.TgZ(12,"div",10),e.TgZ(13,"b"),e._uU(14,"List of All Entities"),e.qZA(),e.qZA(),e.TgZ(15,"div",11),e._UZ(16,"br"),e.TgZ(17,"table",12),e.TgZ(18,"thead"),e.TgZ(19,"tr"),e.TgZ(20,"th",13),e._uU(21,"#"),e.qZA(),e.TgZ(22,"th",13),e._uU(23,"Entity Name"),e.qZA(),e.TgZ(24,"th",13),e._uU(25,"Action"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(26,"tbody"),e.YNc(27,Wg,11,3,"tr",14),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(28,"div",4),e._UZ(29,"app-add-category",15),e.qZA(),e.qZA(),e.TgZ(30,"div",16),e.TgZ(31,"div",17),e.TgZ(32,"div",18),e.TgZ(33,"div",19),e.TgZ(34,"h4",20),e._uU(35,"Do you Really want to Delete"),e.qZA(),e.qZA(),e.TgZ(36,"div",21),e.TgZ(37,"form",22),e.TgZ(38,"div",23),e.TgZ(39,"label",24),e._uU(40,"Password"),e.qZA(),e._UZ(41,"input",25),e.qZA(),e.qZA(),e.qZA(),e.TgZ(42,"div",26),e.TgZ(43,"button",27),e.NdJ("click",function(){return o.onSubmit()}),e._uU(44,"Submit"),e.qZA(),e.TgZ(45,"button",28),e.NdJ("click",function(){return o.hide()}),e._uU(46,"Cancel"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(47,"div",29),e.TgZ(48,"div",17),e.TgZ(49,"div",18),e.TgZ(50,"div",19),e.TgZ(51,"h4",20),e._uU(52,"Admin Permission Required "),e.qZA(),e.qZA(),e.TgZ(53,"div",21),e.TgZ(54,"p"),e.TgZ(55,"strong"),e._uU(56,"Please enter your login password to continue."),e.qZA(),e.qZA(),e.TgZ(57,"form",30),e.NdJ("ngSubmit",function(){return o.performDeleteAction()}),e.TgZ(58,"div",23),e.TgZ(59,"label",24),e._uU(60,"Password"),e.qZA(),e._UZ(61,"input",31),e.qZA(),e.qZA(),e.qZA(),e.TgZ(62,"div",26),e.TgZ(63,"button",32),e.NdJ("click",function(){return o.performDeleteAction()}),e._uU(64,"Submit"),e.qZA(),e.TgZ(65,"button",33),e.NdJ("click",function(){return o.hideDeactivate()}),e._uU(66,"Cancel"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",o.isVisibleFailure),e.xp6(1),e.Q6J("ngIf",o.isVisibleSuccess),e.xp6(1),e.Q6J("ngIf",o.isVisibleSuccessDelete),e.xp6(1),e.Q6J("ngIf",o.isVisibleFailureInvalidPassword),e.xp6(3),e.Q6J("closeOthers",!0),e.xp6(20),e.Q6J("ngForOf",o.entities),e.xp6(2),e.Q6J("updatecategory",o.entityCreated),e.xp6(1),e.Udp("display",o.showModal?"block":"none"),e.xp6(7),e.Q6J("formGroup",o.passwordForm),e.xp6(10),e.Udp("display",o.Deactivate?"block":"none"),e.xp6(10),e.Q6J("formGroup",o.passwordForm))},directives:[g.O5,u.gY,u.Gk,u.Cu,u.gW,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,x,g.mk,g.sg,Og,a.Q7],styles:[""]}),i})();function Xg(i,n){1&i&&(e.TgZ(0,"div",7),e._uU(1," Already Added!. "),e.qZA())}function em(i,n){1&i&&(e.TgZ(0,"div",8),e._uU(1," Updated Successfully!. "),e.qZA())}function tm(i,n){if(1&i&&(e.TgZ(0,"span",9),e._uU(1,"Edit Category "),e.TgZ(2,"strong",10),e._uU(3),e.qZA(),e.qZA(),e.TgZ(4,"div",11),e._UZ(5,"i",12),e.qZA()),2&i){const t=e.oxw();e.xp6(3),e.Oqu(t.CategoryName)}}function im(i,n){if(1&i&&(e.TgZ(0,"option",26),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.EntityTypeId),e.xp6(1),e.hij(" ",t.EntityName," ")}}function om(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Entity Name is required "),e.qZA())}function nm(i,n){if(1&i&&(e.TgZ(0,"div",27),e.YNc(1,om,2,0,"div",28),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.EntityTypeId.errors.required)}}function sm(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Category Name is required "),e.qZA())}function rm(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Category Name Cannot Start With Number "),e.qZA())}function am(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Entity Name cannot contain whitespace "),e.qZA())}function lm(i,n){if(1&i&&(e.TgZ(0,"div",27),e.YNc(1,sm,2,0,"div",28),e.YNc(2,rm,2,0,"div",28),e.YNc(3,am,2,0,"div",28),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.CategoryName.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.CategoryName.errors.pattern),e.xp6(1),e.Q6J("ngIf",t.f.CategoryName.hasError("whitespace"))}}function dm(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Priority is required "),e.qZA())}function cm(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Priority should be non negative "),e.qZA())}function um(i,n){if(1&i&&(e.TgZ(0,"div",27),e.YNc(1,dm,2,0,"div",28),e.YNc(2,cm,2,0,"div",28),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.priority.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.priority.errors.pattern)}}const ct=function(i){return{"is-invalid":i}};function gm(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"form",13),e._UZ(1,"input",14),e.TgZ(2,"div",15),e.TgZ(3,"div",16),e.TgZ(4,"label"),e._uU(5,"Entity Name"),e.qZA(),e.TgZ(6,"select",17),e.TgZ(7,"option",18),e._uU(8,"Please Select"),e.qZA(),e.YNc(9,im,2,2,"option",19),e.qZA(),e.YNc(10,nm,2,1,"div",20),e.qZA(),e.TgZ(11,"div",16),e.TgZ(12,"label"),e._uU(13,"Category Name"),e.qZA(),e._UZ(14,"input",21),e.YNc(15,lm,4,3,"div",20),e.qZA(),e.TgZ(16,"div",16),e.TgZ(17,"label"),e._uU(18,"priority"),e.qZA(),e._UZ(19,"input",22),e.YNc(20,um,3,2,"div",20),e.qZA(),e.qZA(),e._UZ(21,"br"),e.TgZ(22,"div",15),e.TgZ(23,"div",23),e.TgZ(24,"button",24),e.NdJ("click",function(){return e.CHM(t),e.oxw().editCategory()}),e._uU(25," Update"),e.qZA(),e._uU(26,"\xa0 "),e.TgZ(27,"button",25),e.NdJ("click",function(){return e.CHM(t),e.oxw().addCancel()}),e._uU(28,"Cancel"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("formGroup",t.categoryForm),e.xp6(6),e.Q6J("ngClass",e.VKq(8,ct,t.submitted&&t.f.EntityTypeId.errors)),e.xp6(3),e.Q6J("ngForOf",t.allEntities),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.EntityTypeId.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(10,ct,t.submitted&&t.f.CategoryName.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.CategoryName.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(12,ct,t.submitted&&t.f.priority.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.priority.errors)}}let mm=(()=>{class i{constructor(t,o,s,r,l,d,m){this.myFormBuilder=t,this.route=o,this.entitySer=s,this.location=r,this.userService=l,this.popUpSer=d,this.myRouter=m,this.submitted=!1,this.IsSHowPage=!1,this.isVisibleSuccess=!1,this.isVisibleFailure=!1}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():(this.formControls(),this.getCategorybyId(),this.getAllEntities())}get f(){return this.categoryForm.controls}formControls(){this.categoryForm=this.myFormBuilder.group({CategoryId:[""],CategoryName:["",[a.kI.required,a.kI.pattern("^[a-zA-Z0-9_][a-zA-Z-0-9_ ]*$")]],EntityTypeId:[null,a.kI.required],priority:["",[a.kI.required,a.kI.pattern("^[0-9]*$")]]})}getCategorybyId(){this.entitySer.getCategorybyid(this.route.snapshot.paramMap.get("id")).subscribe(t=>{this.category=t,this.categoryForm.controls.CategoryId.setValue(t[0].CategoryId),this.categoryForm.controls.CategoryName.setValue(t[0].CategoryName),this.CategoryName=t[0].CategoryName,this.categoryForm.controls.EntityTypeId.setValue(t[0].EntityTypeId),this.categoryForm.controls.priority.setValue(t[0].PRI)})}getAllEntities(){this.entitySer.getAllEntities().subscribe(t=>{t.length>0&&(this.allEntities=t)})}editCategory(){this.submitted=!0,!this.categoryForm.invalid&&("null"==this.categoryForm.value.EntityTypeId?alert("Please Select All Field"):this.entitySer.editCategory(this.categoryForm.value).subscribe(t=>{t?(this.isVisibleSuccess=!0,setTimeout(()=>this.isVisibleSuccess=!1,1e3),setTimeout(()=>{this.myRouter.navigate(["/pages/add-entity/"])},1e3)):(this.isVisibleFailure=!0,setTimeout(()=>this.isVisibleFailure=!1,1e3))}))}addCancel(){this.location.back()}ngOnDestroy(){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(p.gz),e.Y36(O),e.Y36(g.Ye),e.Y36(h),e.Y36(b),e.Y36(p.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit-category"]],decls:7,vars:3,consts:[[1,"content-wrapper"],["class","alertnotify","style","background: #cb3837",4,"ngIf"],["class","alertnotify","style","background: #54a254",4,"ngIf"],["activeIds","toggle-11",3,"closeOthers"],["id","toggle-11"],["ngbPanelTitle",""],["ngbPanelContent",""],[1,"alertnotify",2,"background","#cb3837"],[1,"alertnotify",2,"background","#54a254"],[1,"card-header--title"],[1,"text-dark"],[1,"pull-right"],[1,"fa","fa-angle-down","fa-lg"],[3,"formGroup"],["type","hidden","formControlName","CategoryId","id","CategoryId"],[1,"row"],[1,"col"],["formControlName","EntityTypeId","id","EntityTypeId",1,"form-control","form-control-sm",3,"ngClass"],["value","null"],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["type","text","placeholder","Category Name","formControlName","CategoryName","id","CategoryName",1,"form-control","form-control-sm",3,"ngClass"],["type","number","placeholder","priority","formControlName","priority","id","priority",1,"form-control","form-control-sm",3,"ngClass"],[1,"col","text-right"],[1,"btn","upload-btn","btn-sm",3,"click"],[1,"btn","reset-btn","btn-sm",3,"click"],[3,"value"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Xg,2,0,"div",1),e.YNc(2,em,2,0,"div",2),e.qZA(),e.TgZ(3,"ngb-accordion",3),e.TgZ(4,"ngb-panel",4),e.YNc(5,tm,6,1,"ng-template",5),e.YNc(6,gm,29,14,"ng-template",6),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",o.isVisibleFailure),e.xp6(1),e.Q6J("ngIf",o.isVisibleSuccess),e.xp6(1),e.Q6J("closeOthers",!0))},directives:[g.O5,u.gY,u.Gk,u.Cu,u.gW,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,a.EJ,g.mk,a.YN,a.Kr,g.sg,a.wV],styles:[""]}),i})();function pm(i,n){1&i&&(e.TgZ(0,"div",7),e._uU(1," Already Added!. "),e.qZA())}function _m(i,n){1&i&&(e.TgZ(0,"div",8),e._uU(1," Added Successfully!. "),e.qZA())}function hm(i,n){1&i&&(e.TgZ(0,"span",9),e._uU(1,"Edit Entity"),e.qZA(),e.TgZ(2,"div",10),e._UZ(3,"i",11),e.qZA())}function fm(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Entity Name is required"),e.qZA())}function Zm(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Entity Name cannot contain whitespace "),e.qZA())}function bm(i,n){if(1&i&&(e.TgZ(0,"div",21),e.YNc(1,fm,2,0,"div",22),e.YNc(2,Zm,2,0,"div",22),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.EntityName.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.EntityName.hasError("whitespace"))}}const vm=function(i){return{"is-invalid":i}};function Tm(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"form",12),e._UZ(1,"input",13),e.TgZ(2,"div",14),e.TgZ(3,"div",15),e.TgZ(4,"label"),e._uU(5,"Entity Name"),e.qZA(),e._UZ(6,"input",16),e.YNc(7,bm,3,2,"div",17),e.qZA(),e._UZ(8,"div",15),e.qZA(),e._UZ(9,"br"),e.TgZ(10,"div",14),e.TgZ(11,"div",18),e.TgZ(12,"button",19),e.NdJ("click",function(){return e.CHM(t),e.oxw().updateEnity()}),e._uU(13,"Update"),e.qZA(),e._uU(14,"\xa0 "),e.TgZ(15,"button",20),e.NdJ("click",function(){return e.CHM(t),e.oxw().addCancel()}),e._uU(16,"Cancel"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("formGroup",t.entityForm),e.xp6(6),e.Q6J("ngClass",e.VKq(3,vm,t.submitted&&t.f.EntityName.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.EntityName.errors)}}let Am=(()=>{class i{constructor(t,o,s,r,l,d,m){this.myFormBuilder=t,this.entitser=o,this.route=s,this.userService=r,this.popUpSer=l,this.location=d,this.myRouter=m,this.submitted=!1,this.isVisibleSuccess=!1,this.IsSHowPage=!1,this.isVisibleFailure=!1}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():(this.formControls(),this.entitser.getEntitybyid(this.route.snapshot.paramMap.get("id")).subscribe(t=>{t.length>0&&(this.entityForm.controls.EntityName.setValue(t[0].EntityName),this.entityForm.controls.EntityTypeId.setValue(t[0].EntityTypeId))}))}updateEnity(){this.submitted=!0,!this.entityForm.invalid&&this.entitser.editEntity(this.entityForm.value).subscribe(t=>{t?(this.isVisibleSuccess=!0,setTimeout(()=>this.isVisibleSuccess=!1,1e3),setTimeout(()=>{this.myRouter.navigate(["/pages/add-entity/"])},1e3)):(this.isVisibleFailure=!0,setTimeout(()=>this.isVisibleFailure=!1,1e3))})}get f(){return this.entityForm.controls}formControls(){this.entityForm=this.myFormBuilder.group({EntityTypeId:[""],EntityName:["",[a.kI.required,a.kI.pattern("^[a-zA-Z0-9_][a-zA-Z-0-9_ ]*$")]]})}addCancel(){this.location.back()}ngOnDestroy(){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(O),e.Y36(p.gz),e.Y36(h),e.Y36(b),e.Y36(g.Ye),e.Y36(p.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit-entity"]],decls:7,vars:3,consts:[[1,"content-wrapper"],["class","alertnotify","style","background: #cb3837;",4,"ngIf"],["class","alertnotify","style","background: #54a254;",4,"ngIf"],["activeIds","toggle-11",3,"closeOthers"],["id","toggle-11"],["ngbPanelTitle",""],["ngbPanelContent",""],[1,"alertnotify",2,"background","#cb3837"],[1,"alertnotify",2,"background","#54a254"],[1,"card-header--title"],[1,"pull-right"],[1,"fa","fa-angle-down","fa-lg"],[3,"formGroup"],["type","hidden","formControlName","EntityTypeId","id","EntityTypeId"],[1,"row"],[1,"col"],["type","text","placeholder","Entity Name","appAlphabetOnly","","formControlName","EntityName","id","EntityName",1,"form-control","form-control-sm",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"col","text-right"],[1,"btn","upload-btn","btn-sm",3,"click"],[1,"btn","reset-btn","btn-sm",3,"click"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,pm,2,0,"div",1),e.YNc(2,_m,2,0,"div",2),e.qZA(),e.TgZ(3,"ngb-accordion",3),e.TgZ(4,"ngb-panel",4),e.YNc(5,hm,4,0,"ng-template",5),e.YNc(6,Tm,17,5,"ng-template",6),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",o.isVisibleFailure),e.xp6(1),e.Q6J("ngIf",o.isVisibleSuccess),e.xp6(1),e.Q6J("closeOthers",!0))},directives:[g.O5,u.gY,u.Gk,u.Cu,u.gW,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,x,g.mk],styles:[""]}),i})(),ut=(()=>{class i{constructor(t,o){this.el=t,this.renderer=o}set ptclControl(t){this._ptclControl=t}set preValue(t){this._preValue=t}ngOnInit(){this.ptclValidate()}ngOnDestroy(){this.sub.unsubscribe()}ptclValidate(){this.sub=this._ptclControl.valueChanges.subscribe(t=>{let o=this._preValue;null==o&&(o="");var s=o.substring(o.length-1,1);if(null!=t)var r=t.replace(/\D/g,"");let l=this.renderer.selectRootElement(".ptcl").selectionStart,d=this.renderer.selectRootElement(".ptcl").selectionEnd;if(null!=t)if(t.length<o.length)o.length<l&&")"==s&&(r=r.substr(0,r.length-1)),r=0==r.length?"":r.length<=3?r.replace(/^(\d{0,3})/,"$1"):r.replace(/^(\d{0,3})(\d{0,8})/,"$1-$2"),this._ptclControl.setValue(r,{emitEvent:!1}),this.renderer.selectRootElement(".ptcl").setSelectionRange(l,d);else{var m=t.charAt(l);r=0==r.length?"":r.length<=3?r.replace(/^(\d{0,3})/,"$1"):r.replace(/^(\d{0,3})(\d{0,8})/,"$1-$2"),o.length>=l?("("==m&&(l+=1,d+=1),")"==m&&(l+=2,d+=2),"-"==m&&(l+=1,d+=1)," "==m&&(l+=1,d+=1),this._ptclControl.setValue(r,{emitEvent:!1}),this.renderer.selectRootElement(".ptcl").setSelectionRange(l,d)):(this._ptclControl.setValue(r,{emitEvent:!1}),this.renderer.selectRootElement(".ptcl").setSelectionRange(l+2,d+2))}})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq),e.Y36(e.Qsj))},i.\u0275dir=e.lG2({type:i,selectors:[["","ptclMask",""]],inputs:{ptclControl:"ptclControl",preValue:"preValue"}}),i})();function Cm(i,n){1&i&&(e.TgZ(0,"div",17),e._uU(1," Something went wrong!. "),e.qZA())}function qm(i,n){1&i&&(e.TgZ(0,"div",18),e._uU(1," Updated Successfully!. "),e.qZA())}function xm(i,n){1&i&&(e.TgZ(0,"div",19),e._uU(1," The number of children eligible for support should be less than the number of children under care "),e.qZA())}function Im(i,n){1&i&&(e.TgZ(0,"span",20),e._uU(1,"Doctor Information"),e.qZA(),e.TgZ(2,"div",21),e._UZ(3,"i",22),e.qZA())}function ym(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"First Name is Required!"),e.qZA())}function km(i,n){if(1&i&&(e.TgZ(0,"div",59),e.YNc(1,ym,2,0,"div",60),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.fname.errors.required)}}function Um(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Last Name is Required!"),e.qZA())}function Nm(i,n){if(1&i&&(e.TgZ(0,"div",59),e.YNc(1,Um,2,0,"div",60),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.lname.errors.required)}}function wm(i,n){if(1&i&&(e.TgZ(0,"option",61),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.HospitalId),e.xp6(1),e.hij("",t.HospitalName," ")}}function Sm(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Organization Name is Required!"),e.qZA())}function Fm(i,n){if(1&i&&(e.TgZ(0,"div",59),e.YNc(1,Sm,2,0,"div",60),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.hospital.errors.required)}}function Dm(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Department Name is Required!"),e.qZA())}function Jm(i,n){if(1&i&&(e.TgZ(0,"div",59),e.YNc(1,Dm,2,0,"div",60),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.depname.errors.required)}}function Em(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Designation is Required!"),e.qZA())}function Rm(i,n){if(1&i&&(e.TgZ(0,"div",59),e.YNc(1,Em,2,0,"div",60),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.designation.errors.required)}}function Pm(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Email is Required!"),e.qZA())}function Ym(i,n){if(1&i&&(e.TgZ(0,"div",59),e.YNc(1,Pm,2,0,"div",60),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.email.errors.required)}}function Qm(i,n){if(1&i&&(e.TgZ(0,"option",61),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.Id),e.xp6(1),e.hij("",t.Name," ")}}function Om(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"City is required"),e.qZA())}function Mm(i,n){if(1&i&&(e.TgZ(0,"div",59),e.YNc(1,Om,2,0,"div",60),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.city.errors.required)}}function Vm(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Website is Required!"),e.qZA())}function Bm(i,n){if(1&i&&(e.TgZ(0,"div",59),e.YNc(1,Vm,2,0,"div",60),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.website.errors)}}function Hm(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Tel # is Required! "),e.qZA())}function $m(i,n){if(1&i&&(e.TgZ(0,"div",59),e.YNc(1,Hm,2,0,"div",60),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.telno.errors.required)}}function Lm(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Cell # is Required! "),e.qZA())}function Gm(i,n){if(1&i&&(e.TgZ(0,"div",59),e.YNc(1,Lm,2,0,"div",60),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.cellno.errors.required)}}function jm(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Address is Required!"),e.qZA())}function zm(i,n){if(1&i&&(e.TgZ(0,"div",59),e.YNc(1,jm,2,0,"div",60),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.address.errors.required)}}function Wm(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Address is Required!"),e.qZA())}function Km(i,n){if(1&i&&(e.TgZ(0,"div",59),e.YNc(1,Wm,2,0,"div",60),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.address.errors.required)}}const E=function(i){return{"is-invalid":i}};function Xm(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",23),e.TgZ(1,"div",24),e.TgZ(2,"div",25),e.TgZ(3,"div",26),e.TgZ(4,"div",27),e.TgZ(5,"div",28),e.TgZ(6,"div",29),e.TgZ(7,"div",30),e.TgZ(8,"label",31),e._uU(9,"First Name"),e.qZA(),e._UZ(10,"input",32),e.YNc(11,km,2,1,"div",33),e.qZA(),e.qZA(),e.TgZ(12,"div",29),e.TgZ(13,"div",30),e.TgZ(14,"label",34),e._uU(15,"Last Name"),e.qZA(),e._UZ(16,"input",35),e.YNc(17,Nm,2,1,"div",33),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"div",26),e.TgZ(19,"div",27),e.TgZ(20,"div",36),e.TgZ(21,"div",29),e.TgZ(22,"div",30),e.TgZ(23,"label",37),e._uU(24,"Hospital"),e.qZA(),e.TgZ(25,"select",38),e.TgZ(26,"option",39),e._uU(27,"Select Hospital"),e.qZA(),e.YNc(28,wm,2,2,"option",40),e.qZA(),e.YNc(29,Fm,2,1,"div",33),e.qZA(),e.qZA(),e.TgZ(30,"div",29),e.TgZ(31,"div",30),e.TgZ(32,"label",41),e._uU(33,"Department"),e.qZA(),e._UZ(34,"input",42),e.YNc(35,Jm,2,1,"div",33),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(36,"div",26),e.TgZ(37,"div",27),e.TgZ(38,"div",36),e.TgZ(39,"div",29),e.TgZ(40,"div",30),e.TgZ(41,"label",41),e._uU(42,"Designation"),e.qZA(),e._UZ(43,"input",43),e.YNc(44,Rm,2,1,"div",33),e.qZA(),e.qZA(),e.TgZ(45,"div",29),e.TgZ(46,"div",30),e.TgZ(47,"label",41),e._uU(48,"Email"),e.qZA(),e._UZ(49,"input",44),e.YNc(50,Ym,2,1,"div",33),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(51,"div",26),e.TgZ(52,"div",27),e.TgZ(53,"div",36),e.TgZ(54,"div",29),e.TgZ(55,"div",30),e.TgZ(56,"label",45),e._uU(57,"City"),e.qZA(),e.TgZ(58,"select",46),e.TgZ(59,"option",39),e._uU(60,"Select City"),e.qZA(),e.YNc(61,Qm,2,2,"option",40),e.qZA(),e.YNc(62,Mm,2,1,"div",33),e.qZA(),e.qZA(),e.TgZ(63,"div",29),e.TgZ(64,"div",30),e.TgZ(65,"label",41),e._uU(66,"Website"),e.qZA(),e._UZ(67,"input",47),e.YNc(68,Bm,2,1,"div",33),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(69,"div",26),e.TgZ(70,"div",27),e.TgZ(71,"div",36),e.TgZ(72,"div",29),e.TgZ(73,"div",30),e.TgZ(74,"label",41),e._uU(75,"Tel #"),e.qZA(),e._UZ(76,"input",48),e.YNc(77,$m,2,1,"div",33),e.qZA(),e.qZA(),e.TgZ(78,"div",29),e.TgZ(79,"div",30),e.TgZ(80,"label",49),e._uU(81,"Cell #"),e.qZA(),e._UZ(82,"input",50),e.YNc(83,Gm,2,1,"div",33),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(84,"div",26),e.TgZ(85,"div",27),e.TgZ(86,"div",36),e.TgZ(87,"div",29),e.TgZ(88,"div",30),e.TgZ(89,"label",41),e._uU(90,"Address line 1"),e.qZA(),e._UZ(91,"input",51),e.YNc(92,zm,2,1,"div",33),e.qZA(),e.qZA(),e.TgZ(93,"div",29),e.TgZ(94,"div",30),e.TgZ(95,"label",41),e._uU(96,"Address line 2"),e.qZA(),e._UZ(97,"input",51),e.YNc(98,Km,2,1,"div",33),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(99,"div",52),e.TgZ(100,"div",53),e.TgZ(101,"div",12),e.TgZ(102,"div",54),e._UZ(103,"img",55),e.qZA(),e.qZA(),e.TgZ(104,"div",56),e.TgZ(105,"div",57),e.TgZ(106,"button",58),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(),r=e.MAs(25);return s.open(r)}),e._uU(107,"Upload Image"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(10),e.Q6J("ngClass",e.VKq(31,E,t.submitted&&t.f.fname.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.fname.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(33,E,t.submitted&&t.f.lname.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.lname.errors),e.xp6(8),e.Q6J("ngClass",e.VKq(35,E,t.submitted&&t.f.hospital.errors)),e.xp6(3),e.Q6J("ngForOf",t.hospitals),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.hospital.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(37,E,t.submitted&&t.f.depname.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.depname.errors),e.xp6(8),e.Q6J("ngClass",e.VKq(39,E,t.submitted&&t.f.designation.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.designation.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(41,E,t.submitted&&t.f.email.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.email.errors),e.xp6(8),e.Q6J("ngClass",e.VKq(43,E,t.submitted&&t.f.city.errors)),e.xp6(3),e.Q6J("ngForOf",t.allcities),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.city.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(45,E,t.submitted&&t.f.website.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.website.errors),e.xp6(8),e.Q6J("preValue",t.doctor.value.telno)("ptclControl",t.doctor.controls.telno)("ngClass",e.VKq(47,E,t.submitted&&t.f.telno.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.telno.errors),e.xp6(5),e.Q6J("preValue",t.doctor.value.cellno)("phoneControl",t.doctor.controls.cellno)("ngClass",e.VKq(49,E,t.submitted&&t.f.cellno.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.cellno.errors),e.xp6(8),e.Q6J("ngClass",e.VKq(51,E,t.submitted&&t.f.address.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.address.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(53,E,t.submitted&&t.f.address.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.address.errors),e.xp6(5),e.s9C("src",t.img,e.LSH)}}function ep(i,n){1&i&&(e.TgZ(0,"span",20),e._uU(1,"Children Under Care"),e.qZA(),e.TgZ(2,"div",21),e._UZ(3,"i",22),e.qZA())}function tp(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Total Children is Required!"),e.qZA())}function ip(i,n){if(1&i&&(e.TgZ(0,"div",59),e.YNc(1,tp,2,0,"div",60),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.tdiabchildren.errors.required)}}function op(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Insulin Support is required"),e.qZA())}function np(i,n){if(1&i&&(e.TgZ(0,"div",59),e.YNc(1,op,2,0,"div",60),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.insulinsupport.errors.required)}}function sp(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"New Cases Per Month is Required!"),e.qZA())}function rp(i,n){if(1&i&&(e.TgZ(0,"div",59),e.YNc(1,sp,2,0,"div",60),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.newcasespermonth.errors.required)}}function ap(i,n){if(1&i&&(e.TgZ(0,"div",62),e.TgZ(1,"div",63),e._UZ(2,"div"),e.TgZ(3,"div",24),e.TgZ(4,"div",25),e.TgZ(5,"div",26),e.TgZ(6,"div",27),e.TgZ(7,"div",36),e.TgZ(8,"div",29),e.TgZ(9,"div",30),e.TgZ(10,"label",64),e._uU(11,"Total Children Under Care"),e.qZA(),e._UZ(12,"input",65),e.YNc(13,ip,2,1,"div",33),e.qZA(),e.qZA(),e.TgZ(14,"div",29),e.TgZ(15,"div",30),e.TgZ(16,"label",64),e._uU(17,"Children Eligible for P.O.I Support"),e.qZA(),e._UZ(18,"input",66),e.YNc(19,np,2,1,"div",33),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(20,"div",26),e.TgZ(21,"div",27),e.TgZ(22,"div",36),e.TgZ(23,"div",29),e.TgZ(24,"div",30),e.TgZ(25,"label",64),e._uU(26,"Approximate New Cases Each Month"),e.qZA(),e._UZ(27,"input",67),e.YNc(28,rp,2,1,"div",33),e.qZA(),e.qZA(),e.TgZ(29,"div",29),e._UZ(30,"div",30),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(12),e.Q6J("ngClass",e.VKq(6,E,t.submitted&&t.f.tdiabchildren.errors||t.errorfound)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.tdiabchildren.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(8,E,t.submitted&&t.f.insulinsupport.errors||t.errorfound)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.insulinsupport.errors),e.xp6(8),e.Q6J("ngClass",e.VKq(10,E,t.submitted&&t.f.newcasespermonth.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.newcasespermonth.errors)}}function lp(i,n){1&i&&(e.TgZ(0,"span",20),e._uU(1," Terms & Conditions"),e.qZA(),e.TgZ(2,"div",21),e._UZ(3,"i",22),e.qZA())}function dp(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Percentage is required"),e.qZA())}function cp(i,n){if(1&i&&(e.TgZ(0,"div",59),e.YNc(1,dp,2,0,"div",60),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.support.errors.required)}}function up(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Date is required "),e.qZA())}function gp(i,n){if(1&i&&(e.TgZ(0,"div",59),e.YNc(1,up,2,0,"div",60),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.Date.errors.required)}}function mp(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Signature is required "),e.qZA())}function pp(i,n){if(1&i&&(e.TgZ(0,"div",59),e.YNc(1,mp,2,0,"div",60),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.signature.errors.required)}}function _p(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"div",68),e.TgZ(2,"label"),e._uU(3,"As per Terms & Conditions, I/We can do the following:"),e.qZA(),e.qZA(),e.TgZ(4,"div",69),e.TgZ(5,"div",70),e.TgZ(6,"input",71),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw().firstconsent=s})("change",function(s){return e.CHM(t),e.oxw().onCheckboxChange1(s)}),e.qZA(),e.TgZ(7,"label",72),e._uU(8," \xa0\xa0 Share information about the program with people who have diabetes "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"div",69),e.TgZ(10,"div",73),e.TgZ(11,"input",74),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw().secondconsent=s})("change",function(s){return e.CHM(t),e.oxw().onCheckboxChange1(s)}),e.qZA(),e.TgZ(12,"label",72),e._uU(13," \xa0\xa0 Share information about the program with other doctors/doctors "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(14,"div",69),e.TgZ(15,"div",73),e.TgZ(16,"input",75),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw().thirdconsent=s})("change",function(s){return e.CHM(t),e.oxw().onCheckboxChange1(s)}),e.qZA(),e.TgZ(17,"label",72),e._uU(18," \xa0\xa0 Put up posters on public media/website/waiting areas in clinics "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"div",69),e.TgZ(20,"div",73),e.TgZ(21,"input",76),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw().fourthconsent=s})("change",function(s){return e.CHM(t),e.oxw().onCheckboxChange1(s)}),e.qZA(),e.TgZ(22,"label",72),e._uU(23," \xa0\xa0 Assist with registration process of beneficiaries "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(24,"div",69),e.TgZ(25,"div",73),e.TgZ(26,"input",77),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw().fifthconsent=s})("change",function(s){return e.CHM(t),e.oxw().onCheckboxChange1(s)}),e.qZA(),e.TgZ(27,"label",72),e._uU(28," \xa0\xa0 Continue providing free consultation to the registered beneficiaries "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(29,"div",69),e.TgZ(30,"div",73),e.TgZ(31,"input",78),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw().sixthconsent=s})("change",function(s){return e.CHM(t),e.oxw().onCheckboxChange1(s)}),e.qZA(),e.TgZ(32,"label",72),e._uU(33," \xa0\xa0 Support package handling if a beneficiary is unreachable by courier service "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(34,"div",69),e.TgZ(35,"div",73),e.TgZ(36,"input",79),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw().seventhconsent=s})("change",function(s){return e.CHM(t),e.oxw().onCheckboxChange1(s)}),e.qZA(),e.TgZ(37,"label",72),e._uU(38," \xa0\xa0 If unavailable, refer the child to another doctor/doctor In the city "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(39,"div",69),e.TgZ(40,"div",73),e.TgZ(41,"input",80),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw().eightconsent=s})("change",function(s){return e.CHM(t),e.oxw().onCheckboxChange1(s)}),e.qZA(),e.TgZ(42,"label",72),e._uU(43," \xa0\xa0 Support some percentage of supplies for the registered beneficiaries "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(44,"div",81),e.TgZ(45,"div",82),e.TgZ(46,"label",83),e._uU(47,"% Support provided by hospital (if any)"),e.qZA(),e._UZ(48,"input",84),e.YNc(49,cp,2,1,"div",33),e.qZA(),e.TgZ(50,"div",85),e.TgZ(51,"label",64),e._uU(52,"Date"),e.qZA(),e._UZ(53,"input",86),e.YNc(54,gp,2,1,"div",33),e.qZA(),e.TgZ(55,"div",85),e.TgZ(56,"label",64),e._uU(57,"Signature"),e.qZA(),e._UZ(58,"input",87),e.YNc(59,pp,2,1,"div",33),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(6),e.Q6J("value",1)("ngModel",t.firstconsent),e.xp6(5),e.Q6J("value",2)("ngModel",t.secondconsent),e.xp6(5),e.Q6J("value",3)("ngModel",t.thirdconsent),e.xp6(5),e.Q6J("value",4)("ngModel",t.fourthconsent),e.xp6(5),e.Q6J("value",5)("ngModel",t.fifthconsent),e.xp6(5),e.Q6J("value",6)("ngModel",t.sixthconsent),e.xp6(5),e.Q6J("value",7)("ngModel",t.seventhconsent),e.xp6(5),e.Q6J("value",8)("ngModel",t.eightconsent),e.xp6(7),e.Q6J("ngClass",e.VKq(23,E,t.submitted&&t.f.support.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.support.errors),e.xp6(4),e.Q6J("max",t.maxDate)("ngClass",e.VKq(25,E,t.submitted&&t.f.Date.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.Date.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(27,E,t.submitted&&t.f.signature.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.signature.errors)}}function hp(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",88),e.TgZ(1,"h4",89),e._uU(2,"Profile update"),e.qZA(),e.TgZ(3,"button",90),e.NdJ("click",function(){return e.CHM(t).$implicit.dismiss("Cross click")}),e.TgZ(4,"span",91),e._uU(5,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"div",53),e.TgZ(7,"form"),e.TgZ(8,"div",92),e.TgZ(9,"label"),e.TgZ(10,"b"),e._uU(11,"Upload Image"),e.qZA(),e.qZA(),e._UZ(12,"br"),e._UZ(13,"br"),e.TgZ(14,"div",93),e.TgZ(15,"a",94),e._uU(16,"Choose File "),e.TgZ(17,"input",95,96),e.NdJ("change",function(s){return e.CHM(t),e.oxw().onFileSelect(s)}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"image-cropper",97),e.NdJ("imageCropped",function(s){return e.CHM(t),e.oxw().imageCropped(s)})("imageLoaded",function(){return e.CHM(t),e.oxw().imageLoaded()})("cropperReady",function(){return e.CHM(t),e.oxw().cropperReady()})("loadImageFailed",function(){return e.CHM(t),e.oxw().loadImageFailed()}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(20,"div",98),e.TgZ(21,"button",99),e.NdJ("click",function(){return e.CHM(t).$implicit.close("Save click")}),e._uU(22," Save "),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(19),e.Q6J("imageChangedEvent",t.imageChangedEvent)("maintainAspectRatio",!0)("aspectRatio",1)("resizeToWidth",256)}}let fp=(()=>{class i{constructor(t,o,s,r,l,d,m,_,Z){this.route=t,this.modalService=o,this.instSer=s,this.frombuilder=r,this.router=l,this.userService=d,this.location=m,this.hospSer=_,this.childSer=Z,this.isVisibleFailure=!1,this.isVisibleSuccess=!1,this.imagename="",this.closeResult="",this.activeIds=["toggle-11"],this.closeOthers=!0,this.fileInputLabel="",this.maxDate=(0,g.p6)(new Date,"yyyy-MM-dd","en"),this.submitted=!1,this.firstconsent=!1,this.secondconsent=!1,this.thirdconsent=!1,this.fourthconsent=!1,this.fifthconsent=!1,this.sixthconsent=!1,this.seventhconsent=!1,this.eightconsent=!1,this.addJson={},this.allcities=[],this.IsSHowPage=!1,this.tdiabchildren=!1,this.collapseDocterInfoFlag=!0,this.collapseChildUnderCareFlag=!1,this.collapseTermConditionFlag=!1}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():(this.id=this.route.snapshot.paramMap.get("id"),this.img="assets/images/profile.jpg",this.getEditdata(this.id),this.formcontrols(),this.getallcities(),this.getAllHospitals())}get f(){return this.doctor.controls}formcontrols(){this.doctor=this.frombuilder.group({DoctorId:[""],hospital:["",a.kI.required],fname:["",[a.kI.required]],lname:["",[a.kI.required]],depname:["",a.kI.required],designation:["",a.kI.required],cellno:["03",{validators:[a.kI.required,a.kI.pattern(/^((\+92)|(0092))-{0,1}\d{3}-{0,1}\d{7}$|^\d{11}$|^\d{4}-\d{7}$/)]}],telno:["03",{validators:[a.kI.required]}],email:["",{validators:[a.kI.required,a.kI.email]}],website:["",a.kI.pattern("^((http|https|ftp)://(www.)?|www.)[a-zA-Z0-9_-]+.([a-zA-Z]{2,4}|[a-zA-Z]{2}.[a-zA-Z]{2})(/[a-zA-Z0-9-._?&=,'+%$#~]*)*$")],city:["",a.kI.required],address:[""],uploadedImage:[""],firstconsent:[""],secondconsent:[""],thirdconsent:[""],fourthconsent:[""],fifthconsent:[""],sixthconsent:[""],seventhconsent:[""],eightconsent:[""],tdiabchildren:[""],newcasespermonth:[""],insulinsupport:[""],support:["",a.kI.required],Date:["",a.kI.required],signature:["",a.kI.required]})}getAllHospitals(){this.hospSer.getAllHospitals().subscribe(t=>{this.hospitals=t})}onCheckboxChange1(t){1==t.target.value?this.firstconsent=!!t.target.checked:2==t.target.value?this.secondconsent=!!t.target.checked:3==t.target.value?this.thirdconsent=!!t.target.checked:4==t.target.value?this.fourthconsent=!!t.target.checked:5==t.target.value?this.fifthconsent=!!t.target.checked:6==t.target.value?this.sixthconsent=!!t.target.checked:7==t.target.value?this.seventhconsent=!!t.target.checked:8==t.target.value&&(this.eightconsent=!!t.target.checked)}onFileSelect(t){const o=t.target.files[0];if(null==o)this.imagename="";else if(o.size>2e6)alert("please select file less than 2 mb"),this.imagename="";else{this.imagename=o.name,this.imageChangedEvent=t;const r=new FileReader;if(r.readAsDataURL(o),r.onload=()=>{(new Image).src=r.result,this.url=r.result},!o.type.match(/image-*/))return void alert("Invalid format");this.fileInputLabel=o.name}}imageCropped(t){this.croppedImage=this.dataURLtoFile(t.base64,"doctor.png"),this.img=t.base64,$("#profilepic").attr("src",t.base64),this.imgpdf=new FormData,this.imgpdf.append("uploadedImage",this.croppedImage)}imageLoaded(){}cropperReady(){}loadImageFailed(){}dataURLtoFile(t,o){for(var s=t.split(","),r=s[0].match(/:(.*?);/)[1],l=atob(s[1]),d=l.length,m=new Uint8Array(d);d--;)m[d]=l.charCodeAt(d);return new File([m],o,{type:r})}open(t){this.modalService.open(t,{ariaLabelledBy:"modal-basic-title"}).result.then(o=>{this.closeResult=`Closed with: ${o}`},o=>{this.closeResult=`Dismissed ${this.getDismissReason(o)}`})}getDismissReason(t){return t===u.If.ESC?"by pressing ESC":t===u.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${t}`}submit(){if(this.submitted=!0,this.doctor.invalid)return this.closeOthers=!1,void(this.activeIds=["toggle-11","toggle-12","toggle-13"]);{let t="",o=Date.now();if(""!=this.fileInputLabel?t="doctor"+o+".png":null!=this.imgdb&&(t=this.imgdb),(""!=this.doctor.value.tdiabchildren||""!=this.doctor.value.insulinsupport)&&this.doctor.value.tdiabchildren<this.doctor.value.insulinsupport)return setTimeout(()=>{this.tdiabchildren=!1},3e3),this.tdiabchildren=!0,void(this.errorfound=!0);this.addJson={id:this.doctor.value.DoctorId,fname:this.doctor.value.fname,lname:this.doctor.value.lname,hospital:this.doctor.value.hospital,depname:this.doctor.value.depname,designation:this.doctor.value.designation,cellno:this.doctor.value.cellno,telno:this.doctor.value.telno,email:this.doctor.value.email,website:this.doctor.value.website,city:this.doctor.value.city,address:this.doctor.value.address,firstconsent:this.doctor.value.firstconsent,secondconsent:this.doctor.value.secondconsent,thirdconsent:this.doctor.value.thirdconsent,fourthconsent:this.doctor.value.fourthconsent,fifthconsent:this.doctor.value.fifthconsent,sixthconsent:this.doctor.value.sixthconsent,seventhconsent:this.doctor.value.seventhconsent,eightconsent:this.doctor.value.eightconsent,tdiabchildren:this.doctor.value.tdiabchildren,newcasespermonth:this.doctor.value.newcasespermonth,insulinsupport:this.doctor.value.insulinsupport,support:this.doctor.value.support,Date:this.doctor.value.Date,signature:this.doctor.value.signature,uploadedImage:t},this.instSer.updateRecord(this.addJson).subscribe(s=>{s?(this.isVisibleSuccess=!0,setTimeout(()=>{this.isVisibleSuccess=!1,this.imgdb!=t&&this.instSer.addUserImage(this.imgpdf,this.id,o).subscribe(r=>{}),this.router.navigate(["/pages/show-doctor-data"])},2e3)):(this.isVisibleFailure=!0,setTimeout(()=>this.isVisibleFailure=!1,3e3))})}}getEditdata(t){this.instSer.getdatabyId(t).subscribe(o=>{o.length>0&&(this.doctor.controls.DoctorId.setValue(o[0].DoctorId),this.doctor.controls.fname.setValue(o[0].FirstName),this.doctor.controls.lname.setValue(o[0].LastName),this.doctor.controls.hospital.setValue(o[0].Organization),this.doctor.controls.depname.setValue(o[0].DepartmentName),this.doctor.controls.designation.setValue(o[0].Designation),this.doctor.controls.telno.setValue(o[0].PhoneNumberWork),this.doctor.controls.email.setValue(o[0].EmailAddress),this.doctor.controls.cellno.setValue(o[0].PhoneNumberMobile),this.doctor.controls.city.setValue(o[0].City),this.doctor.controls.website.setValue(o[0].WebsiteSocial),this.doctor.controls.address.setValue(o[0].Address),this.doctor.controls.tdiabchildren.setValue(o[0].NumberOfReferredChildren),this.doctor.controls.newcasespermonth.setValue(o[0].NewCases),this.doctor.controls.insulinsupport.setValue(o[0].EligibleInsulinSupport),this.doctor.controls.support.setValue(o[0].PercentageSupport),this.doctor.controls.Date.setValue(o[0].Date),this.doctor.controls.signature.setValue(o[0].Signature),null!=o[0].DoctorPhoto&&(this.imgdb=o[0].DoctorPhoto,this.weburl=window.location.protocol+"//"+window.location.host+"/Documents/doctordata/",this.img=this.weburl+this.id+"/"+o[0].DoctorPhoto),this.firstconsent=0!=o[0].InfoShareWithPeople,this.secondconsent=0!=o[0].InfoShareWithDoctors,this.thirdconsent=0!=o[0].InfoShareOnSocialMedia,this.fourthconsent=0!=o[0].AssistRegProcess,this.fifthconsent=0!=o[0].FreeConsultation,this.sixthconsent=0!=o[0].PackageHandling,this.seventhconsent=0!=o[0].ReferOtherDoctor,this.eightconsent=0!=o[0].SupportSupplies)})}getallcities(){this.childSer.getallcities().subscribe(t=>{t.length>0&&(this.allcities=t)})}cancel(){this.location.back()}collapseDocterInfo(){this.collapseDocterInfoFlag=!this.collapseDocterInfoFlag,this.collapseChildUnderCareFlag=!1,this.collapseTermConditionFlag=!1}collapseChildUnderCare(){this.collapseChildUnderCareFlag=!this.collapseChildUnderCareFlag,this.collapseDocterInfoFlag=!1,this.collapseTermConditionFlag=!1}collapseTermCondition(){this.collapseTermConditionFlag=!this.collapseTermConditionFlag,this.collapseDocterInfoFlag=!1,this.collapseChildUnderCareFlag=!1}ngOnDestroy(){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(p.gz),e.Y36(u.FF),e.Y36(B),e.Y36(a.qu),e.Y36(p.F0),e.Y36(h),e.Y36(g.Ye),e.Y36(de),e.Y36(S))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit-doctor"]],decls:26,vars:6,consts:[[1,"content-wrapper"],["class","alertnotify","style","background: #cb3837",4,"ngIf"],["class","alertnotify","style","background: #54a254",4,"ngIf"],["class","alertnotify","style","background: #CB3837",4,"ngIf"],[1,"theme-heading"],[3,"formGroup"],["onsubmit","expandAll()",3,"closeOthers","activeIds"],["id","toggle-11"],["ngbPanelTitle",""],["ngbPanelContent",""],["id","toggle-12"],["id","toggle-13"],[1,"row","mt-2"],[1,"col","text-right"],["ngbTooltip","Submit","type","submit","id","submit",1,"btn","upload-btn","btn-sm",3,"click"],["ngbTooltip","Reset","type","submit","id","reset",1,"btn","reset-btn","btn-sm",3,"click"],["content",""],[1,"alertnotify",2,"background","#cb3837"],[1,"alertnotify",2,"background","#54a254"],[1,"alertnotify",2,"background","#CB3837"],[1,"card-header--title"],[1,"pull-right"],[1,"fa","fa-angle-down","fa-lg"],["id","card-1",1,"card-body"],[1,"row","mb-1"],[1,"col-md-8"],[1,"row"],[1,"col-md-12"],[1,"row",2,"padding-left","15px"],[1,"col-md-6"],[1,"col-md-11"],["for","fname","id","s2"],["type","text","id","fname","placeholder","Enter First Name","formControlName","fname",1,"form-control","form-control-sm",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","lname","id","s2"],["type","text","id","lname","placeholder","Enter Last Name","formControlName","lname",1,"form-control","form-control-sm",3,"ngClass"],[1,"row","mt-2",2,"padding-left","15px"],["for","hospital","id","s2"],["id","hospital","formControlName","hospital",1,"form-control","form-control-sm",3,"ngClass"],["value","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["id","s2"],["type","text","id","depname","placeholder","Enter Department","formControlName","depname","appAlphabetOnly","",1,"form-control","form-control-sm",3,"ngClass"],["type","text","id","designation","placeholder","Enter Designation","formControlName","designation","appAlphabetOnly","",1,"form-control","form-control-sm",3,"ngClass"],["type","text","id","email","placeholder","Enter Email","formControlName","email",1,"form-control","form-control-sm",3,"ngClass"],["for","City","id","s2"],["id","city","formControlName","city",1,"form-control","form-control-sm",3,"ngClass"],["type","text","id","website","placeholder","Enter Website","formControlName","website",1,"form-control","form-control-sm",3,"ngClass"],["type","text","id","telno","placeholder","Enter Tel #","formControlName","telno","ptclMask","","maxlength","11",1,"ptcl","form-control","form-control-sm",3,"preValue","ptclControl","ngClass"],["for","cellno","id","s2"],["type","text","id","cellno","placeholder","Enter Cell #","phoneMask","","formControlName","cellno","maxlength","12",1,"Phone","form-control","form-control-sm",3,"preValue","phoneControl","ngClass"],["type","text","id","address","placeholder","Enter Address","formControlName","address",1,"form-control","form-control-sm",3,"ngClass"],[1,"col-md-3","mt-1"],[1,"modal-body"],[1,"col-md-6","offset-md-2"],["id","profilepic","height","150px","width","150px","onerror","this.src='./assets/images/download.png'",1,"rounded-circle",3,"src"],[1,"row","mt-3","ml-2"],[1,"col-md-12","offset-md-2","pl-2"],["id","uploadimg",1,"btn","upload-btn","btn-sm","mt-1",2,"font-size","medium",3,"click"],[1,"invalid-feedback"],[4,"ngIf"],[3,"value"],[1,"mt-2",2,"padding-bottom","1%"],["id","card-3",1,"card-body"],["for","","id","s2"],["type","number","id","tdiabchildren","placeholder","Enter Total Children Under Care","formControlName","tdiabchildren","min","0",1,"form-control","form-control-sm",3,"ngClass"],["type","number","id","insulinsupport","placeholder","Enter Children Eligible for P.O.I Support","formControlName","insulinsupport","min","0",1,"form-control","form-control-sm",3,"ngClass"],["type","number","id","newcasespermonth","placeholder","Enter Approximate New Cases Each Month","formControlName","newcasespermonth","min","0",1,"form-control","form-control-sm",3,"ngClass"],[1,"row","pt-1",2,"font-size","medium","margin-left","10px"],[1,"row","pt-1",2,"margin-left","15px"],[1,"col-lg-6","mt-2"],["type","checkbox","formControlName","firstconsent","id","firstconsent",3,"value","ngModel","ngModelChange","change"],["for",""],[1,"col-lg-12"],["type","checkbox","formControlName","secondconsent","id","secondconsent",3,"value","ngModel","ngModelChange","change"],["type","checkbox","formControlName","thirdconsent","id","thirdconsent",3,"value","ngModel","ngModelChange","change"],["type","checkbox","formControlName","fourthconsent","id","fourthconsent",3,"value","ngModel","ngModelChange","change"],["type","checkbox","formControlName","fifthconsent","id","fifthconsent",3,"value","ngModel","ngModelChange","change"],["type","checkbox","formControlName","sixthconsent","id","sixthconsent",3,"value","ngModel","ngModelChange","change"],["type","checkbox","formControlName","seventhconsent","id","seventhconsent",3,"value","ngModel","ngModelChange","change"],["type","checkbox","formControlName","eightconsent","id","eightconsent",3,"value","ngModel","ngModelChange","change"],[1,"row","p-2",2,"margin-left","10px"],[1,"col-md-4"],["id","s2","for",""],["type","number","id","support","placeholder","Enter % Support provided by hospital (if any)","formControlName","support",1,"form-control","form-control-sm",3,"ngClass"],[1,"col-md-3","pl-5"],["type","date","id","Date","placeholder","Date","formControlName","Date",1,"form-control","form-control-sm",3,"max","ngClass"],["type","text","id","signature","placeholder","Signature","formControlName","signature",1,"form-control","form-control-sm",3,"ngClass"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close","id","close",1,"close",3,"click"],["aria-hidden","true"],[1,"form-group"],[1,"custom-file"],[1,"btn","btn-primary","text-white"],["type","file","id","customFile","name","uploadedImage","accept","image/*","required","",1,"center-block","file-upload",3,"change"],["UploadFileInput",""],["name","uploadedImagei","format","jpeg",3,"imageChangedEvent","maintainAspectRatio","aspectRatio","resizeToWidth","imageCropped","imageLoaded","cropperReady","loadImageFailed"],[1,"modal-footer"],["type","button","id","save",1,"btn","upload-btn","button-style",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Cm,2,0,"div",1),e.YNc(2,qm,2,0,"div",2),e.YNc(3,xm,2,0,"div",3),e.qZA(),e.TgZ(4,"span",4),e._uU(5,"Edit Doctor"),e.qZA(),e.TgZ(6,"form",5),e.TgZ(7,"ngb-accordion",6),e.TgZ(8,"ngb-panel",7),e.YNc(9,Im,4,0,"ng-template",8),e.YNc(10,Xm,108,55,"ng-template",9),e.qZA(),e.TgZ(11,"ngb-panel",10),e.YNc(12,ep,4,0,"ng-template",8),e.YNc(13,ap,31,12,"ng-template",9),e.qZA(),e.TgZ(14,"ngb-panel",11),e.YNc(15,lp,4,0,"ng-template",8),e.YNc(16,_p,60,29,"ng-template",9),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"div",12),e.TgZ(18,"div",13),e.TgZ(19,"button",14),e.NdJ("click",function(){return o.submit()}),e._uU(20,"Update"),e.qZA(),e._uU(21,"\xa0 "),e.TgZ(22,"button",15),e.NdJ("click",function(){return o.cancel()}),e._uU(23,"Cancel"),e.qZA(),e.qZA(),e.qZA(),e.YNc(24,hp,23,4,"ng-template",null,16,e.W1O)),2&t&&(e.xp6(1),e.Q6J("ngIf",o.isVisibleFailure),e.xp6(1),e.Q6J("ngIf",o.isVisibleSuccess),e.xp6(1),e.Q6J("ngIf",o.tdiabchildren),e.xp6(3),e.Q6J("formGroup",o.doctor),e.xp6(1),e.Q6J("closeOthers",o.closeOthers)("activeIds",o.activeIds))},directives:[g.O5,a._Y,a.JL,a.sg,u.gY,u.Gk,u.Cu,u.gW,a.Fj,a.JJ,a.u,g.mk,a.EJ,a.YN,a.Kr,g.sg,x,ut,a.nD,J,a.wV,a.qQ,a.Wl,u._L,a.F,ce.ap],styles:['#customFile[_ngcontent-%COMP%]{position:absolute;z-index:2;top:0;left:0;filter:alpha(opacity=0);-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";opacity:0;background-color:transparent;color:transparent}']}),i})();function Zp(i,n){1&i&&(e.TgZ(0,"div",25),e._uU(1," Something went wrong!. "),e.qZA())}function bp(i,n){1&i&&(e.TgZ(0,"div",26),e._uU(1," Added Successfully!. "),e.qZA())}function vp(i,n){1&i&&(e.TgZ(0,"div",25),e._uU(1," The number of children eligible for support should be less than the number of children under care "),e.qZA())}function Tp(i,n){1&i&&(e.TgZ(0,"span",27),e._uU(1,"Doctor Information"),e.qZA(),e.TgZ(2,"div",28),e._UZ(3,"i",29),e.qZA())}function Ap(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"First Name is Required!"),e.qZA())}function Cp(i,n){if(1&i&&(e.TgZ(0,"div",64),e.YNc(1,Ap,2,0,"div",65),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.FirstName.errors.required)}}function qp(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Last Name is Required!"),e.qZA())}function xp(i,n){if(1&i&&(e.TgZ(0,"div",64),e.YNc(1,qp,2,0,"div",65),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.LastName.errors.required)}}function Ip(i,n){if(1&i&&(e.TgZ(0,"option",66),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.HospitalId),e.xp6(1),e.hij("",t.HospitalName," ")}}function yp(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Hospital Name is Required!"),e.qZA())}function kp(i,n){if(1&i&&(e.TgZ(0,"div",64),e.YNc(1,yp,2,0,"div",65),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.Hospital.errors.required)}}function Up(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Department Name is Required!"),e.qZA())}function Np(i,n){if(1&i&&(e.TgZ(0,"div",64),e.YNc(1,Up,2,0,"div",65),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.DepartmentName.errors.required)}}function wp(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Designation is Required!"),e.qZA())}function Sp(i,n){if(1&i&&(e.TgZ(0,"div",64),e.YNc(1,wp,2,0,"div",65),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.Designation.errors.required)}}function Fp(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Email is Required!"),e.qZA())}function Dp(i,n){if(1&i&&(e.TgZ(0,"div",64),e.YNc(1,Fp,2,0,"div",65),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.Email.errors.required)}}function Jp(i,n){if(1&i&&(e.TgZ(0,"option",66),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.Id),e.xp6(1),e.hij("",t.Name," ")}}function Ep(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"City is required"),e.qZA())}function Rp(i,n){if(1&i&&(e.TgZ(0,"div",64),e.YNc(1,Ep,2,0,"div",65),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.City.errors.required)}}function Pp(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Website is Required!"),e.qZA())}function Yp(i,n){if(1&i&&(e.TgZ(0,"div",64),e.YNc(1,Pp,2,0,"div",65),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.Website.errors)}}function Qp(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Tel # is Required! "),e.qZA())}function Op(i,n){if(1&i&&(e.TgZ(0,"div",64),e.YNc(1,Qp,2,0,"div",65),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.TelNo.errors.required)}}function Mp(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Cell # is Required! "),e.qZA())}function Vp(i,n){if(1&i&&(e.TgZ(0,"div",64),e.YNc(1,Mp,2,0,"div",65),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.CellNo.errors.required)}}function Bp(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Address is Required!"),e.qZA())}function Hp(i,n){if(1&i&&(e.TgZ(0,"div",64),e.YNc(1,Bp,2,0,"div",65),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.Address.errors.required)}}function $p(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Address is Required!"),e.qZA())}function Lp(i,n){if(1&i&&(e.TgZ(0,"div",64),e.YNc(1,$p,2,0,"div",65),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.Address.errors.required)}}const R=function(i){return{"is-invalid":i}};function Gp(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",30),e.TgZ(1,"div",31),e.TgZ(2,"div",32),e.TgZ(3,"div",33),e.TgZ(4,"div",34),e.TgZ(5,"div",35),e.TgZ(6,"div",36),e.TgZ(7,"label",37),e._uU(8,"First Name"),e.qZA(),e._UZ(9,"input",38),e.YNc(10,Cp,2,1,"div",39),e.qZA(),e.qZA(),e.TgZ(11,"div",35),e.TgZ(12,"div",36),e.TgZ(13,"label",40),e._uU(14,"Last Name"),e.qZA(),e._UZ(15,"input",41),e.YNc(16,xp,2,1,"div",39),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"div",32),e.TgZ(18,"div",33),e.TgZ(19,"div",34),e.TgZ(20,"div",35),e.TgZ(21,"div",36),e.TgZ(22,"label",42),e._uU(23,"Hospital"),e.qZA(),e.TgZ(24,"select",43),e.TgZ(25,"option",44),e._uU(26,"Select Hospital"),e.qZA(),e.YNc(27,Ip,2,2,"option",45),e.qZA(),e.YNc(28,kp,2,1,"div",39),e.qZA(),e.qZA(),e.TgZ(29,"div",35),e.TgZ(30,"div",36),e.TgZ(31,"label",46),e._uU(32,"Department"),e.qZA(),e._UZ(33,"input",47),e.YNc(34,Np,2,1,"div",39),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(35,"div",32),e.TgZ(36,"div",33),e.TgZ(37,"div",34),e.TgZ(38,"div",35),e.TgZ(39,"div",36),e.TgZ(40,"label",46),e._uU(41,"Designation"),e.qZA(),e._UZ(42,"input",48),e.YNc(43,Sp,2,1,"div",39),e.qZA(),e.qZA(),e.TgZ(44,"div",35),e.TgZ(45,"div",36),e.TgZ(46,"label",46),e._uU(47,"Email"),e.qZA(),e._UZ(48,"input",49),e.YNc(49,Dp,2,1,"div",39),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(50,"div",32),e.TgZ(51,"div",33),e.TgZ(52,"div",34),e.TgZ(53,"div",35),e.TgZ(54,"div",36),e.TgZ(55,"label",50),e._uU(56,"City"),e.qZA(),e.TgZ(57,"select",51),e.TgZ(58,"option",44),e._uU(59,"Select City"),e.qZA(),e.YNc(60,Jp,2,2,"option",45),e.qZA(),e.YNc(61,Rp,2,1,"div",39),e.qZA(),e.qZA(),e.TgZ(62,"div",35),e.TgZ(63,"div",36),e.TgZ(64,"label",46),e._uU(65,"Website"),e.qZA(),e._UZ(66,"input",52),e.YNc(67,Yp,2,1,"div",39),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(68,"div",32),e.TgZ(69,"div",33),e.TgZ(70,"div",34),e.TgZ(71,"div",35),e.TgZ(72,"div",36),e.TgZ(73,"label",46),e._uU(74,"Tel #"),e.qZA(),e._UZ(75,"input",53),e.YNc(76,Op,2,1,"div",39),e.qZA(),e.qZA(),e.TgZ(77,"div",35),e.TgZ(78,"div",36),e.TgZ(79,"label",54),e._uU(80,"Cell #"),e.qZA(),e._UZ(81,"input",55),e.YNc(82,Vp,2,1,"div",39),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(83,"div",32),e.TgZ(84,"div",33),e.TgZ(85,"div",34),e.TgZ(86,"div",35),e.TgZ(87,"div",36),e.TgZ(88,"label",46),e._uU(89,"Address line 1"),e.qZA(),e._UZ(90,"input",56),e.YNc(91,Hp,2,1,"div",39),e.qZA(),e.qZA(),e.TgZ(92,"div",35),e.TgZ(93,"div",36),e.TgZ(94,"label",46),e._uU(95,"Address line 2"),e.qZA(),e._UZ(96,"input",56),e.YNc(97,Lp,2,1,"div",39),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(98,"div",57),e.TgZ(99,"div",21),e.TgZ(100,"div",11),e.TgZ(101,"div",58),e._UZ(102,"img",59),e.qZA(),e.qZA(),e.TgZ(103,"div",60),e.TgZ(104,"div",61),e.TgZ(105,"button",62,63),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(),r=e.MAs(25);return s.open(r)}),e._uU(107,"Upload Image"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(9),e.Q6J("ngClass",e.VKq(31,R,t.submitted&&t.f.FirstName.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.FirstName.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(33,R,t.submitted&&t.f.LastName.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.LastName.errors),e.xp6(8),e.Q6J("ngClass",e.VKq(35,R,t.submitted&&t.f.Hospital.errors)),e.xp6(3),e.Q6J("ngForOf",t.hospitals),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.Hospital.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(37,R,t.submitted&&t.f.DepartmentName.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.DepartmentName.errors),e.xp6(8),e.Q6J("ngClass",e.VKq(39,R,t.submitted&&t.f.Designation.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.Designation.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(41,R,t.submitted&&t.f.Email.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.Email.errors),e.xp6(8),e.Q6J("ngClass",e.VKq(43,R,t.submitted&&t.f.City.errors)),e.xp6(3),e.Q6J("ngForOf",t.allcities),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.City.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(45,R,t.submitted&&t.f.Website.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.Website.errors),e.xp6(8),e.Q6J("preValue",t.doctor.value.TelNo)("ptclControl",t.doctor.controls.TelNo)("ngClass",e.VKq(47,R,t.submitted&&t.f.TelNo.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.TelNo.errors),e.xp6(5),e.Q6J("preValue",t.doctor.value.CellNo)("phoneControl",t.doctor.controls.CellNo)("ngClass",e.VKq(49,R,t.submitted&&t.f.CellNo.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.CellNo.errors),e.xp6(8),e.Q6J("ngClass",e.VKq(51,R,t.submitted&&t.f.Address.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.Address.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(53,R,t.submitted&&t.f.Address.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.Address.errors),e.xp6(5),e.Q6J("src",t.originalImage,e.LSH)}}function jp(i,n){1&i&&(e.TgZ(0,"span",27),e._uU(1,"Children Under Care"),e.qZA(),e.TgZ(2,"div",28),e._UZ(3,"i",29),e.qZA())}function zp(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Total Children is Required!"),e.qZA())}function Wp(i,n){if(1&i&&(e.TgZ(0,"div",64),e.YNc(1,zp,2,0,"div",65),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.TotalDiabeticChildren.errors.required)}}function Kp(i,n){1&i&&(e.TgZ(0,"p"),e._uU(1,"Password is required"),e.qZA())}function Xp(i,n){if(1&i&&(e.TgZ(0,"div",64),e.YNc(1,Kp,2,0,"p",65),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.errorUndercare)}}function e_(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"New Cases Per Month is Required!"),e.qZA())}function t_(i,n){if(1&i&&(e.TgZ(0,"div",64),e.YNc(1,e_,2,0,"div",65),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.NewCasesPerMonth.errors.required)}}function i_(i,n){if(1&i&&(e.TgZ(0,"div",67),e.TgZ(1,"div",31),e.TgZ(2,"div",32),e.TgZ(3,"div",33),e.TgZ(4,"div",34),e.TgZ(5,"div",35),e.TgZ(6,"div",36),e.TgZ(7,"label",68),e._uU(8,"Total Children Under Care"),e.qZA(),e._UZ(9,"input",69),e.YNc(10,Wp,2,1,"div",39),e.qZA(),e.qZA(),e.TgZ(11,"div",35),e.TgZ(12,"div",36),e.TgZ(13,"label",68),e._uU(14,"Children Eligible for P.O.I Support"),e.qZA(),e._UZ(15,"input",70),e.YNc(16,Xp,2,1,"div",39),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"div",32),e.TgZ(18,"div",33),e.TgZ(19,"div",34),e.TgZ(20,"div",35),e.TgZ(21,"div",36),e.TgZ(22,"label",68),e._uU(23,"Approximate New Cases Each Month"),e.qZA(),e._UZ(24,"input",71),e.YNc(25,t_,2,1,"div",39),e.qZA(),e.qZA(),e.TgZ(26,"div",35),e._UZ(27,"div",36),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(9),e.Q6J("ngClass",e.VKq(6,R,t.submitted&&t.f.TotalDiabeticChildren.errors||t.errorfound)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.TotalDiabeticChildren.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(8,R,t.submitted&&t.f.InsulinSupport.errors||t.errorfound)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.InsulinSupport.errors),e.xp6(8),e.Q6J("ngClass",e.VKq(10,R,t.submitted&&t.f.NewCasesPerMonth.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.NewCasesPerMonth.errors)}}function o_(i,n){1&i&&(e.TgZ(0,"span",27),e._uU(1,"Terms & Conditions"),e.qZA(),e.TgZ(2,"div",28),e._UZ(3,"i",29),e.qZA())}function n_(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Percentage is required"),e.qZA())}function s_(i,n){if(1&i&&(e.TgZ(0,"div",64),e.YNc(1,n_,2,0,"div",65),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.Support.errors.required)}}function r_(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Date is required "),e.qZA())}function a_(i,n){if(1&i&&(e.TgZ(0,"div",64),e.YNc(1,r_,2,0,"div",65),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.Date.errors.required)}}function l_(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Signature is required "),e.qZA())}function d_(i,n){if(1&i&&(e.TgZ(0,"div",64),e.YNc(1,l_,2,0,"div",65),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.Signature.errors.required)}}function c_(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"div",72),e.TgZ(2,"label"),e._uU(3,"As per Terms & Conditions, I/We can do the following:"),e.qZA(),e.qZA(),e.TgZ(4,"div",73),e.TgZ(5,"div",74),e.TgZ(6,"input",75),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw().firstconsent=s})("change",function(s){return e.CHM(t),e.oxw().onCheckboxChange1(s)}),e.qZA(),e.TgZ(7,"label",76),e._uU(8," \xa0\xa0 Share information about the program with people who have diabetes "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"div",73),e.TgZ(10,"div",77),e.TgZ(11,"input",78),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw().secondconsent=s})("change",function(s){return e.CHM(t),e.oxw().onCheckboxChange1(s)}),e.qZA(),e.TgZ(12,"label",76),e._uU(13," \xa0\xa0 Share information about the program with other doctors/doctors "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(14,"div",73),e.TgZ(15,"div",77),e.TgZ(16,"input",79),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw().thirdconsent=s})("change",function(s){return e.CHM(t),e.oxw().onCheckboxChange1(s)}),e.qZA(),e.TgZ(17,"label",76),e._uU(18," \xa0\xa0 Put up posters on public media/website/waiting areas in clinics "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"div",73),e.TgZ(20,"div",77),e.TgZ(21,"input",80),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw().fourthconsent=s})("change",function(s){return e.CHM(t),e.oxw().onCheckboxChange1(s)}),e.qZA(),e.TgZ(22,"label",76),e._uU(23," \xa0\xa0 Assist with registration process of beneficiaries "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(24,"div",73),e.TgZ(25,"div",77),e.TgZ(26,"input",81),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw().fifthconsent=s})("change",function(s){return e.CHM(t),e.oxw().onCheckboxChange1(s)}),e.qZA(),e.TgZ(27,"label",76),e._uU(28," \xa0\xa0 Continue providing free consultation to the registered beneficiaries "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(29,"div",73),e.TgZ(30,"div",77),e.TgZ(31,"input",82),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw().sixthconsent=s})("change",function(s){return e.CHM(t),e.oxw().onCheckboxChange1(s)}),e.qZA(),e.TgZ(32,"label",76),e._uU(33," \xa0\xa0 Support package handling if a beneficiary is unreachable by courier service "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(34,"div",73),e.TgZ(35,"div",77),e.TgZ(36,"input",83),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw().seventhconsent=s})("change",function(s){return e.CHM(t),e.oxw().onCheckboxChange1(s)}),e.qZA(),e.TgZ(37,"label",76),e._uU(38," \xa0\xa0 If unavailable, refer the child to another doctor/doctor In the city "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(39,"div",73),e.TgZ(40,"div",77),e.TgZ(41,"input",84),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw().eightconsent=s})("change",function(s){return e.CHM(t),e.oxw().onCheckboxChange1(s)}),e.qZA(),e.TgZ(42,"label",76),e._uU(43," \xa0\xa0 Support some percentage of supplies for the registered beneficiaries "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(44,"div",85),e.TgZ(45,"div",86),e.TgZ(46,"label",87),e._uU(47,"% Support provided by hospital (if any)"),e.qZA(),e._UZ(48,"input",88),e.YNc(49,s_,2,1,"div",39),e.qZA(),e.TgZ(50,"div",89),e.TgZ(51,"label",76),e._uU(52,"Date"),e.qZA(),e._UZ(53,"input",90),e.YNc(54,a_,2,1,"div",39),e.qZA(),e.TgZ(55,"div",89),e.TgZ(56,"label",68),e._uU(57,"Signature"),e.qZA(),e._UZ(58,"input",91),e.YNc(59,d_,2,1,"div",39),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(6),e.Q6J("value",1)("ngModel",t.firstconsent),e.xp6(5),e.Q6J("value",2)("ngModel",t.secondconsent),e.xp6(5),e.Q6J("value",3)("ngModel",t.thirdconsent),e.xp6(5),e.Q6J("value",4)("ngModel",t.fourthconsent),e.xp6(5),e.Q6J("value",5)("ngModel",t.fifthconsent),e.xp6(5),e.Q6J("value",6)("ngModel",t.sixthconsent),e.xp6(5),e.Q6J("value",7)("ngModel",t.seventhconsent),e.xp6(5),e.Q6J("value",8)("ngModel",t.eightconsent),e.xp6(7),e.Q6J("ngClass",e.VKq(23,R,t.submitted&&t.f.Support.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.Support.errors),e.xp6(4),e.Q6J("max",t.maxDate)("ngClass",e.VKq(25,R,t.submitted&&t.f.Date.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.Date.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(27,R,t.submitted&&t.f.Signature.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.Signature.errors)}}function u_(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",19),e.TgZ(1,"h4",92),e._uU(2,"Profile update"),e.qZA(),e.TgZ(3,"button",93),e.NdJ("click",function(){return e.CHM(t).$implicit.dismiss("Cross click")}),e.TgZ(4,"span",94),e._uU(5,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"div",21),e.TgZ(7,"form"),e.TgZ(8,"div",95),e.TgZ(9,"label"),e.TgZ(10,"b"),e._uU(11,"Upload Image"),e.qZA(),e.qZA(),e._UZ(12,"br"),e._UZ(13,"br"),e.TgZ(14,"div",96),e.TgZ(15,"a",97),e._uU(16,"Choose File "),e.TgZ(17,"input",98,63),e.NdJ("change",function(s){return e.CHM(t),e.oxw().onFileSelect(s)}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"image-cropper",99),e.NdJ("imageCropped",function(s){return e.CHM(t),e.oxw().imageCropped(s)})("imageLoaded",function(){return e.CHM(t),e.oxw().imageLoaded()})("cropperReady",function(){return e.CHM(t),e.oxw().cropperReady()})("loadImageFailed",function(){return e.CHM(t),e.oxw().loadImageFailed()}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(20,"div",23),e.TgZ(21,"button",100),e.NdJ("click",function(){return e.CHM(t).$implicit.close("Save click")}),e._uU(22,"Save"),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(19),e.Q6J("imageChangedEvent",t.imageChangedEvent)("maintainAspectRatio",!0)("aspectRatio",1)("resizeToWidth",256)}}function g_(i,n){if(1&i&&(e.TgZ(0,"div"),e.TgZ(1,"li"),e._uU(2),e.qZA(),e.qZA()),2&i){const t=n.$implicit;e.xp6(2),e.Oqu(t)}}let m_=(()=>{class i{constructor(t,o,s,r,l,d,m){this.route=t,this.modalService=o,this.doctorSer=s,this.frombuilder=r,this.userService=l,this.hospitalSer=d,this.childSer=m,this.closeResult="",this.imagename="",this.activeIds=["toggle-11"],this.closeOthers=!0,this.checkbox=[],this.fileInputLabel="",this.maxDate=(0,g.p6)(new Date,"yyyy-MM-dd","en"),this.IsSHowPage=!1,this.isVisibleFailure=!1,this.isVisibleSuccess=!1,this.firstconsent=!1,this.secondconsent=!1,this.thirdconsent=!1,this.fourthconsent=!1,this.fifthconsent=!1,this.sixthconsent=!1,this.seventhconsent=!1,this.eightconsent=!1,this.allcities=[],this.dr_form_errors=[],this.addJson={},this.CountryData=[{name:"I/We can share information about the program with people with diabetes",value:"1"},{name:"Share info about the Program with other Doctors/Institutes",value:"2"},{name:"I/We van put up posters on social media/website/waiting areas in clinics",value:"3"},{name:"I/We can assist with registration process of beneficiaries",value:"4"},{name:"I/We can continue providing fee consultation to the registered beneficiaries",value:"5"},{name:"I/We can support package handling if a benefeciary is unreachable by the counter",value:"6"},{name:"If unavailable,I/we can refer the child to another doctor/doctor in the city",value:"7"},{name:"I/We can support some percentage of the supplies for the registered benefeciaries",value:"8"}],this.submitted=!1,this.hospital=[],this.collapseDocterInfoFlag=!0,this.collapseChildUnderCareFlag=!1,this.collapseTermConditionFlag=!1,this.forceLeft=!1}formcontrols(){this.doctor=this.frombuilder.group({Hospital:["",a.kI.required],FirstName:["",[a.kI.required]],LastName:["",[a.kI.required]],DepartmentName:["",a.kI.required],Designation:["",a.kI.required],CellNo:["03",{validators:[a.kI.required,a.kI.pattern(/^((\+92)|(0092))-{0,1}\d{3}-{0,1}\d{7}$|^\d{11}$|^\d{4}-\d{7}$/)]}],TelNo:["",{validators:[a.kI.required,a.kI.minLength(7)]}],Email:["",{validators:[a.kI.required,a.kI.email]}],Website:["",a.kI.pattern("^((http|https|ftp)://(www.)?|www.)[a-zA-Z0-9_-]+.([a-zA-Z]{2,4}|[a-zA-Z]{2}.[a-zA-Z]{2})(/[a-zA-Z0-9-._?&=,'+%$#~]*)*$")],City:["",a.kI.required],Address:[""],uploadedImage:[""],firstconsent:["",a.kI.required],secondconsent:["",a.kI.required],thirdconsent:["",a.kI.required],fourthconsent:[""],fifthconsent:[""],sixthconsent:[""],seventhconsent:[""],eightconsent:[""],TotalDiabeticChildren:[""],NewCasesPerMonth:[""],InsulinSupport:[""],Support:[""],Date:["",a.kI.required],Signature:["",a.kI.required]})}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():(this.formcontrols(),this.getallcities(),this.getAllHospitals(),this.getHospitals(1226),this.weburl=window.location.protocol+"//"+window.location.host+"/Documents/doctordata/",this.originalImage="assets/images/download.png")}get f(){return this.doctor.controls}getAllHospitals(){this.hospitalSer.getAllHospitals().subscribe(t=>{this.hospitals=t})}getallcities(){this.childSer.getallcities().subscribe(t=>{t.length>0&&(this.allcities=t)})}onCheckboxChange1(t){1==t.target.value?this.firstconsent=!!t.target.checked:2==t.target.value?this.secondconsent=!!t.target.checked:3==t.target.value?this.thirdconsent=!!t.target.checked:4==t.target.value?this.fourthconsent=!!t.target.checked:5==t.target.value?this.fifthconsent=!!t.target.checked:6==t.target.value?this.sixthconsent=!!t.target.checked:7==t.target.value?this.seventhconsent=!!t.target.checked:8==t.target.value&&(this.eightconsent=!!t.target.checked)}cancel(){this.doctor.reset(),this.originalImage="assets/images/download.png"}submit(){if(this.submitted=!0,this.applyLimit(),this.doctor.invalid){this.closeOthers=!1,this.activeIds=["toggle-11","toggle-12","toggle-13"];const t=this.getErrors();t.length>0?this.errorsFound=!0:(this.errorsFound=!1,this.dr_form_errors=[]);for(let o=0;o<t.length;o++)this.dr_form_errors.push(t[o].control)}else{if((""!=this.doctor.value.TotalDiabeticChildren||""!=this.doctor.value.InsulinSupport)&&this.doctor.value.TotalDiabeticChildren<this.doctor.value.InsulinSupport)return setTimeout(()=>{this.errorUndercare=!1},3e3),this.errorUndercare=!0,void(this.errorfound=!0);this.errorfound=!1;let t="",o=Date.now();""!=this.fileInputLabel&&(t="doctor"+o+".png"),this.addJson={fname:this.doctor.value.FirstName,lname:this.doctor.value.LastName,hospital:this.doctor.value.Hospital,depname:this.doctor.value.DepartmentName,designation:this.doctor.value.Designation,cellno:this.doctor.value.CellNo,telno:this.doctor.value.TelNo,email:this.doctor.value.Email,Website:this.doctor.value.Website,city:this.doctor.value.City,address:this.doctor.value.Address,firstconsent:this.doctor.value.firstconsent,secondconsent:this.doctor.value.secondconsent,thirdconsent:this.doctor.value.thirdconsent,fourthconsent:this.doctor.value.fourthconsent,fifthconsent:this.doctor.value.fifthconsent,sixthconsent:this.doctor.value.sixthconsent,seventhconsent:this.doctor.value.seventhconsent,eightconsent:this.doctor.value.eightconsent,tdiabchildren:this.doctor.value.TotalDiabeticChildren,newcasespermonth:this.doctor.value.NewCasesPerMonth,insulinsupport:this.doctor.value.InsulinSupport,support:this.doctor.value.Support,Date:this.doctor.value.Date,signature:this.doctor.value.Signature,uploadedImage:t},this.doctorSer.doctorRegister(this.addJson).subscribe(s=>{let r=s[0].DoctorId;s?(this.isVisibleSuccess=!0,this.doctorSer.addfolder(r).subscribe(l=>{}),setTimeout(()=>{this.isVisibleSuccess=!1,""!=this.fileInputLabel&&this.doctorSer.addUserImage(this.imgpdf,r,o).subscribe(l=>{}),this.route.navigate(["/pages/show-doctor-data"])},2e3)):(this.isVisibleFailure=!0,setTimeout(()=>{this.isVisibleFailure=!1},2e3))})}}getHospitals(t){this.hospitalSer.gethospitalbyid(t).subscribe(o=>{o.length>0&&this.hospital.push(o)})}onFileSelect(t){const o=t.target.files[0];if(null==o)this.imagename="";else if(o.size>2e6)alert("please select file less than 2 mb"),this.imagename="";else{this.imagename=o.name,this.imageChangedEvent=t;const r=new FileReader;if(r.readAsDataURL(o),r.onload=()=>{(new Image).src=r.result,this.url=r.result},!o.type.match(/image-*/))return void alert("Invalid format");this.fileInputLabel=o.name}}imageCropped(t){this.croppedImage=this.dataURLtoFile(t.base64,"doctor.png"),this.originalImage=t.base64,$("#profilepic").attr("src",t.base64),this.imgpdf=new FormData,this.imgpdf.append("uploadedImage",this.croppedImage)}imageLoaded(){}cropperReady(){}loadImageFailed(){}dataURLtoFile(t,o){for(var s=t.split(","),r=s[0].match(/:(.*?);/)[1],l=atob(s[1]),d=l.length,m=new Uint8Array(d);d--;)m[d]=l.charCodeAt(d);return new File([m],o,{type:r})}open(t){this.modalService.open(t,{ariaLabelledBy:"modal-basic-title"}).result.then(o=>{this.closeResult=`Closed with: ${o}`},o=>{this.closeResult=`Dismissed ${this.getDismissReason(o)}`})}getDismissReason(t){return t===u.If.ESC?"by pressing ESC":t===u.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${t}`}collapseDocterInfo(){this.collapseDocterInfoFlag=!this.collapseDocterInfoFlag,this.collapseChildUnderCareFlag=!1,this.collapseTermConditionFlag=!1}collapseChildUnderCare(){this.collapseChildUnderCareFlag=!this.collapseChildUnderCareFlag,this.collapseDocterInfoFlag=!1,this.collapseTermConditionFlag=!1}collapseTermCondition(){this.collapseTermConditionFlag=!this.collapseTermConditionFlag,this.collapseDocterInfoFlag=!1,this.collapseChildUnderCareFlag=!1}applyLimit(){this.child_eligibility_length=this.doctor.value.TotalDiabeticChildren,this.forceLeft=!1,(""==this.doctor.value.TotalDiabeticChildren||null==this.doctor.value.TotalDiabeticChildren)&&(this.doctor.controls.InsulinSupport.setValue(""),this.forceLeft=!0),this.doctor.controls.InsulinSupport.setValidators([a.kI.max(this.child_eligibility_length)])}getErrors(){const t=[];return Object.keys(this.doctor.controls).forEach(o=>{const s=this.doctor.get(o).errors;s&&Object.keys(s).forEach(r=>{t.push({control:o,error:r,value:s[r]})})}),t}hideModal(){this.errorsFound=!1,this.dr_form_errors=[]}ngOnDestroy(){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(p.F0),e.Y36(u.FF),e.Y36(B),e.Y36(a.qu),e.Y36(h),e.Y36(de),e.Y36(S))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-doctor-form"]],decls:37,vars:9,consts:[[1,"content-wrapper","d-flex","flex-row"],["class","alertnotify","style","background: #CB3837",4,"ngIf"],["class","alertnotify","style","background: #54A254",4,"ngIf"],[1,"theme-heading"],[3,"formGroup"],["onsubmit","expandAll()",3,"closeOthers","activeIds"],["id","toggle-11"],["ngbPanelTitle",""],["ngbPanelContent",""],["id","toggle-12"],["id","toggle-13"],[1,"row","mt-2"],[1,"col","text-right"],["ngbTooltip","Submit","type","submit","id","submit",1,"btn","upload-btn","btn-sm",3,"click"],["ngbTooltip","Reset","type","submit","id","reset",1,"btn","reset-btn","btn-sm",3,"click"],["content",""],["id","deactivatemodal","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal"],[1,"modal-dialog",2,"width","50%","height","20px","position","center","margin-top","5%"],[1,"modal-content"],[1,"modal-header"],["id","myModalLabel",1,"modal-title"],[1,"modal-body"],[4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-danger",3,"click"],[1,"alertnotify",2,"background","#CB3837"],[1,"alertnotify",2,"background","#54A254"],[1,"card-header--title"],[1,"pull-right"],[1,"fa","fa-angle-down","fa-lg"],[1,"row","mb-2"],[1,"col-md-8"],[1,"row"],[1,"col-md-12"],[1,"row","mt-2",2,"padding-left","15px"],[1,"col-md-6"],[1,"col-md-11"],["for","fname","id","s2"],["type","text","id","fname","placeholder","Enter First Name","formControlName","FirstName","maxlength","25",1,"form-control","form-control-sm",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","lname","id","s2"],["type","text","id","lname","placeholder","Enter Last Name","formControlName","LastName","maxlength","25",1,"form-control","form-control-sm",3,"ngClass"],["for","hospital","id","s2"],["id","hospital","formControlName","Hospital",1,"form-control","form-control-sm",3,"ngClass"],["value","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["id","s2"],["type","text","id","depname","placeholder","Enter Department","formControlName","DepartmentName","maxlength","25","appAlphabetOnly","",1,"form-control","form-control-sm",3,"ngClass"],["type","text","id","designation","placeholder","Enter Designation","formControlName","Designation","maxlength","25","appAlphabetOnly","",1,"form-control","form-control-sm",3,"ngClass"],["type","text","id","email","placeholder","Enter Email","formControlName","Email",1,"form-control","form-control-sm",3,"ngClass"],["for","City","id","s2"],["id","city","formControlName","City",1,"form-control","form-control-sm",3,"ngClass"],["type","text","id","website","placeholder","Enter Website","formControlName","Website",1,"form-control","form-control-sm",3,"ngClass"],["type","text","id","telno","placeholder","Enter Tel #","ptclMask","","formControlName","TelNo","maxlength","11",1,"ptcl","form-control","form-control-sm",3,"preValue","ptclControl","ngClass"],["for","cellno","id","s2"],["type","text","id","cellno","placeholder","Enter Cell #","phoneMask","","formControlName","CellNo","maxlength","12",1,"Phone","form-control","form-control-sm",3,"preValue","phoneControl","ngClass"],["type","text","id","address","placeholder","Enter Address","formControlName","Address",1,"form-control","form-control-sm",3,"ngClass"],[1,"col-md-3","mt-1"],[1,"col-md-6","offset-md-2"],["id","profilepic","height","150px","width","150px",1,"rounded-circle",3,"src"],[1,"row","mt-3","ml-2"],[1,"col-md-12","offset-md-2","pl-2"],["id","uploadimg","accept","image/png,image/jpg,image/jpeg,image/eps,image/tiff,","required","",1,"btn","upload-btn","btn-sm","mt-1",2,"font-size","medium",3,"click"],["UploadFileInput",""],[1,"invalid-feedback"],[4,"ngIf"],[3,"value"],[1,"row","mb-1"],["for","","id","s2"],["type","number","id","TotalDiabeticChildren","placeholder","Enter Total Children Under Care","formControlName","TotalDiabeticChildren","min","0",1,"form-control","form-control-sm",3,"ngClass"],["type","number","id","InsulinSupport","placeholder","Enter Children Eligible for P.O.I Support","formControlName","InsulinSupport","min","0",1,"form-control","form-control-sm",3,"ngClass"],["type","number","id","newcasespermonth","placeholder","Enter Approximate New Cases Each Month","formControlName","NewCasesPerMonth","min","0",1,"form-control","form-control-sm",3,"ngClass"],[1,"row","pt-1",2,"font-size","medium","margin-left","10px"],[1,"row","pt-1",2,"margin-left","15px"],[1,"col-lg-6","mt-2"],["type","checkbox","formControlName","firstconsent","id","firstconsent",3,"value","ngModel","ngModelChange","change"],["for",""],[1,"col-lg-12"],["type","checkbox","formControlName","secondconsent","id","secondconsent",3,"value","ngModel","ngModelChange","change"],["type","checkbox","formControlName","thirdconsent","id","thirdconsent",3,"value","ngModel","ngModelChange","change"],["type","checkbox","formControlName","fourthconsent","id","fourthconsent",3,"value","ngModel","ngModelChange","change"],["type","checkbox","formControlName","fifthconsent","id","fifthconsent",3,"value","ngModel","ngModelChange","change"],["type","checkbox","formControlName","sixthconsent","id","sixthconsent",3,"value","ngModel","ngModelChange","change"],["type","checkbox","formControlName","seventhconsent","id","seventhconsent",3,"value","ngModel","ngModelChange","change"],["type","checkbox","formControlName","eightconsent","id","eightconsent",3,"value","ngModel","ngModelChange","change"],[1,"row","p-2",2,"margin-left","10px"],[1,"col-md-4"],["id","s2","for",""],["type","number","id","support","placeholder","Enter % Support provided by hospital (if any)","formControlName","Support",1,"form-control","form-control-sm",3,"ngClass"],[1,"col-md-3","pl-5"],["type","date","id","Date","placeholder","Date","formControlName","Date",1,"form-control","form-control-sm",3,"max","ngClass"],["type","text","id","signature","placeholder","Signature","formControlName","Signature",1,"form-control","form-control-sm",3,"ngClass"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close","id","close",1,"close",3,"click"],["aria-hidden","true"],[1,"form-group"],[1,"custom-file"],[1,"btn","btn-primary","text-white"],["type","file","id","customFile","name","uploadedImage","accept","image/*","required","",1,"center-block","file-upload",3,"change"],["id","profileimage","name","uploadedImagei","format","jpeg",3,"imageChangedEvent","maintainAspectRatio","aspectRatio","resizeToWidth","imageCropped","imageLoaded","cropperReady","loadImageFailed"],["type","button","id","save",1,"btn","upload-btn","button-style",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Zp,2,0,"div",1),e.YNc(2,bp,2,0,"div",2),e.YNc(3,vp,2,0,"div",1),e.qZA(),e.TgZ(4,"span",3),e._uU(5,"Doctor Registration Form"),e.qZA(),e.TgZ(6,"form",4),e.TgZ(7,"ngb-accordion",5),e.TgZ(8,"ngb-panel",6),e.YNc(9,Tp,4,0,"ng-template",7),e.YNc(10,Gp,108,55,"ng-template",8),e.qZA(),e.TgZ(11,"ngb-panel",9),e.YNc(12,jp,4,0,"ng-template",7),e.YNc(13,i_,28,12,"ng-template",8),e.qZA(),e.TgZ(14,"ngb-panel",10),e.YNc(15,o_,4,0,"ng-template",7),e.YNc(16,c_,60,29,"ng-template",8),e.qZA(),e.qZA(),e.TgZ(17,"div",11),e.TgZ(18,"div",12),e.TgZ(19,"button",13),e.NdJ("click",function(){return o.submit()}),e._uU(20,"Submit"),e.qZA(),e._uU(21,"\xa0 "),e.TgZ(22,"button",14),e.NdJ("click",function(){return o.cancel()}),e._uU(23,"Reset"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(24,u_,23,4,"ng-template",null,15,e.W1O),e.TgZ(26,"div",16),e.TgZ(27,"div",17),e.TgZ(28,"div",18),e.TgZ(29,"div",19),e.TgZ(30,"h4",20),e._uU(31,"Please Check the field following,there must be some error! "),e.qZA(),e.qZA(),e.TgZ(32,"div",21),e.YNc(33,g_,3,1,"div",22),e.qZA(),e.TgZ(34,"div",23),e.TgZ(35,"button",24),e.NdJ("click",function(){return o.hideModal()}),e._uU(36,"Cancel"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",o.isVisibleFailure),e.xp6(1),e.Q6J("ngIf",o.isVisibleSuccess),e.xp6(1),e.Q6J("ngIf",o.errorUndercare),e.xp6(3),e.Q6J("formGroup",o.doctor),e.xp6(1),e.Q6J("closeOthers",o.closeOthers)("activeIds",o.activeIds),e.xp6(19),e.Udp("display",o.errorsFound?"block":"none"),e.xp6(7),e.Q6J("ngForOf",o.dr_form_errors))},directives:[g.O5,a._Y,a.JL,a.sg,u.gY,u.Gk,u.Cu,u.gW,a.Fj,a.JJ,a.u,a.nD,g.mk,a.EJ,a.YN,a.Kr,g.sg,x,ut,J,a.wV,a.qQ,a.Wl,u._L,a.F,ce.ap],styles:['#customFile[_ngcontent-%COMP%]{position:absolute;z-index:2;top:0;left:0;filter:alpha(opacity=0);-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";opacity:0;background-color:transparent;color:transparent}']}),i})();function p_(i,n){1&i&&(e.TgZ(0,"div",23),e._uU(1," Something went wronge!. "),e.qZA())}function __(i,n){1&i&&(e.TgZ(0,"div",23),e._uU(1," Shift is Deleted Successfully!. "),e.qZA())}function h_(i,n){1&i&&(e.TgZ(0,"div",23),e._uU(1," Please enter password to continue. "),e.qZA())}function f_(i,n){1&i&&(e.TgZ(0,"div",23),e._uU(1," You have entered a wrong password. "),e.qZA())}function Z_(i,n){1&i&&(e.TgZ(0,"div",23),e._uU(1," Deleted Successfully. "),e.qZA())}function b_(i,n){1&i&&(e.TgZ(0,"div",24),e._uU(1," Activated Successfully. "),e.qZA())}function v_(i,n){1&i&&(e.TgZ(0,"div",24),e._uU(1," Deactivated Successfully. "),e.qZA())}function T_(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",30),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;return e.oxw().edit(s.DoctorId)}),e._UZ(1,"i",31),e.qZA()}}function A_(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",32),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;return e.oxw().activate(s.DoctorId)}),e._UZ(1,"i",33),e.qZA()}}function C_(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",34),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,r=e.oxw(),l=e.MAs(63);return r.Delete(l,s.DoctorId)}),e._UZ(1,"i",35),e.qZA()}}function q_(i,n){if(1&i&&(e.TgZ(0,"tr"),e.TgZ(1,"th",25),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td",26),e.YNc(16,T_,2,0,"button",27),e.YNc(17,A_,2,0,"button",28),e.YNc(18,C_,2,0,"button",29),e.qZA(),e.qZA()),2&i){const t=n.$implicit,o=n.index,s=e.oxw();e.xp6(2),e.Oqu(o+1),e.xp6(2),e.AsE("",t.FirstName," ",t.LastName,""),e.xp6(2),e.Oqu(t.Designation),e.xp6(2),e.Oqu(t.City),e.xp6(2),e.Oqu(t.PhoneNumberMobile),e.xp6(2),e.Oqu(t.HospitalName),e.xp6(2),e.Oqu(t.PhoneNumberWork),e.xp6(2),e.Q6J("ngIf",s.editdoc),e.xp6(1),e.Q6J("ngIf",s.activatedoc),e.xp6(1),e.Q6J("ngIf",s.IsDelete)}}function x_(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",37),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;return e.oxw().inactivate(s.DoctorId)}),e._UZ(1,"i",38),e.qZA()}}function I_(i,n){if(1&i&&(e.TgZ(0,"tr"),e.TgZ(1,"th",25),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e.YNc(16,x_,2,0,"button",36),e.qZA(),e.qZA()),2&i){const t=n.$implicit,o=n.index,s=e.oxw();e.xp6(2),e.Oqu(o+1),e.xp6(2),e.AsE("",t.FirstName," ",t.LastName,""),e.xp6(2),e.hij("",t.Designation," "),e.xp6(2),e.hij("",t.City," "),e.xp6(2),e.Oqu(t.PhoneNumberMobile),e.xp6(2),e.Oqu(t.HospitalName),e.xp6(2),e.Oqu(t.PhoneNumberWork),e.xp6(2),e.Q6J("ngIf",s.deactivatedoc)}}const y_=function(){return["/pages/PendingReferralTable"]};function k_(i,n){if(1&i&&(e.TgZ(0,"label"),e.TgZ(1,"li"),e._uU(2),e.TgZ(3,"b"),e.TgZ(4,"a",43),e._uU(5,"Child Referral"),e.qZA(),e.qZA(),e._uU(6," Page, please remove them first. "),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(2),e.hij(" ",t.ReferringPatientContact," entries exist in "),e.xp6(2),e.Q6J("routerLink",e.DdM(2,y_))}}function U_(i,n){1&i&&(e.TgZ(0,"label"),e.TgZ(1,"li"),e._uU(2," No entries found in Add Vendor Page "),e.qZA(),e.qZA())}const N_=function(){return["/pages/child-info"]};function w_(i,n){if(1&i&&(e.TgZ(0,"label"),e.TgZ(1,"li"),e._uU(2),e.TgZ(3,"b"),e.TgZ(4,"a",43),e._uU(5,"Child Registration Status"),e.qZA(),e.qZA(),e._uU(6," Page, please delete first. "),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(2),e.hij(" ",t.PatientInformation," entries exist in "),e.xp6(2),e.Q6J("routerLink",e.DdM(2,N_))}}function S_(i,n){1&i&&(e.TgZ(0,"label"),e.TgZ(1,"li"),e._uU(2," No entries found in Packages List Page "),e.qZA(),e.qZA())}function F_(i,n){if(1&i&&(e.TgZ(0,"label"),e.TgZ(1,"li"),e._uU(2),e.TgZ(3,"b"),e._uU(4,"Purchase Order"),e.qZA(),e._uU(5," Page, please delete first. "),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(2),e.hij(" ",t.PurchasedOrderSub_items," entries exist in ")}}function D_(i,n){1&i&&(e.TgZ(0,"label"),e.TgZ(1,"li"),e._uU(2," No entries found in Purchase Order Page "),e.qZA(),e.qZA())}function J_(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",13),e.TgZ(1,"h4",39),e._uU(2,"Delete Failed"),e.qZA(),e.TgZ(3,"button",40),e.NdJ("click",function(){return e.CHM(t).$implicit.dismiss("Cross click")}),e.TgZ(4,"span",41),e._uU(5,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"div",15),e.TgZ(7,"ul"),e.YNc(8,k_,7,3,"label",42),e.YNc(9,U_,3,0,"label",42),e.YNc(10,w_,7,3,"label",42),e.YNc(11,S_,3,0,"label",42),e.YNc(12,F_,6,1,"label",42),e.YNc(13,D_,3,0,"label",42),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(8),e.Q6J("ngIf",t.ReferringPatientContact>0),e.xp6(1),e.Q6J("ngIf",t.ReferringPatientContact<=0),e.xp6(1),e.Q6J("ngIf",t.PatientInformation>0),e.xp6(1),e.Q6J("ngIf",t.PatientInformation<=0),e.xp6(1),e.Q6J("ngIf",t.PurchasedOrderSub_items>0),e.xp6(1),e.Q6J("ngIf",t.PurchasedOrderSub_items<=0)}}let E_=(()=>{class i{constructor(t,o,s,r,l,d,m,_){this.doctorSer=t,this.detectchanges=o,this.router=s,this.confirmationDialogService=r,this.userService=l,this.popUpSer=d,this.modalService=m,this.fb=_,this.allactivedata=[],this.allinactivedata=[],this.isVisibleSuccess=!1,this.Activate=!1,this.DeactivatePop=!1,this.isVisibleSuccessDoctorDelete=!1,this.isVisibleFailurePassword=!1,this.isVisibleFailure=!1,this.isVisibleFailureInvalidPassword=!1,this.IsSHowPage=!1,this.IsDelete=!1,this.editdoc=!1,this.activatedoc=!1,this.deactivatedoc=!1}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():(this.getAllInActiveData(),this.getAllActiveData(),setTimeout(()=>{this.userService.checkUserHasAccess("/pages/delete-doctor").subscribe(t=>{this.IsDelete=t.length>0})},500),setTimeout(()=>{this.userService.checkUserHasAccess("/pages/edit-doctor").subscribe(t=>{t.length>0?(this.editdoc=!0,this.userService.checkUserHasAccess("/pages/activate-doctor").subscribe(o=>{o.length>0?(this.activatedoc=!0,this.userService.checkUserHasAccess("/pages/activate-doctor").subscribe(s=>{this.deactivatedoc=s.length>0})):this.activatedoc=!1})):this.editdoc=!1})},500),this.formControls())}formControls(){this.passwordForm=this.fb.group({password:["",[a.kI.required]]})}getAllActiveData(){this.doctorSer.getAllActiveData().subscribe(t=>{t.length>0?(this.allactivedata=t,this.detectchanges.detectChanges(),$("#activedoctordatatable").DataTable({paging:!0,searching:!0,ordering:!0,lengthMenu:[[5,10,20],[5,10,20]]})):(this.allactivedata=[],this.detectchanges.detectChanges(),$("#activedoctordatatable").DataTable({paging:!0,searching:!0,ordering:!0}))}),$("#activedoctordatatable").dataTable().fnDestroy()}getAllInActiveData(){this.doctorSer.getAllInActiveData().subscribe(t=>{t.length>0?(this.allinactivedata=t,this.detectchanges.detectChanges(),$("#inactivedoctordatatable").DataTable({paging:!0,searching:!0,ordering:!0,lengthMenu:[[5,10,20],[5,10,20]]})):(this.allinactivedata=[],this.detectchanges.detectChanges(),$("#inactivedoctordatatable").DataTable({paging:!0,searching:!0,ordering:!0}))}),$("#inactivedoctordatatable").dataTable().fnDestroy()}edit(t){this.router.navigate(["/pages/edit-doctor/"+t])}inactivate(t){this.confirmationDialogService.confirm("Please confirm..","Do you really want to De-Activate?").then(o=>{o&&this.doctorSer.inactivate(t).subscribe(s=>{s&&(this.getAllActiveData(),this.getAllInActiveData(),this.DeactivatePop=!0,setTimeout(()=>{this.DeactivatePop=!1},1e3))})})}activate(t){this.confirmationDialogService.confirm("Please confirm..","Do you really want to Activate?").then(o=>{o&&this.doctorSer.activate(t).subscribe(s=>{s&&(this.getAllActiveData(),this.getAllInActiveData(),this.Activate=!0,setTimeout(()=>{this.Activate=!1},1e3))})})}enterPasswordToDelete(){this.Deactivate=!0}Delete(t,o){this.doctor_id=o,this.popUpSer.confirmCommon("Please confirm..","Do you really want to delete?").then(s=>{s&&this.doctorSer.deletePendingDoctor(o).subscribe(r=>{this.ReferringPatientContact=r[0].count,this.PatientInformation=r[1].count,this.ReferringPatientContact>0||this.PatientInformation>0?this.modalService.open(t,{ariaLabelledBy:"modal-basic-title"}).result.then(l=>{this.closeResult=`Closed with: ${l}`},l=>{this.closeResult=`Dismissed ${this.getDismissReason(l)}`}):this.enterPasswordToDelete()})}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)"))}performDeleteAction(){let t=this.passwordForm.value,o=localStorage.getItem("CurrentUserEmail");this.passwordForm.valid?this.userService.matchPassword({Email:o,Password:t.password}).subscribe(r=>{let l=r;"Invalid Password"==r?(this.isVisibleFailureInvalidPassword=!0,setTimeout(()=>this.isVisibleFailureInvalidPassword=!1,2e3)):"Email Does Not Exist"==r||l.success&&this.deleteDoctor()}):(this.isVisibleFailurePassword=!0,setTimeout(()=>this.isVisibleFailurePassword=!1,2e3))}deleteDoctor(){this.doctorSer.deleteDoctor(this.doctor_id).subscribe(t=>{this.hideDeactivate(),this.getAllInActiveData(),this.isVisibleSuccessDoctorDelete=!0,setTimeout(()=>this.isVisibleSuccessDoctorDelete=!1,2e3)})}hideDeactivate(){this.Deactivate=!1,this.doctor_id="",this.passwordForm.reset()}getDismissReason(t){return t===u.If.ESC?"by pressing ESC":t===u.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${t}`}ngOnDestroy(){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(B),e.Y36(e.sBO),e.Y36(p.F0),e.Y36(b),e.Y36(h),e.Y36(b),e.Y36(u.FF),e.Y36(a.qu))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-show-doctor-data"]],decls:84,vars:12,consts:[[1,"content-wrapper"],["class","alertnotify","style","background: #cb3837;",4,"ngIf"],["class","alertnotify","style","background: #54a254;",4,"ngIf"],[1,"theme-heading"],[1,"table-responsive"],["id","inactivedoctordatatable",1,"table","table-striped","text-center"],[4,"ngFor","ngForOf"],["id","activedoctordatatable",1,"table","text-center","table-striped"],["scope","col"],["content",""],["id","deactivatemodal","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal"],[1,"modal-dialog",2,"width","50%","height","20px","position","center","margin-top","5%"],[1,"modal-content"],[1,"modal-header"],["id","myModalLabel",1,"modal-title"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],[1,"from-control"],["type","password","placeholder","Enter password...","required","required","aria-required","true","formControlName","password",1,"form-control"],[1,"modal-footer"],["type","submit",1,"btn","upload-btn",3,"click"],["type","button","data-dismiss","modal",1,"btn","reset-btn",3,"click"],[1,"alertnotify",2,"background","#cb3837"],[1,"alertnotify",2,"background","#54a254"],["scope","row"],[2,"white-space","nowrap"],["ngbTooltip","Edit","class","btn btn-sm edit-btn",3,"click",4,"ngIf"],["ngbTooltip","Activate","class","btn-icon btn-sm btn-icon-only btn upload-btn",3,"click",4,"ngIf"],["ngbTooltip","Delete","class","btn-icon btn-sm btn-icon-only btn delet-btn",3,"click",4,"ngIf"],["ngbTooltip","Edit",1,"btn","btn-sm","edit-btn",3,"click"],[1,"fa","fa-pencil","fa-xs"],["ngbTooltip","Activate",1,"btn-icon","btn-sm","btn-icon-only","btn","upload-btn",3,"click"],[1,"fa","fa-check-circle","fa-xs"],["ngbTooltip","Delete",1,"btn-icon","btn-sm","btn-icon-only","btn","delet-btn",3,"click"],[1,"fa","fa-trash","fa-xs"],["ngbTooltip","Deactivate","class","mb-2 mr-2 btn-icon btn-sm btn-icon-only btn delet-btn",3,"click",4,"ngIf"],["ngbTooltip","Deactivate",1,"mb-2","mr-2","btn-icon","btn-sm","btn-icon-only","btn","delet-btn",3,"click"],[1,"fa","fa-times-circle","fa-xs"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[4,"ngIf"],["routerLinkActive","router-link-active",3,"routerLink"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,p_,2,0,"div",1),e.YNc(2,__,2,0,"div",1),e.YNc(3,h_,2,0,"div",1),e.YNc(4,f_,2,0,"div",1),e.YNc(5,Z_,2,0,"div",1),e.YNc(6,b_,2,0,"div",2),e.YNc(7,v_,2,0,"div",2),e.qZA(),e.TgZ(8,"h5",3),e._uU(9,"Pending Doctors"),e.qZA(),e.TgZ(10,"div"),e.TgZ(11,"div"),e.TgZ(12,"div",4),e.TgZ(13,"table",5),e.TgZ(14,"thead"),e.TgZ(15,"tr"),e.TgZ(16,"th"),e._uU(17,"#"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"Name"),e.qZA(),e.TgZ(20,"th"),e._uU(21,"Qualification"),e.qZA(),e.TgZ(22,"th"),e._uU(23,"City"),e.qZA(),e.TgZ(24,"th"),e._uU(25,"Contact No"),e.qZA(),e.TgZ(26,"th"),e._uU(27,"Hospital"),e.qZA(),e.TgZ(28,"th"),e._uU(29,"Hospital Contact No"),e.qZA(),e.TgZ(30,"th"),e._uU(31,"Action"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(32,"tbody"),e.YNc(33,q_,19,11,"tr",6),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(34,"br"),e.TgZ(35,"div"),e.TgZ(36,"div"),e.TgZ(37,"h5",3),e._uU(38,"Active Doctors"),e.qZA(),e.qZA(),e.TgZ(39,"div"),e.TgZ(40,"div",4),e.TgZ(41,"table",7),e.TgZ(42,"thead"),e.TgZ(43,"tr"),e.TgZ(44,"th",8),e._uU(45,"#"),e.qZA(),e.TgZ(46,"th",8),e._uU(47,"Name"),e.qZA(),e.TgZ(48,"th",8),e._uU(49,"Qualification"),e.qZA(),e.TgZ(50,"th",8),e._uU(51,"City"),e.qZA(),e.TgZ(52,"th",8),e._uU(53,"Contact No"),e.qZA(),e.TgZ(54,"th",8),e._uU(55,"Hospital"),e.qZA(),e.TgZ(56,"th",8),e._uU(57,"Hospital Contact No"),e.qZA(),e.TgZ(58,"th",8),e._uU(59,"Action"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(60,"tbody"),e.YNc(61,I_,17,9,"tr",6),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(62,J_,14,6,"ng-template",null,9,e.W1O),e.TgZ(64,"div",10),e.TgZ(65,"div",11),e.TgZ(66,"div",12),e.TgZ(67,"div",13),e.TgZ(68,"h4",14),e._uU(69,"Admin Permission Required "),e.qZA(),e.qZA(),e.TgZ(70,"div",15),e.TgZ(71,"p"),e.TgZ(72,"strong"),e._uU(73,"Please enter your login password to continue."),e.qZA(),e.qZA(),e.TgZ(74,"form",16),e.NdJ("ngSubmit",function(){return o.performDeleteAction()}),e.TgZ(75,"div",17),e.TgZ(76,"label",18),e._uU(77,"Password"),e.qZA(),e._UZ(78,"input",19),e.qZA(),e.qZA(),e.qZA(),e.TgZ(79,"div",20),e.TgZ(80,"button",21),e.NdJ("click",function(){return o.performDeleteAction()}),e._uU(81,"Submit"),e.qZA(),e.TgZ(82,"button",22),e.NdJ("click",function(){return o.hideDeactivate()}),e._uU(83,"Cancel"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",o.isVisibleFailure),e.xp6(1),e.Q6J("ngIf",o.isVisibleSuccess),e.xp6(1),e.Q6J("ngIf",o.isVisibleFailurePassword),e.xp6(1),e.Q6J("ngIf",o.isVisibleFailureInvalidPassword),e.xp6(1),e.Q6J("ngIf",o.isVisibleSuccessDoctorDelete),e.xp6(1),e.Q6J("ngIf",o.Activate),e.xp6(1),e.Q6J("ngIf",o.DeactivatePop),e.xp6(26),e.Q6J("ngForOf",o.allinactivedata),e.xp6(28),e.Q6J("ngForOf",o.allactivedata),e.xp6(3),e.Udp("display",o.Deactivate?"block":"none"),e.xp6(10),e.Q6J("formGroup",o.passwordForm))},directives:[g.O5,g.sg,u._L,p.yS,p.Od,a._Y,a.JL,a.sg,a.Fj,a.Q7,a.JJ,a.u],styles:[""]}),i})(),Le=(()=>{class i{constructor(t,o){this.httpClient=t,this.myRouter=o,this.token=localStorage.getItem("token"),this.httpOptions={headers:new c.WM({authorization:`Bearer ${this.token}`})}}AddCategory(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/item-category/AddCategory/",t,s)}UpdateCategory(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/item-category/UpdateCategory/",t,s)}CategoryData(){let t=localStorage.getItem("token"),o={headers:new c.WM({authorization:`Bearer ${t}`})};return this.httpClient.get("/api/item-category/CategoryData/",o)}getCategoryDataById(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/item-category/getCategoryDataById?Cat_Id="+t,s)}deleteCategory(t,o){let s=localStorage.getItem("token"),r={headers:new c.WM({authorization:`Bearer ${s}`})};return this.httpClient.get("/api/item-category/DeleteCategory?Cat_Id="+t,r)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(c.eN),e.LFG(p.F0))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function R_(i,n){1&i&&(e.TgZ(0,"div",8),e._uU(1," Something went Wrong!.\n"),e.qZA())}function P_(i,n){1&i&&(e.TgZ(0,"div",8),e._uU(1," Already Added!.\n"),e.qZA())}function Y_(i,n){1&i&&(e.TgZ(0,"div",9),e._uU(1," Updated Successflly!.\n"),e.qZA())}function Q_(i,n){1&i&&(e.TgZ(0,"span",10),e._uU(1,"Update Category"),e.qZA(),e.TgZ(2,"div",11),e._UZ(3,"i",12),e.qZA())}function O_(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Category Name is required "),e.qZA())}function M_(i,n){if(1&i&&(e.TgZ(0,"div",23),e.YNc(1,O_,2,0,"div",24),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.CategoryName.errors.required)}}function V_(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Description is required "),e.qZA())}function B_(i,n){if(1&i&&(e.TgZ(0,"div",23),e.YNc(1,V_,2,0,"div",24),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.Description.errors.required)}}const Ut=function(i){return{"is-invalid":i}};function H_(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"form",13),e.TgZ(1,"div",14),e._UZ(2,"input",15),e.TgZ(3,"div",16),e.TgZ(4,"label"),e._uU(5,"Category Name"),e.qZA(),e._UZ(6,"input",17),e.YNc(7,M_,2,1,"div",18),e.qZA(),e.TgZ(8,"div",16),e.TgZ(9,"label"),e._uU(10,"Description "),e.qZA(),e._UZ(11,"input",19),e.YNc(12,B_,2,1,"div",18),e.qZA(),e.qZA(),e._UZ(13,"br"),e.TgZ(14,"div",14),e.TgZ(15,"div",20),e.TgZ(16,"button",21),e.NdJ("click",function(){return e.CHM(t),e.oxw().addCategory()}),e._uU(17,"Update"),e.qZA(),e._uU(18,"\xa0 "),e.TgZ(19,"button",22),e.NdJ("click",function(){return e.CHM(t),e.oxw().addCancel()}),e._uU(20,"Cancel"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("formGroup",t.categoryForm),e.xp6(6),e.Q6J("ngClass",e.VKq(5,Ut,t.submitted&&t.f.CategoryName.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.CategoryName.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(7,Ut,t.submitted&&t.f.Description.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.Description.errors)}}let $_=(()=>{class i{constructor(t,o,s,r,l,d,m){this.myFormBuilder=t,this.categorSer=o,this.route=s,this.myRouter=r,this.location=l,this.spinner=d,this.userService=m,this.submitted=!1,this.addJson={},this.isVisibleSuccess=!1,this.isVisibleFailure=!1,this.isDuplicateFailure=!1}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():(this.formControls(),this.getEditData())}get f(){return this.categoryForm.controls}formControls(){this.categoryForm=this.myFormBuilder.group({CatId:[""],CategoryName:["",a.kI.required],Description:["",a.kI.required]})}getEditData(){this.categorSer.getCategoryDataById(this.route.snapshot.paramMap.get("id")).subscribe(t=>{this.categoryForm.controls.CatId.setValue(t[0].Cat_Id),this.categoryForm.controls.CategoryName.setValue(t[0].Cat_Name),this.categoryForm.controls.Description.setValue(t[0].Description)})}addCategory(){this.spinner.show(),this.submitted=!0,this.categoryForm.invalid?this.spinner.hide():(this.addJson={Cat_Id:this.categoryForm.value.CatId,CategoryName:this.categoryForm.value.CategoryName,Description:this.categoryForm.value.Description},this.categorSer.UpdateCategory(this.addJson).subscribe(t=>{"Duplicate"==t.duplicate?(this.spinner.hide(),this.isDuplicateFailure=!0,setTimeout(()=>this.isDuplicateFailure=!1,2e3)):t?(this.spinner.hide(),this.isVisibleSuccess=!0,setTimeout(()=>this.isVisibleSuccess=!1,1e3),setTimeout(()=>{this.myRouter.navigate(["/pages/item-category/"])},1e3)):(this.spinner.hide(),this.isVisibleFailure=!0,setTimeout(()=>this.isVisibleFailure=!1,1e3))}))}addCancel(){this.location.back()}ngOnDestroy(){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(Le),e.Y36(p.gz),e.Y36(p.F0),e.Y36(g.Ye),e.Y36(v.t2),e.Y36(h))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit-item-category"]],decls:10,vars:4,consts:[["class","alertnotify","style","background: #cb3837",4,"ngIf"],["class","alertnotify","style","background: #54a254",4,"ngIf"],["bdColor","rgba(51,51,51,0.6)","size","medium","color","#fff","type","timer"],[2,"font-size","20px","color","white","margin-top","30px"],["activeIds","toggle-11",3,"closeOthers"],["id","toggle-11"],["ngbPanelTitle",""],["ngbPanelContent",""],[1,"alertnotify",2,"background","#cb3837"],[1,"alertnotify",2,"background","#54a254"],[1,"card-header--title"],[1,"pull-right"],[1,"fa","fa-angle-down","fa-lg"],[3,"formGroup"],[1,"row"],["type","hidden","formControlName","CatId"],[1,"col"],["type","text","placeholder","Category Name","formControlName","CategoryName","id","CategoryName",1,"form-control","form-control-sm",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","text","placeholder","Description","formControlName","Description","id","Description",1,"form-control","form-control-sm",3,"ngClass"],[1,"col","text-right"],[1,"btn","upload-btn","btn-sm",3,"click"],[1,"btn","reset-btn","btn-sm",3,"click"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(t,o){1&t&&(e.YNc(0,R_,2,0,"div",0),e.YNc(1,P_,2,0,"div",0),e.YNc(2,Y_,2,0,"div",1),e.TgZ(3,"ngx-spinner",2),e.TgZ(4,"p",3),e._uU(5,"Please wait..."),e.qZA(),e.qZA(),e.TgZ(6,"ngb-accordion",4),e.TgZ(7,"ngb-panel",5),e.YNc(8,Q_,4,0,"ng-template",6),e.YNc(9,H_,21,9,"ng-template",7),e.qZA(),e.qZA()),2&t&&(e.Q6J("ngIf",o.isVisibleFailure),e.xp6(1),e.Q6J("ngIf",o.isDuplicateFailure),e.xp6(1),e.Q6J("ngIf",o.isVisibleSuccess),e.xp6(4),e.Q6J("closeOthers",!0))},directives:[g.O5,v.Ro,u.gY,u.Gk,u.Cu,u.gW,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,g.mk],styles:[""]}),i})();function L_(i,n){1&i&&(e.TgZ(0,"div",22),e._uU(1," Something went Wrong!. "),e.qZA())}function G_(i,n){1&i&&(e.TgZ(0,"div",22),e._uU(1," Already Added!. "),e.qZA())}function j_(i,n){1&i&&(e.TgZ(0,"div",23),e._uU(1," Added Successfully!. "),e.qZA())}function z_(i,n){1&i&&(e.TgZ(0,"div",24),e._uU(1," Deleted Successfully!. "),e.qZA())}function W_(i,n){1&i&&(e.TgZ(0,"span",25),e._uU(1,"Add Category"),e.qZA(),e.TgZ(2,"div",26),e._UZ(3,"i",27),e.qZA())}function K_(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Category Name is required "),e.qZA())}function X_(i,n){if(1&i&&(e.TgZ(0,"div",37),e.YNc(1,K_,2,0,"div",38),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.CategoryName.errors.required)}}function eh(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Description is required "),e.qZA())}function th(i,n){if(1&i&&(e.TgZ(0,"div",37),e.YNc(1,eh,2,0,"div",38),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.Description.errors.required)}}const Nt=function(i){return{"is-invalid":i}};function ih(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"form",28),e.TgZ(1,"div",29),e.TgZ(2,"div",30),e.TgZ(3,"label"),e._uU(4,"Category Name"),e.qZA(),e._UZ(5,"input",31),e.YNc(6,X_,2,1,"div",32),e.qZA(),e.TgZ(7,"div",30),e.TgZ(8,"label"),e._uU(9,"Description "),e.qZA(),e._UZ(10,"input",33),e.YNc(11,th,2,1,"div",32),e.qZA(),e.qZA(),e._UZ(12,"br"),e.TgZ(13,"div",29),e.TgZ(14,"div",34),e.TgZ(15,"button",35),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).addCategory()}),e._uU(16,"Submit"),e.qZA(),e._uU(17,"\xa0 "),e.TgZ(18,"button",36),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).addCancel()}),e._uU(19,"Reset"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("formGroup",t.categoryForm),e.xp6(5),e.Q6J("ngClass",e.VKq(5,Nt,t.submitted&&t.f.CategoryName.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.CategoryName.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(7,Nt,t.submitted&&t.f.Description.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.Description.errors)}}function oh(i,n){if(1&i&&e.YNc(0,ih,20,9,"form",18),2&i){const t=e.oxw();e.Q6J("ngIf",t.categoryForm)}}function nh(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",49),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;return e.oxw(2).Edit(s.Cat_Id)}),e._UZ(1,"i",50),e.qZA()}}function sh(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",51),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,r=e.oxw(2);return r.Delete(r.content,s.Cat_Id)}),e._UZ(1,"i",52),e.qZA()}if(2&i){const t=e.oxw().$implicit;e.Q6J("disabled",t.itemcount),e.xp6(1),e.Q6J("ngbTooltip",t.itemcount?"Please first remove item from store items":"")}}function rh(i,n){if(1&i&&(e.TgZ(0,"tr"),e.TgZ(1,"th",46),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e.YNc(8,nh,2,0,"button",47),e._uU(9," \xa0 "),e.YNc(10,sh,2,2,"button",48),e.qZA(),e.qZA()),2&i){const t=n.$implicit,o=n.index,s=e.oxw(2);e.xp6(2),e.Oqu(o+1),e.xp6(2),e.Oqu(t.Cat_Name),e.xp6(2),e.Oqu(t.Description),e.xp6(2),e.Q6J("ngIf",s.editrec),e.xp6(2),e.Q6J("ngIf",s.deleterec)}}function ah(i,n){if(1&i&&(e.TgZ(0,"div",39),e.TgZ(1,"div",40),e.TgZ(2,"b"),e._uU(3,"Categories"),e.qZA(),e.qZA(),e.TgZ(4,"div",41),e.TgZ(5,"table",42),e.TgZ(6,"thead"),e.TgZ(7,"tr"),e.TgZ(8,"th",43),e._uU(9,"#"),e.qZA(),e.TgZ(10,"th",43),e._uU(11,"Category Name"),e.qZA(),e.TgZ(12,"th",44),e._uU(13,"Description"),e.qZA(),e.TgZ(14,"th",43),e._uU(15,"Action"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(16,"tbody"),e.YNc(17,rh,11,5,"tr",45),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(17),e.Q6J("ngForOf",t.allrecord)}}function lh(i,n){if(1&i&&(e.TgZ(0,"form",28),e.TgZ(1,"div",53),e.TgZ(2,"label",54),e._uU(3,"Password"),e.qZA(),e._UZ(4,"input",55),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.Q6J("formGroup",t.passwordForm)}}let dh=(()=>{class i{constructor(t,o,s,r,l,d,m,_,Z){this.catService=t,this.myFormBuilder=o,this.myRouter=s,this.detectChanges=r,this.userService=l,this.popUpSer=d,this.modalService=m,this.fb=_,this.spinner=Z,this.isVisibleSuccess=!1,this.isVisibleFailure=!1,this.isDeleteSuccess=!1,this.isDuplicateFailure=!1,this.CategoryVisibleFailure=!1,this.IsSHowPage=!1,this.tablerec=!1,this.showModal=!1,this.editrec=!1,this.deleterec=!1,this.isVisibleFailurePassword=!1,this.isVisibleSuccessDoctorDelete=!1,this.isVisibleFailureInvalidPassword=!1,this.formdata={},this.submitted=!1,this.tData=!1,this.addJson={}}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():(this.formControls(),this.tablerec=!0,this.deleterec=!0,this.editrec=!0,this.getAllRecord())}get f(){return this.categoryForm.controls}formControls(){this.categoryForm=this.myFormBuilder.group({CategoryName:["",a.kI.required],Description:["",a.kI.required]})}addCategory(){this.spinner.show(),this.submitted=!0,this.categoryForm.invalid?this.spinner.hide():(this.addJson={CategoryName:this.categoryForm.value.CategoryName,Description:this.categoryForm.value.Description},this.catService.AddCategory(this.addJson).subscribe(t=>{"Duplicate"==t.duplicate?(this.spinner.hide(),this.isDuplicateFailure=!0,setTimeout(()=>this.isDuplicateFailure=!1,2e3)):t?(this.spinner.hide(),this.isVisibleSuccess=!0,setTimeout(()=>this.isVisibleSuccess=!1,1e3),this.getAllRecord(),this.submitted=!1,this.categoryForm.reset()):(this.spinner.hide(),this.isVisibleFailure=!0,setTimeout(()=>this.isVisibleFailure=!1,1e3))}))}Edit(t){this.myRouter.navigate(["/pages/edit-item-category/"+t])}addCancel(){this.submitted=!1,this.categoryForm.reset()}getAllRecord(){this.spinner.show(),this.tData=!0,this.catService.CategoryData().subscribe(t=>{this.allrecord=t,t.length>0?(this.allrecord=t,this.detectChanges.detectChanges(),$("#categorydataTable").DataTable({paging:!0,searching:!0,ordering:!0})):(this.allrecord=[],this.detectChanges.detectChanges(),$("#categorydataTable").DataTable({paging:!0,searching:!0,ordering:!0}))}),$("#categorydataTable").dataTable().fnDestroy(),this.spinner.hide()}getf(){return this.passwordForm.controls}formControlss(){this.passwordForm=this.fb.group({password:["",[a.kI.required]]})}showdeletemodal(){this.showModal=!0}hide(){this.showModal=!1,this.passwordForm.reset()}onSubmit(){let t=localStorage.getItem("CurrentUserEmail");this.formdata={Email:t,Password:this.passwordForm.value.password},this.userService.matchPassword(this.formdata).subscribe(s=>{let r=s;"Invalid Password"==s?(this.isVisibleFailureInvalidPassword=!0,setTimeout(()=>this.isVisibleFailureInvalidPassword=!1,2e3)):"Email Does Not Exist"==s||r.success&&(this.deleteEmployees(),this.isVisibleSuccessDoctorDelete=!0,setTimeout(()=>this.isVisibleSuccessDoctorDelete=!1,2e3),this.hide())})}deleteEmployees(){let t=localStorage.getItem("CurrentUserId");this.catService.deleteCategory(this.CategoryId,t).subscribe(o=>{})}enterPasswordToDelete(){this.Deactivate=!0}Delete(t,o){this.CategoryId=o,this.popUpSer.confirmCommon("Please confirm..","Do you really want to delete?").then(s=>{if(s){let r=localStorage.getItem("CurrentUserId");this.catService.deleteCategory(o,r).subscribe(l=>{l?(this.isDeleteSuccess=!0,setTimeout(()=>{this.isDeleteSuccess=!1},3e3),this.getAllRecord()):(this.isVisibleFailure=!0,setTimeout(()=>{this.isVisibleFailure=!1},3e3))})}}).catch(()=>console.log(""))}getDismissReason(t){return t===u.If.ESC?"by pressing ESC":t===u.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${t}`}ngOnDestroy(){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Le),e.Y36(a.qu),e.Y36(p.F0),e.Y36(e.sBO),e.Y36(h),e.Y36(b),e.Y36(u.FF),e.Y36(a.qu),e.Y36(v.t2))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-item-category"]],decls:27,vars:9,consts:[["class","alertnotify","style","background: #cb3837",4,"ngIf"],["class","alertnotify","style","background: #54a254",4,"ngIf"],["class","alertnotify","style","background: #CB3837",4,"ngIf"],["bdColor","rgba(51,51,51,0.6)","size","medium","color","#fff","type","timer"],[2,"font-size","20px","color","white","margin-top","30px"],["activeIds","toggle-11",3,"closeOthers"],["id","toggle-11"],["ngbPanelTitle",""],["ngbPanelContent",""],[1,"row","mt-4"],[1,"col-lg-12"],["class","card main-card mb-3",4,"ngIf"],["id","imagemodal","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal"],[1,"modal-dialog",2,"width","50%","height","20px","position","center","margin-top","5%"],[1,"modal-content"],[1,"modal-header"],["id","myModalLabel",1,"modal-title"],[1,"modal-body"],[3,"formGroup",4,"ngIf"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary",3,"click"],["type","button","data-dismiss","modal",1,"btn","btn-danger",3,"click"],[1,"alertnotify",2,"background","#cb3837"],[1,"alertnotify",2,"background","#54a254"],[1,"alertnotify",2,"background","#CB3837"],[1,"card-header--title"],[1,"pull-right"],[1,"fa","fa-angle-down","fa-lg"],[3,"formGroup"],[1,"row"],[1,"col"],["type","text","placeholder","Category Name","formControlName","CategoryName","id","CategoryName",1,"form-control","form-control-sm",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","text","placeholder","Description","formControlName","Description","id","Description",1,"form-control","form-control-sm",3,"ngClass"],[1,"col","text-right"],[1,"btn","upload-btn","btn-sm",3,"click"],[1,"btn","reset-btn","btn-sm",3,"click"],[1,"invalid-feedback"],[4,"ngIf"],[1,"card","main-card","mb-3"],[1,"card-header"],[1,"table-responsive"],["id","categorydataTable",1,"table","table-striped"],["scope","col"],["scope","col",1,"colwidth"],[4,"ngFor","ngForOf"],["scope","row"],["class","btn edit-btn btn-sm",3,"click",4,"ngIf"],["class","btn delet-btn btn-sm",3,"disabled","click",4,"ngIf"],[1,"btn","edit-btn","btn-sm",3,"click"],[1,"fa","fa-pencil","fa-fw"],[1,"btn","delet-btn","btn-sm",3,"disabled","click"],["container","body",1,"fa","fa-trash","fa-fw",3,"ngbTooltip"],[1,"form-group"],[1,"from-control"],["type","password","id","password","formControlName","password",1,"form-control"]],template:function(t,o){1&t&&(e.YNc(0,L_,2,0,"div",0),e.YNc(1,G_,2,0,"div",0),e.YNc(2,j_,2,0,"div",1),e.YNc(3,z_,2,0,"div",2),e.TgZ(4,"ngx-spinner",3),e.TgZ(5,"p",4),e._uU(6,"Please wait..."),e.qZA(),e.qZA(),e.TgZ(7,"ngb-accordion",5),e.TgZ(8,"ngb-panel",6),e.YNc(9,W_,4,0,"ng-template",7),e.YNc(10,oh,1,1,"ng-template",8),e.qZA(),e.qZA(),e.TgZ(11,"div",9),e.TgZ(12,"div",10),e.YNc(13,ah,18,1,"div",11),e.qZA(),e.qZA(),e.TgZ(14,"div",12),e.TgZ(15,"div",13),e.TgZ(16,"div",14),e.TgZ(17,"div",15),e.TgZ(18,"h4",16),e._uU(19,"Do you Really want to Delete"),e.qZA(),e.qZA(),e.TgZ(20,"div",17),e.YNc(21,lh,5,1,"form",18),e.qZA(),e.TgZ(22,"div",19),e.TgZ(23,"button",20),e.NdJ("click",function(){return o.onSubmit()}),e._uU(24,"Submit"),e.qZA(),e.TgZ(25,"button",21),e.NdJ("click",function(){return o.hide()}),e._uU(26,"Cancel"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.Q6J("ngIf",o.isVisibleFailure),e.xp6(1),e.Q6J("ngIf",o.isDuplicateFailure),e.xp6(1),e.Q6J("ngIf",o.isVisibleSuccess),e.xp6(1),e.Q6J("ngIf",o.isDeleteSuccess),e.xp6(4),e.Q6J("closeOthers",!0),e.xp6(6),e.Q6J("ngIf",o.tablerec),e.xp6(1),e.Udp("display",o.showModal?"block":"none"),e.xp6(7),e.Q6J("ngIf",o.passwordForm))},directives:[g.O5,v.Ro,u.gY,u.Gk,u.Cu,u.gW,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,g.mk,g.sg,u._L],styles:[""]}),i})(),Ge=(()=>{class i{constructor(t){this.httpClient=t,this.token=localStorage.getItem("token"),this.httpOptions={headers:new c.WM({authorization:`Bearer ${this.token}`})}}addNisab(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/Nisab/addNisab",t,s)}UpdateNisab(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/Nisab/UpdateNisab",t,s)}UpdateNisabValue(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/Nisab/UpdateNisabValue",t,s)}getallyearNisab(){let t=localStorage.getItem("token"),o={headers:new c.WM({authorization:`Bearer ${t}`})};return this.httpClient.get("/api/Nisab/getallyearNisab",o)}getAllPatient(){let t=localStorage.getItem("token"),o={headers:new c.WM({authorization:`Bearer ${t}`})};return this.httpClient.get("/api/Nisab/getAllPatient",o)}getAllRegPatient(){let t=localStorage.getItem("token"),o={headers:new c.WM({authorization:`Bearer ${t}`})};return this.httpClient.get("/api/Nisab/getAllRegPatient",o)}getPatientByRegNo(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/Nisab/getPatientbyRegNo?RegNo="+t,s)}GetPatientNisab(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/Nisab/GetPatientNisab?RegNo="+t,s)}getNisabByID(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/Nisab/getNisabbyID?NisabId="+t,s)}getAllPatientNisab(){let t=localStorage.getItem("token"),o={headers:new c.WM({authorization:`Bearer ${t}`})};return this.httpClient.get("/api/Nisab/getAllPatientNisab",o)}deleteNisab(t,o){let s=localStorage.getItem("token"),r={headers:new c.WM({authorization:`Bearer ${s}`})};return this.httpClient.get("/api/Nisab/deleteNisab?id="+t,r)}getNisab(){let t=localStorage.getItem("token"),o={headers:new c.WM({authorization:`Bearer ${t}`})};return this.httpClient.get("/api/Nisab/getNisab",o)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(c.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function ch(i,n){1&i&&(e.TgZ(0,"div",16),e._uU(1," Something went Wrong. "),e.qZA())}function uh(i,n){1&i&&(e.TgZ(0,"div",17),e._uU(1," Already Added!."),e.qZA())}function gh(i,n){1&i&&(e.TgZ(0,"div",18),e._uU(1," Added Successfully!. "),e.qZA())}function mh(i,n){if(1&i&&(e.TgZ(0,"span",21),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.xp6(1),e.hij(" Eligibility Form Year ",null==t?null:t.HijriYear," AH ")}}function ph(i,n){if(1&i&&(e.TgZ(0,"span",19),e._uU(1,"Financial Details"),e.YNc(2,mh,2,1,"span",20),e.qZA()),2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",t.NisabDetail)}}function _h(i,n){if(1&i&&(e.TgZ(0,"option",55),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.RegNumber),e.xp6(1),e.lnq(" ",t.PatientFirstName," ",t.PatientLastName," | (",t.PoiNo,") ")}}function hh(i,n){1&i&&(e.TgZ(0,"div"),e.TgZ(1,"span"),e._uU(2," Please select "),e.qZA(),e.qZA())}function fh(i,n){if(1&i&&(e.TgZ(0,"div",56),e.YNc(1,hh,3,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.PatientRegNumber.errors.required)}}function Zh(i,n){if(1&i&&(e.TgZ(0,"div"),e.TgZ(1,"label",27),e._uU(2,"Religion"),e.qZA(),e._UZ(3,"br"),e.TgZ(4,"label",57),e._uU(5),e.qZA(),e.qZA()),2&i){const t=e.oxw(3);e.xp6(5),e.hij(" ",t.ReligionName,"")}}function bh(i,n){1&i&&(e.TgZ(0,"div"),e.TgZ(1,"span"),e._uU(2,"Please enter Value"),e.qZA(),e.qZA())}function vh(i,n){if(1&i&&(e.TgZ(0,"div",56),e.YNc(1,bh,3,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.JobIncome.errors)}}function Th(i,n){1&i&&(e.TgZ(0,"div"),e.TgZ(1,"span"),e._uU(2," Please enter value"),e.qZA(),e.qZA())}function Ah(i,n){if(1&i&&(e.TgZ(0,"div",56),e.YNc(1,Th,3,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.Gold.errors.required)}}function Ch(i,n){1&i&&(e.TgZ(0,"div"),e.TgZ(1,"span"),e._uU(2," Please enter value"),e.qZA(),e.qZA())}function qh(i,n){if(1&i&&(e.TgZ(0,"div",56),e.YNc(1,Ch,3,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.Silver.errors.required)}}function xh(i,n){1&i&&(e.TgZ(0,"div"),e.TgZ(1,"span"),e._uU(2," Please enter value"),e.qZA(),e.qZA())}function Ih(i,n){if(1&i&&(e.TgZ(0,"div",56),e.YNc(1,xh,3,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.SBIncome.errors.required)}}function yh(i,n){1&i&&(e.TgZ(0,"div"),e.TgZ(1,"span"),e._uU(2," Please enter value"),e.qZA(),e.qZA())}function kh(i,n){if(1&i&&(e.TgZ(0,"div",56),e.YNc(1,yh,3,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.LoanAmount.errors.required)}}function Uh(i,n){1&i&&(e.TgZ(0,"div"),e.TgZ(1,"span"),e._uU(2," Please enter value"),e.qZA(),e.qZA())}function Nh(i,n){if(1&i&&(e.TgZ(0,"div",56),e.YNc(1,Uh,3,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.DebtAmount.errors.required)}}function wh(i,n){1&i&&(e.TgZ(0,"div"),e.TgZ(1,"span"),e._uU(2," Please enter Value "),e.qZA(),e.qZA())}function Sh(i,n){if(1&i&&(e.TgZ(0,"div",56),e.YNc(1,wh,3,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.Rentliability.errors.required)}}function Fh(i,n){1&i&&(e.TgZ(0,"div"),e.TgZ(1,"span"),e._uU(2," Please enter Value"),e.qZA(),e.qZA())}function Dh(i,n){if(1&i&&(e.TgZ(0,"div",56),e.YNc(1,Fh,3,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.MonthlyExpense.errors.required)}}function Jh(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"label"),e.TgZ(1,"input",58),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw(3).NisabUpdate=s}),e.qZA(),e.TgZ(2,"button",51),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(3);return s.EditNisabValue(s.NisabUpdate)}),e._UZ(3,"i",59),e.qZA(),e.qZA()}if(2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngModel",t.NisabUpdate)}}const K=function(i){return{"is-invalid":i}};function Eh(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",22),e.TgZ(1,"div",23),e.TgZ(2,"div",22),e.TgZ(3,"div",24),e.TgZ(4,"div",25),e.TgZ(5,"div",26),e.TgZ(6,"label",27),e._uU(7,"Child Name:"),e.qZA(),e.TgZ(8,"select",28),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw(2).RegN=s})("change",function(){return e.CHM(t),e.oxw(2).getreli()}),e.YNc(9,_h,2,4,"option",29),e.qZA(),e.YNc(10,fh,2,1,"div",30),e.qZA(),e.TgZ(11,"div",31),e.YNc(12,Zh,6,1,"div",0),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"div",32),e.TgZ(14,"div",33),e.TgZ(15,"h5",34),e._uU(16,"Assets"),e.qZA(),e.TgZ(17,"div",22),e.TgZ(18,"div",26),e.TgZ(19,"label",27),e._uU(20,"Annual Job Income"),e.qZA(),e.TgZ(21,"input",35),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw(2).JobIncome=s}),e.qZA(),e.YNc(22,vh,2,1,"div",30),e.qZA(),e.TgZ(23,"div",31),e.TgZ(24,"label",27),e._uU(25,"Gold Value"),e.qZA(),e.TgZ(26,"input",36),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw(2).Gold=s}),e.qZA(),e.YNc(27,Ah,2,1,"div",30),e.qZA(),e.qZA(),e.TgZ(28,"div",37),e.TgZ(29,"div",26),e.TgZ(30,"label",27),e._uU(31,"Silver value"),e.qZA(),e.TgZ(32,"input",38),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw(2).Silver=s}),e.qZA(),e.YNc(33,qh,2,1,"div",30),e.qZA(),e.TgZ(34,"div",31),e.TgZ(35,"label",27),e._uU(36,"Annual side business income"),e.qZA(),e.TgZ(37,"input",39),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw(2).SBIncome=s}),e.qZA(),e.YNc(38,Ih,2,1,"div",30),e.qZA(),e.qZA(),e.TgZ(39,"div",37),e.TgZ(40,"div",26),e.TgZ(41,"label",27),e._uU(42,"Amount of cash in hand"),e.qZA(),e.TgZ(43,"input",40),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw(2).Savings=s}),e.qZA(),e.qZA(),e.TgZ(44,"div",31),e.TgZ(45,"label",27),e._uU(46,"Amount of Loaned Cash"),e.qZA(),e.TgZ(47,"input",41),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw(2).LoanAmount=s}),e.qZA(),e.YNc(48,kh,2,1,"div",30),e.qZA(),e.qZA(),e.TgZ(49,"div",42),e.TgZ(50,"div",24),e.TgZ(51,"h5",34),e._uU(52,"Liabilities"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(53,"div",22),e.TgZ(54,"div",26),e.TgZ(55,"label",27),e._uU(56,"Amount of Debt"),e.qZA(),e.TgZ(57,"input",43),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw(2).DebtAmount=s}),e.qZA(),e.YNc(58,Nh,2,1,"div",30),e.qZA(),e.TgZ(59,"div",31),e.TgZ(60,"label",27),e._uU(61,"Annual Rent"),e.qZA(),e.TgZ(62,"input",44),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw(2).Rentliability=s}),e.qZA(),e.YNc(63,Sh,2,1,"div",30),e.qZA(),e.qZA(),e.TgZ(64,"div",37),e.TgZ(65,"div",45),e.TgZ(66,"label",27),e._uU(67,"Annual Household Expense"),e.qZA(),e.TgZ(68,"input",46),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw(2).MonthlyExpense=s}),e.qZA(),e.YNc(69,Dh,2,1,"div",30),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(70,"div",26),e.TgZ(71,"div",47),e.TgZ(72,"div",33),e.TgZ(73,"div",48),e.TgZ(74,"H2"),e._uU(75,"Calculations :"),e.qZA(),e._UZ(76,"hr",49),e.TgZ(77,"label"),e.TgZ(78,"h5",50),e._uU(79),e.TgZ(80,"button",51),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).NisabEnable()}),e._UZ(81,"i",52),e.qZA(),e.qZA(),e.qZA(),e.TgZ(82,"div",53),e.YNc(83,Jh,4,1,"label",0),e.qZA(),e.TgZ(84,"div",54),e.TgZ(85,"label"),e.TgZ(86,"h5",50),e._uU(87),e.qZA(),e.qZA(),e.qZA(),e._UZ(88,"div",53),e.TgZ(89,"div",54),e.TgZ(90,"label"),e.TgZ(91,"h5",50),e._uU(92),e.qZA(),e.qZA(),e.qZA(),e._UZ(93,"div",53),e.TgZ(94,"div",54),e.TgZ(95,"label"),e.TgZ(96,"h5",50),e._uU(97),e.qZA(),e.qZA(),e.qZA(),e._UZ(98,"div",53),e.TgZ(99,"div",54),e.TgZ(100,"label"),e.TgZ(101,"h5",50),e._uU(102),e.qZA(),e.qZA(),e.qZA(),e._UZ(103,"div",53),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(104,"br")}if(2&i){const t=e.oxw(2);e.xp6(8),e.Q6J("ngModel",t.RegN)("ngClass",e.VKq(37,K,t.submitted&&t.f.PatientRegNumber.errors)),e.xp6(1),e.Q6J("ngForOf",t.allPatients),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.PatientRegNumber.errors),e.xp6(2),e.Q6J("ngIf",t.ReligionName),e.xp6(9),e.Q6J("ngModel",t.JobIncome)("ngClass",e.VKq(39,K,t.submitted&&t.f.JobIncome.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.JobIncome.errors),e.xp6(4),e.Q6J("ngModel",t.Gold)("ngClass",e.VKq(41,K,t.submitted&&t.f.Gold.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.Gold.errors),e.xp6(5),e.Q6J("ngModel",t.Silver)("ngClass",e.VKq(43,K,t.submitted&&t.f.Silver.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.Silver.errors),e.xp6(4),e.Q6J("ngModel",t.SBIncome)("ngClass",e.VKq(45,K,t.submitted&&t.f.SBIncome.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.SBIncome.errors),e.xp6(5),e.Q6J("ngModel",t.Savings),e.xp6(4),e.Q6J("ngModel",t.LoanAmount)("ngClass",e.VKq(47,K,t.submitted&&t.f.LoanAmount.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.LoanAmount.errors),e.xp6(9),e.Q6J("ngModel",t.DebtAmount)("ngClass",e.VKq(49,K,t.submitted&&t.f.DebtAmount.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.DebtAmount.errors),e.xp6(4),e.Q6J("ngModel",t.Rentliability)("ngClass",e.VKq(51,K,t.submitted&&t.f.Rentliability.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.Rentliability.errors),e.xp6(5),e.Q6J("ngModel",t.MonthlyExpense)("ngClass",e.VKq(53,K,t.submitted&&t.f.MonthlyExpense.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.MonthlyExpense.errors),e.xp6(10),e.AsE("> Nisab ",t.HijriYear," A.H. \u2192 Rs ",t.Nisab,""),e.xp6(4),e.Q6J("ngIf",t.IsEdit),e.xp6(4),e.hij("> Total Liabilities\xa0\xa0\xa0 \u2192 Rs ",t.totalliabilities," "),e.xp6(5),e.hij("> Total Assets \xa0\xa0\xa0\xa0\xa0\xa0 \u2192 Rs ",t.totalassets,""),e.xp6(5),e.hij("> Difference\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 \u2192 Rs ",t.Difference," "),e.xp6(5),e.hij("> Status\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 \u2192 ",t.Eligiable," ")}}function Rh(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div"),e.YNc(1,ch,2,0,"div",1),e.YNc(2,uh,2,0,"div",2),e.YNc(3,gh,2,0,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"div",5),e.TgZ(6,"form",6),e.TgZ(7,"ngb-accordion",7),e.TgZ(8,"ngb-panel",8),e.YNc(9,ph,3,1,"ng-template",9),e.YNc(10,Eh,105,55,"ng-template",10),e.qZA(),e.qZA(),e.TgZ(11,"div",11),e.TgZ(12,"div",12),e.TgZ(13,"button",13),e.NdJ("click",function(){return e.CHM(t),e.oxw().sum()}),e._uU(14,"Calculate"),e.qZA(),e.TgZ(15,"button",14),e.NdJ("click",function(){return e.CHM(t),e.oxw().addCancel()}),e._uU(16,"Reset"),e.qZA(),e.TgZ(17,"button",15),e.NdJ("click",function(){return e.CHM(t),e.oxw().addNisab()}),e._uU(18,"Submit"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.isVisibleFailure),e.xp6(1),e.Q6J("ngIf",t.isduplicate),e.xp6(1),e.Q6J("ngIf",t.isVisibleSuccess),e.xp6(3),e.Q6J("formGroup",t.patientForm),e.xp6(1),e.Q6J("closeOthers",!0)}}let Ph=(()=>{class i{constructor(t,o,s,r,l,d,m){this.myFormBuilder=t,this.myRouter=o,this.gender=s,this.detectChanges=r,this.AddNisabSer=l,this.userService=d,this.popUpSer=m,this.childdataPost=[],this.ReligionName="",this.IsNotEdit=!0,this.IsEdit=!1,this.collapseFlag=!0,this.submitted=!1,this.JobIncome=null,this.TransportValue=null,this.Rentliability=null,this.Gold=null,this.CreatedDate=new Date,this.Nisab=0,this.Silver=null,this.SBIncome=null,this.Savings=null,this.LoanAmount=null,this.DebtAmount=null,this.MonthlyExpense=null,this.temp=null,this.total=0,this.totalliabilities=0,this.isVisibleSuccess=!1,this.isVisibleFailure=!1,this.isduplicate=!1,this.totalassets=0,this.Difference=0,this.Eligiable="-",this.Iseligiable=24,this.isShowPage=!1,this.editrec=!1,this.tabledata=!1,this.deleterec=!1,this.isDelete=!1}get f(){return this.patientForm.controls}getreli(){this.ReligionName="-",this.AddNisabSer.getPatientByRegNo(this.RegN).subscribe(t=>{console.log(t,"ID RESPONSE by reg no"),this.Religion=t[0].ReligionEthnicity;for(let o=0;o<this.religion.length;o++)t[0].ReligionEthnicity==this.religion[o].CategoryId&&(this.ReligionName=this.religion[o].CategoryName,this.Religion=this.ReligionName)})}sum(){this.totalassets=this.temp+this.JobIncome+this.SBIncome+this.Gold+this.Silver+this.Savings+this.LoanAmount,this.totalliabilities=this.temp+this.DebtAmount+this.MonthlyExpense+this.Rentliability,this.Difference=this.totalassets-this.totalliabilities,"Non-Muslim"==this.Religion||"Muslim - Syed"==this.Religion?(this.Iseligiable=6,this.Eligiable="Eligible For Donation Only",this.Difference<=this.Nisab?(this.Iseligiable=17,this.Eligiable="Eligible For Donation Only"):this.Difference>=this.Nisab&&(this.Iseligiable=5,this.Eligiable="Not Eligible")):"Muslim"==this.Religion&&(this.Iseligiable=5,this.Eligiable="Eligible for Both",this.Difference<=this.Nisab?(this.Iseligiable=5,this.Eligiable="Eligible for Both"):this.Difference>=this.Nisab&&(this.Iseligiable=5,this.Eligiable="Not Eligible"))}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():(this.userService.checkUserHasAccess("/pages/nisab").subscribe(t=>{t.length>0?(this.isShowPage=!0,this.getRelegion(1225),this.getEligible(1228),this.GetNisab(),this.formControls(),this.getallpatients(),this.getallnisab(),this.userService.checkUserHasAccess("/pages/show-nisab").subscribe(o=>{this.tabledata=o.length>0})):(this.isShowPage=!1,this.popUpSer.confirmCommon("","You have no access to view page").then(o=>{}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)")))}),setTimeout(()=>{this.userService.checkUserHasAccess("/pages/edit-nisab").subscribe(t=>{this.editrec=t.length>0})},300),setTimeout(()=>{this.userService.checkUserHasAccess("/pages/delete-nisab").subscribe(t=>{this.deleterec=t.length>0})},300))}getallnisab(){this.AddNisabSer.getAllPatientNisab().subscribe(t=>{console.log(t,"All patient Nisab for list"),t.length>0?(this.allPatientNisab=t,this.detectChanges.detectChanges(),$("#postdatatable").DataTable({paging:!0,searching:!0,ordering:!0})):(this.allPatientNisab=[],this.detectChanges.detectChanges(),$("#postdatatable").DataTable({paging:!0,searching:!0,ordering:!0}))}),$("#postdatatable").dataTable().fnDestroy()}GetNisab(){this.AddNisabSer.getNisab().subscribe(t=>{console.log(t),t.length>0?(this.NisabDetail=t,this.Nisab=t[0].Nisab,this.HijriYear=t[0].HijriYear):console.log(t[0].error)})}formControls(){this.patientForm=this.myFormBuilder.group({PatientRegNumber:["",a.kI.required],Religion:[""],FullName:[""],JobIncome:["",[a.kI.required,a.kI.pattern("^[1-9]+[0-9]*$")]],Rentliability:[""],TransportValue:[""],Gold:[""],Silver:[""],FoodAgric:[""],SBIncome:[""],Savings:[""],Debt:[""],DebtAmount:[""],Loan:[""],LoanAmount:[""],DebtReturn:[""],MonthlyExpense:["",a.kI.required],NisabUpdate:[""]})}getallpatients(){this.AddNisabSer.getAllRegPatient().subscribe(t=>{t.length>0&&(this.allPatients=t,this.Religion=t[0].ReligionEthnicity,console.log(this.allPatients,"Patients Service Check"))})}addNisab(){this.sum(),this.submitted=!0,null==this.patientForm.value.JobIncome&&(this.patientForm.value.JobIncome=0),null==this.patientForm.value.Rentliability&&(this.patientForm.value.Rentliability=0),null==this.patientForm.value.TransportValue&&(this.patientForm.value.TransportValue=0),null==this.patientForm.value.Gold&&(this.patientForm.value.Gold=0),null==this.patientForm.value.Silver&&(this.patientForm.value.Silver=0),null==this.patientForm.value.SBIncome&&(this.patientForm.value.SBIncome=0),null==this.patientForm.value.Savings&&(this.patientForm.value.Savings=0),null==this.patientForm.value.DebtAmount&&(this.patientForm.value.DebtAmount=0),null==this.patientForm.value.LoanAmount&&(this.patientForm.value.LoanAmount=0),null==this.patientForm.value.MonthlyExpense&&(this.patientForm.value.MonthlyExpense=0),this.patientForm.invalid||(this.addJson={JobIncome:this.patientForm.value.JobIncome,Rentliability:this.patientForm.value.Rentliability,TransportValue:this.patientForm.value.TransportValue,Gold:this.patientForm.value.Gold,Silver:this.patientForm.value.Silver,SBIncome:this.patientForm.value.SBIncome,Savings:this.patientForm.value.Savings,DebtAmount:this.patientForm.value.DebtAmount,LoanAmount:this.patientForm.value.LoanAmount,MonthlyExpense:this.patientForm.value.MonthlyExpense,Totalliabilities:this.totalliabilities,Totalassets:this.totalassets,Difference:this.Difference,PatientRegNumber:parseInt(this.patientForm.value.PatientRegNumber),NisabYear:this.HijriYear,Iseligiable:this.Iseligiable,CreatedDate:this.CreatedDate},this.AddNisabSer.addNisab(this.addJson).subscribe(t=>{"duplicate"==t?(this.isduplicate=!0,setTimeout(()=>{this.isduplicate=!1},1e3)):t&&(this.getallnisab(),this.patientForm.reset(),this.submitted=!1,this.isVisibleSuccess=!0,setTimeout(()=>{this.isVisibleSuccess=!1,this.myRouter.navigate(["/pages/nisablist"])},2e3))}),console.log(this.addJson),setTimeout(()=>{this.totalassets=0,this.totalliabilities=0,this.getallpatients()},1e3))}addCancel(){this.patientForm.reset()}EditNisab(t){this.NisaabId=t,this.myRouter.navigate(["/pages/edit-nisab/"+t])}Print(t){this.NisaabId=t,this.myRouter.navigate(["/pages/print-nisab/"+t])}NisabEnable(){(this.IsEdit=!1)?(this.IsNotEdit=!0,this.IsEdit=!1):(this.IsNotEdit=!1,this.IsEdit=!0)}getRelegion(t){this.gender.getCategorybyEntityType(t).subscribe(o=>{o&&(this.religion=o)})}getEligible(t){this.gender.getCategorybyEntityType(t).subscribe(o=>{o&&(this.eligible=o)})}EditNisabValue(t){this.NisabUpdate=t,this.nisabJson={NisabValue:this.NisabUpdate,HijriYear:this.HijriYear},console.log(this.nisabJson),this.AddNisabSer.UpdateNisabValue(this.nisabJson).subscribe(o=>{console.log(o,"sssssssssssssssssss"),"true"==o&&(this.isVisibleSuccess=!0,setTimeout(()=>{this.isVisibleSuccess=!1},1e3)),o&&(this.patientForm.reset(),this.submitted=!1),this.IsNotEdit=!0,this.IsEdit=!1,setTimeout(()=>{this.GetNisab()},1e3)})}collapse(){console.log("click"),this.collapseFlag=0==this.collapseFlag,console.log(this.collapseFlag)}ngOnDestroy(){console.log("destroyed")}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(p.F0),e.Y36(O),e.Y36(e.sBO),e.Y36(Ge),e.Y36(h),e.Y36(b))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-nisab"]],decls:1,vars:1,consts:[[4,"ngIf"],["class","alertnotify","style","background: #cb3837",4,"ngIf"],["class","alertnotify","style","background: #cb3837; width:300px; height:100px;",4,"ngIf"],["class","alertnotify","style","background: #54a254",4,"ngIf"],["id","nisaab"],[1,"container-fluid","theme-font"],[3,"formGroup"],["activeIds","toggle-11",3,"closeOthers"],["id","toggle-11"],["ngbPanelTitle",""],["ngbPanelContent",""],[1,"row"],[1,"col","text-right","mb-2"],["ngbTooltip","Calculate","type","submit",1,"btn","edit-btn","btn-sm","mr-1",3,"click"],["ngbTooltip","Reset","type","submit",1,"btn","reset-btn","btn-sm","mr-1",3,"click"],["ngbTooltip","Submit","type","submit",1,"btn","upload-btn","btn-sm",3,"click"],[1,"alertnotify",2,"background","#cb3837"],[1,"alertnotify",2,"background","#cb3837","width","300px","height","100px"],[1,"alertnotify",2,"background","#54a254"],[1,"card-header--title"],["class","pull-right",4,"ngFor","ngForOf"],[1,"pull-right"],[1,"row",2,"padding-left","15px"],[1,"col-md-7"],[1,"col"],[1,"row",2,"padding-left","15px","margin-top","5px"],[1,"col-md-4"],["id","ss1"],["formControlName","PatientRegNumber","id","PatientRegNumber",1,"form-control","form-control-sm",3,"ngModel","ngClass","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],[1,"col-md-4","offset-md-1"],[1,"row",2,"padding-left","15px","padding-top","15px"],[1,"col-md-12"],[1,"theme1-subheading"],["type","number","min","0","placeholder","Rs.","formControlName","JobIncome","id","JobIncome",1,"form-control","form-control-sm",3,"ngModel","ngClass","ngModelChange"],["type","number","min","0","formControlName","Gold","id","Gold","placeholder","Rs.",1,"form-control","form-control-sm",3,"ngModel","ngClass","ngModelChange"],[1,"row","mt-2",2,"padding-left","15px"],["type","number","min","0","formControlName","Silver","id","Silver","placeholder","Rs.",1,"form-control","form-control-sm",3,"ngModel","ngClass","ngModelChange"],["type","number","min","0","formControlName","SBIncome","id","SBIncome","placeholder","Rs.",1,"form-control","form-control-sm",3,"ngModel","ngClass","ngModelChange"],["type","number","min","0","formControlName","Savings","id","Savings","placeholder","Rs.",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["type","number","min","0","formControlName","LoanAmount","id","LoanAmount","placeholder","Rs.",1,"form-control","form-control-sm",3,"ngModel","ngClass","ngModelChange"],[1,"row",2,"padding-top","30px","text-align","center"],["type","number","min","0","formControlName","DebtAmount","id","DebtAmount","placeholder","Rs.",1,"form-control","form-control-sm",3,"ngModel","ngClass","ngModelChange"],["type","number","placeholder","Rs.","formControlName","Rentliability","id","Rentliability",1,"form-control","form-control-sm",3,"ngModel","ngClass","ngModelChange"],[1,"col-md-9"],["type","number","min","0","formControlName","MonthlyExpense","id","MonthlyExpense","placeholder","Rs.",1,"form-control","form-control-sm",3,"ngModel","ngClass","ngModelChange"],[1,"row","justify-content-end"],[1,"card","nisaabcard","p-3","mt-5",2,"color","#ea517b"],[1,"nisaabcardhr"],[1,"theme2-subheading"],[1,"btn","btn-link",3,"click"],[1,"fa","fa-pencil","fa-fw"],[1,"row","ml-2"],[1,"row",2,"padding-top","10px"],[3,"value"],[1,"invalid-feedback"],[1,"form-control",2,"border","0rem","margin","5px"],["type","number","name","NisabUpdate","formControlName","NisabUpdate","id","NisabUpdate","min","0",2,"width","70px",3,"ngModel","ngModelChange"],[1,"fa","fa-plus","fa-fw"]],template:function(t,o){1&t&&e.YNc(0,Rh,19,5,"div",0),2&t&&e.Q6J("ngIf",o.isShowPage)},directives:[g.O5,a._Y,a.JL,a.sg,u.gY,u.Gk,u.Cu,g.sg,u.gW,a.EJ,a.JJ,a.u,g.mk,a.YN,a.Kr,a.qQ,a.wV,a.Fj,u._L],styles:[".theme1-subheading[_ngcontent-%COMP%]{padding:6px 6px 2px;font-size:18px;color:#fff;font-family:Arial,Helvetica,sans-serif;background:#484877;width:90px;MARGIN-TOP:5px;margin-bottom:10px;border-radius:12px}.card_label[_ngcontent-%COMP%]{color:#000}.theme2-subheading[_ngcontent-%COMP%]{padding:6px 6px 2px;font-size:medium;color:#000;font-family:Arial,Helvetica,sans-serif;background:#fff;width:310px;MARGIN-TOP:5px;margin-bottom:10px;border-radius:12px}.nisaabcard[_ngcontent-%COMP%]{border-radius:12px;background-color:#f5f7fb}.nisaabcardhr[_ngcontent-%COMP%]{border:2px solid #ea517b;border-radius:5px;margin-top:0}#ss1[_ngcontent-%COMP%]{font-size:medium;margin-left:1px;font-weight:50%}#s5[_ngcontent-%COMP%]{cursor:pointer}"]}),i})(),wt=(()=>{class i{constructor(t,o){this.httpClient=t,this.myRouter=o,this.token=localStorage.getItem("token"),this.httpOptions={headers:new c.WM({authorization:`Bearer ${this.token}`})}}PatientRegister(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/patient/patientRegister/",t,s)}getAllTest(){let t=localStorage.getItem("token"),o={headers:new c.WM({authorization:`Bearer ${t}`})};return this.httpClient.get("/api/patient/getAllTest",o)}getTestDetail(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/patient/getTestDetail?name="+t,s)}getAllPatient(){let t=localStorage.getItem("token"),o={headers:new c.WM({authorization:`Bearer ${t}`})};return this.httpClient.get("/api/patient/getAllPatient",o)}getPatientbyId(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/patient/getPateintbyId?PatientId="+t,s)}getEditTestDetail(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/patient/getEditTestDetail?Id="+t,s)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(c.eN),e.LFG(p.F0))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Yh(i,n){1&i&&(e.TgZ(0,"div",17),e._uU(1," Something went Wrong. "),e.qZA())}function Qh(i,n){1&i&&(e.TgZ(0,"div",18),e._uU(1," Already Added!."),e.qZA())}function Oh(i,n){1&i&&(e.TgZ(0,"div",19),e._uU(1," Added Successfully!. "),e.qZA())}function Mh(i,n){if(1&i&&(e.TgZ(0,"span",22),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.xp6(1),e.hij(" Eligibility Form Year ",null==t?null:t.HijriYear," AH ")}}function Vh(i,n){if(1&i&&(e.TgZ(0,"span",20),e._uU(1," Edit Financial Details"),e.YNc(2,Mh,2,1,"span",21),e.qZA()),2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",t.NisabDetail)}}function Bh(i,n){1&i&&e._UZ(0,"div")}function Hh(i,n){if(1&i&&(e.TgZ(0,"div",54),e.YNc(1,Bh,1,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.PatientRegNumber.errors.required)}}function $h(i,n){if(1&i&&(e.TgZ(0,"label",55),e._uU(1),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.ReligionName,"")}}function Lh(i,n){1&i&&(e.TgZ(0,"div"),e.TgZ(1,"span"),e._uU(2,"Please enter Value"),e.qZA(),e.qZA())}function Gh(i,n){if(1&i&&(e.TgZ(0,"div",54),e.YNc(1,Lh,3,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.JobIncome.errors.required)}}function jh(i,n){1&i&&(e.TgZ(0,"div"),e.TgZ(1,"span"),e._uU(2," Please enter value"),e.qZA(),e.qZA())}function zh(i,n){if(1&i&&(e.TgZ(0,"div",54),e.YNc(1,jh,3,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.Gold.errors.required)}}function Wh(i,n){1&i&&(e.TgZ(0,"div"),e.TgZ(1,"span"),e._uU(2," Please enter value"),e.qZA(),e.qZA())}function Kh(i,n){if(1&i&&(e.TgZ(0,"div",54),e.YNc(1,Wh,3,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.Silver.errors.required)}}function Xh(i,n){1&i&&(e.TgZ(0,"div"),e.TgZ(1,"span"),e._uU(2," Please enter value"),e.qZA(),e.qZA())}function e1(i,n){if(1&i&&(e.TgZ(0,"div",54),e.YNc(1,Xh,3,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.SBIncome.errors.required)}}function t1(i,n){1&i&&(e.TgZ(0,"div"),e.TgZ(1,"span"),e._uU(2," Please enter value"),e.qZA(),e.qZA())}function i1(i,n){if(1&i&&(e.TgZ(0,"div",54),e.YNc(1,t1,3,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.LoanAmount.errors.required)}}function o1(i,n){1&i&&(e.TgZ(0,"div"),e.TgZ(1,"span"),e._uU(2," Please enter value"),e.qZA(),e.qZA())}function n1(i,n){if(1&i&&(e.TgZ(0,"div",54),e.YNc(1,o1,3,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.DebtAmount.errors.required)}}function s1(i,n){1&i&&(e.TgZ(0,"div"),e.TgZ(1,"span"),e._uU(2," Please enter Value "),e.qZA(),e.qZA())}function r1(i,n){if(1&i&&(e.TgZ(0,"div",54),e.YNc(1,s1,3,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.Rentliability.errors.required)}}function a1(i,n){1&i&&(e.TgZ(0,"div"),e.TgZ(1,"span"),e._uU(2," Please enter Value"),e.qZA(),e.qZA())}function l1(i,n){if(1&i&&(e.TgZ(0,"div",54),e.YNc(1,a1,3,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.MonthlyExpense.errors.required)}}function d1(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"label"),e.TgZ(1,"input",56),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw(3).NisabUpdate=s}),e.qZA(),e.TgZ(2,"button",57),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(3);return s.EditNisabValue(s.NisabUpdate)}),e._UZ(3,"i",58),e.qZA(),e.qZA()}if(2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngModel",t.NisabUpdate)}}const oe=function(i){return{"is-invalid":i}};function c1(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",23),e.TgZ(1,"div",24),e.TgZ(2,"div",23),e.TgZ(3,"div",25),e.TgZ(4,"div",26),e.TgZ(5,"div",27),e.TgZ(6,"label",28),e._uU(7,"Child Name"),e.qZA(),e.TgZ(8,"label",29),e._uU(9),e.qZA(),e.YNc(10,Hh,2,1,"div",30),e.qZA(),e.TgZ(11,"div",31),e.TgZ(12,"label",28),e._uU(13,"Religion"),e.qZA(),e._UZ(14,"br"),e.YNc(15,$h,2,1,"label",32),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(16,"div",33),e.TgZ(17,"div",34),e.TgZ(18,"h5",35),e._uU(19,"Assets"),e.qZA(),e.TgZ(20,"div",23),e.TgZ(21,"div",27),e.TgZ(22,"label",28),e._uU(23,"Annual Job Income"),e.qZA(),e.TgZ(24,"input",36),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw(2).JobIncome=s}),e.qZA(),e.YNc(25,Gh,2,1,"div",30),e.qZA(),e.TgZ(26,"div",31),e.TgZ(27,"label",28),e._uU(28,"Gold Value"),e.qZA(),e.TgZ(29,"input",37),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw(2).Gold=s}),e.qZA(),e.YNc(30,zh,2,1,"div",30),e.qZA(),e.qZA(),e.TgZ(31,"div",38),e.TgZ(32,"div",27),e.TgZ(33,"label",28),e._uU(34,"Silver value"),e.qZA(),e.TgZ(35,"input",39),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw(2).Silver=s}),e.qZA(),e.YNc(36,Kh,2,1,"div",30),e.qZA(),e.TgZ(37,"div",31),e.TgZ(38,"label",28),e._uU(39,"Annual side business income"),e.qZA(),e.TgZ(40,"input",40),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw(2).SBIncome=s}),e.qZA(),e.YNc(41,e1,2,1,"div",30),e.qZA(),e.qZA(),e.TgZ(42,"div",38),e.TgZ(43,"div",27),e.TgZ(44,"label",28),e._uU(45,"Amount of cash in hand"),e.qZA(),e.TgZ(46,"input",41),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw(2).Savings=s}),e.qZA(),e.qZA(),e.TgZ(47,"div",31),e.TgZ(48,"label",28),e._uU(49,"Amount of Loaned Cash"),e.qZA(),e.TgZ(50,"input",42),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw(2).LoanAmount=s}),e.qZA(),e.YNc(51,i1,2,1,"div",30),e.qZA(),e.qZA(),e.TgZ(52,"div",43),e.TgZ(53,"div",25),e.TgZ(54,"h5",35),e._uU(55,"Liabilities"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(56,"div",23),e.TgZ(57,"div",27),e.TgZ(58,"label",28),e._uU(59,"Amount of Debt"),e.qZA(),e.TgZ(60,"input",44),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw(2).DebtAmount=s}),e.qZA(),e.YNc(61,n1,2,1,"div",30),e.qZA(),e.TgZ(62,"div",31),e.TgZ(63,"label",28),e._uU(64,"Annual Rent"),e.qZA(),e.TgZ(65,"input",45),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw(2).Rentliability=s}),e.qZA(),e.YNc(66,r1,2,1,"div",30),e.qZA(),e.qZA(),e.TgZ(67,"div",38),e.TgZ(68,"div",46),e.TgZ(69,"label",28),e._uU(70,"Annual Household Expense"),e.qZA(),e.TgZ(71,"input",47),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw(2).MonthlyExpense=s}),e.qZA(),e.YNc(72,l1,2,1,"div",30),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(73,"div",27),e.TgZ(74,"div",48),e.TgZ(75,"div",34),e.TgZ(76,"div",49),e.TgZ(77,"H2"),e._uU(78,"Calculations :"),e.qZA(),e._UZ(79,"hr",50),e.TgZ(80,"label"),e.TgZ(81,"h5",51),e._uU(82),e.qZA(),e.qZA(),e.TgZ(83,"div",52),e.YNc(84,d1,4,1,"label",0),e.qZA(),e.TgZ(85,"div",53),e.TgZ(86,"label"),e.TgZ(87,"h5",51),e._uU(88),e.qZA(),e.qZA(),e.qZA(),e._UZ(89,"div",52),e.TgZ(90,"div",53),e.TgZ(91,"label"),e.TgZ(92,"h5",51),e._uU(93),e.qZA(),e.qZA(),e.qZA(),e._UZ(94,"div",52),e.TgZ(95,"div",53),e.TgZ(96,"label"),e.TgZ(97,"h5",51),e._uU(98),e.qZA(),e.qZA(),e.qZA(),e._UZ(99,"div",52),e.TgZ(100,"div",53),e.TgZ(101,"label"),e.TgZ(102,"h5",51),e._uU(103),e.qZA(),e.qZA(),e.qZA(),e._UZ(104,"div",52),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(105,"br")}if(2&i){const t=e.oxw(2);e.xp6(9),e.hij(" ",t.PatientName,""),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.PatientRegNumber.errors),e.xp6(5),e.Q6J("ngIf",t.ReligionName),e.xp6(9),e.Q6J("ngModel",t.JobIncome)("ngClass",e.VKq(35,oe,t.submitted&&t.f.JobIncome.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.JobIncome.errors),e.xp6(4),e.Q6J("ngModel",t.Gold)("ngClass",e.VKq(37,oe,t.submitted&&t.f.Gold.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.Gold.errors),e.xp6(5),e.Q6J("ngModel",t.Silver)("ngClass",e.VKq(39,oe,t.submitted&&t.f.Silver.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.Silver.errors),e.xp6(4),e.Q6J("ngModel",t.SBIncome)("ngClass",e.VKq(41,oe,t.submitted&&t.f.SBIncome.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.SBIncome.errors),e.xp6(5),e.Q6J("ngModel",t.Savings),e.xp6(4),e.Q6J("ngModel",t.LoanAmount)("ngClass",e.VKq(43,oe,t.submitted&&t.f.LoanAmount.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.LoanAmount.errors),e.xp6(9),e.Q6J("ngModel",t.DebtAmount)("ngClass",e.VKq(45,oe,t.submitted&&t.f.DebtAmount.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.DebtAmount.errors),e.xp6(4),e.Q6J("ngModel",t.Rentliability)("ngClass",e.VKq(47,oe,t.submitted&&t.f.Rentliability.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.Rentliability.errors),e.xp6(5),e.Q6J("ngModel",t.MonthlyExpense)("ngClass",e.VKq(49,oe,t.submitted&&t.f.MonthlyExpense.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.MonthlyExpense.errors),e.xp6(10),e.AsE("> Nisab ",t.HijriYear," A.H. \u2192 Rs ",t.Nisab," "),e.xp6(2),e.Q6J("ngIf",t.IsEdit),e.xp6(4),e.hij("> Total Liabilities\xa0\xa0\xa0 \u2192 Rs ",t.totalliabilities," "),e.xp6(5),e.hij("> Total Assets \xa0\xa0\xa0\xa0\xa0\xa0 \u2192 Rs ",t.totalassets,""),e.xp6(5),e.hij("> Difference\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 \u2192 Rs ",t.Difference," "),e.xp6(5),e.hij("> Status\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 \u2192 ",t.Eligiable," ")}}function u1(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",59),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).UpdateNisab()}),e._uU(1,"Update"),e.qZA()}}function g1(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",59),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).addNisab()}),e._uU(1,"Submit"),e.qZA()}}function m1(i,n){1&i&&(e.TgZ(0,"span",20),e._uU(1,"Previously Submitted Record"),e.qZA())}function p1(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"th",67),e._uU(2),e.qZA(),e.TgZ(3,"td",65),e._uU(4),e.qZA(),e.TgZ(5,"td",65),e._uU(6),e.qZA(),e.TgZ(7,"td",65),e._uU(8),e.qZA(),e.TgZ(9,"td",65),e._uU(10),e.qZA(),e.TgZ(11,"td",65),e._uU(12),e.qZA(),e.TgZ(13,"td",65),e._uU(14),e.qZA(),e.TgZ(15,"td",65),e._uU(16),e.qZA(),e.TgZ(17,"td"),e.TgZ(18,"button",13),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw(4).EditNisab(r.NisaabId)}),e._UZ(19,"i",68),e.qZA(),e._uU(20," \xa0 "),e.TgZ(21,"button",69),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw(4).Print(r.NisaabId)}),e._UZ(22,"i",70),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=n.$implicit,o=n.index;e.xp6(2),e.Oqu(o+1),e.xp6(2),e.Oqu(t.RegNumber),e.xp6(2),e.AsE("",t.PatientFirstName," ",t.PatientLastName,""),e.xp6(2),e.Oqu(t.NisabYear),e.xp6(2),e.Oqu(t.Assets),e.xp6(2),e.Oqu(t.Liabilities),e.xp6(2),e.Oqu(t.Difference),e.xp6(2),e.Oqu(t.status)}}function _1(i,n){if(1&i&&(e.TgZ(0,"div",63),e.TgZ(1,"table",64),e.TgZ(2,"thead"),e.TgZ(3,"tr"),e.TgZ(4,"th",65),e._uU(5,"#"),e.qZA(),e.TgZ(6,"th",65),e._uU(7,"Reg No"),e.qZA(),e.TgZ(8,"th",65),e._uU(9,"Child Name"),e.qZA(),e.TgZ(10,"th",65),e._uU(11,"Year"),e.qZA(),e.TgZ(12,"th",65),e._uU(13,"Total Assets"),e.qZA(),e.TgZ(14,"th",65),e._uU(15,"Total Liabilities"),e.qZA(),e.TgZ(16,"th",65),e._uU(17,"Difference"),e.qZA(),e.TgZ(18,"th",65),e._uU(19,"Status"),e.qZA(),e._UZ(20,"th"),e.qZA(),e.qZA(),e.TgZ(21,"tbody"),e.YNc(22,p1,23,9,"tr",66),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw(3);e.xp6(22),e.Q6J("ngForOf",t.PatientNisab)}}function h1(i,n){1&i&&(e.TgZ(0,"div",60),e.TgZ(1,"ngb-accordion",61),e.TgZ(2,"ngb-panel",62),e.YNc(3,m1,2,0,"ng-template",9),e.YNc(4,_1,23,1,"ng-template",10),e.qZA(),e.qZA(),e.qZA()),2&i&&(e.xp6(1),e.Q6J("closeOthers",!0))}function f1(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div"),e.YNc(1,Yh,2,0,"div",1),e.YNc(2,Qh,2,0,"div",2),e.YNc(3,Oh,2,0,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"div",5),e.TgZ(6,"form",6),e.TgZ(7,"ngb-accordion",7),e.TgZ(8,"ngb-panel",8),e.YNc(9,Vh,3,1,"ng-template",9),e.YNc(10,c1,106,51,"ng-template",10),e.qZA(),e.qZA(),e.TgZ(11,"div",11),e.TgZ(12,"div",12),e.TgZ(13,"button",13),e.NdJ("click",function(){return e.CHM(t),e.oxw().sum()}),e._uU(14,"Calculate"),e.qZA(),e._uU(15,"\xa0 "),e.TgZ(16,"button",14),e.NdJ("click",function(){return e.CHM(t),e.oxw().Back()}),e._uU(17," Cancel "),e.qZA(),e._uU(18,"\xa0 "),e.YNc(19,u1,2,0,"button",15),e.YNc(20,g1,2,0,"button",15),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(21,h1,5,1,"div",16),e.qZA()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.isVisibleFailure),e.xp6(1),e.Q6J("ngIf",t.isduplicate),e.xp6(1),e.Q6J("ngIf",t.isVisibleSuccess),e.xp6(3),e.Q6J("formGroup",t.patientForm),e.xp6(1),e.Q6J("closeOthers",!0),e.xp6(12),e.Q6J("ngIf",t.IsUpdate),e.xp6(1),e.Q6J("ngIf",t.IsAdd),e.xp6(1),e.Q6J("ngIf",t.IsAdd)}}let Z1=(()=>{class i{constructor(t,o,s,r,l,d,m,_,Z,A){this.myFormBuilder=t,this.patser=o,this.gender=s,this.myRouter=r,this.route=l,this.detectChanges=d,this.AddNisabSer=m,this.userService=_,this.popUpSer=Z,this.location=A,this.IsAdd=!1,this.IsUpdate=!1,this.ReligionName="-",this.IsNotEdit=!0,this.IsEdit=!1,this.Difference=0,this.submitted=!1,this.checked=!1,this.JobIncome=null,this.TransportValue=null,this.Rentliability=null,this.Gold=null,this.CreatedDate=new Date,this.Silver=null,this.SBIncome=null,this.Savings=null,this.LoanAmount=null,this.DebtAmount=null,this.MonthlyExpense=null,this.temp=null,this.total=0,this.totalliabilities=0,this.isVisibleSuccess=!1,this.isVisibleFailure=!1,this.isduplicate=!1,this.IsSHowPage=!1,this.totalassets=0,this.Eligiable="-",this.Iseligiable=1,this.myRouter.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.tempid=this.route.snapshot.paramMap.get("id")}get f(){return this.patientForm.controls}sum(){this.totalassets=this.temp+this.JobIncome+this.SBIncome+this.Gold+this.Silver+this.Savings+this.LoanAmount,this.totalliabilities=this.temp+this.DebtAmount+this.MonthlyExpense+this.Rentliability,this.Difference=this.totalassets-this.totalliabilities,"Non-Muslim"==this.Religion||"Muslim - Syed"==this.Religion?(this.Iseligiable=6,this.Eligiable="Eligible For Donation Only",this.Difference<=this.Nisab?(this.Iseligiable=17,this.Eligiable="Eligible For Donation Only"):this.Difference>=this.Nisab&&(this.Iseligiable=5,this.Eligiable="Not Eligible")):"Muslim"==this.Religion&&(this.Iseligiable=5,this.Eligiable="Eligible for Both",this.Difference<=this.Nisab?(this.Iseligiable=5,this.Eligiable="Eligible for Both"):this.Difference>=this.Nisab&&(this.Iseligiable=5,this.Eligiable="Not Eligible"))}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():this.userService.checkUserHasAccess("/pages/edit-nisab").subscribe(t=>{t.length>0?(this.IsSHowPage=!0,this.getRelegion(1225),this.getEligible(1228),this.tempid.indexOf("a",0)>0&&(this.GetNisabYearValue(),this.RegNo=parseInt(this.tempid.substring(0,this.tempid.indexOf("a",0))),this.getPatientData(),this.Getpatientnisab(),this.IsAdd=!0),this.tempid.indexOf("a",0)<0&&(this.getRelegion(1225),this.getEligible(1228),this.NisaabId=parseInt(this.route.snapshot.paramMap.get("id")),this.getEditData(),this.IsUpdate=!0,this.AddNisabSer.getallyearNisab().subscribe(o=>{for(var s in this.AllNisab=o,this.AllNisab)this.AllNisab[s].HijriYear==this.HijriYear&&(this.Nisab=this.AllNisab[s].Nisab)})),this.formControls()):(this.IsSHowPage=!1,this.popUpSer.confirmCommon("","You have no access to view page").then(o=>{}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)")))})}getRelegion(t){this.gender.getCategorybyEntityType(t).subscribe(o=>{o&&(this.religion=o)})}getEligible(t){this.gender.getCategorybyEntityType(t).subscribe(o=>{o&&(this.eligible=o)})}GetNisabYearValue(){this.AddNisabSer.getNisab().subscribe(t=>{console.log(t),t.length>0?(this.NisabDetail=t,this.Nisab=t[0].Nisab,this.HijriYear=t[0].HijriYear):console.log(t[0].error)})}formControls(){this.patientForm=this.myFormBuilder.group({PatientRegNumber:[""],Religion:[""],FullName:[""],JobIncome:[""],Rentliability:[""],TransportValue:[""],Gold:[""],Silver:[""],FoodAgric:[""],SBIncome:[""],Savings:[""],Debt:[""],DebtAmount:[""],Loan:[""],LoanAmount:[""],DebtReturn:[""],MonthlyExpense:["",a.kI.required],NisabUpdate:[""]})}addNisab(){this.sum(),this.submitted=!0,null==this.patientForm.value.JobIncome&&(this.patientForm.value.JobIncome=0),null==this.patientForm.value.Rentliability&&(this.patientForm.value.Rentliability=0),null==this.patientForm.value.TransportValue&&(this.patientForm.value.TransportValue=0),null==this.patientForm.value.Gold&&(this.patientForm.value.Gold=0),null==this.patientForm.value.Silver&&(this.patientForm.value.Silver=0),null==this.patientForm.value.SBIncome&&(this.patientForm.value.SBIncome=0),null==this.patientForm.value.Savings&&(this.patientForm.value.Savings=0),null==this.patientForm.value.DebtAmount&&(this.patientForm.value.DebtAmount=0),null==this.patientForm.value.LoanAmount&&(this.patientForm.value.LoanAmount=0),null==this.patientForm.value.MonthlyExpense&&(this.patientForm.value.MonthlyExpense=0),this.patientForm.invalid||(this.addJson={JobIncome:this.patientForm.value.JobIncome,Rentliability:this.patientForm.value.Rentliability,TransportValue:this.patientForm.value.TransportValue,Gold:this.patientForm.value.Gold,Silver:this.patientForm.value.Silver,SBIncome:this.patientForm.value.SBIncome,Savings:this.patientForm.value.Savings,DebtAmount:this.patientForm.value.DebtAmount,LoanAmount:this.patientForm.value.LoanAmount,MonthlyExpense:this.patientForm.value.MonthlyExpense,Totalliabilities:this.totalliabilities,Totalassets:this.totalassets,Difference:this.Difference,PatientRegNumber:parseInt(this.RegNo),NisabYear:this.HijriYear,Iseligiable:this.Iseligiable,CreatedDate:this.CreatedDate},this.AddNisabSer.addNisab(this.addJson).subscribe(t=>{"duplicate"==t&&(this.isduplicate=!0,setTimeout(()=>{this.isduplicate=!1},3e3)),("true"==t||1==t)&&(this.patientForm.reset(),this.submitted=!1,setTimeout(()=>{this.location.back()},2e3))}),setTimeout(()=>{this.totalassets=0,this.totalliabilities=0},10))}Getpatientnisab(){this.AddNisabSer.GetPatientNisab(this.RegNo).subscribe(t=>{t.length>0?(this.PatientNisab=t,this.detectChanges.detectChanges(),$("#postdatatable").DataTable({paging:!0,searching:!0,ordering:!0})):(this.PatientNisab=[],this.detectChanges.detectChanges(),$("#postdatatable").DataTable({paging:!0,searching:!0,ordering:!0}))})}EditNisab(t){this.NisaabId=t,this.myRouter.onSameUrlNavigation="reload",this.myRouter.navigate(["/pages/edit-nisab/"+t])}Print(t){this.NisaabId=t,this.myRouter.navigate(["/pages/print-nisab/"+t])}UpdateNisab(){this.sum(),this.submitted=!0,null==this.patientForm.value.JobIncome&&(this.patientForm.value.JobIncome=0),null==this.patientForm.value.Rentliability&&(this.patientForm.value.Rentliability=0),null==this.patientForm.value.TransportValue&&(this.patientForm.value.TransportValue=0),null==this.patientForm.value.Gold&&(this.patientForm.value.Gold=0),null==this.patientForm.value.Silver&&(this.patientForm.value.Silver=0),null==this.patientForm.value.SBIncome&&(this.patientForm.value.SBIncome=0),null==this.patientForm.value.Savings&&(this.patientForm.value.Savings=0),null==this.patientForm.value.DebtAmount&&(this.patientForm.value.DebtAmount=0),null==this.patientForm.value.LoanAmount&&(this.patientForm.value.LoanAmount=0),null==this.patientForm.value.MonthlyExpense&&(this.patientForm.value.MonthlyExpense=0),this.patientForm.invalid||(this.addJson={JobIncome:this.patientForm.value.JobIncome,Rentliability:this.patientForm.value.Rentliability,TransportValue:this.patientForm.value.TransportValue,Gold:this.patientForm.value.Gold,Silver:this.patientForm.value.Silver,SBIncome:this.patientForm.value.SBIncome,Savings:this.patientForm.value.Savings,DebtAmount:this.patientForm.value.DebtAmount,LoanAmount:this.patientForm.value.LoanAmount,MonthlyExpense:this.patientForm.value.MonthlyExpense,Totalliabilities:this.totalliabilities,Totalassets:this.totalassets,Difference:this.Difference,NisaabId:parseInt(this.NisaabId),NisabYear:parseInt(this.HijriYear),Iseligiable:this.Iseligiable,CreatedDate:this.CreatedDate},this.AddNisabSer.UpdateNisab(this.addJson).subscribe(t=>{1==t&&(this.isVisibleSuccess=!0,setTimeout(()=>{this.isVisibleSuccess=!1},1e3)),t&&(this.Getpatientnisab(),this.patientForm.reset(),this.submitted=!1,this.myRouter.navigate(["/pages/nisablist"]))}),setTimeout(()=>{this.totalassets=0,this.totalliabilities=0},1e3))}GetNisab(){this.AddNisabSer.getNisab().subscribe(t=>{t.length>0?(this.NisabDetail=t,this.Nisab=t[0].Nisab,this.HijriYear=t[0].HijriYear):console.log(t[0].error)})}Back(){this.location.back()}addCancel(){this.patientForm.reset()}getPatientData(){this.AddNisabSer.getPatientByRegNo(this.RegNo).subscribe(t=>{console.log(t),this.PatientName=t[0].PatientFirstName+" "+t[0].PatientLastName+" ("+t[0].PoiNo+") ",this.Iseligiable=t[0].EligibilityStatus,setTimeout(()=>{null==t[0].ReligionEthnicity&&null==this.Religion&&this.popUpSer.confirmCommon("","Please fill registration form first").then(o=>{o&&(console.log(t[0].ReligionEthnicity,"empty"),this.myRouter.navigate(["/pages/edit-child-registration/"+this.RegNo]))}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)"));for(let o=0;o<this.religion.length;o++)t[0].ReligionEthnicity==this.religion[o].CategoryId&&(this.ReligionName=this.religion[o].CategoryName,this.Religion=this.ReligionName);for(let o=0;o<this.eligible.length;o++)t[0].EligibilityStatus==this.eligible[o].CategoryId&&(this.Eligiable=this.eligible[o].CategoryName)},2e3)})}NisabEnable(){(this.IsEdit=!1)?(this.IsNotEdit=!0,this.IsEdit=!1):(this.IsNotEdit=!1,this.IsEdit=!0)}EditNisabValue(t){this.NisabUpdate=t,this.nisabJson={NisabValue:this.NisabUpdate,HijriYear:this.HijriYear},this.AddNisabSer.UpdateNisabValue(this.nisabJson).subscribe(o=>{"true"==o&&(this.isVisibleSuccess=!0,setTimeout(()=>{this.isVisibleSuccess=!1},1e3)),o&&(this.patientForm.reset(),this.submitted=!1),this.IsNotEdit=!0,this.IsEdit=!1,this.GetNisab()})}getEditData(){this.AddNisabSer.getNisabByID(this.NisaabId).subscribe(t=>{console.log(t[0].ReligionEthnicity,"ID RESPONSE USING NISAAB ID"),this.PatientName=t[0].PatientFirstName+" "+t[0].PatientLastName,this.Religion=t[0].ReligionEthnicity,this.ReligionName=t[0].ReligionName,this.patientForm.controls.JobIncome.setValue(t[0].JobIncome),this.patientForm.controls.Rentliability.setValue(t[0].Rentliability),this.patientForm.controls.TransportValue.setValue(t[0].TransportValue),this.patientForm.controls.Gold.setValue(t[0].Gold),this.patientForm.controls.Silver.setValue(t[0].Silver),this.patientForm.controls.SBIncome.setValue(t[0].SBIncome),this.patientForm.controls.Savings.setValue(t[0].Savings),this.patientForm.controls.DebtAmount.setValue(t[0].DebtAmount),this.patientForm.controls.LoanAmount.setValue(t[0].LoanAmount),this.patientForm.controls.MonthlyExpense.setValue(t[0].MonthlyExpense),this.totalliabilities=t[0].Liabilities,this.totalassets=t[0].Assets,this.Difference=t[0].Difference,this.Iseligiable=t[0].EligibilityStatus,this.HijriYear=parseInt(t[0].NisabYear),this.RegNo=t[0].RegNumber;for(let o=0;o<this.religion.length;o++)t[0].ReligionEthnicity==this.religion[o].CategoryId&&(this.ReligionName=this.religion[o].CategoryName,this.Religion=this.ReligionName);for(let o=0;o<this.eligible.length;o++)t[0].EligibilityStatus==this.eligible[o].CategoryId&&(this.Eligiable=this.eligible[o].CategoryName)})}ngOnDestroy(){console.log("destroyed")}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(wt),e.Y36(O),e.Y36(p.F0),e.Y36(p.gz),e.Y36(e.sBO),e.Y36(Ge),e.Y36(h),e.Y36(b),e.Y36(g.Ye))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit-nisab"]],decls:1,vars:1,consts:[[4,"ngIf"],["class","alertnotify","style","background: #cb3837",4,"ngIf"],["class","alertnotify","style","background: #cb3837; width:300px; height:100px;",4,"ngIf"],["class","alertnotify","style","background: #54a254",4,"ngIf"],["id","nisaab"],[1,"container-fluid","theme-font"],[3,"formGroup"],["activeIds","toggle-11",3,"closeOthers"],["id","toggle-11"],["ngbPanelTitle",""],["ngbPanelContent",""],[1,"row"],[1,"col","text-right","mb-2"],[1,"btn","edit-btn","btn-sm",3,"click"],[1,"btn","reset-btn","btn-sm",3,"click"],["class","btn upload-btn btn-sm",3,"click",4,"ngIf"],["class","card main-card mt-3",4,"ngIf"],[1,"alertnotify",2,"background","#cb3837"],[1,"alertnotify",2,"background","#cb3837","width","300px","height","100px"],[1,"alertnotify",2,"background","#54a254"],[1,"card-header--title"],["class","pull-right",4,"ngFor","ngForOf"],[1,"pull-right"],[1,"row",2,"padding-left","15px"],[1,"col-md-7"],[1,"col"],[1,"row",2,"padding-left","15px","margin-top","5px"],[1,"col-md-4"],["id","ss1"],[1,"form-control",2,"border","0rem"],["class","invalid-feedback",4,"ngIf"],[1,"col-md-4","offset-md-1"],["class","form-control","style","border:0rem;margin:5px;",4,"ngIf"],[1,"row",2,"padding-left","15px","padding-top","15px"],[1,"col-md-12"],[1,"theme1-subheading"],["type","number","min","0","placeholder","Rs.","formControlName","JobIncome","id","JobIncome",1,"form-control","form-control-sm",3,"ngModel","ngClass","ngModelChange"],["type","number","min","0","formControlName","Gold","id","Gold","placeholder","Rs.",1,"form-control","form-control-sm",3,"ngModel","ngClass","ngModelChange"],[1,"row","mt-2",2,"padding-left","15px"],["type","number","min","0","formControlName","Silver","id","Silver","placeholder","Rs.",1,"form-control","form-control-sm",3,"ngModel","ngClass","ngModelChange"],["type","number","min","0","formControlName","SBIncome","id","SBIncome","placeholder","Rs.",1,"form-control","form-control-sm",3,"ngModel","ngClass","ngModelChange"],["type","number","min","0","formControlName","Savings","id","Savings","placeholder","Rs.",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["type","number","min","0","formControlName","LoanAmount","id","LoanAmount","placeholder","Rs.",1,"form-control","form-control-sm",3,"ngModel","ngClass","ngModelChange"],[1,"row",2,"padding-top","30px","text-align","center"],["type","number","min","0","formControlName","DebtAmount","id","DebtAmount","placeholder","Rs.",1,"form-control","form-control-sm",3,"ngModel","ngClass","ngModelChange"],["type","number","placeholder","Rs.","formControlName","Rentliability","id","Rentliability",1,"form-control","form-control-sm",3,"ngModel","ngClass","ngModelChange"],[1,"col-md-9"],["type","number","min","0","formControlName","MonthlyExpense","id","MonthlyExpense","placeholder","Rs.",1,"form-control","form-control-sm",3,"ngModel","ngClass","ngModelChange"],[1,"row","justify-content-end"],[1,"card","nisaabcard","p-3","mt-5",2,"color","#ea517b"],[1,"nisaabcardhr"],[1,"theme2-subheading"],[1,"row","ml-2"],[1,"row",2,"padding-top","10px"],[1,"invalid-feedback"],[1,"form-control",2,"border","0rem","margin","5px"],["type","number","name","NisabUpdate","formControlName","NisabUpdate","id","NisabUpdate","min","0",2,"width","70px",3,"ngModel","ngModelChange"],[1,"btn","btn-link",3,"click"],[1,"fa","fa-plus","fa-fw"],[1,"btn","upload-btn","btn-sm",3,"click"],[1,"card","main-card","mt-3"],["activeIds","toggle-12",3,"closeOthers"],["id","toggle-12"],[1,"table-responsive"],["id","postdatatable",1,"table","table-striped",2,"width","100%"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],[1,"fa","fa-pencil","fa-fw"],[1,"btn","print-btn","btn-sm",3,"click"],[1,"fa","fa-print","fa-fw"]],template:function(t,o){1&t&&e.YNc(0,f1,22,8,"div",0),2&t&&e.Q6J("ngIf",o.IsSHowPage)},directives:[g.O5,a._Y,a.JL,a.sg,u.gY,u.Gk,u.Cu,g.sg,u.gW,a.qQ,a.wV,a.Fj,a.JJ,a.u,g.mk],styles:[".theme1-subheading[_ngcontent-%COMP%]{padding:6px 6px 2px;font-size:18px;color:#fff;font-family:Arial,Helvetica,sans-serif;background:#484877;width:90px;MARGIN-TOP:5px;margin-bottom:10px;border-radius:12px}.card_label[_ngcontent-%COMP%]{color:#000}.theme2-subheading[_ngcontent-%COMP%]{padding:6px 6px 2px;font-size:medium;color:#000;font-family:Arial,Helvetica,sans-serif;background:#fff;width:310px;MARGIN-TOP:5px;margin-bottom:10px;border-radius:12px}.nisaabcard[_ngcontent-%COMP%]{border-radius:12px;background-color:#f5f7fb}.nisaabcardhr[_ngcontent-%COMP%]{border:2px solid #ea517b;border-radius:5px;margin-top:0}#ss1[_ngcontent-%COMP%]{font-size:medium;margin-left:1px;font-weight:50%}#s5[_ngcontent-%COMP%]{cursor:pointer}"]}),i})(),b1=(()=>{class i{constructor(t,o,s,r,l,d,m){this.myFormBuilder=t,this.patser=o,this.myRouter=s,this.route=r,this.location=l,this.AddNisabSer=d,this.userService=m,this.IsAdd=!1,this.IsUpdate=!1,this.JobIncome=null,this.TransportValue=null,this.Rentliability=null,this.Gold=null,this.Difference=0,this.Nisab=0,this.Silver=null,this.SBIncome=null,this.Savings=null,this.LoanAmount=null,this.DebtAmount=null,this.MonthlyExpense=null,this.temp=null,this.total=0,this.totalliabilities=0,this.totalassets=0,this.Eligiable="-",this.NisaabId=parseInt(this.route.snapshot.paramMap.get("id"))}get f(){return this.patientForm.controls}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():(this.NisaabId=this.route.snapshot.paramMap.get("id"),this.getEditData())}getEditData(){this.AddNisabSer.getNisabByID(this.NisaabId).subscribe(t=>{this.PatientName=t[0].PatientFirstName+" "+t[0].PatientLastName,this.JobIncome=t[0].JobIncome,this.Rentliability=t[0].Rentliability,this.TransportValue=t[0].TransportValue,this.Gold=t[0].Gold,this.Silver=t[0].Silver,this.SBIncome=t[0].SBIncome,this.Savings=t[0].Savings,this.DebtAmount=t[0].DebtAmount,this.LoanAmount=t[0].LoanAmount,this.MonthlyExpense=t[0].MonthlyExpense,this.totalliabilities=t[0].Liabilities,this.totalassets=t[0].Assets,this.Iseligiable=t[0].EligibilityStatus,this.HijriYear=parseInt(t[0].NisabYear),this.Difference=t[0].Difference,this.RegNo=t[0].RegNumber,this.PoiNo=t[0].PoiNo,this.Eligiable=t[0].Estatus})}back(){this.location.back()}print(){var t=document.getElementById("2"),o=document.getElementById("1");let s=document.getElementById("page"),r=window.open("","new div","height=400,width=400");r.document.write("<html><head><title>Meethi Zindagi"+new Date+"</title>"),r.document.write("<head>"),r.document.write("<style>\n        .report{background-color: grey;\n          border : 1px solid rgb(167, 167, 167);\n        }\n  \n  \n        \n        .footer {\n          position: fixed;\n          left: 0;\n          bottom: 0;\n          width: 100%;\n          background-color: white;\n          color: black;\n          text-align: center;\n        }\n        @media print {\n         \n          .th {\n            background-color: yellow;\n          }\n          .lightBlue {\n            background-color: lightblue !important;\n            -webkit-print-color-adjust: exact;\n          }\n        .date{\n          font-weight: 400;\n          color : green;\n        }\n        .heading{\n          font-weight: 400;\n        }\n        .error{\n          border : 1px solid red;\n        }</style>"),r.document.write("</head><body>"),r.document.write(s.innerHTML),r.document.write('<link rel="stylesheet" type="text/css" href="http://localhost:4200/assets/css/report.css";>'),r.document.write('</body><div class="footer" style="display: block;"><footer>'),r.document.write("<hr>"),r.document.write('<div class="container-fluid">'),r.document.write('<div class="row">'),r.document.write('<div class="col-md-12 ml-auto">'),r.document.write('<p style="text-align:left;"><i>Address : Rawalpindi: +92 51 8313214, Lahore : +92 332 8313214, Karachi: +92 335 5554606, Email: resource.gen.dept@meethizindagi.org </p></div></div></div>'),r.document.write("</footer></div></html>"),r.document.close(),r.focus(),t.style.visibility="hidden",o.style.visibility="hidden",setTimeout(function(){r.print(),t.style.visibility="visible",o.style.visibility="visible",r.close()},1e3)}ngOnDestroy(){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(wt),e.Y36(p.F0),e.Y36(p.gz),e.Y36(g.Ye),e.Y36(Ge),e.Y36(h))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-nisab-report"]],decls:121,vars:17,consts:[[1,"container-fluid",2,"background-color","white"],[1,"row"],["id","page",1,"col-md-12",2,"background-color","white","zoom","100%"],[1,"row","justify-content-center"],["src","/assets/images/logo-MZ-site-2.png"],[1,"row","justify-content-center",2,"font-family","Calibri","font-size","28px"],[1,"card","m-2",2,"margin-top","20px","font-size","18px"],[1,"card-body","pl-2"],[1,"col-sm-3"],[1,"container-fluid"],["className","row-sm-12",1,"table-table-responsive-md",2,"margin-top","10px"],[1,"card"],[1,"table","px-10",2,"font-family","Calibri","font-size","18px"],[2,"background","lightgrey"],[1,"row","justify-content-end","m-2"],[1,"col"],["id","1",1,"btn","reset-btn",2,"width","120px","float","right","margin-left","4px",3,"click"],["id","2",1,"btn","print-btn",2,"width","120px","float","right",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"form"),e.TgZ(4,"div",3),e._UZ(5,"img",4),e.qZA(),e.TgZ(6,"span",5),e.TgZ(7,"b"),e._uU(8),e.qZA(),e.qZA(),e.TgZ(9,"span",5),e.TgZ(10,"b"),e._uU(11),e.qZA(),e.qZA(),e.TgZ(12,"div",6),e.TgZ(13,"div",7),e.TgZ(14,"div",1),e.TgZ(15,"div",8),e.TgZ(16,"span"),e._uU(17,"POI No\xa0\xa0\xa0:"),e.qZA(),e.qZA(),e.TgZ(18,"div",8),e.TgZ(19,"span"),e._uU(20),e.qZA(),e.qZA(),e.TgZ(21,"div",8),e.TgZ(22,"span"),e._uU(23,"Child Name\xa0\xa0\xa0(\u0628\u0686\u06d2 \u06a9\u0627 \u0646\u0627\u0645):"),e.qZA(),e.qZA(),e.TgZ(24,"div",8),e.TgZ(25,"label"),e._uU(26),e.qZA(),e.qZA(),e.qZA(),e.TgZ(27,"div",1),e.TgZ(28,"div",8),e.TgZ(29,"label"),e._uU(30,"Status\xa0\xa0\xa0(\u0627\u06c1\u0644 \u062d\u06cc\u062b\u06cc\u062a):"),e.qZA(),e.qZA(),e.TgZ(31,"div",8),e.TgZ(32,"label"),e._uU(33),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(34,"div",9),e.TgZ(35,"div",10),e.TgZ(36,"div",11),e.TgZ(37,"table",12),e.TgZ(38,"thead",13),e.TgZ(39,"tr"),e.TgZ(40,"th"),e._uU(41,"Assets\xa0\xa0\xa0(\u0627\u062b\u0627\u062b\u06d2)"),e.qZA(),e.TgZ(42,"th"),e._uU(43,"Value"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(44,"tbody"),e.TgZ(45,"tr"),e.TgZ(46,"td"),e._uU(47,"Annual Job Income\xa0\xa0\xa0(\u0645\u0644\u0627\u0632\u0645\u062a \u06a9\u06cc \u0633\u0627\u0644\u0627\u0646\u06c1 \u0622\u0645\u062f\u0646\u06cc)"),e.qZA(),e.TgZ(48,"td"),e._uU(49),e.qZA(),e.qZA(),e.TgZ(50,"tr"),e.TgZ(51,"td"),e._uU(52,"Gold Owned\xa0\xa0\xa0(\u0633\u0648\u0646\u06d2 \u06a9\u06cc \u0645\u0644\u06a9\u06cc\u062a)"),e.qZA(),e.TgZ(53,"td"),e._uU(54),e.qZA(),e.qZA(),e.TgZ(55,"tr"),e.TgZ(56,"td"),e._uU(57,"Silver Owned\xa0\xa0\xa0(\u0686\u0627\u0646\u062f\u06cc \u06a9\u06cc \u0645\u0644\u06a9\u06cc\u062a)"),e.qZA(),e.TgZ(58,"td"),e._uU(59),e.qZA(),e.qZA(),e.TgZ(60,"tr"),e.TgZ(61,"td"),e._uU(62,"Income From SideBusiness\xa0\xa0\xa0(\u0636\u0645\u0646\u06cc \u06a9\u0627\u0631\u0648\u0628\u0627\u0631 \u0633\u06d2 \u0622\u0645\u062f\u0646\u06cc)"),e.qZA(),e.TgZ(63,"td"),e._uU(64),e.qZA(),e.qZA(),e.TgZ(65,"tr"),e.TgZ(66,"td"),e._uU(67,"Amount of Cash in Hand\xa0\xa0\xa0(\u0646\u0642\u062f \u0631\u0642\u0645)"),e.qZA(),e.TgZ(68,"td"),e._uU(69),e.qZA(),e.qZA(),e.TgZ(70,"tr"),e.TgZ(71,"td"),e._uU(72,"Loaned Amount\xa0\xa0\xa0(\u06a9\u0633\u06cc \u06a9\u0648 \u062f\u06cc\u0626\u06d2 \u06af\u0626\u06d2 \u0642\u0631\u0636 \u06a9\u06cc \u0631\u0642\u0645)"),e.qZA(),e.TgZ(73,"td"),e._uU(74),e.qZA(),e.qZA(),e.TgZ(75,"tr"),e.TgZ(76,"th"),e.TgZ(77,"b"),e._uU(78,"Total Assets\xa0\xa0\xa0(\u0645\u062c\u0645\u0648\u0639\u06cc \u0627\u062b\u0627\u062b\u06d2)"),e.qZA(),e.qZA(),e.TgZ(79,"th"),e._uU(80),e.qZA(),e.qZA(),e.qZA(),e.TgZ(81,"thead",13),e.TgZ(82,"tr"),e.TgZ(83,"th"),e._uU(84,"Liabilities\xa0\xa0\xa0(\u0648\u0627\u062c\u0628\u0627\u062a)"),e.qZA(),e.TgZ(85,"th"),e._uU(86,"Value"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(87,"tbody"),e.TgZ(88,"tr"),e.TgZ(89,"td"),e._uU(90,"Debt Amount\xa0\xa0\xa0(\u0642\u0631\u0636 \u0648\u0627\u067e\u0633\u06cc \u06a9\u06cc \u0631\u0642\u0645)"),e.qZA(),e.TgZ(91,"td"),e._uU(92),e.qZA(),e.qZA(),e.TgZ(93,"tr"),e.TgZ(94,"td"),e._uU(95,"Annual Rent\xa0\xa0\xa0(\u0633\u0627\u0644\u0627\u0646\u06c1 \u06a9\u0631\u0627\u06cc\u06c1 \u06a9\u06cc \u0648\u0627\u062c\u0628\u0627\u062a)"),e.qZA(),e.TgZ(96,"td"),e._uU(97),e.qZA(),e.qZA(),e.TgZ(98,"tr"),e.TgZ(99,"td"),e._uU(100,"Annual Household Expense\xa0\xa0\xa0(\u06af\u06be\u0631\u06cc\u0644\u0648 \u0627\u062e\u0631\u0627\u062c\u0627\u062a \u06a9\u0627 \u0633\u0627\u0644\u0627\u0646\u06c1 \u062e\u0631\u0686)"),e.qZA(),e.TgZ(101,"td"),e._uU(102),e.qZA(),e.qZA(),e.TgZ(103,"tr"),e.TgZ(104,"td"),e.TgZ(105,"b"),e._uU(106,"Total Liabilities\xa0\xa0\xa0(\u06a9\u0644 \u0648\u0627\u062c\u0628\u0627\u062a)"),e.qZA(),e.qZA(),e.TgZ(107,"td"),e._uU(108),e.qZA(),e.qZA(),e.TgZ(109,"tr"),e.TgZ(110,"td"),e.TgZ(111,"b"),e._uU(112,"Difference\xa0\xa0\xa0(\u0627\u062b\u0627\u062b\u0648\u06ba \u0627\u0648\u0631 \u0648\u0627\u062c\u0628\u0627\u062a \u06a9\u06d2 \u0645\u0627\u0628\u06cc\u0646 \u0641\u0631\u0642)"),e.qZA(),e.qZA(),e.TgZ(113,"td"),e._uU(114),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(115,"div",14),e.TgZ(116,"div",15),e.TgZ(117,"button",16),e.NdJ("click",function(){return o.back()}),e._uU(118,"Cancel"),e.qZA(),e.TgZ(119,"button",17),e.NdJ("click",function(){return o.print()}),e._uU(120,"Print"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(8),e.hij("Eligibility Form Year ",o.HijriYear," AH"),e.xp6(3),e.hij("\u0627\u06c1\u0644\u06cc\u062a \u0641\u0627\u0631\u0645 \u0633\u0627\u0644 ",o.HijriYear," \u06c1\u062c\u0631\u06cc"),e.xp6(9),e.Oqu(o.PoiNo),e.xp6(6),e.Oqu(o.PatientName),e.xp6(7),e.Oqu(o.Eligiable),e.xp6(16),e.Oqu(o.JobIncome),e.xp6(5),e.Oqu(o.Gold),e.xp6(5),e.Oqu(o.Silver),e.xp6(5),e.Oqu(o.SBIncome),e.xp6(5),e.Oqu(o.Savings),e.xp6(5),e.Oqu(o.LoanAmount),e.xp6(6),e.Oqu(o.totalassets),e.xp6(12),e.Oqu(o.DebtAmount),e.xp6(5),e.Oqu(o.Rentliability),e.xp6(5),e.Oqu(o.MonthlyExpense),e.xp6(6),e.Oqu(o.totalliabilities),e.xp6(6),e.Oqu(o.Difference))},styles:["@page{size:auto;margin:0;padding:0}html[_ngcontent-%COMP%]{background-color:#fff;margin:0;padding:0}body[_ngcontent-%COMP%]{border:solid 1px blue;margin:0 15mm 10mm;padding:0}#print_div[_ngcontent-%COMP%]{margin-top:-50px}","@page\n    {\n        size: auto;   \n        margin: 0mm;  \n    }"]}),i})(),ve=(()=>{class i{constructor(t){this.httpClient=t,this.token=localStorage.getItem("token"),this.httpOptions={headers:new c.WM({authorization:`Bearer ${this.token}`})}}getAllRightsnew(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/rights/getAllRightsnew?id="+t,s)}getAllRights(){let t=localStorage.getItem("token"),o={headers:new c.WM({authorization:`Bearer ${t}`})};return this.httpClient.get("/api/rights/getAllRightsnew",o)}getAllRightsbyRoleId(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/rights/getAllRightsbyRoleId?roleid="+t,s)}addRights(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/rights/addRightsPage",t,s)}updateUserAssignedRightNewPage(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/rights/updateUserAssignedRightNewPage",t,s)}InsertNewUserAssignedRightNewPage(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/rights/InsertNewUserAssignedRightNewPage",t,s)}getAllUser(){let t=localStorage.getItem("token"),o={headers:new c.WM({authorization:`Bearer ${t}`})};return this.httpClient.get("/api/rights/getAllUser",o)}updateRight(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/rights/updateRight",t,s)}deleteRight(t,o){let s=localStorage.getItem("token"),r={headers:new c.WM({authorization:`Bearer ${s}`})};return this.httpClient.get("/api/rights/deleteRight?ID="+t+"&RightId="+o,r)}getRightById(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/rights/getRightById?RightId="+t,s)}getRightsbyRoleIdById(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/rights/getRightsbyRoleIdById?roleid="+t,s)}getAllAssignRights(){let t=localStorage.getItem("token"),o={headers:new c.WM({authorization:`Bearer ${t}`})};return this.httpClient.get("/api/rights/getAllAssignRights",o)}GetAllUnAssignRights(){let t=localStorage.getItem("token"),o={headers:new c.WM({authorization:`Bearer ${t}`})};return this.httpClient.get("/api/rights/GetAllUnAssignRights",o)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(c.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),X=(()=>{class i{constructor(t){this.httpClient=t,this.token=localStorage.getItem("token"),this.httpOptions={headers:new c.WM({authorization:`Bearer ${this.token}`})}}getAllroles(){let t=localStorage.getItem("token"),o={headers:new c.WM({authorization:`Bearer ${t}`})};return this.httpClient.get("/api/roles/allRoles",o)}addroles(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/roles/addRole",t,s)}editroles(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/roles/updateRole",t,s)}deleteroles(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/roles/deleteroles?Roleid="+t,s)}getrolebyid(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/roles/getRoleById?Roleid="+t,s)}getAllAssignRoles(){let t=localStorage.getItem("token"),o={headers:new c.WM({authorization:`Bearer ${t}`})};return this.httpClient.get("/api/roles/allRoleAssignments",o)}addAssignedRole(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/roles/assignRole",t,s)}deAssignedRole(t,o){let s=localStorage.getItem("token"),r={headers:new c.WM({authorization:`Bearer ${s}`})};return this.httpClient.get("/api/roles/deactivateRoleAssignments?UserId="+o+"&RoleId="+t,r)}getNotAssignedRolesRights(){let t=localStorage.getItem("token"),o={headers:new c.WM({authorization:`Bearer ${t}`})};return this.httpClient.get("/api/roles/getNotAssignedRolesRights",o)}getAssignedRolesRights(){let t=localStorage.getItem("token"),o={headers:new c.WM({authorization:`Bearer ${t}`})};return this.httpClient.get("/api/roles/getAssignedRolesRights",o)}AssignRightsToUser(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/roles/AssignRightsToUser",t,s)}getRights(t,o){let s=localStorage.getItem("token"),r={headers:new c.WM({authorization:`Bearer ${s}`})};return this.httpClient.get("/api/roles/getRights?Userid="+t+"&RoleId="+o,r)}deleteAsssignedRight(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/roles/deleteAsssignedRight?Id="+t,s)}getAllNotAssignedRights(t,o){let s=localStorage.getItem("token"),r={headers:new c.WM({authorization:`Bearer ${s}`})};return this.httpClient.get("/api/roles/getAllNotAssignedRights?Userid="+o+"&RoleId="+t,r)}AddNewRight(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/roles/AddNewRight",t,s)}getAssignedRolesRightsNew(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/roles/getAssignedRolesRightsNew?id="+t,s)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(c.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function v1(i,n){1&i&&(e.TgZ(0,"div",11),e._uU(1," Right is UnAssigned Successfully!. "),e.qZA())}function T1(i,n){1&i&&(e.TgZ(0,"div",12),e._uU(1," Right is Assigned Successfully!. "),e.qZA())}function A1(i,n){if(1&i&&(e.TgZ(0,"div",12),e._uU(1," You have Assigned "),e.TgZ(2,"b"),e._uU(3),e.qZA(),e._uU(4," Rights to Role!. "),e.qZA()),2&i){const t=e.oxw(2);e.xp6(3),e.Oqu(t.allAsssignedRights)}}function C1(i,n){if(1&i&&(e.TgZ(0,"div",12),e._uU(1," Total "),e.TgZ(2,"b"),e._uU(3),e.qZA(),e._uU(4," Rights are Assigned Successfully!. "),e.qZA()),2&i){const t=e.oxw(2);e.xp6(3),e.Oqu(t.allAsssignedRights)}}function q1(i,n){1&i&&(e.TgZ(0,"div",12),e._uU(1," Right is UnAssigned Successfully!. "),e.qZA())}function x1(i,n){1&i&&(e.TgZ(0,"span",13),e._uU(1,"Assign Rights to Role"),e.qZA(),e.TgZ(2,"div",14),e._UZ(3,"i",15),e.qZA())}function I1(i,n){if(1&i&&(e.TgZ(0,"option",32),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.RoleId),e.xp6(1),e.hij(" ",t.RoleName," ")}}function y1(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Role is required"),e.qZA())}function k1(i,n){if(1&i&&(e.TgZ(0,"div",33),e.YNc(1,y1,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.RoleId.errors.required)}}function U1(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e.TgZ(2,"input",34),e.NdJ("change",function(s){const l=e.CHM(t).$implicit;return e.oxw(3).checkChange(l.RightId,s.target.checked)}),e.qZA(),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.qZA()}if(2&i){const t=n.$implicit;e.xp6(4),e.Oqu(t.RightName)}}function N1(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e.TgZ(2,"input",35),e.NdJ("change",function(s){const l=e.CHM(t).$implicit;return e.oxw(3).checkedChange(l.ID,l.RightId,s.target.checked)}),e.qZA(),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.qZA()}if(2&i){const t=n.$implicit;e.xp6(2),e.Q6J("checked",!0),e.xp6(2),e.Oqu(t.RightName)}}const w1=function(i){return{"is-invalid":i}};function S1(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"form",16),e.TgZ(1,"div",17),e.TgZ(2,"div",18),e.TgZ(3,"label"),e._uU(4,"Role Name"),e.qZA(),e.TgZ(5,"select",19),e.NdJ("change",function(s){return e.CHM(t),e.oxw(2).RoleChange(s.target.value,s)}),e.TgZ(6,"option",20),e._uU(7,"Please Select"),e.qZA(),e.YNc(8,I1,2,2,"option",21),e.qZA(),e.YNc(9,k1,2,1,"div",22),e.qZA(),e._UZ(10,"div",18),e.qZA(),e._UZ(11,"br"),e.TgZ(12,"div",17),e.TgZ(13,"div",23),e.TgZ(14,"button",24),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).submit()}),e._uU(15," Submit"),e.qZA(),e._uU(16,"\xa0 "),e.TgZ(17,"button",25),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).addCancel()}),e._uU(18," Reset "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(19,"hr"),e.TgZ(20,"div",17),e.TgZ(21,"div",26),e.TgZ(22,"h5"),e._uU(23," Assign Rights to "),e.TgZ(24,"b"),e._uU(25),e.qZA(),e.qZA(),e.TgZ(26,"div",27),e.TgZ(27,"table",28),e.TgZ(28,"thead"),e.TgZ(29,"tr"),e.TgZ(30,"th",29),e._uU(31,"#"),e.qZA(),e.TgZ(32,"th",29),e._uU(33,"Menu's"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(34,"tbody"),e.YNc(35,U1,5,1,"tr",30),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(36,"div",26),e.TgZ(37,"h5"),e._uU(38," Assigned Rights to "),e.TgZ(39,"b"),e._uU(40),e.qZA(),e.qZA(),e.TgZ(41,"div",27),e.TgZ(42,"table",31),e.TgZ(43,"thead"),e.TgZ(44,"tr"),e._UZ(45,"th",29),e.TgZ(46,"th",29),e._uU(47,"Menu's"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(48,"tbody"),e.YNc(49,N1,5,2,"tr",30),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("formGroup",t.rightForm),e.xp6(5),e.Q6J("ngClass",e.VKq(8,w1,t.submitted&&t.f.RoleId.errors)),e.xp6(3),e.Q6J("ngForOf",t.allroles),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.RoleId.errors),e.xp6(16),e.Oqu(t.selectedRoleName),e.xp6(10),e.Q6J("ngForOf",t.allRights),e.xp6(5),e.Oqu(t.selectedRoleName),e.xp6(9),e.Q6J("ngForOf",t.allAssignedRights)}}function F1(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"th",39),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e.TgZ(8,"button",40),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw(3).edit(r.RoleId)}),e._UZ(9,"i",41),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=n.$implicit,o=n.index;e.xp6(2),e.Oqu(o+1),e.xp6(2),e.Oqu(t.RoleName),e.xp6(2),e.Oqu(t.total_rights)}}function D1(i,n){if(1&i&&(e.TgZ(0,"div",36),e.TgZ(1,"div",37),e.TgZ(2,"b"),e._uU(3,"List of All Assigned Rights"),e.qZA(),e.qZA(),e.TgZ(4,"div",27),e._UZ(5,"br"),e.TgZ(6,"table",38),e.TgZ(7,"thead"),e.TgZ(8,"tr"),e.TgZ(9,"th",29),e._uU(10,"#"),e.qZA(),e.TgZ(11,"th",29),e._uU(12,"Role Name"),e.qZA(),e.TgZ(13,"th",29),e._uU(14,"Total Rights Assigned"),e.qZA(),e.TgZ(15,"th",29),e._uU(16,"Action"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"tbody"),e.YNc(18,F1,10,3,"tr",30),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(18),e.Q6J("ngForOf",t.roles)}}function J1(i,n){if(1&i&&(e.TgZ(0,"div"),e.TgZ(1,"div",1),e.YNc(2,v1,2,0,"div",2),e.YNc(3,T1,2,0,"div",3),e.YNc(4,A1,5,1,"div",3),e.YNc(5,C1,5,1,"div",3),e.YNc(6,q1,2,0,"div",3),e.qZA(),e.TgZ(7,"ngx-spinner",4),e.TgZ(8,"p",5),e._uU(9,"Please wait..."),e.qZA(),e.qZA(),e.TgZ(10,"ngb-accordion",6),e.TgZ(11,"ngb-panel",7),e.YNc(12,x1,4,0,"ng-template",8),e.YNc(13,S1,50,10,"ng-template",9),e.qZA(),e.qZA(),e._UZ(14,"br"),e.YNc(15,D1,19,1,"div",10),e.qZA()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.isVisibleFailure),e.xp6(1),e.Q6J("ngIf",t.isVisibleSuccess),e.xp6(1),e.Q6J("ngIf",t.NotAssigned),e.xp6(1),e.Q6J("ngIf",t.isAssigned),e.xp6(1),e.Q6J("ngIf",t.UnAssigned),e.xp6(4),e.Q6J("closeOthers",!0),e.xp6(5),e.Q6J("ngIf",t.righttable)}}let E1=(()=>{class i{constructor(t,o,s,r,l,d,m,_,Z){this.myFormBuilder=t,this.userService=o,this.rightSer=s,this.roleSer=r,this.myRouter=l,this.cdr=d,this.popUpSer=m,this.detectChanges=_,this.spinner=Z,this.isVisibleSuccess=!1,this.isVisibleFailure=!1,this.submitted=!1,this.tData=!1,this.NotAssigned=!1,this.isAssigned=!1,this.IsSHowPage=!1,this.IsSelectAll=!1,this.righttable=!1,this.UnAssigned=!1}get f(){return this.rightForm.controls}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():setTimeout(()=>{this.userService.checkUserHasAccess("/pages/assign-rights").subscribe(t=>{t.length>0?(this.IsSHowPage=!0,this.formControls(),this.getAllRoles(),this.getAllRights(),this.userService.checkUserHasAccess("/pages/rights").subscribe(o=>{o.length>0?(this.righttable=!0,this.getAllAssignRoles()):this.righttable=!1})):(this.IsSHowPage=!1,this.popUpSer.confirmCommon("","Sorry You don't have access of this page").then(o=>{}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)")))})},500)}formControls(){this.rightForm=this.myFormBuilder.group({RoleId:[null,a.kI.required]})}submit(){null==this.rightForm.value.RoleId||"null"==this.rightForm.value.RoleId?($("#rightCheck").prop("checked",!1),this.popUpSer.confirmCommon("","Please fill the required fields").then(t=>{}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)"))):(this.spinner.show(),this.rightSer.getRightsbyRoleIdById(this.rightForm.value.RoleId).subscribe(t=>{t.length>0||0==t.length?(this.spinner.hide(),this.allAsssignedRights=t.length,this.NotAssigned=!0,this.addCancel(),setTimeout(()=>this.NotAssigned=!1,3e3),this.getAllAssignRoles(),this.getAllRoles(),this.getAllRights(),$("#rightsDataTable1").DataTable().clear().draw()):(this.spinner.hide(),this.isAssigned=!0,this.addCancel(),setTimeout(()=>this.isAssigned=!1,3e3),this.getAllAssignRoles(),this.getAllRoles(),this.getAllRights(),$("#rightsDataTable1").DataTable().clear().draw())}))}checkChange(t,o){null==this.rightForm.value.RoleId||"null"==this.rightForm.value.RoleId?($("#rightCheck").prop("checked",!1),this.popUpSer.confirmCommon("","Please fill the required fields").then(s=>{}).catch(()=>"User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)"),console.log()):(this.spinner.show(),0==o?(this.isVisibleSuccess=!0,setTimeout(()=>this.isVisibleSuccess=!1,3e3)):this.rightSer.addRights({RightId:t,RoleId:this.rightForm.value.RoleId,IsArchive:"0"}).subscribe(r=>{r?(this.RoleChange(this.rightForm.value.RoleId,null),this.getAllRightbyRoleId(this.rightForm.value.RoleId),this.isVisibleSuccess=!0,setTimeout(()=>this.isVisibleSuccess=!1,3e3)):(this.spinner.hide(),this.isVisibleFailure=!0,setTimeout(()=>this.isVisibleFailure=!1,5e3))}))}getAllRoles(){this.roleSer.getNotAssignedRolesRights().subscribe(t=>{t.length>0&&(this.allroles=t)})}getAllRights(){this.tData=!0,setTimeout(()=>{this.rightSer.getAllRights().subscribe(t=>{t.length>0?(this.allRights=t,this.cdr.detectChanges(),$("#addrightsDataTable1").DataTable({scrollY:200,paging:!1,searching:!1,ordering:!1})):(this.allRights=[],this.cdr.detectChanges(),$("#addrightsDataTable1").DataTable({scrollY:200,paging:!1,searching:!1,ordering:!1}))})},500),$("#addrightsDataTable1").dataTable().fnDestroy()}checkAll(){$("#checkall").prop("checked",!1).length>0&&(0==$("#checkall").prop("checked",!1)[0].checked?$("input:checkbox").not(this).prop("checked",!0):$("input:checkbox").not(this).prop("checked",!1))}addCancel(){this.rightForm.reset(),this.selectedRoleName="",this.submitted=!1}RoleChange(t,o){null!=o&&(this.selectedRoleName=o.target.options[o.target.options.selectedIndex].text),this.rightSer.getRightsbyRoleIdById(t).subscribe(s=>{s.length>0?(this.allAssignedRights=s,this.cdr.detectChanges(),$("#rightsDataTable1").DataTable({scrollY:200,paging:!1,searching:!1,ordering:!1})):(this.allAssignedRights=[],this.cdr.detectChanges(),$("#rightsDataTable1").DataTable({scrollY:200,paging:!1,searching:!1,ordering:!1}))}),$("#rightsDataTable1").dataTable().fnDestroy()}checkedChange(t,o,s){null==this.rightForm.value.RoleId||"null"==this.rightForm.value.RoleId?($("#rightCheck").prop("checked",!1),this.popUpSer.confirmCommon("","Please fill the required fields").then(r=>{}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)"))):(this.spinner.show(),0==s&&this.rightSer.deleteRight(t,o).subscribe(r=>{r?(this.RoleChange(this.rightForm.value.RoleId,null),this.getAllRightbyRoleId(this.rightForm.value.RoleId),this.UnAssigned=!0,setTimeout(()=>this.UnAssigned=!1,3e3)):(this.spinner.hide(),this.isVisibleFailure=!0,setTimeout(()=>this.isVisibleFailure=!1,5e3))}))}getAllRightbyRoleId(t){this.rightSer.getAllRightsbyRoleId(t).subscribe(o=>{o.length>0?(this.spinner.hide(),this.allRights=o,this.cdr.detectChanges(),$("#addrightsDataTable1").DataTable({scrollY:200,paging:!1,searching:!1,ordering:!1})):(this.spinner.hide(),this.allRights=[],this.cdr.detectChanges(),$("#addrightsDataTable1").DataTable({scrollY:200,paging:!1,searching:!1,ordering:!1}))}),$("#addrightsDataTable1").dataTable().fnDestroy()}getAllAssignRoles(){this.tData=!0,setTimeout(()=>{this.rightSer.getAllAssignRights().subscribe(t=>{t.length>0?(this.roles=t,this.detectChanges.detectChanges(),$("#assignRightsdataTable").DataTable({paging:!0,searching:!0,ordering:!0})):(this.roles=[],this.detectChanges.detectChanges(),$("#assignRightsdataTable").DataTable({paging:!0,searching:!0,ordering:!0}))})},500),$("#assignRightsdataTable").dataTable().fnDestroy()}nextButtonClickEvent(){}edit(t){this.myRouter.navigate(["pages/edit-assign-right",t])}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(h),e.Y36(ve),e.Y36(X),e.Y36(p.F0),e.Y36(e.sBO),e.Y36(b),e.Y36(e.sBO),e.Y36(v.t2))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-assign-rights"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"content-wrapper"],["class","alertnotify","style","background: #cb3837",4,"ngIf"],["class","alertnotify","style","background: #54a254",4,"ngIf"],["bdColor","rgba(51,51,51,0.6)","size","medium","color","#fff","type","timer"],[2,"font-size","20px","color","white","margin-top","30px"],["activeIds","toggle-11",3,"closeOthers"],["id","toggle-11"],["ngbPanelTitle",""],["ngbPanelContent",""],["class","card main-card mb-3",4,"ngIf"],[1,"alertnotify",2,"background","#cb3837"],[1,"alertnotify",2,"background","#54a254"],[1,"card-header--title"],[1,"pull-right"],[1,"fa","fa-angle-down","fa-lg"],[3,"formGroup"],[1,"row"],[1,"col"],["name","roleId","formControlName","RoleId","id","RoleId",1,"form-control","form-control-sm",3,"ngClass","change"],["value","null"],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],[1,"col","text-right"],[1,"btn","upload-btn","btn-sm",3,"click"],[1,"btn","reset-btn","btn-sm",3,"click"],[1,"col-md-6"],[1,"table-responsive"],["id","addrightsDataTable1",1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],["id","rightsDataTable1",1,"table","table-striped"],[3,"value"],[1,"invalid-feedback"],["type","checkbox","id","rightCheck",3,"change"],["type","checkbox","id","rightCheck",3,"checked","change"],[1,"card","main-card","mb-3"],[1,"card-header"],["id","assignRightsdataTable",1,"table","table-striped"],["scope","row"],[1,"btn","edit-btn","btn-sm",3,"click"],[1,"fa","fa-pencil","fa-fw"]],template:function(t,o){1&t&&e.YNc(0,J1,16,7,"div",0),2&t&&e.Q6J("ngIf",o.IsSHowPage)},directives:[g.O5,v.Ro,u.gY,u.Gk,u.Cu,u.gW,a._Y,a.JL,a.sg,a.EJ,a.JJ,a.u,g.mk,a.YN,a.Kr,g.sg],styles:[""]}),i})();function R1(i,n){1&i&&(e.TgZ(0,"div",10),e._uU(1," Something Wrong!. "),e.qZA())}function P1(i,n){1&i&&(e.TgZ(0,"div",11),e._uU(1," Right is Assigned Successfully!. "),e.qZA())}function Y1(i,n){1&i&&(e.TgZ(0,"div",11),e._uU(1," Right is UnAssigned Successfully!. "),e.qZA())}function Q1(i,n){if(1&i&&(e.TgZ(0,"div",10),e._uU(1," You have Assigned "),e.TgZ(2,"b"),e._uU(3),e.qZA(),e._uU(4," Rights to User!. "),e.qZA()),2&i){const t=e.oxw(2);e.xp6(3),e.Oqu(t.allAsssignedRights)}}function O1(i,n){if(1&i&&(e.TgZ(0,"div",11),e._uU(1," Total "),e.TgZ(2,"b"),e._uU(3),e.qZA(),e._uU(4," Rights are Assigned Successfully!. "),e.qZA()),2&i){const t=e.oxw(2);e.xp6(3),e.Oqu(t.allAsssignedRights)}}function M1(i,n){1&i&&(e.TgZ(0,"span",12),e._uU(1,"Edit Assign Rights to User"),e.qZA(),e.TgZ(2,"div",13),e._UZ(3,"i",14),e.qZA())}function V1(i,n){if(1&i&&(e.TgZ(0,"option",30),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.RoleId),e.xp6(1),e.Oqu(t.RoleName)}}function B1(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Role is required"),e.qZA())}function H1(i,n){if(1&i&&(e.TgZ(0,"div",31),e.YNc(1,B1,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.RoleId.errors.required)}}function $1(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e.TgZ(2,"input",32),e.NdJ("change",function(s){const l=e.CHM(t).$implicit;return e.oxw(3).checkedChange(l.ID,l.RightId,s.target.checked)}),e.qZA(),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.qZA()}if(2&i){const t=n.$implicit;e.xp6(2),e.Q6J("checked",!0),e.xp6(2),e.hij(" ",t.RightName,"")}}function L1(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e.TgZ(2,"input",32),e.NdJ("change",function(s){const l=e.CHM(t).$implicit;return e.oxw(3).checkChange(l.RightId,s.target.checked)}),e.qZA(),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.qZA()}if(2&i){const t=n.$implicit;e.xp6(2),e.Q6J("checked",!1),e.xp6(2),e.hij(" ",t.RightName,"")}}const G1=function(i){return{"is-invalid":i}};function j1(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"form",15),e.TgZ(1,"div",16),e.TgZ(2,"div",17),e.TgZ(3,"label"),e._uU(4,"Role Name"),e.qZA(),e.TgZ(5,"select",18),e.TgZ(6,"option",19),e._uU(7,"Please Select"),e.qZA(),e.YNc(8,V1,2,2,"option",20),e.qZA(),e.YNc(9,H1,2,1,"div",21),e.qZA(),e._UZ(10,"div",17),e.qZA(),e._UZ(11,"br"),e.TgZ(12,"div",16),e.TgZ(13,"div",22),e.TgZ(14,"button",23),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).update()}),e._uU(15,"Update"),e.qZA(),e._uU(16,"\xa0 "),e.TgZ(17,"button",24),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).addCancel()}),e._uU(18,"Cancel"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(19,"hr"),e.TgZ(20,"div",16),e.TgZ(21,"div",25),e.TgZ(22,"h5"),e._uU(23,"Already Assigned rights to user"),e.qZA(),e.TgZ(24,"table",26),e.TgZ(25,"thead"),e.TgZ(26,"tr"),e._UZ(27,"th",27),e.TgZ(28,"th",27),e._uU(29,"Menu's"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(30,"tbody"),e.YNc(31,$1,5,2,"tr",28),e.qZA(),e.qZA(),e.qZA(),e.TgZ(32,"div",25),e.TgZ(33,"h5"),e._uU(34,"Assign New rights to user"),e.qZA(),e.TgZ(35,"table",29),e.TgZ(36,"thead"),e.TgZ(37,"tr"),e._UZ(38,"th",27),e.TgZ(39,"th",27),e._uU(40,"Menu's"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(41,"tbody"),e.YNc(42,L1,5,2,"tr",28),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("formGroup",t.rightForm),e.xp6(5),e.Q6J("ngClass",e.VKq(6,G1,t.submitted&&t.f.RoleId.errors)),e.xp6(3),e.Q6J("ngForOf",t.allroles),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.RoleId.errors),e.xp6(22),e.Q6J("ngForOf",t.allAssignRights),e.xp6(11),e.Q6J("ngForOf",t.allRights)}}function z1(i,n){if(1&i&&(e.TgZ(0,"div"),e.TgZ(1,"div",1),e.YNc(2,R1,2,0,"div",2),e.YNc(3,P1,2,0,"div",3),e.YNc(4,Y1,2,0,"div",3),e.YNc(5,Q1,5,1,"div",2),e.YNc(6,O1,5,1,"div",3),e.qZA(),e.TgZ(7,"ngx-spinner",4),e.TgZ(8,"p",5),e._uU(9,"Please wait..."),e.qZA(),e.qZA(),e.TgZ(10,"ngb-accordion",6),e.TgZ(11,"ngb-panel",7),e.YNc(12,M1,4,0,"ng-template",8),e.YNc(13,j1,43,8,"ng-template",9),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.isVisibleFailure),e.xp6(1),e.Q6J("ngIf",t.isVisibleSuccess),e.xp6(1),e.Q6J("ngIf",t.UnAssigned),e.xp6(1),e.Q6J("ngIf",t.NotAssigned),e.xp6(1),e.Q6J("ngIf",t.isAssigned),e.xp6(4),e.Q6J("closeOthers",!0)}}let W1=(()=>{class i{constructor(t,o,s,r,l,d,m,_,Z,A){this.myFormBuilder=t,this.userService=o,this.rightSer=s,this.roleSer=r,this.myRouter=l,this.route=d,this.detectChanges=m,this.popUpSer=_,this.location=Z,this.spinner=A,this.isVisibleSuccess=!1,this.isVisibleFailure=!1,this.submitted=!1,this.tData=!1,this.NotAssigned=!1,this.isAssigned=!1,this.IsSHowPage=!1,this.UnAssigned=!1}get f(){return this.rightForm.controls}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():setTimeout(()=>{this.userService.checkUserHasAccess("/pages/edit-assign-right").subscribe(t=>{t.length>0?(this.IsSHowPage=!0,this.formControls(),this.getAllRoles(),this.getAllRights(),this.getAllUsers(),this.formBindingonEdit(this.route.snapshot.paramMap.get("roleid"))):(this.IsSHowPage=!1,this.popUpSer.confirmCommon("","Sorry You don't have access of this page").then(o=>{}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)")))})},500)}formControls(){this.rightForm=this.myFormBuilder.group({RoleId:[null,a.kI.required]})}update(){null==this.rightForm.value.RoleId||"null"==this.rightForm.value.RoleId?this.popUpSer.confirmCommon("","Please fill the required fields").then(t=>{}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)")):this.rightSer.getRightsbyRoleIdById(this.rightForm.value.RoleId).subscribe(t=>{t.length>0||0==t.length?(this.allAsssignedRights=t.length,this.NotAssigned=!0,setTimeout(()=>this.NotAssigned=!1,3e3),setTimeout(()=>this.myRouter.navigate(["/pages/assign-rights"]),3e3)):(this.isAssigned=!0,setTimeout(()=>this.isAssigned=!1,3e3),setTimeout(()=>this.myRouter.navigate(["/pages/assign-rights"]),3e3))})}getAllUsers(){this.userService.getAllActiveUser().subscribe(t=>{t.length>0&&(this.allusers=t)})}getAllRoles(){this.roleSer.getAllroles().subscribe(t=>{t.length>0&&(this.allroles=t)})}getAllRights(){this.tData=!0,setTimeout(()=>{this.rightSer.getAllRightsbyRoleId(this.route.snapshot.paramMap.get("roleid")).subscribe(t=>{t.length>0?(this.spinner.hide(),this.allRights=t,this.detectChanges.detectChanges(),$("#rightsDataTable").DataTable({scrollY:200,paging:!1,searching:!1,ordering:!1})):(this.allRights=[],this.detectChanges.detectChanges(),$("#rightsDataTable").DataTable({scrollY:200,paging:!1,searching:!1,ordering:!1}))})},500),$("#rightsDataTable").dataTable().fnDestroy()}checkChange(t,o){null==this.rightForm.value.RoleId||"null"==this.rightForm.value.RoleId?($("#rightCheck").prop("checked",!1),this.popUpSer.confirmCommon("","Please fill the required fields").then(s=>{}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)"))):(this.spinner.show(),0==o?(this.spinner.hide(),this.isVisibleSuccess=!0,setTimeout(()=>this.isVisibleSuccess=!1,3e3)):this.rightSer.addRights({RightId:t,RoleId:this.rightForm.value.RoleId,IsArchive:"0"}).subscribe(r=>{r?(this.formBindingonEdit(this.rightForm.value.RoleId),this.getAllRights(),this.spinner.hide(),this.isVisibleSuccess=!0,setTimeout(()=>this.isVisibleSuccess=!1,3e3)):(this.spinner.hide(),this.isVisibleFailure=!0,setTimeout(()=>this.isVisibleFailure=!1,5e3))}))}checkedChange(t,o,s){null==this.rightForm.value.RoleId||"null"==this.rightForm.value.RoleId?($("#rightCheck").prop("checked",!1),this.popUpSer.confirmCommon("","Please fill the required fields").then(r=>{}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)"))):0==s&&(this.spinner.show(),this.rightSer.deleteRight(t,o).subscribe(r=>{r?(this.formBindingonEdit(this.rightForm.value.RoleId),this.getAllRights(),this.UnAssigned=!0,setTimeout(()=>this.UnAssigned=!1,3e3)):(this.spinner.hide(),this.isVisibleFailure=!0,setTimeout(()=>this.isVisibleFailure=!1,5e3))}))}formBindingonEdit(t){setTimeout(()=>{this.rightSer.getRightsbyRoleIdById(t).subscribe(o=>{o.length>0?(this.rightForm.controls.RoleId.setValue(this.route.snapshot.paramMap.get("roleid")),this.allAssignRights=o,this.detectChanges.detectChanges(),$("#AssignedrightsDataTable").DataTable({scrollY:200,paging:!1,searching:!1,ordering:!1})):(this.allAssignRights=[],this.detectChanges.detectChanges(),$("#AssignedrightsDataTable").DataTable({scrollY:200,paging:!1,searching:!1,ordering:!1}))})},500),$("#AssignedrightsDataTable").dataTable().fnDestroy()}addCancel(){this.location.back()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(h),e.Y36(ve),e.Y36(X),e.Y36(p.F0),e.Y36(p.gz),e.Y36(e.sBO),e.Y36(b),e.Y36(g.Ye),e.Y36(v.t2))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit-assign-rights"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"content-wrapper"],["class","alertnotify","style","background: #cb3837;",4,"ngIf"],["class","alertnotify","style","background: #54a254;",4,"ngIf"],["bdColor","rgba(51,51,51,0.6)","size","medium","color","#fff","type","timer"],[2,"font-size","20px","color","white","margin-top","30px"],["activeIds","toggle-11",3,"closeOthers"],["id","toggle-11"],["ngbPanelTitle",""],["ngbPanelContent",""],[1,"alertnotify",2,"background","#cb3837"],[1,"alertnotify",2,"background","#54a254"],[1,"card-header--title"],[1,"pull-right"],[1,"fa","fa-angle-down","fa-lg"],[3,"formGroup"],[1,"row"],[1,"col"],["name","roleId","formControlName","RoleId","id","RoleId","disabled","",1,"form-control","form-control-sm",3,"ngClass"],["value","null"],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],[1,"col","text-right"],[1,"btn","upload-btn","btn-sm",3,"click"],[1,"btn","reset-btn","btn-sm",3,"click"],[1,"col-md-6"],["id","AssignedrightsDataTable",1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],["id","rightsDataTable",1,"table","table-striped"],[3,"value"],[1,"invalid-feedback"],["type","checkbox","id","rightCheck",3,"checked","change"]],template:function(t,o){1&t&&e.YNc(0,z1,14,6,"div",0),2&t&&e.Q6J("ngIf",o.IsSHowPage)},directives:[g.O5,v.Ro,u.gY,u.Gk,u.Cu,u.gW,a._Y,a.JL,a.sg,a.EJ,a.JJ,a.u,g.mk,a.YN,a.Kr,g.sg],styles:[""]}),i})();function K1(i,n){1&i&&(e.TgZ(0,"div",9),e._uU(1," Something went wrong!. "),e.qZA())}function X1(i,n){1&i&&(e.TgZ(0,"div",10),e._uU(1," Role is Unassigned Successfully!. "),e.qZA())}function ef(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"th",11),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e.TgZ(8,"button",12),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().edit(r.RoleId)}),e._UZ(9,"i",13),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=n.$implicit,o=n.index;e.xp6(2),e.Oqu(o+1),e.xp6(2),e.Oqu(t.RoleName),e.xp6(2),e.Oqu(t.total_rights)}}let tf=(()=>{class i{constructor(t,o,s,r,l){this.userService=t,this.rightSer=o,this.myRouter=s,this.detectChanges=r,this.popUpSer=l,this.tData=!1,this.isVisibleSuccess=!1,this.isVisibleFailure=!1,this.IsShow=!1,this.IsSHowPage=!1,"/pages/rights"==this.myRouter.url&&(this.IsShow=!0)}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():this.getAllAssignRoles()}getAllAssignRoles(){this.tData=!0,setTimeout(()=>{this.rightSer.getAllAssignRights().subscribe(t=>{t.length>0?(this.roles=t,this.detectChanges.detectChanges(),$("#assignRightsdataTable").DataTable({paging:!0,searching:!0,ordering:!0})):(this.roles=[],this.detectChanges.detectChanges(),$("#assignRightsdataTable").DataTable({paging:!0,searching:!0,ordering:!0}))})},500),$("#assignRightsdataTable").dataTable().fnDestroy()}nextButtonClickEvent(){}edit(t){this.myRouter.navigate(["pages/edit-assign-right",t])}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(h),e.Y36(ve),e.Y36(p.F0),e.Y36(e.sBO),e.Y36(b))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-rights"]],decls:22,vars:3,consts:[[1,"content-wrapper"],["class","alertnotify","style","background: #cb3837;",4,"ngIf"],["class","alertnotify","style","background: #54a254;",4,"ngIf"],[1,"card","main-card","mb-3"],[1,"card-header"],[1,"table-responsive"],["id","assignRightsdataTable",1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[1,"alertnotify",2,"background","#cb3837"],[1,"alertnotify",2,"background","#54a254"],["scope","row"],[1,"btn","edit-btn","btn-sm",3,"click"],[1,"fa","fa-pencil","fa-fw"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,K1,2,0,"div",1),e.YNc(2,X1,2,0,"div",2),e.qZA(),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"b"),e._uU(6,"List of All Assigned Rights"),e.qZA(),e.qZA(),e.TgZ(7,"div",5),e._UZ(8,"br"),e.TgZ(9,"table",6),e.TgZ(10,"thead"),e.TgZ(11,"tr"),e.TgZ(12,"th",7),e._uU(13,"#"),e.qZA(),e.TgZ(14,"th",7),e._uU(15,"Role Name"),e.qZA(),e.TgZ(16,"th",7),e._uU(17,"Total Rights Assigned"),e.qZA(),e.TgZ(18,"th",7),e._uU(19,"Action"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(20,"tbody"),e.YNc(21,ef,10,3,"tr",8),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",o.isVisibleFailure),e.xp6(1),e.Q6J("ngIf",o.isVisibleSuccess),e.xp6(19),e.Q6J("ngForOf",o.roles))},styles:[""]}),i})();function of(i,n){1&i&&(e.TgZ(0,"div",9),e._uU(1," Something went wrong!. "),e.qZA())}function nf(i,n){1&i&&(e.TgZ(0,"div",9),e._uU(1," Role is already Registered!. "),e.qZA())}function sf(i,n){1&i&&(e.TgZ(0,"div",10),e._uU(1," Role is Added Successfully!. "),e.qZA())}function rf(i,n){1&i&&(e.TgZ(0,"div",10),e._uU(1," Role is Deleted Successfully!. "),e.qZA())}function af(i,n){1&i&&(e.TgZ(0,"span",11),e._uU(1,"Add Role"),e.qZA(),e.TgZ(2,"div",12),e._UZ(3,"i",13),e.qZA())}function lf(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Role Name is required"),e.qZA())}function df(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Role Name cannot contain whitespace "),e.qZA())}function cf(i,n){if(1&i&&(e.TgZ(0,"div",22),e.YNc(1,lf,2,0,"div",0),e.YNc(2,df,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.Name.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.Name.hasError("whitespace"))}}const uf=function(i){return{"is-invalid":i}};function gf(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"form",14),e.TgZ(1,"div",15),e.TgZ(2,"div",16),e.TgZ(3,"label"),e._uU(4,"Role Name"),e.qZA(),e._UZ(5,"input",17),e.YNc(6,cf,3,2,"div",18),e.qZA(),e.qZA(),e._UZ(7,"br"),e.TgZ(8,"div",15),e.TgZ(9,"div",19),e.TgZ(10,"button",20),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).addRole()}),e._uU(11," Submit"),e.qZA(),e._uU(12,"\xa0 "),e.TgZ(13,"button",21),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).addCancel()}),e._uU(14," Reset "),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("formGroup",t.roleForm),e.xp6(5),e.Q6J("ngClass",e.VKq(3,uf,t.submitted&&t.f.Name.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.Name.errors)}}function mf(i,n){1&i&&(e.TgZ(0,"div",33),e._uU(1," True "),e.qZA())}function pf(i,n){1&i&&(e.TgZ(0,"div",34),e._uU(1," False "),e.qZA())}function _f(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",35),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;return e.oxw(3).editRole(s.RoleId)}),e._UZ(1,"i",36),e.qZA()}}function hf(i,n){if(1&i&&(e.TgZ(0,"tr"),e.TgZ(1,"th",29),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e.YNc(6,mf,2,0,"div",30),e.YNc(7,pf,2,0,"div",31),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td"),e.YNc(11,_f,2,0,"button",32),e._uU(12," \xa0 "),e.qZA(),e.qZA()),2&i){const t=n.$implicit,o=n.index,s=e.oxw(3);e.xp6(2),e.Oqu(o+1),e.xp6(2),e.Oqu(t.RoleName),e.xp6(2),e.Q6J("ngIf",t.RoleStatus),e.xp6(1),e.Q6J("ngIf",!t.RoleStatus),e.xp6(2),e.Oqu(t.Modified_Date),e.xp6(2),e.Q6J("ngIf",s.editrole)}}function ff(i,n){if(1&i&&(e.TgZ(0,"div",23),e.TgZ(1,"div",24),e.TgZ(2,"b"),e._uU(3,"List of All Roles"),e.qZA(),e.qZA(),e.TgZ(4,"div",25),e._UZ(5,"br"),e.TgZ(6,"table",26),e.TgZ(7,"thead"),e.TgZ(8,"tr"),e.TgZ(9,"th",27),e._uU(10,"#"),e.qZA(),e.TgZ(11,"th",27),e._uU(12,"Role Name"),e.qZA(),e.TgZ(13,"th",27),e._uU(14,"Role Status"),e.qZA(),e.TgZ(15,"th",27),e._uU(16,"Modified Date"),e.qZA(),e.TgZ(17,"th",27),e._uU(18,"Action"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"tbody"),e.YNc(20,hf,13,6,"tr",28),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(20),e.Q6J("ngForOf",t.roles)}}function Zf(i,n){if(1&i&&(e.TgZ(0,"div"),e.TgZ(1,"div",1),e.YNc(2,of,2,0,"div",2),e.YNc(3,nf,2,0,"div",2),e.YNc(4,sf,2,0,"div",3),e.YNc(5,rf,2,0,"div",3),e.qZA(),e.TgZ(6,"ngb-accordion",4),e.TgZ(7,"ngb-panel",5),e.YNc(8,af,4,0,"ng-template",6),e.YNc(9,gf,15,5,"ng-template",7),e.qZA(),e.qZA(),e._UZ(10,"br"),e.YNc(11,ff,21,1,"div",8),e.qZA()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.isVisibleFailure),e.xp6(1),e.Q6J("ngIf",t.RoleVisibleFailure),e.xp6(1),e.Q6J("ngIf",t.isVisibleSuccess),e.xp6(1),e.Q6J("ngIf",t.isDeleteSuccess),e.xp6(1),e.Q6J("closeOthers",!0),e.xp6(5),e.Q6J("ngIf",t.roletable)}}let bf=(()=>{class i{constructor(t,o,s,r,l,d,m){this.myFormBuilder=t,this.roleServ=o,this.myRouter=s,this.roleSer=r,this.userService=l,this.popUpSer=d,this.detectChanges=m,this.isVisibleSuccess=!1,this.isVisibleFailure=!1,this.RoleVisibleFailure=!1,this.isDeleteSuccess=!1,this.submitted=!1,this.tData=!1,this.IsSHowPage=!1,this.editrole=!1,this.roletable=!1}get f(){return this.roleForm.controls}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():(this.userService.checkUserHasAccess("/pages/add-role").subscribe(t=>{t.length>0?(this.IsSHowPage=!0,this.formControls()):(this.IsSHowPage=!1,this.popUpSer.confirmCommon("","Sorry You don't have access of this page").then(o=>{}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)")))}),setTimeout(()=>{this.userService.checkUserHasAccess("/pages/list-assigned-roles").subscribe(t=>{t.length>0?(this.roletable=!0,this.getAllRoles(),this.userService.checkUserHasAccess("/pages/edit-role").subscribe(o=>{this.editrole=o.length>0})):this.roletable=!1})},500))}formControls(){this.roleForm=this.myFormBuilder.group({Name:["",[a.kI.required,a.kI.pattern("^[a-zA-Z0-9_][a-zA-Z-0-9_ ]*$")]]})}addRole(){this.submitted=!0,!this.roleForm.invalid&&this.roleServ.addroles(this.roleForm.value).subscribe(t=>{"Duplicate"==t?(this.RoleVisibleFailure=!0,setTimeout(()=>this.RoleVisibleFailure=!1,5e3)):t?(this.isVisibleSuccess=!0,setTimeout(()=>this.isVisibleSuccess=!1,3e3),this.roleForm.reset(),this.submitted=!1,this.getAllRoles()):(this.isVisibleFailure=!0,setTimeout(()=>this.isVisibleFailure=!1,5e3))})}addCancel(){this.roleForm.reset(),this.submitted=!1}getAllRoles(){this.tData=!0,setTimeout(()=>{this.roleSer.getAllroles().subscribe(t=>{t.length>0?(this.roles=t,this.detectChanges.detectChanges(),$("#rolesdataTable").DataTable({paging:!0,searching:!0,ordering:!0})):(this.roles=[],this.detectChanges.detectChanges(),$("#rolesdataTable").DataTable({paging:!0,searching:!0,ordering:!0}))})},500),$("#rolesdataTable").dataTable().fnDestroy()}nextButtonClickEvent(){}editRole(t){this.myRouter.navigate(["/pages/edit-role/"+t])}openConfirmationDialog(t){setTimeout(()=>{this.userService.checkUserHasAccess("/pages/unAssignRoles").subscribe(o=>{o.length>0?this.popUpSer.confirm("Please Confirm..","Do you really want to Delete?").then(s=>{s&&this.roleSer.deleteroles(t).subscribe(r=>{r?(this.tData=!1,this.getAllRoles(),this.isDeleteSuccess=!0,setTimeout(()=>this.isDeleteSuccess=!1,3e3)):(this.isVisibleFailure=!0,setTimeout(()=>this.isVisibleFailure=!1,5e3))})}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)")):this.popUpSer.confirmCommon("","Sorry You don't have access of this page").then(s=>{}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)"))})},1e3)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(X),e.Y36(p.F0),e.Y36(X),e.Y36(h),e.Y36(b),e.Y36(e.sBO))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-role"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"content-wrapper"],["class","alertnotify","style","background: #cb3837",4,"ngIf"],["class","alertnotify","style","background: #54a254",4,"ngIf"],["activeIds","toggle-11",3,"closeOthers"],["id","toggle-11"],["ngbPanelTitle",""],["ngbPanelContent",""],["class","card main-card mb-3",4,"ngIf"],[1,"alertnotify",2,"background","#cb3837"],[1,"alertnotify",2,"background","#54a254"],[1,"card-header--title"],[1,"pull-right"],[1,"fa","fa-angle-down","fa-lg"],[3,"formGroup"],[1,"row"],[1,"col"],["type","text","name","name","placeholder","Role Name","formControlName","Name","id","Name","appAlphabetOnly","",1,"form-control","form-control-sm",2,"width","50%",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"col","text-right"],[1,"btn","upload-btn","btn-sm",3,"click"],[1,"btn","reset-btn","btn-sm",3,"click"],[1,"invalid-feedback"],[1,"card","main-card","mb-3"],[1,"card-header"],[1,"table-responsive"],["id","rolesdataTable",1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],["class","badge badge-success","style","width: fit-content",4,"ngIf"],["class","badge badge-danger","style","width: fit-content",4,"ngIf"],["class","btn edit-btn btn-sm",3,"click",4,"ngIf"],[1,"badge","badge-success",2,"width","fit-content"],[1,"badge","badge-danger",2,"width","fit-content"],[1,"btn","edit-btn","btn-sm",3,"click"],[1,"fa","fa-pencil","fa-fw"]],template:function(t,o){1&t&&e.YNc(0,Zf,12,6,"div",0),2&t&&e.Q6J("ngIf",o.IsSHowPage)},directives:[g.O5,u.gY,u.Gk,u.Cu,u.gW,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,x,g.mk,g.sg],styles:[""]}),i})();function vf(i,n){1&i&&(e.TgZ(0,"div",9),e._uU(1," Something went wrong. "),e.qZA())}function Tf(i,n){1&i&&(e.TgZ(0,"div",9),e._uU(1," Role is Successfully DeAssigned!. "),e.qZA())}function Af(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;return e.oxw(2).DeAssignRole(s.RoleId,s.Userid)}),e._uU(1," Unassigned "),e.qZA()}}function Cf(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",14),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;return e.oxw(2).editRole(s.RoleId,s.Userid)}),e._UZ(1,"i",15),e.qZA()}}function qf(i,n){if(1&i&&(e.TgZ(0,"tr"),e.TgZ(1,"th",10),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e.YNc(8,Af,2,0,"button",11),e._uU(9," \xa0 "),e.YNc(10,Cf,2,0,"button",12),e.qZA(),e.qZA()),2&i){const t=n.$implicit,o=n.index,s=e.oxw(2);e.xp6(2),e.Oqu(o+1),e.xp6(2),e.Oqu(t.UserName),e.xp6(2),e.Oqu(t.RoleName),e.xp6(2),e.Q6J("ngIf",t.Userid!=s.userid),e.xp6(2),e.Q6J("ngIf",t.Userid!=s.userid)}}function xf(i,n){if(1&i&&(e.TgZ(0,"div"),e.TgZ(1,"div",1),e.YNc(2,vf,2,0,"div",2),e.YNc(3,Tf,2,0,"div",2),e.qZA(),e.TgZ(4,"div",3),e.TgZ(5,"div",4),e.TgZ(6,"b"),e._uU(7,"List of All Assigned Roles"),e.qZA(),e.qZA(),e.TgZ(8,"div",5),e._UZ(9,"br"),e.TgZ(10,"table",6),e.TgZ(11,"thead"),e.TgZ(12,"tr"),e.TgZ(13,"th",7),e._uU(14,"#"),e.qZA(),e.TgZ(15,"th",7),e._uU(16,"User Name"),e.qZA(),e.TgZ(17,"th",7),e._uU(18,"Role Name"),e.qZA(),e.TgZ(19,"th",7),e._uU(20,"Action"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(21,"tbody"),e.YNc(22,qf,11,5,"tr",8),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.isVisibleFailure),e.xp6(1),e.Q6J("ngIf",t.isVisibleSuccess),e.xp6(19),e.Q6J("ngForOf",t.roles)}}let St=(()=>{class i{constructor(t,o,s,r,l){this.userService=t,this.roleSer=o,this.myRouter=s,this.detectChanges=r,this.popUpSer=l,this.tData=!1,this.isVisibleSuccess=!1,this.isVisibleFailure=!1,this.IsShow=!1,this.IsSHowPage=!1,"/pages/list-assigned-roles"==this.myRouter.url&&(this.IsShow=!0)}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():(this.userid=localStorage.getItem("CurrentUserId"),setTimeout(()=>{this.userService.checkUserHasAccess("/pages/list-assigned-roles").subscribe(t=>{t.length>0?(this.IsSHowPage=!0,this.getAllAssignRoles()):(this.IsSHowPage=!1,this.popUpSer.confirmCommon("","Sorry You don't have access of this page").then(o=>{}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)")))})},500))}getAllAssignRoles(){this.tData=!0,setTimeout(()=>{this.roleSer.getAllAssignRoles().subscribe(t=>{t.length>0?(this.roles=t,this.detectChanges.detectChanges(),$("#assignroledataTable").DataTable({paging:!0,searching:!0,ordering:!0})):(this.roles=[],this.detectChanges.detectChanges(),$("#assignroledataTable").DataTable({paging:!0,searching:!0,ordering:!0}))})},500),$("#assignroledataTable").dataTable().fnDestroy()}nextButtonClickEvent(){}DeAssignRole(t,o){this.userService.checkUserHasAccess("/pages/unAssignRoles").subscribe(s=>{s.length>0?this.roleSer.deAssignedRole(t,o).subscribe(r=>{r?(this.tData=!1,this.getAllAssignRoles(),this.isVisibleSuccess=!0,setTimeout(()=>this.isVisibleSuccess=!1,3e3)):(this.isVisibleFailure=!0,setTimeout(()=>this.isVisibleFailure=!1,5e3))}):this.popUpSer.confirmCommon("","Sorry You don't have access of this page").then(r=>{}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)"))})}editRole(t,o){this.myRouter.navigate(["/pages/edit-assign-role",t,o])}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(h),e.Y36(X),e.Y36(p.F0),e.Y36(e.sBO),e.Y36(b))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-list-assigned-roles"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"content-wrapper"],["class","alertnotify","style","background: #cb3837",4,"ngIf"],[1,"card","main-card","mb-3"],[1,"card-header"],[1,"table-responsive"],["id","assignroledataTable",1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[1,"alertnotify",2,"background","#cb3837"],["scope","row"],["class","btn delet-btn btn-sm",3,"click",4,"ngIf"],["class","btn edit-btn btn-sm",3,"click",4,"ngIf"],[1,"btn","delet-btn","btn-sm",3,"click"],[1,"btn","edit-btn","btn-sm",3,"click"],[1,"fa","fa-pencil","fa-fw"]],template:function(t,o){1&t&&e.YNc(0,xf,23,3,"div",0),2&t&&e.Q6J("ngIf",o.IsSHowPage)},directives:[g.O5,g.sg],styles:[""]}),i})();function If(i,n){1&i&&(e.TgZ(0,"div",8),e._uU(1," Something went wrong. "),e.qZA())}function yf(i,n){1&i&&(e.TgZ(0,"div",8),e._uU(1," Role is already Assigned!. "),e.qZA())}function kf(i,n){1&i&&(e.TgZ(0,"div",9),e._uU(1," Role is Successfully Assigned!. "),e.qZA())}function Uf(i,n){1&i&&(e.TgZ(0,"span",10),e._uU(1,"Assign Role to User"),e.qZA(),e.TgZ(2,"div",11),e._UZ(3,"i",12),e.qZA())}function Nf(i,n){if(1&i&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.RoleId),e.xp6(1),e.Oqu(t.RoleName)}}function wf(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Role is required"),e.qZA())}function Sf(i,n){if(1&i&&(e.TgZ(0,"div",25),e.YNc(1,wf,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.RoleId.errors.required)}}function Ff(i,n){if(1&i&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.Userid),e.xp6(1),e.AsE("",t.Firstname," ",t.Lastname," ")}}function Df(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"User is required"),e.qZA())}function Jf(i,n){if(1&i&&(e.TgZ(0,"div",25),e.YNc(1,Df,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.Userid.errors.required)}}const Ft=function(i){return{"is-invalid":i}};function Ef(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"form",13),e.TgZ(1,"div",14),e.TgZ(2,"div",15),e.TgZ(3,"label"),e._uU(4,"Role Name"),e.qZA(),e.TgZ(5,"select",16),e.NdJ("change",function(s){return e.CHM(t),e.oxw(2).showRights(s)}),e.TgZ(6,"option",17),e._uU(7,"Please Select"),e.qZA(),e.YNc(8,Nf,2,2,"option",18),e.qZA(),e.YNc(9,Sf,2,1,"div",19),e.qZA(),e.TgZ(10,"div",15),e.TgZ(11,"label"),e._uU(12,"User Name "),e.qZA(),e.TgZ(13,"select",20),e.TgZ(14,"option",17),e._uU(15,"Please Select"),e.qZA(),e.YNc(16,Ff,2,3,"option",18),e.qZA(),e.YNc(17,Jf,2,1,"div",19),e.qZA(),e.qZA(),e._UZ(18,"br"),e.TgZ(19,"div",14),e.TgZ(20,"div",21),e.TgZ(21,"button",22),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).submit()}),e._uU(22,"Submit"),e.qZA(),e._uU(23,"\xa0 "),e.TgZ(24,"button",23),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).addCancel()}),e._uU(25,"Reset"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(26,"br")}if(2&i){const t=e.oxw(2);e.Q6J("formGroup",t.roleForm),e.xp6(5),e.Q6J("ngClass",e.VKq(7,Ft,t.submitted&&t.f.RoleId.errors)),e.xp6(3),e.Q6J("ngForOf",t.allroles),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.RoleId.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(9,Ft,t.submitted&&t.f.Userid.errors)),e.xp6(3),e.Q6J("ngForOf",t.allusers),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.Userid.errors)}}function Rf(i,n){if(1&i&&(e.TgZ(0,"div"),e.TgZ(1,"div",1),e.YNc(2,If,2,0,"div",2),e.YNc(3,yf,2,0,"div",2),e.YNc(4,kf,2,0,"div",3),e.qZA(),e.TgZ(5,"ngb-accordion",4),e.TgZ(6,"ngb-panel",5),e.YNc(7,Uf,4,0,"ng-template",6),e.YNc(8,Ef,27,11,"ng-template",7),e.qZA(),e.qZA(),e._UZ(9,"br"),e.qZA()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.isVisibleFailure),e.xp6(1),e.Q6J("ngIf",t.assginRoleVisibleFailure),e.xp6(1),e.Q6J("ngIf",t.isVisibleSuccess),e.xp6(1),e.Q6J("closeOthers",!0)}}let Pf=(()=>{class i{constructor(t,o,s,r,l,d,m){this.myFormBuilder=t,this.userService=o,this.roleSer=s,this.myRouter=r,this.popUpSer=l,this.rightSer=d,this.detectChanges=m,this.isVisibleSuccess=!1,this.isVisibleFailure=!1,this.assginRoleVisibleFailure=!1,this.submitted=!1,this.IsSHowPage=!1,this.showTable=!1}get f(){return this.roleForm.controls}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():setTimeout(()=>{this.userService.checkUserHasAccess("/pages/assign-roles").subscribe(t=>{t.length>0?(this.IsSHowPage=!0,this.formControls(),this.getAllRoles(),this.getAllUsers()):(this.IsSHowPage=!1,this.popUpSer.confirmCommon("","Sorry You don't have access of this page").then(o=>{}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)")))})},500)}formControls(){this.roleForm=this.myFormBuilder.group({RoleId:[null,a.kI.required],Userid:[null,a.kI.required]})}submit(){this.submitted=!0,this.roleForm.invalid||("null"==this.roleForm.value.RoleId||"null"==this.roleForm.value.Userid?this.popUpSer.confirmCommon("","Please fill required fields").then(t=>{}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)")):this.roleSer.addAssignedRole({RoleId:this.roleForm.controls.RoleId.value,Userid:this.roleForm.controls.Userid.value}).subscribe(o=>{"Duplicate"==o?(this.assginRoleVisibleFailure=!0,setTimeout(()=>this.assginRoleVisibleFailure=!1,5e3)):o?this.roleSer.AssignRightsToUser({UserId:this.roleForm.value.Userid,roleId:this.roleForm.value.RoleId}).subscribe(r=>{r&&(this.isVisibleSuccess=!0,setTimeout(()=>this.isVisibleSuccess=!1,3e3),setTimeout(()=>this.myRouter.navigate(["/pages/list-assigned-roles"]),3e3))}):(this.isVisibleFailure=!0,setTimeout(()=>this.isVisibleFailure=!1,5e3))}))}getAllRoles(){this.roleSer.getAssignedRolesRights().subscribe(t=>{t.length>0&&(this.allroles=t)})}getAllUsers(){this.userService.getAllActiveUser().subscribe(t=>{t.length>0&&(this.allusers=t)})}addCancel(){this.roleForm.reset(),this.submitted=!1}showRights(t){this.showTable=!0,this.rightSer.getRightsbyRoleIdById(t.target.value).subscribe(o=>{o.length>0&&(this.allAssignRights=o,this.detectChanges.detectChanges(),$("#Assignedrights_DataTable").DataTable({scrollY:200,paging:!1,searching:!1,ordering:!1}))}),$("#Assignedrights_DataTable").dataTable().fnDestroy()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(h),e.Y36(X),e.Y36(p.F0),e.Y36(b),e.Y36(ve),e.Y36(e.sBO))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-assign-role"]],decls:2,vars:1,consts:[[4,"ngIf"],[1,"content-wrapper"],["class","alertnotify","style","background: #cb3837;",4,"ngIf"],["class","alertnotify","style","background: #54a254;",4,"ngIf"],["activeIds","toggle-11",3,"closeOthers"],["id","toggle-11"],["ngbPanelTitle",""],["ngbPanelContent",""],[1,"alertnotify",2,"background","#cb3837"],[1,"alertnotify",2,"background","#54a254"],[1,"card-header--title"],[1,"pull-right"],[1,"fa","fa-angle-down","fa-lg"],[3,"formGroup"],[1,"row"],[1,"col"],["formControlName","RoleId","id","RoleId",1,"form-control","form-control-sm",3,"ngClass","change"],["value","null"],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["formControlName","Userid","id","Userid",1,"form-control","form-control-sm",3,"ngClass"],[1,"col","text-right"],[1,"btn","upload-btn","btn-sm",3,"click"],[1,"btn","reset-btn","btn-sm",3,"click"],[3,"value"],[1,"invalid-feedback"]],template:function(t,o){1&t&&(e.YNc(0,Rf,10,4,"div",0),e._UZ(1,"app-list-assigned-roles")),2&t&&e.Q6J("ngIf",o.IsSHowPage)},directives:[g.O5,u.gY,u.Gk,u.Cu,u.gW,a._Y,a.JL,a.sg,a.EJ,a.JJ,a.u,g.mk,a.YN,a.Kr,g.sg,St],styles:[""]}),i})();function Yf(i,n){1&i&&(e.TgZ(0,"div",9),e._uU(1," Something went wrong. "),e.qZA())}function Qf(i,n){1&i&&(e.TgZ(0,"div",9),e._uU(1," Role is already Assigned!. "),e.qZA())}function Of(i,n){1&i&&(e.TgZ(0,"div",10),e._uU(1," Right is Successfully Assigned!. "),e.qZA())}function Mf(i,n){1&i&&(e.TgZ(0,"div",10),e._uU(1," Right is Successfully UnAssigned!. "),e.qZA())}function Vf(i,n){if(1&i&&(e.TgZ(0,"div",10),e._uU(1," Total "),e.TgZ(2,"b"),e._uU(3),e.qZA(),e._uU(4," Rights are Successfully Assigned!. "),e.qZA()),2&i){const t=e.oxw();e.xp6(3),e.Oqu(t.allAssignRights.length)}}function Bf(i,n){1&i&&(e.TgZ(0,"span",11),e._uU(1,"Edit Assign Role to User"),e.qZA(),e.TgZ(2,"div",12),e._UZ(3,"i",13),e.qZA())}function Hf(i,n){if(1&i&&(e.TgZ(0,"option",26),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.RoleId),e.xp6(1),e.Oqu(t.RoleName)}}function $f(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Role is required"),e.qZA())}function Lf(i,n){if(1&i&&(e.TgZ(0,"div",27),e.YNc(1,$f,2,0,"div",28),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.RoleId.errors.required)}}function Gf(i,n){if(1&i&&(e.TgZ(0,"option",26),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.Userid),e.xp6(1),e.AsE("",t.Firstname," ",t.Lastname," ")}}function jf(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"User is required"),e.qZA())}function zf(i,n){if(1&i&&(e.TgZ(0,"div",27),e.YNc(1,jf,2,0,"div",28),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.Userid.errors.required)}}function Wf(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e.TgZ(2,"input",34),e.NdJ("change",function(s){const l=e.CHM(t).$implicit;return e.oxw(3).checkedChange(l.Id,s.target.checked)}),e.qZA(),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.qZA()}if(2&i){const t=n.$implicit;e.xp6(2),e.Q6J("checked",!0),e.xp6(2),e.hij(" ",t.RightName,"")}}function Kf(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e.TgZ(2,"input",34),e.NdJ("change",function(s){const l=e.CHM(t).$implicit;return e.oxw(3).checkChange(l.RightId,s.target.checked)}),e.qZA(),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.qZA()}if(2&i){const t=n.$implicit;e.xp6(2),e.Q6J("checked",!1),e.xp6(2),e.hij(" ",t.RightName,"")}}function Xf(i,n){if(1&i&&(e.TgZ(0,"div",15),e.TgZ(1,"div",29),e.TgZ(2,"h5"),e._uU(3,"Already Assigned rights to user"),e.qZA(),e.TgZ(4,"table",30),e.TgZ(5,"thead"),e.TgZ(6,"tr"),e._UZ(7,"th",31),e.TgZ(8,"th",31),e._uU(9,"Menu's"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(10,"tbody"),e.YNc(11,Wf,5,2,"tr",32),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"div",29),e.TgZ(13,"h5"),e._uU(14,"Assign New rights to user"),e.qZA(),e.TgZ(15,"table",33),e.TgZ(16,"thead"),e.TgZ(17,"tr"),e._UZ(18,"th",31),e.TgZ(19,"th",31),e._uU(20,"Menu's"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(21,"tbody"),e.YNc(22,Kf,5,2,"tr",32),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(11),e.Q6J("ngForOf",t.allAssignRights),e.xp6(11),e.Q6J("ngForOf",t.allNotAssignedRights)}}const Dt=function(i){return{"is-invalid":i}};function eZ(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"form",14),e.TgZ(1,"div",15),e.TgZ(2,"div",16),e.TgZ(3,"label"),e._uU(4,"Role Name"),e.qZA(),e.TgZ(5,"select",17),e.TgZ(6,"option",18),e._uU(7,"Please Select"),e.qZA(),e.YNc(8,Hf,2,2,"option",19),e.qZA(),e.YNc(9,Lf,2,1,"div",20),e.qZA(),e.TgZ(10,"div",16),e.TgZ(11,"label"),e._uU(12,"User Name "),e.qZA(),e.TgZ(13,"select",21),e.TgZ(14,"option",18),e._uU(15,"Please Select"),e.qZA(),e.YNc(16,Gf,2,3,"option",19),e.qZA(),e.YNc(17,zf,2,1,"div",20),e.qZA(),e.qZA(),e._UZ(18,"br"),e.TgZ(19,"div",15),e.TgZ(20,"div",22),e.TgZ(21,"button",23),e.NdJ("click",function(){return e.CHM(t),e.oxw().update()}),e._uU(22,"Update"),e.qZA(),e._uU(23,"\xa0 "),e.TgZ(24,"button",24),e.NdJ("click",function(){return e.CHM(t),e.oxw().addCancel()}),e._uU(25,"Cancel"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(26,"br"),e.YNc(27,Xf,23,2,"div",25)}if(2&i){const t=e.oxw();e.Q6J("formGroup",t.roleForm),e.xp6(5),e.Q6J("ngClass",e.VKq(8,Dt,t.submitted&&t.f.RoleId.errors)),e.xp6(3),e.Q6J("ngForOf",t.allroles),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.RoleId.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(10,Dt,t.submitted&&t.f.Userid.errors)),e.xp6(3),e.Q6J("ngForOf",t.allusers),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.Userid.errors),e.xp6(10),e.Q6J("ngIf",t.showTable)}}let tZ=(()=>{class i{constructor(t,o,s,r,l,d,m,_,Z,A){this.myFormBuilder=t,this.userService=o,this.roleSer=s,this.myRouter=r,this.popUpSer=l,this.rightSer=d,this.detectChanges=m,this.route=_,this.location=Z,this.spinner=A,this.isVisibleSuccess=!1,this.isVisibleFailure=!1,this.assginRoleVisibleFailure=!1,this.submitted=!1,this.IsSHowPage=!1,this.showTable=!1,this.IsUnAssigned=!1,this.isAssigned=!1}get f(){return this.roleForm.controls}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():(this.formControls(),this.getAllRoles(),this.getAllUsers(),this.roleForm.controls.RoleId.setValue(this.route.snapshot.paramMap.get("roleId")),this.roleForm.controls.Userid.setValue(this.route.snapshot.paramMap.get("userId")),this.getRights(this.route.snapshot.paramMap.get("userId"),this.route.snapshot.paramMap.get("roleId")),this.getAllNotAssignedRights(this.roleForm.value.RoleId,this.roleForm.value.Userid))}formControls(){this.roleForm=this.myFormBuilder.group({RoleId:[null,a.kI.required],Userid:[null,a.kI.required]})}update(){this.submitted=!0,!this.roleForm.invalid&&("null"==this.roleForm.value.RoleId||"null"==this.roleForm.value.Userid?this.popUpSer.confirmCommon("","Please fill all fields").then(t=>{}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)")):(this.isAssigned=!0,setTimeout(()=>{this.isAssigned=!1},1e3),setTimeout(()=>this.myRouter.navigate(["/pages/list-assigned-roles"]),1e3)))}getAllRoles(){this.roleSer.getAssignedRolesRights().subscribe(t=>{t.length>0&&(this.allroles=t)})}getAllUsers(){this.userService.getAllActiveUser().subscribe(t=>{t.length>0&&(this.allusers=t)})}addCancel(){this.location.back()}getRights(t,o){this.showTable=!0,this.spinner.hide(),this.roleSer.getRights(t,o).subscribe(s=>{s.length>0?(this.allAssignRights=s,this.detectChanges.detectChanges(),$("#Assignedrights_DataTable").DataTable({scrollY:200,paging:!1,searching:!1,ordering:!1})):this.allAssignRights=[]}),$("#Assignedrights_DataTable").dataTable().fnDestroy()}checkedChange(t,o){null==this.roleForm.value.Userid||"null"==this.roleForm.value.Userid?($("#rightCheck").prop("checked",!0),this.popUpSer.confirmCommon("","Please fill all fields").then(s=>{}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)"))):0==o&&(this.spinner.show(),this.roleSer.deleteAsssignedRight(t).subscribe(s=>{s&&(this.IsUnAssigned=!0,setTimeout(()=>{this.IsUnAssigned=!1},5e3),this.detectChanges.detectChanges(),this.getRights(this.route.snapshot.paramMap.get("userId"),this.route.snapshot.paramMap.get("roleId")),this.getAllNotAssignedRights(this.roleForm.value.RoleId,this.roleForm.value.Userid))}))}getAllNotAssignedRights(t,o){this.spinner.hide(),this.roleSer.getAllNotAssignedRights(t,o).subscribe(s=>{this.allNotAssignedRights=s.length>0?s:[]})}checkChange(t,o){this.spinner.show(),this.roleSer.AddNewRight({RightId:t,UserId:this.roleForm.value.Userid,RoleId:this.roleForm.value.RoleId}).subscribe(r=>{this.isVisibleSuccess=!0,setTimeout(()=>{this.isVisibleSuccess=!1},1e3),this.detectChanges.detectChanges(),this.getRights(this.route.snapshot.paramMap.get("userId"),this.route.snapshot.paramMap.get("roleId")),this.getAllNotAssignedRights(this.roleForm.value.RoleId,this.roleForm.value.Userid)})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(h),e.Y36(X),e.Y36(p.F0),e.Y36(b),e.Y36(ve),e.Y36(e.sBO),e.Y36(p.gz),e.Y36(g.Ye),e.Y36(v.t2))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit-assign-role"]],decls:14,vars:6,consts:[[1,"content-wrapper"],["class","alertnotify","style","background: #cb3837;",4,"ngIf"],["class","alertnotify","style","background: #54a254;",4,"ngIf"],["bdColor","rgba(51,51,51,0.6)","size","medium","color","#fff","type","timer"],[2,"font-size","20px","color","white","margin-top","30px"],["activeIds","toggle-11",3,"closeOthers"],["id","toggle-11"],["ngbPanelTitle",""],["ngbPanelContent",""],[1,"alertnotify",2,"background","#cb3837"],[1,"alertnotify",2,"background","#54a254"],[1,"card-header--title"],[1,"pull-right"],[1,"fa","fa-angle-down","fa-lg"],[3,"formGroup"],[1,"row"],[1,"col"],["formControlName","RoleId","id","RoleId",1,"form-control","form-control-sm",3,"ngClass"],["value","null"],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["formControlName","Userid","id","Userid",1,"form-control","form-control-sm",3,"ngClass"],[1,"col","text-right"],[1,"btn","upload-btn","btn-sm",3,"click"],[1,"btn","reset-btn","btn-sm",3,"click"],["class","row",4,"ngIf"],[3,"value"],[1,"invalid-feedback"],[4,"ngIf"],[1,"col-md-6"],["id","Assignedrights_DataTable",1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],["id","rightsDataTable",1,"table","table-striped"],["type","checkbox","id","rightCheck",3,"checked","change"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Yf,2,0,"div",1),e.YNc(2,Qf,2,0,"div",1),e.YNc(3,Of,2,0,"div",2),e.YNc(4,Mf,2,0,"div",2),e.YNc(5,Vf,5,1,"div",2),e.qZA(),e.TgZ(6,"ngx-spinner",3),e.TgZ(7,"p",4),e._uU(8,"Please wait..."),e.qZA(),e.qZA(),e.TgZ(9,"ngb-accordion",5),e.TgZ(10,"ngb-panel",6),e.YNc(11,Bf,4,0,"ng-template",7),e.YNc(12,eZ,28,12,"ng-template",8),e.qZA(),e.qZA(),e._UZ(13,"br")),2&t&&(e.xp6(1),e.Q6J("ngIf",o.isVisibleFailure),e.xp6(1),e.Q6J("ngIf",o.assginRoleVisibleFailure),e.xp6(1),e.Q6J("ngIf",o.isVisibleSuccess),e.xp6(1),e.Q6J("ngIf",o.IsUnAssigned),e.xp6(1),e.Q6J("ngIf",o.isAssigned),e.xp6(4),e.Q6J("closeOthers",!0))},directives:[g.O5,v.Ro,u.gY,u.Gk,u.Cu,u.gW,a._Y,a.JL,a.sg,a.EJ,a.JJ,a.u,g.mk,a.YN,a.Kr,g.sg],styles:[""]}),i})();function iZ(i,n){1&i&&(e.TgZ(0,"div",7),e._uU(1," Something went wrong!. "),e.qZA())}function oZ(i,n){1&i&&(e.TgZ(0,"div",7),e._uU(1," Role is already Registered!. "),e.qZA())}function nZ(i,n){1&i&&(e.TgZ(0,"div",8),e._uU(1," Role is Updated Successfully!. "),e.qZA())}function sZ(i,n){1&i&&(e.TgZ(0,"span",9),e._uU(1,"Edit Role"),e.qZA())}function rZ(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Role Name is required"),e.qZA())}function aZ(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Role Name cannot contain whitespace"),e.qZA())}function lZ(i,n){if(1&i&&(e.TgZ(0,"div",19),e.YNc(1,rZ,2,0,"div",20),e.YNc(2,aZ,2,0,"div",20),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.RoleName.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.RoleName.hasError("whitespace"))}}const dZ=function(i){return{"is-invalid":i}};function cZ(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"form",10),e.TgZ(1,"div",11),e._UZ(2,"input",12),e.TgZ(3,"div",13),e.TgZ(4,"label"),e._uU(5,"Role Name"),e.qZA(),e._UZ(6,"input",14),e.YNc(7,lZ,3,2,"div",15),e.qZA(),e._UZ(8,"div",13),e.qZA(),e._UZ(9,"br"),e.TgZ(10,"div",11),e.TgZ(11,"div",16),e.TgZ(12,"button",17),e.NdJ("click",function(){return e.CHM(t),e.oxw().updateRole()}),e._uU(13,"Update"),e.qZA(),e._uU(14,"\xa0 "),e.TgZ(15,"button",18),e.NdJ("click",function(){return e.CHM(t),e.oxw().addCancel()}),e._uU(16,"Cancel"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("formGroup",t.roleForm),e.xp6(6),e.Q6J("ngClass",e.VKq(3,dZ,t.submitted&&t.f.RoleName.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.RoleName.errors)}}let uZ=(()=>{class i{constructor(t,o,s,r,l,d,m){this.myFormBuilder=t,this.roleSer=o,this.myRouter=s,this.route=r,this.userService=l,this.popUpSer=d,this.location=m,this.submitted=!1,this.isVisibleSuccess=!1,this.isVisibleFailure=!1,this.RoleVisibleFailure=!1,this.IsSHowPage=!1,this.formControl()}get f(){return this.roleForm.controls}formControl(){this.roleForm=this.myFormBuilder.group({Roleid:[""],RoleName:["",[a.kI.required,a.kI.pattern("^[a-zA-Z0-9_][a-zA-Z-0-9_ ]*$")]]}),this.roleSer.getrolebyid(this.route.snapshot.paramMap.get("id")).subscribe(t=>{this.role=t,this.roleForm.controls.Roleid.setValue(t[0].RoleId),this.roleForm.controls.RoleName.setValue(t[0].RoleName)})}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():setTimeout(()=>{this.userService.checkUserHasAccess("/pages/edit-role").subscribe(t=>{t.length>0?this.IsSHowPage=!0:(this.IsSHowPage=!1,this.popUpSer.confirmCommon("","Sorry You don't have access of this page").then(o=>{}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)")))})},500)}updateRole(){this.submitted=!0,!this.roleForm.invalid&&this.roleSer.editroles(this.roleForm.value).subscribe(t=>{"Duplicate"==t?(this.RoleVisibleFailure=!0,setTimeout(()=>this.RoleVisibleFailure=!1,5e3)):t?(this.isVisibleSuccess=!0,setTimeout(()=>this.isVisibleSuccess=!1,3e3),setTimeout(()=>this.myRouter.navigate(["/pages/add-role"]),3e3)):(this.isVisibleFailure=!0,setTimeout(()=>this.isVisibleFailure=!1,5e3))})}addCancel(){this.location.back()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(X),e.Y36(p.F0),e.Y36(p.gz),e.Y36(h),e.Y36(b),e.Y36(g.Ye))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit-role"]],decls:8,vars:4,consts:[[1,"content-wrapper"],["class","alertnotify","style","background: #cb3837;",4,"ngIf"],["class","alertnotify","style","background: #54a254;",4,"ngIf"],["activeIds","toggle-11",3,"closeOthers"],["id","toggle-11"],["ngbPanelTitle",""],["ngbPanelContent",""],[1,"alertnotify",2,"background","#cb3837"],[1,"alertnotify",2,"background","#54a254"],[1,"card-header--title"],[3,"formGroup"],[1,"row"],["type","hidden","formControlName","Roleid","id","Roleid"],[1,"col"],["type","text","name","roleName","placeholder","Role Name","formControlName","RoleName","id","RoleName","appAlphabetOnly","",1,"form-control","form-control-sm",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"col","text-right"],[1,"btn","upload-btn","btn-sm",3,"click"],[1,"btn","reset-btn","btn-sm",3,"click"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,iZ,2,0,"div",1),e.YNc(2,oZ,2,0,"div",1),e.YNc(3,nZ,2,0,"div",2),e.qZA(),e.TgZ(4,"ngb-accordion",3),e.TgZ(5,"ngb-panel",4),e.YNc(6,sZ,2,0,"ng-template",5),e.YNc(7,cZ,17,5,"ng-template",6),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",o.isVisibleFailure),e.xp6(1),e.Q6J("ngIf",o.RoleVisibleFailure),e.xp6(1),e.Q6J("ngIf",o.isVisibleSuccess),e.xp6(1),e.Q6J("closeOthers",!0))},directives:[g.O5,u.gY,u.Gk,u.Cu,u.gW,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,x,g.mk],styles:[""]}),i})();function gZ(i,n){1&i&&(e.TgZ(0,"div",13),e._uU(1," Something went wrong!. "),e.qZA())}function mZ(i,n){1&i&&(e.TgZ(0,"div",13),e._uU(1," Shift is Already Added!. "),e.qZA())}function pZ(i,n){1&i&&(e.TgZ(0,"div",14),e._uU(1," Shift is Added Successfully!. "),e.qZA())}function _Z(i,n){1&i&&(e.TgZ(0,"div",13),e._uU(1," End Time should be Greater than Start Time!. "),e.qZA())}function hZ(i,n){1&i&&(e.TgZ(0,"div",14),e._uU(1," Shift is Deleted Successfully!. "),e.qZA())}function fZ(i,n){1&i&&(e.TgZ(0,"span",15),e._uU(1,"Add Shift"),e.qZA(),e.TgZ(2,"div",16),e._UZ(3,"i",17),e.qZA())}function ZZ(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Shift Name is required"),e.qZA())}function bZ(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Name cannot contain whitespace "),e.qZA())}function vZ(i,n){if(1&i&&(e.TgZ(0,"div",28),e.YNc(1,ZZ,2,0,"div",29),e.YNc(2,bZ,2,0,"div",29),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.Name.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.Name.hasError("whitespace"))}}function TZ(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Start Time is required "),e.qZA())}function AZ(i,n){if(1&i&&(e.TgZ(0,"div",28),e.YNc(1,TZ,2,0,"div",29),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.StartTime.errors.required)}}function CZ(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," End Time is required "),e.qZA())}function qZ(i,n){if(1&i&&(e.TgZ(0,"div",28),e.YNc(1,CZ,2,0,"div",29),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.EndTime.errors.required)}}const gt=function(i){return{"is-invalid":i}};function xZ(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"form",18),e.TgZ(1,"div",19),e.TgZ(2,"div",20),e.TgZ(3,"label"),e._uU(4,"Shift Name"),e.qZA(),e._UZ(5,"input",21),e.YNc(6,vZ,3,2,"div",22),e.qZA(),e.TgZ(7,"div",20),e.TgZ(8,"label"),e._uU(9,"Start Time "),e.qZA(),e._UZ(10,"input",23),e.YNc(11,AZ,2,1,"div",22),e.qZA(),e.TgZ(12,"div",20),e.TgZ(13,"label"),e._uU(14,"End Time "),e.qZA(),e._UZ(15,"input",24),e.YNc(16,qZ,2,1,"div",22),e.qZA(),e.qZA(),e._UZ(17,"br"),e.TgZ(18,"div",19),e.TgZ(19,"div",25),e.TgZ(20,"button",26),e.NdJ("click",function(){return e.CHM(t),e.oxw().submit()}),e._uU(21," Submit"),e.qZA(),e._uU(22,"\xa0 "),e.TgZ(23,"button",27),e.NdJ("click",function(){return e.CHM(t),e.oxw().reset()}),e._uU(24," Reset "),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("formGroup",t.shiftsForm),e.xp6(5),e.Q6J("ngClass",e.VKq(7,gt,t.submitted&&t.f.Name.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.Name.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(9,gt,t.submitted&&t.f.StartTime.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.StartTime.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(11,gt,t.submitted&&t.f.EndTime.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.EndTime.errors)}}function IZ(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",34),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;return e.oxw().openConfirmationDialog(s.ShiftID)}),e._UZ(1,"i",35),e.qZA()}}function yZ(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"th",30),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e.TgZ(12,"button",31),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().edit(r.ShiftID)}),e._UZ(13,"i",32),e.qZA(),e._uU(14," \xa0 "),e.YNc(15,IZ,2,0,"button",33),e.qZA(),e.qZA()}if(2&i){const t=n.$implicit,o=n.index,s=e.oxw();e.xp6(2),e.Oqu(o+1),e.xp6(2),e.Oqu(t.Name),e.xp6(2),e.Oqu(t.StartTime),e.xp6(2),e.Oqu(t.EndTime),e.xp6(2),e.Oqu(t.ModifiedDate),e.xp6(5),e.Q6J("ngIf",s.IsDelete)}}let kZ=(()=>{class i{constructor(t,o,s,r,l,d,m){this.myFormBuilder=t,this.shiftSer=o,this.myRouter=s,this.userService=r,this.popUpSer=l,this.shiftsSer=d,this.detectChanges=m,this.isVisibleSuccess=!1,this.isVisibleFailure=!1,this.shiftVisibleFailure=!1,this.isDeletleSuccess=!1,this.isGreaterDate=!1,this.submitted=!1,this.isCollapsed=!1,this.IsSHowPage=!1,this.IsDelete=!1,this.tData=!1}get f(){return this.shiftsForm.controls}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():(this.formControls(),this.getAllShifts())}formControls(){this.shiftsForm=this.myFormBuilder.group({Name:["",[a.kI.required]],StartTime:["",a.kI.required],EndTime:["",a.kI.required]})}submit(){this.submitted=!0,!this.shiftsForm.invalid&&this.shiftSer.addShifts(this.shiftsForm.value).subscribe(t=>{"Duplicate"==t?(this.shiftVisibleFailure=!0,setTimeout(()=>this.shiftVisibleFailure=!1,5e3)):t?(this.isVisibleSuccess=!0,setTimeout(()=>this.isVisibleSuccess=!1,3e3),this.shiftsForm.reset(),this.submitted=!1,this.getAllShifts()):(this.isVisibleFailure=!0,setTimeout(()=>this.isVisibleFailure=!1,5e3))})}reset(){this.shiftsForm.reset(),this.submitted=!1}getAllShifts(){this.tData=!0,setTimeout(()=>{this.shiftsSer.getAllShifts().subscribe(t=>{t.length>0?(this.shifts=t,this.detectChanges.detectChanges(),$("#shiftdataTable").DataTable({paging:!0,searching:!0,ordering:!0})):(this.shifts=[],this.detectChanges.detectChanges(),$("#shiftdataTable").DataTable({paging:!0,searching:!0,ordering:!0}))})},500),$("#shiftdataTable").dataTable().fnDestroy()}nextButtonClickEvent(){}edit(t){this.myRouter.navigate(["/pages/edit-shift/"+t])}openConfirmationDialog(t){let o=localStorage.getItem("CurrentUserId");this.popUpSer.confirm("Please Confirm..","Do you really want to Delete?").then(s=>{s&&this.shiftsSer.deleteShifts(t,o).subscribe(r=>{r?(this.isVisibleFailure=!0,setTimeout(()=>this.isVisibleFailure=!1,5e3)):(this.tData=!1,this.getAllShifts(),this.isDeletleSuccess=!0,setTimeout(()=>this.isDeletleSuccess=!1,3e3))})}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)"))}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(be),e.Y36(p.F0),e.Y36(h),e.Y36(b),e.Y36(be),e.Y36(e.sBO))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-shifts"]],decls:34,vars:7,consts:[[1,"content-wrapper"],["class","alertnotify","style","background: #cb3837",4,"ngIf"],["class","alertnotify","style","background: #54a254",4,"ngIf"],["activeIds","toggle-11",3,"closeOthers"],["id","toggle-11"],["ngbPanelTitle",""],["ngbPanelContent",""],[1,"card","main-card","mb-3"],[1,"card-header"],[1,"table-responsive"],["id","shiftdataTable",1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[1,"alertnotify",2,"background","#cb3837"],[1,"alertnotify",2,"background","#54a254"],[1,"card-header--title"],[1,"pull-right"],[1,"fa","fa-angle-down","fa-lg"],[3,"formGroup"],[1,"row"],[1,"col"],["type","text","name","name","placeholder","Shift Name","formControlName","Name","id","Name","appAlphabetOnly","",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","time","name","startTime","placeholder","Start Time","formControlName","StartTime","id","StartTime",1,"form-control",3,"ngClass"],["type","time","name","endTime","placeholder","End Time","formControlName","EndTime","id","EndTime",1,"form-control",3,"ngClass"],[1,"col","text-right"],[1,"btn","upload-btn","btn-sm",3,"click"],[1,"btn","reset-btn","btn-sm",3,"click"],[1,"invalid-feedback"],[4,"ngIf"],["scope","row"],[1,"btn","edit-btn","btn-sm",3,"click"],[1,"fa","fa-pencil","fa-fw"],["class","btn delet-btn btn-sm",3,"click",4,"ngIf"],[1,"btn","delet-btn","btn-sm",3,"click"],[1,"fa","fa-trash","fa-fw"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,gZ,2,0,"div",1),e.YNc(2,mZ,2,0,"div",1),e.YNc(3,pZ,2,0,"div",2),e.YNc(4,_Z,2,0,"div",1),e.YNc(5,hZ,2,0,"div",2),e.qZA(),e.TgZ(6,"ngb-accordion",3),e.TgZ(7,"ngb-panel",4),e.YNc(8,fZ,4,0,"ng-template",5),e.YNc(9,xZ,25,13,"ng-template",6),e.qZA(),e.qZA(),e._UZ(10,"br"),e.TgZ(11,"div",7),e.TgZ(12,"div",8),e.TgZ(13,"b"),e._uU(14,"List of All Shifts"),e.qZA(),e.qZA(),e.TgZ(15,"div",9),e._UZ(16,"br"),e.TgZ(17,"table",10),e.TgZ(18,"thead"),e.TgZ(19,"tr"),e.TgZ(20,"th",11),e._uU(21,"#"),e.qZA(),e.TgZ(22,"th",11),e._uU(23,"Shift Name"),e.qZA(),e.TgZ(24,"th",11),e._uU(25,"Start Time"),e.qZA(),e.TgZ(26,"th",11),e._uU(27,"End Time"),e.qZA(),e.TgZ(28,"th",11),e._uU(29,"Modified Date"),e.qZA(),e.TgZ(30,"th",11),e._uU(31,"Action"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(32,"tbody"),e.YNc(33,yZ,16,6,"tr",12),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",o.isVisibleFailure),e.xp6(1),e.Q6J("ngIf",o.shiftVisibleFailure),e.xp6(1),e.Q6J("ngIf",o.isVisibleSuccess),e.xp6(1),e.Q6J("ngIf",o.isGreaterDate),e.xp6(1),e.Q6J("ngIf",o.isDeletleSuccess),e.xp6(1),e.Q6J("closeOthers",!0),e.xp6(27),e.Q6J("ngForOf",o.shifts))},directives:[g.O5,u.gY,u.Gk,u.Cu,u.gW,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,x,g.mk,g.sg],styles:[""]}),i})();function UZ(i,n){1&i&&(e.TgZ(0,"div",7),e._uU(1," Something went wrong!. "),e.qZA())}function NZ(i,n){1&i&&(e.TgZ(0,"div",7),e._uU(1," Shift is Already Added!. "),e.qZA())}function wZ(i,n){1&i&&(e.TgZ(0,"div",8),e._uU(1," Shift is Updated Successfully!. "),e.qZA())}function SZ(i,n){1&i&&(e.TgZ(0,"div",7),e._uU(1," End Time should be Greater than Start Time!. "),e.qZA())}function FZ(i,n){1&i&&(e.TgZ(0,"span",9),e._uU(1,"Edit Shift"),e.qZA())}function DZ(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Shift Name is required"),e.qZA())}function JZ(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Name cannot contain whitespace"),e.qZA())}function EZ(i,n){if(1&i&&(e.TgZ(0,"div",21),e.YNc(1,DZ,2,0,"div",22),e.YNc(2,JZ,2,0,"div",22),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.Name.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.Name.hasError("whitespace"))}}function RZ(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Start Time is required"),e.qZA())}function PZ(i,n){if(1&i&&(e.TgZ(0,"div",21),e.YNc(1,RZ,2,0,"div",22),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.StartTime.errors.required)}}function YZ(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"End Time is required"),e.qZA())}function QZ(i,n){if(1&i&&(e.TgZ(0,"div",21),e.YNc(1,YZ,2,0,"div",22),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.EndTime.errors.required)}}const mt=function(i){return{"is-invalid":i}};function OZ(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"form",10),e._UZ(1,"input",11),e.TgZ(2,"div",12),e.TgZ(3,"div",13),e.TgZ(4,"label"),e._uU(5,"Shift Name"),e.qZA(),e._UZ(6,"input",14),e.YNc(7,EZ,3,2,"div",15),e.qZA(),e.TgZ(8,"div",13),e.TgZ(9,"label"),e._uU(10,"Start Time "),e.qZA(),e._UZ(11,"input",16),e.YNc(12,PZ,2,1,"div",15),e.qZA(),e.TgZ(13,"div",13),e.TgZ(14,"label"),e._uU(15,"End Time "),e.qZA(),e._UZ(16,"input",17),e.YNc(17,QZ,2,1,"div",15),e.qZA(),e.qZA(),e._UZ(18,"br"),e.TgZ(19,"div",12),e.TgZ(20,"div",18),e.TgZ(21,"button",19),e.NdJ("click",function(){return e.CHM(t),e.oxw().updateshifts()}),e._uU(22,"Update"),e.qZA(),e._uU(23,"\xa0 "),e.TgZ(24,"button",20),e.NdJ("click",function(){return e.CHM(t),e.oxw().addCancel()}),e._uU(25,"Cancel"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("formGroup",t.shiftsForm),e.xp6(6),e.Q6J("ngClass",e.VKq(7,mt,t.submitted&&t.f.Name.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.Name.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(9,mt,t.submitted&&t.f.StartTime.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.StartTime.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(11,mt,t.submitted&&t.f.EndTime.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.EndTime.errors)}}let MZ=(()=>{class i{constructor(t,o,s,r,l,d){this.myFormBuilder=t,this.shiftsSer=o,this.myRouter=s,this.route=r,this.userService=l,this.location=d,this.submitted=!1,this.isVisibleSuccess=!1,this.isVisibleFailure=!1,this.isGreaterDate=!1,this.shiftVisibleFailure=!1,this.IsSHowPage=!1}get f(){return this.shiftsForm.controls}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():(this.IsSHowPage=!0,this.formControls(),this.getAllshiftss())}formControls(){this.shiftsForm=this.myFormBuilder.group({ShiftID:[""],Name:["",[a.kI.required]],StartTime:["",a.kI.required],EndTime:["",a.kI.required]}),this.shiftsSer.getShiftsbyid(this.route.snapshot.paramMap.get("id")).subscribe(t=>{this.shifts=t,this.shiftsForm.controls.ShiftID.setValue(t[0].ShiftID),this.shiftsForm.controls.Name.setValue(t[0].Name),this.shiftsForm.controls.StartTime.setValue(t[0].StartTime),this.shiftsForm.controls.EndTime.setValue(t[0].EndTime)})}updateshifts(){this.submitted=!0,!this.shiftsForm.invalid&&this.shiftsSer.editShifts(this.shiftsForm.value).subscribe(t=>{"Duplicate"==t?(this.shiftVisibleFailure=!0,setTimeout(()=>this.shiftVisibleFailure=!1,5e3)):t?(this.isVisibleSuccess=!0,setTimeout(()=>this.isVisibleSuccess=!1,3e3),setTimeout(()=>this.myRouter.navigate(["/pages/add-shift"]),3e3)):(this.isVisibleFailure=!0,setTimeout(()=>this.isVisibleFailure=!1,5e3))})}getAllshiftss(){this.shiftsSer.getAllShifts().subscribe(t=>{t.length>0&&(this.allshifts=t)})}addCancel(){this.location.back()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(be),e.Y36(p.F0),e.Y36(p.gz),e.Y36(h),e.Y36(g.Ye))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit-shifts"]],decls:9,vars:5,consts:[[1,"content-wrapper"],["class","alertnotify","style","background: #cb3837;",4,"ngIf"],["class","alertnotify","style","background: #54a254;",4,"ngIf"],["activeIds","toggle-11",3,"closeOthers"],["id","toggle-11"],["ngbPanelTitle",""],["ngbPanelContent",""],[1,"alertnotify",2,"background","#cb3837"],[1,"alertnotify",2,"background","#54a254"],[1,"card-header--title"],[3,"formGroup"],["type","hidden","formControlName","ShiftID"],[1,"row"],[1,"col"],["type","text","name","name","placeholder","Shift Name","formControlName","Name","id","Name",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","time","name","startTime","placeholder","Start Time","formControlName","StartTime","id","StartTime",1,"form-control",3,"ngClass"],["type","time","name","endTime","placeholder","End Time","formControlName","EndTime","id","EndTime",1,"form-control",3,"ngClass"],[1,"col","text-right"],[1,"btn","upload-btn","btn-sm",3,"click"],["data-target","#toggle-11","data-toggle","collapse",1,"btn","reset-btn","btn-sm",3,"click"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,UZ,2,0,"div",1),e.YNc(2,NZ,2,0,"div",1),e.YNc(3,wZ,2,0,"div",2),e.YNc(4,SZ,2,0,"div",1),e.qZA(),e.TgZ(5,"ngb-accordion",3),e.TgZ(6,"ngb-panel",4),e.YNc(7,FZ,2,0,"ng-template",5),e.YNc(8,OZ,26,13,"ng-template",6),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",o.isVisibleFailure),e.xp6(1),e.Q6J("ngIf",o.shiftVisibleFailure),e.xp6(1),e.Q6J("ngIf",o.isVisibleSuccess),e.xp6(1),e.Q6J("ngIf",o.isGreaterDate),e.xp6(1),e.Q6J("closeOthers",!0))},directives:[g.O5,u.gY,u.Gk,u.Cu,u.gW,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,g.mk],styles:[""]}),i})(),Jt=(()=>{class i{constructor(t,o){this.httpClient=t,this.myRouter=o,this.token=localStorage.getItem("token"),this.httpOptions={headers:new c.WM({authorization:`Bearer ${this.token}`})}}AddStock(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/stock/addStock/",t,s)}updateData(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/stock/updateStock/",t,s)}getAllRecord(){let t=localStorage.getItem("token"),o={headers:new c.WM({authorization:`Bearer ${t}`})};return this.httpClient.get("/api/stock/getAllRecord/",o)}getEditData(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/stock/getStockDataById?StockId="+t,s)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(c.eN),e.LFG(p.F0))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),M=(()=>{class i{constructor(t,o){this.httpClient=t,this.myRouter=o,this.token=localStorage.getItem("token"),this.httpOptions={headers:new c.WM({authorization:`Bearer ${this.token}`})}}Addstoreitems(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/storeitems/Addstoreitems/",t,s)}fetchstoreitemsbyjoin(){let t=localStorage.getItem("token"),o={headers:new c.WM({authorization:`Bearer ${t}`})};return this.httpClient.get("/api/storeitems/FetchAll/",o)}duplicateCheckEntry(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/storeitems/duplicateCheckEntry",t,s)}getstorebyInvoice(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/storeitems/getstorebyInvoice/?id="+t,s)}checkStoreItemrecByPoNumber(t){return this.httpClient.get("/api/storeitems/checkStoreItemrecByPoNumber/?id="+t,this.httpOptions)}getDataById(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/storeitems/FetchById/?Id="+t,s)}UpdateStoreItems(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/storeitems/UpdateStoreItems/",t,s)}deleteStoreItemCheck(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/storeitems/deleteStoreItemCheck?id="+t,s)}deleteStoreItem(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/storeitems/deleteStoreItem?id="+t,s)}deleteStoreItemrecieved(t){localStorage.getItem("token")}deleteAllAssignItem(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/storeitems/deleteAllAssignItem?id="+t,s)}deleteAllPackages(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/storeitems/deleteAllPackages?id="+t,s)}deleteAllPurchaseOrder(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/storeitems/deleteAllPurchaseOrder?id="+t,s)}getAllVendorsByStoreItemId(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/storeitems/getAllVendorsByStoreItemId?id="+t,s)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(c.eN),e.LFG(p.F0))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function VZ(i,n){1&i&&(e.TgZ(0,"div",7),e._uU(1," Something went Wrong!. "),e.qZA())}function BZ(i,n){1&i&&(e.TgZ(0,"div",8),e._uU(1," Record has been successflly updated!. "),e.qZA())}function HZ(i,n){1&i&&(e.TgZ(0,"span",9),e._uU(1,"Add Stock"),e.qZA(),e.TgZ(2,"div",10),e._UZ(3,"i",11),e.qZA())}function $Z(i,n){if(1&i&&(e.TgZ(0,"option",27),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.ItemCode),e.xp6(1),e.Oqu(t.ItemCode)}}function LZ(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Item Code is required "),e.qZA())}function GZ(i,n){if(1&i&&(e.TgZ(0,"div",28),e.YNc(1,LZ,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.ItemCode.errors.required)}}function jZ(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Recieved Qty is required"),e.qZA())}function zZ(i,n){if(1&i&&(e.TgZ(0,"div",28),e.YNc(1,jZ,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.RecQty.errors.required)}}function WZ(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Recieved Date is required"),e.qZA())}function KZ(i,n){if(1&i&&(e.TgZ(0,"div",28),e.YNc(1,WZ,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.RecDate.errors.required)}}function XZ(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"ExpiryDate is required"),e.qZA())}function e0(i,n){if(1&i&&(e.TgZ(0,"div",28),e.YNc(1,XZ,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.ExpiryDate.errors.required)}}const je=function(i){return{"is-invalid":i}};function t0(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"form",12),e._UZ(1,"input",13),e.TgZ(2,"div",14),e.TgZ(3,"div",15),e.TgZ(4,"label"),e._uU(5,"Item Code"),e.qZA(),e.qZA(),e.TgZ(6,"div",16),e.TgZ(7,"select",17),e.TgZ(8,"option",18),e._uU(9,"Please Select"),e.qZA(),e.YNc(10,$Z,2,2,"option",19),e.qZA(),e.YNc(11,GZ,2,1,"div",20),e.qZA(),e.TgZ(12,"div",15),e.TgZ(13,"label"),e._uU(14,"Recieved Qty "),e.qZA(),e.qZA(),e.TgZ(15,"div",16),e._UZ(16,"input",21),e.YNc(17,zZ,2,1,"div",20),e.qZA(),e.TgZ(18,"div",15),e.TgZ(19,"label"),e._uU(20,"Recieved Date"),e.qZA(),e.qZA(),e.TgZ(21,"div",16),e._UZ(22,"input",22),e.YNc(23,KZ,2,1,"div",20),e.qZA(),e.TgZ(24,"div",15),e.TgZ(25,"label"),e._uU(26,"Expiry Date"),e.qZA(),e.qZA(),e.TgZ(27,"div",16),e._UZ(28,"input",23),e.YNc(29,e0,2,1,"div",20),e.qZA(),e.qZA(),e._UZ(30,"br"),e.TgZ(31,"div",14),e.TgZ(32,"div",24),e.TgZ(33,"button",25),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).addInv()}),e._uU(34,"Update"),e.qZA(),e._uU(35,"\xa0 "),e.TgZ(36,"button",26),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).addCancel()}),e._uU(37," Cancel "),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("formGroup",t.stockForm),e.xp6(7),e.Q6J("ngClass",e.VKq(10,je,t.submitted&&t.f.ItemCode.errors)),e.xp6(3),e.Q6J("ngForOf",t.itemCode),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.ItemCode.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(12,je,t.submitted&&t.f.RecQty.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.RecQty.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(14,je,t.submitted&&t.f.RecDate.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.RecDate.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(16,je,t.submitted&&t.f.ExpiryDate.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.ExpiryDate.errors)}}function i0(i,n){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,VZ,2,0,"div",1),e.YNc(2,BZ,2,0,"div",2),e.TgZ(3,"ngb-accordion",3),e.TgZ(4,"ngb-panel",4),e.YNc(5,HZ,4,0,"ng-template",5),e.YNc(6,t0,38,18,"ng-template",6),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.isVisibleFailure),e.xp6(1),e.Q6J("ngIf",t.isVisibleSuccess),e.xp6(1),e.Q6J("closeOthers",!0)}}let o0=(()=>{class i{constructor(t,o,s,r,l,d,m,_){this.myFormBuilder=t,this.stockSer=o,this.route=s,this.storeItemSer=r,this.myRouter=l,this.location=d,this.userService=m,this.popUpSer=_,this.submitted=!1,this.addJson={},this.isVisibleSuccess=!1,this.isVisibleFailure=!1,this.IsSHowPage=!1}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():this.userService.checkUserHasAccess("/pages/edit-stock").subscribe(t=>{t.length>0?(this.IsSHowPage=!0,this.formControls(),this.getEditData(),this.getItemCode()):(this.IsSHowPage=!1,this.popUpSer.confirmCommon("","You have no access to view page").then(o=>{}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)")))})}get f(){return this.stockForm.controls}formControls(){this.stockForm=this.myFormBuilder.group({StockId:[""],ItemCode:["",a.kI.required],RecQty:["",a.kI.required],RecDate:["",a.kI.required],ExpiryDate:["",a.kI.required]})}getItemCode(){this.storeItemSer.fetchstoreitemsbyjoin().subscribe(t=>{this.itemCode=t})}getEditData(){this.stockSer.getEditData(this.route.snapshot.paramMap.get("id")).subscribe(t=>{this.stockForm.controls.StockId.setValue(t[0].StockId),this.stockForm.controls.ItemCode.setValue(t[0].ItemCode),this.stockForm.controls.RecQty.setValue(t[0].ReceivedQty),this.stockForm.controls.RecDate.setValue(t[0].ReceivedDate),this.stockForm.controls.ExpiryDate.setValue(t[0].ExpiryDate)})}addInv(){this.submitted=!0,this.stockForm.invalid||(this.addJson={StockId:this.stockForm.value.StockId,ItemCode:this.stockForm.value.ItemCode,RecQty:this.stockForm.value.RecQty,RecDate:this.stockForm.value.RecDate,ExpiryDate:this.stockForm.value.ExpiryDate},this.stockSer.updateData(this.addJson).subscribe(t=>{t?(this.isVisibleSuccess=!0,setTimeout(()=>this.isVisibleSuccess=!1,1e3),setTimeout(()=>{this.myRouter.navigate(["/pages/stock/"])},1e3)):(this.isVisibleFailure=!0,setTimeout(()=>this.isVisibleFailure=!1,1e3))}))}addCancel(){this.location.back()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(Jt),e.Y36(p.gz),e.Y36(M),e.Y36(p.F0),e.Y36(g.Ye),e.Y36(h),e.Y36(b))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit-stock"]],decls:1,vars:1,consts:[[4,"ngIf"],["class","alertnotify","style","background: #cb3837;",4,"ngIf"],["class","alertnotify","style","background: #54a254;",4,"ngIf"],["activeIds","toggle-11",3,"closeOthers"],["id","toggle-11"],["ngbPanelTitle",""],["ngbPanelContent",""],[1,"alertnotify",2,"background","#cb3837"],[1,"alertnotify",2,"background","#54a254"],[1,"card-header--title"],[1,"pull-right"],[1,"fa","fa-angle-down","fa-lg"],[3,"formGroup"],["type","hidden","formControlName","StockId","id","StockId"],[1,"row"],[1,"col-6","col-sm-6","col-md-3","col-lg-1"],[1,"col-lg-2"],["formControlName","ItemCode","id","ItemCode",1,"form-control","form-control-sm",3,"ngClass"],["value","null"],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["type","number","placeholder","Recieved Qty","formControlName","RecQty","id","RecQty",1,"form-control","form-control-sm",3,"ngClass"],["type","date","formControlName","RecDate","id","RecDate",1,"form-control","form-control-sm",3,"ngClass"],["type","date","formControlName","ExpiryDate","id","ExpiryDate","appNicFormattor","",1,"form-control","form-control-sm",3,"ngClass"],[1,"col","text-right","mb-1"],[1,"btn","upload-btn","btn-sm",3,"click"],[1,"btn","reset-btn","btn-sm",3,"click"],[3,"value"],[1,"invalid-feedback"]],template:function(t,o){1&t&&e.YNc(0,i0,7,3,"div",0),2&t&&e.Q6J("ngIf",o.IsSHowPage)},directives:[g.O5,u.gY,u.Gk,u.Cu,u.gW,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,a.EJ,g.mk,a.YN,a.Kr,g.sg,a.wV],styles:[""]}),i})();function n0(i,n){1&i&&(e.TgZ(0,"div",10),e._uU(1," Something went Wrong!. "),e.qZA())}function s0(i,n){1&i&&(e.TgZ(0,"div",11),e._uU(1," Record has been successfully Inserted!. "),e.qZA())}function r0(i,n){1&i&&(e.TgZ(0,"div",11),e._uU(1," Record has been successfully Deleted!. "),e.qZA())}function a0(i,n){1&i&&(e.TgZ(0,"span",12),e._uU(1,"Add Stock"),e.qZA(),e.TgZ(2,"div",13),e._UZ(3,"i",14),e.qZA())}function l0(i,n){if(1&i&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.ItemCode),e.xp6(1),e.Oqu(t.ItemCode)}}function d0(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Item Code is required "),e.qZA())}function c0(i,n){if(1&i&&(e.TgZ(0,"div",30),e.YNc(1,d0,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.ItemCode.errors.required)}}function u0(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Recieved Qty is required"),e.qZA())}function g0(i,n){if(1&i&&(e.TgZ(0,"div",30),e.YNc(1,u0,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.RecQty.errors.required)}}function m0(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Recieved Date is required"),e.qZA())}function p0(i,n){if(1&i&&(e.TgZ(0,"div",30),e.YNc(1,m0,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.RecDate.errors.required)}}function _0(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"ExpiryDate is required"),e.qZA())}function h0(i,n){if(1&i&&(e.TgZ(0,"div",30),e.YNc(1,_0,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.ExpiryDate.errors.required)}}const ze=function(i){return{"is-invalid":i}};function f0(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"form",15),e.TgZ(1,"div",16),e.TgZ(2,"div",17),e.TgZ(3,"label"),e._uU(4,"Item Code"),e.qZA(),e.qZA(),e.TgZ(5,"div",18),e.TgZ(6,"select",19),e.TgZ(7,"option",20),e._uU(8,"Please Select"),e.qZA(),e.YNc(9,l0,2,2,"option",21),e.qZA(),e.YNc(10,c0,2,1,"div",22),e.qZA(),e.TgZ(11,"div",17),e.TgZ(12,"label"),e._uU(13,"Recieved Qty "),e.qZA(),e.qZA(),e.TgZ(14,"div",18),e._UZ(15,"input",23),e.YNc(16,g0,2,1,"div",22),e.qZA(),e.TgZ(17,"div",17),e.TgZ(18,"label"),e._uU(19,"Recieved Date"),e.qZA(),e.qZA(),e.TgZ(20,"div",18),e._UZ(21,"input",24),e.YNc(22,p0,2,1,"div",22),e.qZA(),e.TgZ(23,"div",17),e.TgZ(24,"label"),e._uU(25,"Expiry Date "),e.qZA(),e.qZA(),e.TgZ(26,"div",18),e._UZ(27,"input",25),e.YNc(28,h0,2,1,"div",22),e.qZA(),e.qZA(),e._UZ(29,"br"),e.TgZ(30,"div",16),e.TgZ(31,"div",26),e.TgZ(32,"button",27),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).addInv()}),e._uU(33,"Submit"),e.qZA(),e._uU(34,"\xa0 "),e.TgZ(35,"button",28),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).addCancel()}),e._uU(36," Reset "),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("formGroup",t.stockForm),e.xp6(6),e.Q6J("ngClass",e.VKq(10,ze,t.submitted&&t.f.ItemCode.errors)),e.xp6(3),e.Q6J("ngForOf",t.itemCode),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.ItemCode.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(12,ze,t.submitted&&t.f.RecQty.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.RecQty.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(14,ze,t.submitted&&t.f.RecDate.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.RecDate.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(16,ze,t.submitted&&t.f.ExpiryDate.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.ExpiryDate.errors)}}function Z0(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",40),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;return e.oxw(3).Edit(s.StockId)}),e._UZ(1,"i",41),e.qZA()}}function b0(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",42),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;return e.oxw(3).Delete(s.StockId)}),e._UZ(1,"i",43),e.qZA()}}function v0(i,n){if(1&i&&(e.TgZ(0,"tr"),e.TgZ(1,"th",37),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e.YNc(12,Z0,2,0,"button",38),e._uU(13," \xa0 "),e.YNc(14,b0,2,0,"button",39),e.qZA(),e.qZA()),2&i){const t=n.$implicit,o=n.index,s=e.oxw(3);e.xp6(2),e.Oqu(o+1),e.xp6(2),e.Oqu(t.ItemCode),e.xp6(2),e.Oqu(t.ReceivedQty),e.xp6(2),e.Oqu(t.ReceivedDate),e.xp6(2),e.Oqu(t.ExpiryDate),e.xp6(2),e.Q6J("ngIf",s.editrec),e.xp6(2),e.Q6J("ngIf",s.deleterec)}}function T0(i,n){if(1&i&&(e.TgZ(0,"div",31),e.TgZ(1,"div",32),e.TgZ(2,"b"),e._uU(3,"Categories"),e.qZA(),e.qZA(),e.TgZ(4,"div",33),e.TgZ(5,"table",34),e.TgZ(6,"thead"),e.TgZ(7,"tr"),e.TgZ(8,"th",35),e._uU(9,"#"),e.qZA(),e.TgZ(10,"th",35),e._uU(11,"Item Code"),e.qZA(),e.TgZ(12,"th",35),e._uU(13,"Recieved Quantity"),e.qZA(),e.TgZ(14,"th",35),e._uU(15,"Recieved Date"),e.qZA(),e.TgZ(16,"th",35),e._uU(17,"Expiry Date"),e.qZA(),e.TgZ(18,"th",35),e._uU(19,"Action"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(20,"tbody"),e.YNc(21,v0,15,7,"tr",36),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(21),e.Q6J("ngForOf",t.allrecord)}}function A0(i,n){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,n0,2,0,"div",1),e.YNc(2,s0,2,0,"div",2),e.YNc(3,r0,2,0,"div",2),e.TgZ(4,"ngb-accordion",3),e.TgZ(5,"ngb-panel",4),e.YNc(6,a0,4,0,"ng-template",5),e.YNc(7,f0,37,18,"ng-template",6),e.qZA(),e.qZA(),e.TgZ(8,"div",7),e.TgZ(9,"div",8),e.YNc(10,T0,22,1,"div",9),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.isVisibleFailure),e.xp6(1),e.Q6J("ngIf",t.isVisibleSuccess),e.xp6(1),e.Q6J("ngIf",t.isDeleteSuccess),e.xp6(1),e.Q6J("closeOthers",!0),e.xp6(6),e.Q6J("ngIf",t.tablerec)}}let C0=(()=>{class i{constructor(t,o,s,r,l,d,m){this.myFormBuilder=t,this.stockSer=o,this.storeItemSer=s,this.detectChanges=r,this.myRouter=l,this.userService=d,this.popUpSer=m,this.submitted=!1,this.addJson={},this.isVisibleSuccess=!1,this.isVisibleFailure=!1,this.isDeleteSuccess=!1,this.IsSHowPage=!1,this.tablerec=!1,this.editrec=!1,this.deleterec=!1}get f(){return this.stockForm.controls}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():(this.userService.checkUserHasAccess("/pages/stock").subscribe(t=>{t.length>0?(this.IsSHowPage=!0,this.formControls(),this.getItemCode()):(this.IsSHowPage=!1,this.popUpSer.confirmCommon("","You have no access to view page").then(o=>{}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)")))}),this.userService.checkUserHasAccess("/pages/list-stock").subscribe(t=>{t.length>0?(this.tablerec=!0,this.getAllRecord(),setTimeout(()=>{this.userService.checkUserHasAccess("/pages/edit-stock").subscribe(o=>{this.editrec=o.length>0})},300),setTimeout(()=>{this.userService.checkUserHasAccess("/pages/delete-stock").subscribe(o=>{this.deleterec=o.length>0})},300)):this.tablerec=!1}))}formControls(){this.stockForm=this.myFormBuilder.group({ItemCode:["",a.kI.required],RecQty:["",a.kI.required],RecDate:["",a.kI.required],ExpiryDate:["",a.kI.required]})}addInv(){this.submitted=!0,this.stockForm.invalid||(this.addJson={ItemCode:this.stockForm.value.ItemCode,RecQty:this.stockForm.value.RecQty,RecDate:this.stockForm.value.RecDate,ExpiryDate:this.stockForm.value.ExpiryDate},this.stockSer.AddStock(this.addJson).subscribe(t=>{t?(this.isVisibleSuccess=!0,setTimeout(()=>this.isVisibleSuccess=!1,1e3),this.getAllRecord(),this.submitted=!1,this.stockForm.reset()):(this.isVisibleFailure=!0,setTimeout(()=>this.isVisibleFailure=!1,1e3))}))}getItemCode(){this.storeItemSer.fetchstoreitemsbyjoin().subscribe(t=>{this.itemCode=t})}addCancel(){this.submitted=!1,this.stockForm.reset()}getAllRecord(){this.stockSer.getAllRecord().subscribe(t=>{this.allrecord=t,t.length>0?(this.allrecord=t,this.detectChanges.detectChanges(),$("#stockdataTable").DataTable({paging:!0,searching:!0,ordering:!0})):(this.allrecord=[],this.detectChanges.detectChanges(),$("#stockdataTable").DataTable({paging:!0,searching:!0,ordering:!0}))}),$("#stockdataTable").dataTable().fnDestroy()}Edit(t){this.myRouter.navigate(["/pages/edit-stock/"+t])}Delete(t){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(Jt),e.Y36(M),e.Y36(e.sBO),e.Y36(p.F0),e.Y36(h),e.Y36(b))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-stock"]],decls:1,vars:1,consts:[[4,"ngIf"],["class","alertnotify","style","background: #cb3837;",4,"ngIf"],["class","alertnotify","style","background: #54a254;",4,"ngIf"],["activeIds","toggle-11",3,"closeOthers"],["id","toggle-11"],["ngbPanelTitle",""],["ngbPanelContent",""],[1,"row","mt-4"],[1,"col-lg-12"],["class","card main-card mb-3",4,"ngIf"],[1,"alertnotify",2,"background","#cb3837"],[1,"alertnotify",2,"background","#54a254"],[1,"card-header--title"],[1,"pull-right"],[1,"fa","fa-angle-down","fa-lg"],[3,"formGroup"],[1,"row"],[1,"col-6","col-sm-6","col-md-3","col-lg-1"],[1,"col-lg-2"],["formControlName","ItemCode","id","ItemCode",1,"form-control","form-control-sm",3,"ngClass"],["value","null"],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["type","number","placeholder","Recieved Qty","formControlName","RecQty","id","RecQty",1,"form-control","form-control-sm",3,"ngClass"],["type","date","formControlName","RecDate","id","RecDate",1,"form-control","form-control-sm",3,"ngClass"],["type","date","formControlName","ExpiryDate","id","ExpiryDate","appNicFormattor","",1,"form-control","form-control-sm",3,"ngClass"],[1,"col","text-right","mb-1"],[1,"btn","upload-btn","btn-sm",3,"click"],[1,"btn","reset-btn","btn-sm",3,"click"],[3,"value"],[1,"invalid-feedback"],[1,"card","main-card","mb-3"],[1,"card-header"],[1,"table-responsive"],["id","stockdataTable",1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],["class","btn edit-btn btn-sm",3,"click",4,"ngIf"],["class","btn delet-btn btn-sm",3,"click",4,"ngIf"],[1,"btn","edit-btn","btn-sm",3,"click"],[1,"fa","fa-pencil","fa-fw"],[1,"btn","delet-btn","btn-sm",3,"click"],[1,"fa","fa-trash","fa-fw"]],template:function(t,o){1&t&&e.YNc(0,A0,11,5,"div",0),2&t&&e.Q6J("ngIf",o.IsSHowPage)},directives:[g.O5,u.gY,u.Gk,u.Cu,u.gW,a._Y,a.JL,a.sg,a.EJ,a.JJ,a.u,g.mk,a.YN,a.Kr,g.sg,a.wV,a.Fj],styles:[""]}),i})(),ee=(()=>{class i{constructor(t,o){this.httpClient=t,this.myRouter=o,this.token=localStorage.getItem("token"),this.httpOptions={headers:new c.WM({authorization:`Bearer ${this.token}`})}}AddStoreItemRec(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/store-item-rec/addstoreitemRec/",t,s)}updateStoreItemRec(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/store-item-rec/updateStoreItemRec/",t,s)}getInvoice(){let t=localStorage.getItem("token"),o={headers:new c.WM({authorization:`Bearer ${t}`})};return this.httpClient.get("/api/store-item-rec/getInvoice/",o)}getDatabyitem(t,o){let s=localStorage.getItem("token"),r={headers:new c.WM({authorization:`Bearer ${s}`})};return this.httpClient.get("/api/store-item-rec/getDatabyitem?itemid="+t+"&invoiceId="+o,r)}getAllStoreItemSentById(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/store-item-rec/getAllStoreItemSentById?regno="+t,s)}updateStoreRec(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/store-item-rec/updateStoreRec",t,s)}deletestoreitemsub(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/store-item-rec/deletestoreitemsub/?id="+t,s)}deletestoreitemrec(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/store-item-rec/deleteStoreItemrecieved/",t,s)}getrecord(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/store-item-rec/getrecord?VendorId="+t,s)}updateData(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/stock/updateStock/",t,s)}getEditStoreRecData(t,o){let s=localStorage.getItem("token"),r={headers:new c.WM({authorization:`Bearer ${s}`})};return this.httpClient.get("/api/store-item-rec/getEditStoreRecData?mainId="+t+"&inv="+o,r)}getAllRecord(){let t=localStorage.getItem("token"),o={headers:new c.WM({authorization:`Bearer ${t}`})};return this.httpClient.get("/api/store-item-rec/getAllRecord/",o)}getEditData(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/stock/getStockDataById?StockId="+t,s)}getreport(t,o,s,r){let l=localStorage.getItem("token"),d={headers:new c.WM({authorization:`Bearer ${l}`})};return this.httpClient.get("/api/store-item-rec/getreport?VendorId="+t+"&InvoiceNo="+o+"&startDate="+s+"&endDate="+r,d)}getinvoicedata(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/store-item-rec/getinvoicedata/?Id="+t,s)}getReceivingSlipData(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/store-item-rec/ReceivingSlipData?id="+t,s)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(c.eN),e.LFG(p.F0))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function q0(i,n){1&i&&(e.TgZ(0,"div",8),e._uU(1," Something went wrong!. "),e.qZA())}function x0(i,n){1&i&&(e.TgZ(0,"div",8),e._uU(1," Duplicate Item found!. "),e.qZA())}function I0(i,n){1&i&&(e.TgZ(0,"div",8),e._uU(1," Duplicate Batch found!. "),e.qZA())}function y0(i,n){if(1&i&&(e.TgZ(0,"div",8),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" Batch quantity should be less than ",t.alertres,"!. ")}}function k0(i,n){1&i&&(e.TgZ(0,"div",9),e._uU(1," Store Item Received is Updated Successfully!. "),e.qZA())}function U0(i,n){1&i&&(e.TgZ(0,"div",8),e._uU(1," Duplicate Item found!. "),e.qZA())}function N0(i,n){1&i&&(e.TgZ(0,"div",8),e._uU(1," Duplicate Batch found!. "),e.qZA())}function w0(i,n){if(1&i&&(e.TgZ(0,"div",8),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" Batch quantity should be less than ",t.alertres,"!. ")}}function S0(i,n){1&i&&(e.TgZ(0,"div",9),e._uU(1," Store Item Received is Updated Successfully!. "),e.qZA())}function F0(i,n){if(1&i&&(e.TgZ(0,"span",10),e._uU(1,"Edit "),e.TgZ(2,"strong",11),e._uU(3),e.qZA(),e._uU(4," Receiving Details"),e.qZA(),e.TgZ(5,"div",12),e._UZ(6,"i",13),e.qZA()),2&i){const t=e.oxw(2);e.xp6(3),e.Oqu(t.PONumber)}}function D0(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Received Date is required "),e.qZA())}function J0(i,n){if(1&i&&(e.TgZ(0,"div",39),e.YNc(1,D0,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.recDate.errors.required)}}function E0(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Purchase Order No is required"),e.qZA())}function R0(i,n){if(1&i&&(e.TgZ(0,"div",39),e.YNc(1,E0,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.PONumber.errors.required)}}function P0(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Invoice No is required"),e.qZA())}function Y0(i,n){if(1&i&&(e.TgZ(0,"div",39),e.YNc(1,P0,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.invNo.errors.required)}}function Q0(i,n){if(1&i&&(e.TgZ(0,"option",52),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.ItemId),e.xp6(1),e.hij(" ",t.ItemName," ")}}function O0(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Item is required "),e.qZA())}function M0(i,n){if(1&i&&(e.TgZ(0,"div",39),e.YNc(1,O0,2,0,"div",0),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.controls.storeitems.errors.required)}}function V0(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Batches is required "),e.qZA())}function B0(i,n){if(1&i&&(e.TgZ(0,"div",39),e.YNc(1,V0,2,0,"div",0),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.controls.batches.errors.required)}}function H0(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Expiry Date is required "),e.qZA())}function $0(i,n){if(1&i&&(e.TgZ(0,"div",39),e.YNc(1,H0,2,0,"div",0),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.controls.ExpiryDate.errors.required)}}function L0(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Quantity is required "),e.qZA())}function G0(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Quantity must be positive "),e.qZA())}function j0(i,n){if(1&i&&(e.TgZ(0,"div",39),e.YNc(1,L0,2,0,"div",0),e.YNc(2,G0,2,0,"div",0),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.controls.qty.errors.required),e.xp6(1),e.Q6J("ngIf",t.controls.qty.errors.pattern)}}function z0(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Rate is required "),e.qZA())}function W0(i,n){if(1&i&&(e.TgZ(0,"div",39),e.YNc(1,z0,2,0,"div",0),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.controls.rate.errors.required)}}function K0(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Quantity is required "),e.qZA())}function X0(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Quantity must be positive "),e.qZA())}function e2(i,n){if(1&i&&(e.TgZ(0,"div",39),e.YNc(1,K0,2,0,"div",0),e.YNc(2,X0,2,0,"div",0),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.controls.ordqty.errors.required),e.xp6(1),e.Q6J("ngIf",t.controls.ordqty.errors.pattern)}}function t2(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Price is required "),e.qZA())}function i2(i,n){if(1&i&&(e.TgZ(0,"div",39),e.YNc(1,t2,2,0,"div",0),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.controls.price.errors.required)}}const V=function(i){return{"is-invalid":i}};function o2(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",40),e.TgZ(1,"div",41),e._UZ(2,"input",42),e.TgZ(3,"select",43),e.NdJ("change",function(s){const l=e.CHM(t).index;e.oxw();const d=e.MAs(12);return e.oxw(2).changeItem(s.target.value,l,d)}),e.YNc(4,Q0,2,2,"option",44),e.qZA(),e.YNc(5,M0,2,1,"div",19),e.qZA(),e.TgZ(6,"div",41),e._UZ(7,"input",45),e.YNc(8,B0,2,1,"div",19),e.qZA(),e.TgZ(9,"div",41),e._UZ(10,"input",46),e.YNc(11,$0,2,1,"div",19),e.qZA(),e.TgZ(12,"div",47),e.TgZ(13,"input",48),e.NdJ("change",function(s){const l=e.CHM(t).index,d=e.oxw(3);return d.qtyChange(s.target.value,l,d.itemqty[l])}),e.qZA(),e.YNc(14,j0,3,2,"div",19),e.qZA(),e.TgZ(15,"div",47),e.TgZ(16,"input",49),e.NdJ("input",function(s){const l=e.CHM(t).index;return e.oxw(3).unitPriceChange(s.target.value,l)}),e.qZA(),e.YNc(17,W0,2,1,"div",19),e.qZA(),e.TgZ(18,"div",47),e._UZ(19,"input",50),e.YNc(20,e2,3,2,"div",19),e.qZA(),e.TgZ(21,"div",47),e._UZ(22,"input",51),e.YNc(23,i2,2,1,"div",19),e.qZA(),e.qZA()}if(2&i){const t=n.$implicit,o=n.index,s=e.oxw(3);e.Q6J("formGroupName",o),e.xp6(3),e.Q6J("ngClass",e.VKq(23,V,s.submitted&&t.controls.storeitems.errors)),e.xp6(1),e.Q6J("ngForOf",s.allstoreitems),e.xp6(1),e.Q6J("ngIf",s.submitted&&t.controls.storeitems.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(25,V,s.submitted&&t.controls.batches.errors)),e.xp6(1),e.Q6J("ngIf",s.submitted&&t.controls.batches.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(27,V,s.submitted&&t.controls.ExpiryDate.errors)),e.xp6(1),e.Q6J("ngIf",s.submitted&&t.controls.ExpiryDate.errors),e.xp6(2),e.Gre("form-control form-control-sm itemqty",o," resetqty"),e.Q6J("value",s.itemqty[o])("ngClass",e.VKq(29,V,s.submitted&&t.controls.qty.errors)),e.xp6(1),e.Q6J("ngIf",s.submitted&&t.controls.qty.errors),e.xp6(2),e.Q6J("value",s.rate[o])("ngClass",e.VKq(31,V,s.submitted&&t.controls.rate.errors)),e.xp6(1),e.Q6J("ngIf",s.submitted&&t.controls.rate.errors),e.xp6(2),e.Q6J("value",s.remainingqty[o])("ngClass",e.VKq(33,V,s.submitted&&t.controls.ordqty.errors)),e.xp6(1),e.Q6J("ngIf",s.submitted&&t.controls.ordqty.errors),e.xp6(2),e.Q6J("value",s.itemprice[o])("ngClass",e.VKq(35,V,s.submitted&&t.controls.price.errors)),e.xp6(1),e.Q6J("ngIf",s.submitted&&t.controls.price.errors)}}function n2(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Discount must be positive "),e.qZA())}function s2(i,n){if(1&i&&(e.TgZ(0,"div",39),e.YNc(1,n2,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.storeitemForm.controls.Discount.errors.pattern)}}function r2(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"form",14),e._UZ(1,"input",15),e.TgZ(2,"div",16),e.TgZ(3,"div",17),e.TgZ(4,"label"),e._uU(5,"Rec Date "),e.qZA(),e._UZ(6,"input",18),e.YNc(7,J0,2,1,"div",19),e.qZA(),e.TgZ(8,"div",17),e.TgZ(9,"label"),e._uU(10,"Purchase Order No "),e.qZA(),e._UZ(11,"input",20,21),e.YNc(13,R0,2,1,"div",19),e.qZA(),e.TgZ(14,"div",17),e.TgZ(15,"label"),e._uU(16,"Invoice No"),e.qZA(),e._UZ(17,"input",22,21),e.YNc(19,Y0,2,1,"div",19),e.qZA(),e.qZA(),e.TgZ(20,"div",23),e.TgZ(21,"div",16),e.TgZ(22,"div",24),e.TgZ(23,"div",16),e.TgZ(24,"div",25),e.TgZ(25,"label",26),e._uU(26,"Items"),e.qZA(),e.qZA(),e.TgZ(27,"div",25),e.TgZ(28,"label",26),e._uU(29,"Batches"),e.qZA(),e.qZA(),e.TgZ(30,"div",25),e.TgZ(31,"label",26),e._uU(32,"Expiry Date"),e.qZA(),e.qZA(),e.TgZ(33,"div",27),e.TgZ(34,"label",26),e._uU(35,"ReceivedQty"),e.qZA(),e.qZA(),e.TgZ(36,"div",27),e.TgZ(37,"label",26),e._uU(38,"Rate"),e.qZA(),e.qZA(),e.TgZ(39,"div",27),e.TgZ(40,"label",26),e._uU(41,"RemainingQty"),e.qZA(),e.qZA(),e.TgZ(42,"div",27),e.TgZ(43,"label",26),e._uU(44,"Price"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(45,"div",28),e.TgZ(46,"div",24),e.TgZ(47,"div",29),e.YNc(48,o2,24,37,"div",30),e._UZ(49,"br"),e._UZ(50,"br"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(51,"div",28),e.TgZ(52,"div",24),e.TgZ(53,"div",31),e._UZ(54,"div",32),e.TgZ(55,"div",33),e.TgZ(56,"label"),e._uU(57,"Discount (%):"),e.qZA(),e.TgZ(58,"input",34),e.NdJ("input",function(s){return e.CHM(t),e.oxw(2).discount(s.target.value)}),e.qZA(),e.YNc(59,s2,2,1,"div",19),e.qZA(),e.TgZ(60,"div",33),e.TgZ(61,"label"),e._uU(62,"Total Price:"),e.qZA(),e._UZ(63,"input",35),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(64,"br"),e.TgZ(65,"div",16),e.TgZ(66,"div",36),e.TgZ(67,"button",37),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).addStoreItems()}),e._uU(68," Update"),e.qZA(),e._uU(69,"\xa0 "),e.TgZ(70,"button",38),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).addCancel()}),e._uU(71," Cancel "),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("formGroup",t.storeitemForm),e.xp6(6),e.Q6J("ngClass",e.VKq(11,V,t.submitted&&t.f.recDate.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.recDate.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(13,V,t.submitted&&t.f.PONumber.errors)),e.xp6(2),e.Q6J("ngIf",t.submitted&&t.f.PONumber.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(15,V,t.submitted&&t.f.invNo.errors)),e.xp6(2),e.Q6J("ngIf",t.submitted&&t.f.invNo.errors),e.xp6(29),e.Q6J("ngForOf",t.quantities().controls),e.xp6(10),e.Q6J("ngClass",e.VKq(17,V,t.submitted&&t.storeitemForm.controls.Discount.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.storeitemForm.controls.Discount.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(19,V,t.submitted&&t.storeitemForm.controls.totalPrice.errors))}}function a2(i,n){if(1&i&&(e.TgZ(0,"div"),e.TgZ(1,"div",1),e.YNc(2,q0,2,0,"div",2),e.YNc(3,x0,2,0,"div",2),e.YNc(4,I0,2,0,"div",2),e.YNc(5,y0,2,1,"div",2),e.YNc(6,k0,2,0,"div",3),e.YNc(7,U0,2,0,"div",2),e.YNc(8,N0,2,0,"div",2),e.YNc(9,w0,2,1,"div",2),e.YNc(10,S0,2,0,"div",3),e.qZA(),e.TgZ(11,"ngb-accordion",4),e.TgZ(12,"ngb-panel",5),e.YNc(13,F0,7,1,"ng-template",6),e.YNc(14,r2,72,21,"ng-template",7),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.isVisibleFailure),e.xp6(1),e.Q6J("ngIf",t.isitemDuplicateFailure),e.xp6(1),e.Q6J("ngIf",t.isbatchDuplicateFailure),e.xp6(1),e.Q6J("ngIf",t.isItemGreaterFailure),e.xp6(1),e.Q6J("ngIf",t.isVisibleSuccess),e.xp6(1),e.Q6J("ngIf",t.isitemDuplicateFailure),e.xp6(1),e.Q6J("ngIf",t.isbatchDuplicateFailure),e.xp6(1),e.Q6J("ngIf",t.isItemGreaterFailure),e.xp6(1),e.Q6J("ngIf",t.isVisibleSuccess),e.xp6(1),e.Q6J("closeOthers",!0)}}let l2=(()=>{class i{constructor(t,o,s,r,l,d,m,_){this.myFormBuilder=t,this.route=o,this.router=s,this.storeSer=r,this.storeitemser=l,this.popUpSer=d,this.location=m,this.userService=_,this.isVisibleFailure=!1,this.isVisibleSuccess=!1,this.isitemDuplicateFailure=!1,this.isbatchDuplicateFailure=!1,this.isItemGreaterFailure=!1,this.IsSHowPage=!1,this.itemqty=[],this.rate=[],this.itemoriginalqty=[],this.greaterQuantity=[],this.newPrice=[],this.itemprice=[],this.addednewQuantity=[],this.subId=[],this.BatchNo=[],this.editItem=[],this.expiryDate=[],this.batquantity=[],this.price=[],this.submitted=!1,this.addJson={},this.remainingqty=[],this.store_item_rec_status=[]}get f(){return this.storeitemForm.controls}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():(this.formControls(),this.userService.checkUserHasAccess("/pages/store-item-recieved").subscribe(t=>{if(t.length>0){this.IsSHowPage=!0;let o=this.route.snapshot.params.id,s=this.route.snapshot.params.inv;o&&s&&this.getEditData(o,s)}else this.IsSHowPage=!1,this.popUpSer.confirmCommon("","You have no access to view page").then(o=>{}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)"))}))}formControls(){this.storeitemForm=this.myFormBuilder.group({MainId:[""],recDate:["",a.kI.required],invNo:["",a.kI.required],PONumber:["",a.kI.required],Discount:[""],totalPrice:[""],quantities:this.myFormBuilder.array([])})}quantities(){return this.storeitemForm.get("quantities")}newQuantity(t){return this.myFormBuilder.group({subid:[this.subId[t]],storeitems:[this.editItem[t],a.kI.required],batches:[this.BatchNo[t]],ExpiryDate:[this.expiryDate[t],a.kI.required],qty:[this.itemqty[t]],ordqty:[this.remainingqty[t]],rate:[this.rate[t]],price:[this.itemprice[t]]})}addQuantity(t){this.quantities().push(this.newQuantity(t))}removeQuantity(t){this.storeitemForm.value.quantities[t].subid==this.subId[t]?(console.log(this.storeitemForm.value.quantities[t].subid),this.popUpSer.confirmCommon("","Do you really want to delete").then(o=>{o&&this.storeSer.deletestoreitemsub(this.storeitemForm.value.quantities[t].subid).subscribe(s=>{this.quantities().removeAt(t),this.itemprice.splice(t,1),this.rate.splice(t,1),this.newPrice.splice(t,1),this.itemqty.splice(t,1),this.itemoriginalqty.splice(t,1),this.addednewQuantity.splice(t,1),this.subId.splice(t,1),$("is-invalid").length<=0&&$(".fail").prop("disabled",!1)})}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)"))):this.quantities().removeAt(t)}function(t){return`${t}`}getEditData(t,o){let s=o.toString();this.storeSer.getEditStoreRecData(t,s).subscribe(r=>{if(r.length>0){console.log(r,"response"),this.searchInvoice(r[0].PONumber),this.storeitemForm.controls.MainId.setValue(t),this.storeitemForm.controls.invNo.setValue(r[0].InvoiceNo),this.storeitemForm.controls.recDate.setValue(r[0].recDate),this.storeitemForm.controls.PONumber.setValue(r[0].PONumber),this.storeitemForm.controls.Discount.setValue(r[0].Discount),console.log("id here",r[0].subId),this.PONumber=r[0].PONumber;for(let l in r){this.subId.push(r[l].subId),console.log("id here",r[l].subId),this.editItem.push(r[l].ItemCode),this.BatchNo.push(r[l].BatchNo),this.expiryDate.push(r[l].expiryDate),this.batquantity.push(r[l].ItemQty),this.remainingqty.push(r[l].remaingqty),this.store_item_rec_status.push(r[l].storeitemrecsubstatus),this.rate.splice(parseInt(l),1,r[l].Rate),this.itemqty.splice(parseInt(l),1,r[l].ItemQty);let d=r[l].ItemQty*r[l].Rate;console.log(d),this.itemprice.splice(l,1,d);let m=this.itemprice.reduce((A,I)=>A+I,0),_=m/100*r[0].Discount;console.log(_,"result");let Z=m-_;console.log(Z,"final_discount"),this.storeitemForm.controls.totalPrice.setValue(Z),this.itemoriginalqty.splice(parseInt(l),1,r[l].remaingqty),this.addednewQuantity.splice(parseInt(l),1,r[l].ItemQty),this.newPrice.splice(parseInt(l),1,r[l].Rate),this.price.push(r[l].Rate),this.addQuantity(l)}}}),console.log("\u{1f680}  ~ getEditData ~ this.remainingqty",this.remainingqty)}discount(t){console.log(t,"discount"),console.log(this.itemprice);let o=this.itemprice.reduce((l,d)=>l+d,0),s=o/100*t;console.log(s,"result");let r=o-s;console.log(r,"final_discount"),this.storeitemForm.controls.totalPrice.setValue(r)}unitPriceChange(t,o){let s=this.storeitemForm.controls.Discount.value;console.log(t),console.log(o);let r=this.itemqty[o]*this.storeitemForm.controls.quantities.value[o].rate;console.log(r),this.itemprice.splice(o,1,r),this.rate.splice(o,1,t),console.log(this.itemprice);let l=this.itemprice.reduce((_,Z)=>_+Z,0),d=l/100*s;console.log(d,"result"),console.log(l);let m=l-d;console.log(m,"final_discount"),this.storeitemForm.controls.totalPrice.setValue(m)}oldValue(t,o){this.OldValue=t}qtyChange(t,o,s){console.log(s,"event");let r=this.storeitemForm.controls.Discount.value,l=t*this.storeitemForm.controls.quantities.value[o].rate;this.itemprice.splice(o,1,l),console.log(this.itemprice);let d=this.itemprice.reduce((_,Z)=>_+Z,0);if(""!=r){let _=d/100*r;console.log(_,"result");let Z=d-_;console.log(Z,"final_discount"),this.storeitemForm.controls.totalPrice.setValue(Z)}else this.storeitemForm.controls.totalPrice.setValue(d);this.itemprice.splice(o,1,l);let m=".itemqty"+o;console.log("\u{1f680} ~ this.itemoriginalqty[i]+value < event",this.itemoriginalqty[o],s,t),this.itemoriginalqty[o]+s<t?(this.alertres=this.itemoriginalqty[o],this.isItemGreaterFailure=!0,setTimeout(()=>this.isItemGreaterFailure=!1,3e3),$(m).addClass("is-invalid"),$(m).addClass("ng-invalid"),$(".fail").prop("disabled",!0),this.greaterQuantity[o]=!0):(console.log(this.remainingqty[o],"remain"),console.log(this.itemoriginalqty[o],"orignal"),this.remainingqty.splice(o,1,this.itemoriginalqty[o]+s-t),this.addednewQuantity.splice(o,1,t),$(m).removeClass("is-invalid"),$(m).removeClass("invalid"),this.greaterQuantity[o]=!1,-1===this.greaterQuantity.indexOf(!0)&&$(".fail").prop("disabled",!1))}searchInvoice(t){console.log(t),this.storeitemser.getstorebyInvoice(t).subscribe(o=>{this.allstoreitems=o})}addStoreItems(){if(this.submitted=!0,this.storeitemForm.invalid)console.log(this.storeitemForm);else{let o=[],s=[],r="";for(var t in console.log("\u{1f680} ~ file: edit-store-item-received.component.ts ~ line 343 ~ EditStoreItemReceivedComponent ~ addStoreItems ~ string",r),this.storeitemForm.value.quantities)o.push(parseInt(this.storeitemForm.value.quantities[t].storeitems)),s.push(parseInt(this.storeitemForm.value.quantities[t].batches)),0!=this.remainingqty[t]?(console.log("rem qty if"),this.store_item_rec_status[t]=0):(console.log("rem qty else"),this.store_item_rec_status[t]=1),r=r+","+this.storeitemForm.value.quantities[t].subid+"+"+this.storeitemForm.value.quantities[t].storeitems+","+this.storeitemForm.value.quantities[t].batches+","+this.storeitemForm.value.quantities[t].ExpiryDate+","+this.addednewQuantity[t]+","+this.itemqty[t]+","+this.rate[t]+","+this.store_item_rec_status[t];let l=this.checkIfArrayIsUnique(o);l||(this.isitemDuplicateFailure=!0,setTimeout(()=>this.isitemDuplicateFailure=!1,2e3)),l&&(this.addJson={mainId:this.storeitemForm.value.MainId,recDate:this.storeitemForm.value.recDate,invNo:this.storeitemForm.value.invNo,PONumber:this.storeitemForm.value.PONumber,Discount:this.storeitemForm.value.Discount,EmployeeId:localStorage.getItem("CurrentUserId"),recSub:r+","},console.log("\u{1f680} ~ file: edit-store-item-received.component.ts ~ line 384 ~ EditStoreItemReceivedComponent ~ addStoreItems ~ string",r),this.storeSer.updateStoreRec(this.addJson).subscribe(d=>{console.log(d),d&&(this.isVisibleSuccess=!0,setTimeout(()=>this.isVisibleSuccess=!1,3e3),setTimeout(()=>this.router.navigate(["pages/store-item-recieved"]),3e3))}))}}checkIfArrayIsUnique(t){return t.length===new Set(t).size}addCancel(){this.location.back()}changeItem(t,o,s){this.storeSer.getDatabyitem(t,s.value).subscribe(r=>{r.length>0&&(this.itemprice.splice(o,1,r[0].TotalPrice),this.itemqty.splice(o,1,r[0].Quantity),this.newPrice.splice(o,1,r[0].TotalPrice),this.addednewQuantity.splice(o,1,r[0].Quantity))})}ngOnDestroy(){console.log("destroyed")}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(p.gz),e.Y36(p.F0),e.Y36(ee),e.Y36(M),e.Y36(b),e.Y36(g.Ye),e.Y36(h))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit-store-item-received"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"content-wrapper"],["class","alertnotify","style","background: #cb3837",4,"ngIf"],["class","alertnotify","style","background: #54a254",4,"ngIf"],["activeIds","toggle-11",3,"closeOthers"],["id","toggle-11"],["ngbPanelTitle",""],["ngbPanelContent",""],[1,"alertnotify",2,"background","#cb3837"],[1,"alertnotify",2,"background","#54a254"],[1,"card-header--title"],[1,"text-dark"],[1,"pull-right"],[1,"fa","fa-angle-down","fa-lg"],[3,"formGroup"],["type","hidden","formControlName","MainId","id","MainId"],[1,"row"],[1,"col-6","col-sm-6","col-md-3","col-lg-3"],["disabled","","type","date","placeholder","Received Date","formControlName","recDate","id","recDate",1,"form-control","form-control-sm",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","text","disabled","","placeholder","Purchase Order No","formControlName","PONumber","id","PONumber",1,"form-control","form-control-sm",3,"ngClass"],["invoiceId",""],["type","number","disabled","","placeholder","Invoice No","formControlName","invNo","id","invNo",1,"form-control","form-control-sm",3,"ngClass"],[1,"ml-4"],[1,"col-lg-12"],[1,"col-md-2","mt-2",2,"font-weight","700","margin-bottom","-4px"],["for",""],[1,"col-md-1","mt-2",2,"font-weight","700","margin-bottom","-4px"],[1,"row","mt-2"],["formArrayName","quantities","id","tbl"],["class","row mt-1",3,"formGroupName",4,"ngFor","ngForOf"],[1,"row","mt-1"],[1,"col-9","mt-1"],[1,"col-1","mt-1",2,"font-weight","700","margin-bottom","-4px"],["type","number","formControlName","Discount","id","Discount","min","0","max","100",1,"form-control","form-control-sm",3,"ngClass","input"],["type","number","formControlName","totalPrice","disabled","","id","totalPrice","min","0",1,"form-control","form-control-sm",3,"ngClass"],[1,"col","text-right","mb-1"],[1,"btn","upload-btn","btn-sm","fail",3,"click"],[1,"btn","reset-btn","btn-sm",3,"click"],[1,"invalid-feedback"],[1,"row","mt-1",3,"formGroupName"],[1,"col-md-2"],["type","text","hidden","","formControlName","subid"],["disabled","","formControlName","storeitems","id","storeitems","aria-placeholder","Please",1,"form-control","form-control-sm",2,"appearance","none",3,"ngClass","change"],[3,"value",4,"ngFor","ngForOf"],["disabled","","type","text","formControlName","batches","id","charges","min","1",1,"form-control","form-control-sm",3,"ngClass"],["type","date","formControlName","ExpiryDate","id","ExpiryDate",1,"form-control","form-control-sm",3,"ngClass"],[1,"col-md-1"],["type","number","formControlName","qty","id","qty","min","0",3,"value","ngClass","change"],["type","number","formControlName","rate","id","rate","min","0",1,"form-control","form-control-sm",3,"value","ngClass","input"],["type","number","formControlName","ordqty","id","ordqty","disabled","","min","0",1,"form-control","form-control-sm","resetqty",3,"value","ngClass"],["type","number","formControlName","price","id","price","disabled","","min","0",1,"form-control","form-control-sm",3,"value","ngClass"],[3,"value"]],template:function(t,o){1&t&&e.YNc(0,a2,15,10,"div",0),2&t&&e.Q6J("ngIf",o.IsSHowPage)},directives:[g.O5,u.gY,u.Gk,u.Cu,u.gW,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,g.mk,a.wV,a.CE,g.sg,a.x0,a.EJ,a.YN,a.Kr,a.qQ,a.Fd],styles:[""]}),i})();function d2(i,n){1&i&&(e.TgZ(0,"div",23),e._uU(1," Something went wrong!. "),e.qZA())}function c2(i,n){if(1&i&&(e.TgZ(0,"div",23),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" Batch quantity should be less than or equal to ",t.alertres,"!. ")}}function u2(i,n){1&i&&(e.TgZ(0,"div",23),e._uU(1," Duplicate Item found!. "),e.qZA())}function g2(i,n){1&i&&(e.TgZ(0,"div",23),e._uU(1," Duplicate Batch found!. "),e.qZA())}function m2(i,n){1&i&&(e.TgZ(0,"div",23),e._uU(1," Incorrect Password!. "),e.qZA())}function p2(i,n){1&i&&(e.TgZ(0,"div",24),e._uU(1," Added Successfully!. "),e.qZA())}function _2(i,n){1&i&&(e.TgZ(0,"div",23),e._uU(1," Deleted Successfully!. "),e.qZA())}function h2(i,n){1&i&&(e.TgZ(0,"div",23),e._uU(1," Already received!. "),e.qZA())}function f2(i,n){1&i&&(e.TgZ(0,"span",25),e._uU(1,"Add Store Items Received"),e.qZA(),e.TgZ(2,"div",26),e._UZ(3,"i",27),e.qZA())}function Z2(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Received Date is required "),e.qZA())}function b2(i,n){if(1&i&&(e.TgZ(0,"div",54),e.YNc(1,Z2,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.recDate.errors.required)}}function v2(i,n){if(1&i&&(e.TgZ(0,"option",55),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.InvoiceNo),e.xp6(1),e.hij(" ",t.InvoiceNo," ")}}function T2(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Please select Purchase Order No."),e.qZA())}function A2(i,n){if(1&i&&(e.TgZ(0,"div",54),e.YNc(1,T2,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.invNo.errors.required)}}function C2(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Invoice Number is required"),e.qZA())}function q2(i,n){if(1&i&&(e.TgZ(0,"div",54),e.YNc(1,C2,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.InvoiceNo.errors.required)}}function x2(i,n){if(1&i&&(e.TgZ(0,"option",55),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.ItemId),e.xp6(1),e.hij(" ",t.ItemName," ")}}function I2(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Item is required "),e.qZA())}function y2(i,n){if(1&i&&(e.TgZ(0,"div",54),e.YNc(1,I2,2,0,"div",0),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.controls.storeitems.errors.required)}}function k2(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Expiry Date is required "),e.qZA())}function U2(i,n){if(1&i&&(e.TgZ(0,"div",54),e.YNc(1,k2,2,0,"div",0),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.controls.ExpiryDate.errors.required)}}function N2(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Quantity is required "),e.qZA())}function w2(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Quantity must be positive "),e.qZA())}function S2(i,n){if(1&i&&(e.TgZ(0,"div",54),e.YNc(1,N2,2,0,"div",0),e.YNc(2,w2,2,0,"div",0),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.controls.qty.errors.required),e.xp6(1),e.Q6J("ngIf",t.controls.qty.errors.pattern)}}function F2(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Rate is required "),e.qZA())}function D2(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Rate must be positive "),e.qZA())}function J2(i,n){if(1&i&&(e.TgZ(0,"div",54),e.YNc(1,F2,2,0,"div",0),e.YNc(2,D2,2,0,"div",0),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.controls.rate.errors.required),e.xp6(1),e.Q6J("ngIf",t.controls.rate.errors.pattern)}}function E2(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Quantity is required "),e.qZA())}function R2(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Quantity must be positive "),e.qZA())}function P2(i,n){if(1&i&&(e.TgZ(0,"div",54),e.YNc(1,E2,2,0,"div",0),e.YNc(2,R2,2,0,"div",0),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.controls.ordqty.errors.required),e.xp6(1),e.Q6J("ngIf",t.controls.ordqty.errors.pattern)}}function Y2(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Quantity is required "),e.qZA())}function Q2(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Quantity must be positive "),e.qZA())}function O2(i,n){if(1&i&&(e.TgZ(0,"div",54),e.YNc(1,Y2,2,0,"div",0),e.YNc(2,Q2,2,0,"div",0),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.controls.remaingqty.errors.required),e.xp6(1),e.Q6J("ngIf",t.controls.remaingqty.errors.pattern)}}const G=function(i){return{"is-invalid":i}};function M2(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",56),e.TgZ(1,"div",57),e.TgZ(2,"select",58),e.NdJ("change",function(s){const l=e.CHM(t).index;e.oxw();const d=e.MAs(11);return e.oxw(2).changeItem(s.target.value,l,d)}),e.TgZ(3,"option",35),e._uU(4,"Please Select"),e.qZA(),e.YNc(5,x2,2,2,"option",36),e.qZA(),e.YNc(6,y2,2,1,"div",32),e.qZA(),e.TgZ(7,"div",57),e._UZ(8,"input",59),e.YNc(9,U2,2,1,"div",32),e.qZA(),e.TgZ(10,"div",60),e.TgZ(11,"input",61),e.NdJ("change",function(s){const l=e.CHM(t).index;return e.oxw(3).qtyChange(s.target.value,l)}),e.qZA(),e.YNc(12,S2,3,2,"div",32),e.qZA(),e.TgZ(13,"div",60),e.TgZ(14,"input",62),e.NdJ("input",function(s){const l=e.CHM(t).index;return e.oxw(3).unitPriceChange(s.target.value,l)}),e.qZA(),e.YNc(15,J2,3,2,"div",32),e.qZA(),e.TgZ(16,"div",60),e._UZ(17,"input",63),e.YNc(18,P2,3,2,"div",32),e.qZA(),e.TgZ(19,"div",60),e._UZ(20,"input",64),e.YNc(21,O2,3,2,"div",32),e.qZA(),e.TgZ(22,"div",60),e._UZ(23,"input",65),e.qZA(),e._UZ(24,"div",60),e.qZA()}if(2&i){const t=n.$implicit,o=n.index,s=e.oxw(3);e.Q6J("formGroupName",o),e.xp6(2),e.Q6J("ngClass",e.VKq(25,G,s.submitted&&t.controls.storeitems.errors)),e.xp6(3),e.Q6J("ngForOf",s.allstoreitems1),e.xp6(1),e.Q6J("ngIf",s.submitted&&t.controls.storeitems.errors),e.xp6(2),e.Q6J("min",s.maxDate)("ngClass",e.VKq(27,G,s.submitted&&t.controls.ExpiryDate.errors)),e.xp6(1),e.Q6J("ngIf",s.submitted&&t.controls.ExpiryDate.errors),e.xp6(2),e.Gre("form-control form-control-sm itemqty",o," resetqty"),e.MGl("id","qty",o,""),e.Q6J("value",s.itemqty[o])("ngClass",e.VKq(29,G,s.submitted&&t.controls.qty.errors)),e.xp6(1),e.Q6J("ngIf",s.submitted&&t.controls.qty.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(31,G,s.submitted&&t.controls.rate.errors)),e.xp6(1),e.Q6J("ngIf",s.submitted&&t.controls.rate.errors),e.xp6(2),e.Q6J("value",s.origininalitemqty[o])("ngClass",e.VKq(33,G,s.submitted&&t.controls.ordqty.errors)),e.uIk("disabled",!0),e.xp6(1),e.Q6J("ngIf",s.submitted&&t.controls.ordqty.errors),e.xp6(2),e.Q6J("value",s.remainingqty[o])("ngClass",e.VKq(35,G,s.submitted&&t.controls.remaingqty.errors)),e.xp6(1),e.Q6J("ngIf",s.submitted&&t.controls.remaingqty.errors),e.xp6(2),e.Q6J("value",s.itemprice[o]),e.uIk("disabled",!0)}}function V2(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Discount must be positive "),e.qZA())}function B2(i,n){if(1&i&&(e.TgZ(0,"div",54),e.YNc(1,V2,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.storeitemForm.controls.Discount.errors.pattern)}}function H2(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"form",28),e.TgZ(1,"div",29),e.TgZ(2,"div",30),e.TgZ(3,"label"),e._uU(4,"Rec Date "),e.qZA(),e._UZ(5,"input",31),e.YNc(6,b2,2,1,"div",32),e.qZA(),e.TgZ(7,"div",30),e.TgZ(8,"label"),e._uU(9,"Purchase Order No "),e.qZA(),e.TgZ(10,"select",33,34),e.NdJ("change",function(){return e.CHM(t),e.oxw(2).searchInvoice()}),e.TgZ(12,"option",35),e._uU(13,"Please Select"),e.qZA(),e.YNc(14,v2,2,2,"option",36),e.qZA(),e.YNc(15,A2,2,1,"div",32),e.qZA(),e.TgZ(16,"div",30),e.TgZ(17,"label"),e._uU(18,"Invoice No "),e.qZA(),e._UZ(19,"input",37),e.YNc(20,q2,2,1,"div",32),e.qZA(),e.qZA(),e.TgZ(21,"div",38),e.TgZ(22,"div",29),e.TgZ(23,"div",39),e.TgZ(24,"div",29),e.TgZ(25,"div",40),e.TgZ(26,"label",41),e._uU(27,"Items"),e.qZA(),e.qZA(),e.TgZ(28,"div",40),e.TgZ(29,"label",41),e._uU(30,"Expiry Date"),e.qZA(),e.qZA(),e.TgZ(31,"div",42),e.TgZ(32,"label",41),e._uU(33,"ReceivedQty"),e.qZA(),e.qZA(),e.TgZ(34,"div",42),e.TgZ(35,"label",41),e._uU(36,"Rate"),e.qZA(),e.qZA(),e.TgZ(37,"div",42),e.TgZ(38,"label",41),e._uU(39,"OrderedQty"),e.qZA(),e.qZA(),e.TgZ(40,"div",42),e.TgZ(41,"label",41),e._uU(42,"RemainingQty"),e.qZA(),e.qZA(),e.TgZ(43,"div",42),e.TgZ(44,"label",41),e._uU(45,"Price"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(46,"div",43),e.TgZ(47,"div",39),e.TgZ(48,"div",44),e.YNc(49,M2,25,37,"div",45),e.qZA(),e.qZA(),e.qZA(),e.TgZ(50,"div",43),e.TgZ(51,"div",39),e.TgZ(52,"div",46),e._UZ(53,"div",47),e.TgZ(54,"div",48),e.TgZ(55,"label"),e._uU(56,"Discount (%):"),e.qZA(),e.TgZ(57,"input",49),e.NdJ("input",function(s){return e.CHM(t),e.oxw(2).discount(s.target.value)}),e.qZA(),e.YNc(58,B2,2,1,"div",32),e.qZA(),e.TgZ(59,"div",48),e.TgZ(60,"label"),e._uU(61,"Total Price:"),e.qZA(),e._UZ(62,"input",50),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(63,"br"),e.TgZ(64,"div",29),e.TgZ(65,"div",51),e.TgZ(66,"button",52),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).addStoreItems()}),e._uU(67,"Submit"),e.qZA(),e.TgZ(68,"button",53),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).addCancel()}),e._uU(69," Reset "),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("formGroup",t.storeitemForm),e.xp6(5),e.Q6J("max",t.maxDate)("ngClass",e.VKq(13,G,t.submitted&&t.f.recDate.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.recDate.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(15,G,t.submitted&&t.f.invNo.errors)),e.xp6(4),e.Q6J("ngForOf",t.allinvoice),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.invNo.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(17,G,t.submitted&&t.f.InvoiceNo.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.InvoiceNo.errors),e.xp6(29),e.Q6J("ngForOf",t.quantities().controls),e.xp6(8),e.Q6J("ngClass",e.VKq(19,G,t.submitted&&t.storeitemForm.controls.Discount.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.storeitemForm.controls.Discount.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(21,G,t.submitted&&t.storeitemForm.controls.totalPrice.errors))}}function $2(i,n){if(1&i&&(e.TgZ(0,"td",75),e.TgZ(1,"strong"),e._uU(2),e.qZA(),e.qZA()),2&i){const t=e.oxw(),o=t.index,s=t.$implicit;e.xp6(2),e.lnq(" ",o+1,". ",s[0].PONumber," / ",s[0].VendorName,"")}}function L2(i,n){if(1&i&&(e.TgZ(0,"td"),e.TgZ(1,"strong"),e._uU(2),e.qZA(),e.qZA()),2&i){const t=e.oxw(),o=t.index,s=t.$implicit;e.xp6(2),e.lnq(" ",o+1,". ",s[0].PONumber," / ",s[0].VendorName,"")}}function G2(i,n){1&i&&e._UZ(0,"tr")}function j2(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",78),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,r=e.oxw(2).$implicit;return e.oxw(3).Edit(s.mainId,r[0].PONumber)}),e._UZ(1,"i",79),e.qZA()}if(2&i){const t=e.oxw(3).$implicit;e.Q6J("disabled",1==t[0].ISROCompleted)}}function z2(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",80),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;return e.oxw(5).Delete(s.mainId)}),e._UZ(1,"i",81),e.qZA()}if(2&i){const t=e.oxw(3).$implicit;e.Q6J("disabled",1==t[0].ISROCompleted)}}function W2(i,n){if(1&i&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e.YNc(10,j2,2,1,"button",76),e._uU(11," \xa0 "),e.YNc(12,z2,2,1,"button",77),e.qZA(),e.qZA()),2&i){const t=n.$implicit,o=n.index,s=e.oxw(5);e.xp6(2),e.hij(" ",o+1," "),e.xp6(2),e.Oqu(t.InvoiceNo),e.xp6(2),e.Oqu(t.EmployeeName),e.xp6(2),e.Oqu(t.ReceivedDate),e.xp6(2),e.Q6J("ngIf",s.editrec),e.xp6(2),e.Q6J("ngIf",s.deleterec)}}function K2(i,n){if(1&i&&(e.ynx(0),e.YNc(1,G2,1,0,"tr",72),e.TgZ(2,"table",70),e.TgZ(3,"thead"),e.TgZ(4,"th",71),e._uU(5,"Sr.No"),e.qZA(),e.TgZ(6,"th",71),e._uU(7,"Invoice Number"),e.qZA(),e.TgZ(8,"th",71),e._uU(9,"Employee Name"),e.qZA(),e.TgZ(10,"th",71),e._uU(11,"Received Date"),e.qZA(),e.TgZ(12,"th",71),e._uU(13,"Action"),e.qZA(),e.qZA(),e.TgZ(14,"tbody"),e.YNc(15,W2,13,6,"tr",72),e.qZA(),e.qZA(),e.BQk()),2&i){const t=e.oxw().$implicit,o=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",o.findDetails(t)),e.xp6(14),e.Q6J("ngForOf",o.data2)}}function X2(i,n){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr",73),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return r.expanded=!r.expanded}),e.YNc(2,$2,3,3,"td",74),e.YNc(3,L2,3,3,"td",0),e.qZA(),e.YNc(4,K2,16,2,"ng-container",0),e._UZ(5,"hr"),e.BQk()}if(2&i){const t=n.$implicit;e.xp6(2),e.Q6J("ngIf",1==t[0].ISROCompleted),e.xp6(1),e.Q6J("ngIf",0==t[0].ISROCompleted),e.xp6(1),e.Q6J("ngIf",t.expanded)}}function eb(i,n){if(1&i&&(e.TgZ(0,"div",66),e.TgZ(1,"div",39),e.TgZ(2,"div",67),e.TgZ(3,"div",68),e.TgZ(4,"b"),e._uU(5,"Store Item Received"),e.qZA(),e.qZA(),e.TgZ(6,"div",69),e.TgZ(7,"table",70),e.TgZ(8,"thead"),e.TgZ(9,"th",71),e._uU(10,"Purchase Order No. / Vendor Name"),e.qZA(),e.qZA(),e.TgZ(11,"tbody"),e.YNc(12,X2,6,3,"ng-container",72),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(12),e.Q6J("ngForOf",t.allrecord)}}function tb(i,n){if(1&i&&(e.TgZ(0,"tr"),e.TgZ(1,"th",83),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.qZA()),2&i){const t=n.$implicit,o=n.index;e.xp6(2),e.Oqu(o+1),e.xp6(2),e.AsE("",t.InvoiceNo," ",t.PONumber,""),e.xp6(2),e.Oqu(t.ItemName),e.xp6(2),e.Oqu(t.originalqty),e.xp6(2),e.Oqu(t.receivedqty),e.xp6(2),e.Oqu(t.remaingqty)}}function ib(i,n){if(1&i&&(e.TgZ(0,"div",66),e.TgZ(1,"div",39),e.TgZ(2,"div",67),e.TgZ(3,"div",68),e.TgZ(4,"b"),e._uU(5,"Invoice Record"),e.qZA(),e.qZA(),e.TgZ(6,"div",69),e.TgZ(7,"table",82),e.TgZ(8,"thead"),e.TgZ(9,"tr"),e.TgZ(10,"th",71),e._uU(11,"#"),e.qZA(),e.TgZ(12,"th",71),e._uU(13,"PO Number"),e.qZA(),e.TgZ(14,"th",71),e._uU(15,"Item Name"),e.qZA(),e.TgZ(16,"th",71),e._uU(17,"OrderedQty"),e.qZA(),e.TgZ(18,"th",71),e._uU(19,"ReceivedQty"),e.qZA(),e.TgZ(20,"th",71),e._uU(21,"PendingQty"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(22,"tbody"),e.YNc(23,tb,13,7,"tr",72),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(23),e.Q6J("ngForOf",t.purOrder)}}function ob(i,n){if(1&i&&(e.TgZ(0,"div"),e.TgZ(1,"div",14),e.YNc(2,d2,2,0,"div",15),e.YNc(3,c2,2,1,"div",15),e.YNc(4,u2,2,0,"div",15),e.YNc(5,g2,2,0,"div",15),e.YNc(6,m2,2,0,"div",16),e.YNc(7,p2,2,0,"div",17),e.YNc(8,_2,2,0,"div",15),e.YNc(9,h2,2,0,"div",15),e.qZA(),e.TgZ(10,"ngb-accordion",18),e.TgZ(11,"ngb-panel",19),e.YNc(12,f2,4,0,"ng-template",20),e.YNc(13,H2,70,23,"ng-template",21),e.qZA(),e.qZA(),e.YNc(14,eb,13,1,"div",22),e.YNc(15,ib,24,1,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.isVisibleFailure),e.xp6(1),e.Q6J("ngIf",t.isItemGreaterFailure),e.xp6(1),e.Q6J("ngIf",t.isitemDuplicateFailure),e.xp6(1),e.Q6J("ngIf",t.isbatchDuplicateFailure),e.xp6(1),e.Q6J("ngIf",t.isVisibleFailureInvalidPassword),e.xp6(1),e.Q6J("ngIf",t.isVisibleSuccess),e.xp6(1),e.Q6J("ngIf",t.deleteSuccess),e.xp6(1),e.Q6J("ngIf",t.ISROCompleted),e.xp6(1),e.Q6J("closeOthers",!0),e.xp6(4),e.Q6J("ngIf",t.tablerec),e.xp6(1),e.Q6J("ngIf",t.invoicerec)}}let nb=(()=>{class i{constructor(t,o,s,r,l,d,m){this.myFormBuilder=t,this.storeitemser=o,this.storeRec=s,this.detectChanges=r,this.myRouter=l,this.userService=d,this.popUpSer=m,this.itemName=[],this.diablebtn=!0,this.greaterQuantity=[],this.addednewQuantity=[],this.submitted=!1,this.Deactivate=!1,this.showModal=!1,this.invoicerec=!1,this.isVisibleSuccess=!1,this.isVisibleFailure=!1,this.isItemGreaterFailure=!1,this.isitemDuplicateFailure=!1,this.isbatchDuplicateFailure=!1,this.IsSHowPage=!1,this.tablerec=!1,this.editrec=!1,this.deleterec=!1,this.isVisibleFailurePassword=!1,this.isVisibleSuccessDoctorDelete=!1,this.isVisibleSuccessDelete=!1,this.isVisibleFailureInvalidPassword=!1,this.isVisibleFailureEmailNotExist=!1,this.allstoreitems=[],this.purOrder=[],this.allstoreitems1=[],this.itemqty=[],this.origininalitemqty=[],this.remainingqty=[],this.remainingfqty=[],this.newPrice=[],this.itemprice=[],this.singleprice=[],this.rate=[],this.formdata={},this.store_item_rec_status=[],this.ISROCompleted=!1,this.addJson={},this.maxDate=(0,g.p6)(new Date,"yyyy-MM-dd","en"),this.expandContent=!0,this.data1=[{name:"john",place:"forest",phone:"124-896-8963",expanded:!1},{name:"Jay",place:"City",phone:"124-896-1234",expanded:!1},{name:"Joseph",place:"sky",phone:"124-896-9632",expanded:!1}],this.data2=[],this.editItem=[]}get f(){return this.storeitemForm.controls}ngOnInit(){this.date=(0,g.p6)(new Date,"yyyy-MM-dd","en"),this.deleteformControlss(),this.userService.tokenExpired()?this.userService.logout():(this.userService.checkUserHasAccess("/pages/store-item-recieved").subscribe(t=>{t.length>0?(this.IsSHowPage=!0,this.formControls(),this.getallstoreitemrec(),this.addQuantity(0),this.getInvoice()):(this.IsSHowPage=!1,this.popUpSer.confirmCommon("","You have no access to view page").then(o=>{}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)")))}),setTimeout(()=>{this.userService.checkUserHasAccess("/pages/list-store-itemrec").subscribe(t=>{t.length>0?(this.tablerec=!0,this.getallrecord(),setTimeout(()=>{this.userService.checkUserHasAccess("/pages/edit-store-itemrec").subscribe(o=>{this.editrec=o.length>0})},300),setTimeout(()=>{this.userService.checkUserHasAccess("/pages/delete-store-itemrec").subscribe(o=>{this.deleterec=o.length>0})},300)):this.tablerec=!1})},200))}getallstoreitemrec(){$("#PO-tbl").DataTable().clear(),this.storeRec.getAllRecord().subscribe(t=>{console.log(t),t?this.DataformDb=t:alert("cant get value form Db"),this.detectChanges.detectChanges(),$("#PO-tbl").DataTable({paging:!0,searching:!0,ordering:!0})}),$("#PO-tbl").dataTable().fnDestroy()}formControls(){this.storeitemForm=this.myFormBuilder.group({recDate:[this.date,a.kI.required],invNo:["",a.kI.required],InvoiceNo:["",a.kI.required],Discount:["",[a.kI.pattern("^[0-9]*[1-9]+[0-9]*$")]],totalPrice:["0"],quantities:this.myFormBuilder.array([])})}searchInvoice(){this.quantities().clear(),this.editItem=[],this.itemName=[],this.itemprice=[],this.itemqty=[],this.origininalitemqty=[],this.remainingqty=[],this.allstoreitems=[],this.rate=[];for(let t in this.storeitemForm.value.quantities)this.removeQuantity(parseInt(t));"null"==this.storeitemForm.value.invNo||""==this.storeitemForm.value.invNo?alert("Please enter Invoice No"):(console.log(this.storeitemForm.value.invNo," i am here"),this.storeitemser.getstorebyInvoice(this.storeitemForm.value.invNo).subscribe(t=>{if(console.log(t),t.length>0){this.allstoreitems=t,console.log(this.allstoreitems),this.purOrder=t,this.quantities().clear();let o=[];for(let s=0;s<this.allstoreitems.length;s++)this.store_item_rec_status.splice(s,1,this.allstoreitems[s].store_item_rec_sub_status),1==this.allstoreitems[s].store_item_rec_sub_status?console.log("no scene"):o.push(this.allstoreitems[s]);if(console.log("beforeeee"),this.allstoreitems=[],this.allstoreitems=o,console.log(this.allstoreitems,"checkkkk"),this.allstoreitems.length>0&&0==t[0].ISROCompleted){console.log("ifffff");for(let s=0;s<this.allstoreitems.length;s++)this.itemName.push(this.allstoreitems[s].ItemName),this.editItem.push(this.allstoreitems[s].ItemId),this.itemqty.splice(s,1,this.allstoreitems[s].remaingqty),this.origininalitemqty.splice(s,1,this.allstoreitems[s].originalqty),this.itemprice.splice(s,1,this.allstoreitems[s].originalprice/this.allstoreitems[s].originalqty*this.allstoreitems[s].remaingqty),this.remainingqty.splice(s,1,this.allstoreitems[s].remaingqty),this.remainingfqty.splice(s,1,this.allstoreitems[s].remaingqty),this.newPrice.splice(s,1,this.allstoreitems[s].originalprice/this.allstoreitems[s].originalqty),this.addQuantity(s),this.allstoreitems1=Object.values(this.allstoreitems.reduce((r,{ReceiveDateSub:l,Id:d,ItemName:m,ItemId:_,Invoice:Z,originalqty:A,originalprice:I,receivedqty:P,receivedprice:j,remaingqty:z,store_item_rec_sub_status:W})=>(r[d]?r[d].date<l&&(r[d]={Id:d,ReceiveDateSub:l,ItemName:m,ItemId:_,Invoice:Z,originalqty:A,originalprice:I,receivedqty:P,receivedprice:j,remaingqty:z,store_item_rec_sub_status:W}):r[d]={Id:d,ReceiveDateSub:l,ItemName:m,ItemId:_,Invoice:Z,originalqty:A,originalprice:I,receivedqty:P,receivedprice:j,remaingqty:z,store_item_rec_sub_status:W},r),{})),this.invoicerec=!0,this.tablerec=!1}else this.ISROCompleted=!0,setTimeout(()=>this.ISROCompleted=!1,5e3)}}))}getInvoice(){this.storeRec.getInvoice().subscribe(t=>{t.length>0&&(this.allinvoice=t)})}addStoreItems(){if(this.submitted=!0,this.storeitemForm.invalid)return this.getFormValidationErrors(),void console.log("I am here",this.storeitemForm);if(this.storeitemForm.value.quantities.length<=0)alert("please select one value");else{let o=[],s=[],r="";for(var t in console.log(this.storeitemForm.value.quantities),this.storeitemForm.value.quantities)o.push(parseInt(this.storeitemForm.value.quantities[t].storeitems)),s.push(parseInt(this.storeitemForm.value.quantities[t].batches)),console.log(t,"v"),console.log(this.remainingqty,"remainig qty"),0!=this.remainingqty[t]?(console.log("rem qty if"),this.store_item_rec_status[t]=0):(console.log("rem qty else"),this.store_item_rec_status[t]=1),r="0"!=this.storeitemForm.value.quantities[t].qty&&"0"!=this.storeitemForm.value.quantities[t].rate?r+","+this.storeitemForm.value.quantities[t].storeitems+","+this.storeitemForm.value.quantities[t].ItemName+","+this.storeitemForm.value.quantities[t].ExpiryDate+","+this.itemqty[t]+","+this.remainingqty[t]+","+this.storeitemForm.value.quantities[t].rate+","+this.store_item_rec_status[t]:r+","+this.storeitemForm.value.quantities[t].storeitems+","+this.storeitemForm.value.quantities[t].ItemName+","+this.storeitemForm.value.quantities[t].ExpiryDate+",0,"+this.remainingqty[t]+",0,"+this.store_item_rec_status[t];console.log(this.store_item_rec_status,"item status");let l=this.checkIfArrayIsUnique(o);if(l||(this.isitemDuplicateFailure=!0,setTimeout(()=>this.isitemDuplicateFailure=!1,2e3)),l){let d=this.quantities().value,m=0,_=0;console.log(this.remainingqty,"rem  qty checkkkk"),d.forEach(P=>{0!=this.remainingqty[_]&&m++,_++});let Z=1;console.log(m,"quantity_check_count");let A=this.storeitemForm.value.quantities.length,I=this.allstoreitems.length;m>0&&(console.log("quantity if"),Z=0),A!=I&&(console.log("length if"),Z=0),this.addJson={recDate:this.storeitemForm.value.recDate,invNo:this.storeitemForm.value.invNo,InvoiceNo:this.storeitemForm.value.InvoiceNo,Discount:this.storeitemForm.value.Discount,EmployeeId:localStorage.getItem("CurrentUserId"),ISROCompleted:Z,recSub:r+","},console.log(this.addJson),this.storeRec.AddStoreItemRec(this.addJson).subscribe(P=>{P?(this.isVisibleSuccess=!0,setTimeout(()=>this.isVisibleSuccess=!1,3e3),window.location.reload()):(this.isVisibleFailure=!0,setTimeout(()=>this.isVisibleFailure=!1,5e3))})}}}findDetails(t){this.data2=[],this.data2=t}getallrecord(){this.storeRec.getAllRecord().subscribe(t=>{if(t.length>0){console.log("all records "),console.log(t),this.allrecord=t;let s=0,r=this.allrecord.reduce(function(d,m){return d[m.PONumber]=d[m.PONumber]||[],d[m.PONumber].push(m),console.log(d),s++,d},Object.create(null));console.log(r,"temp res");let l=Object.values(r);console.log(l,"entries"),this.allrecord=l,this.detectChanges.detectChanges(),$("#storeitemRecdataTable").DataTable({paging:!0,searching:!0,ordering:!0})}else this.allrecord=[],this.detectChanges.detectChanges(),$("#storeitemRecdataTable").DataTable({paging:!0,searching:!0,ordering:!0})}),$("#storeitemRecdataTable").dataTable().fnDestroy()}addCancel(){this.storeitemForm.reset(),this.submitted=!1,this.tablerec=!0,this.invoicerec=!1,this.quantities().clear(),this.quantities().push(this.newQuantity(0)),this.quantities().reset(),this.greaterQuantity=[],this.allstoreitems=[],this.allstoreitems1=[],$("#storeitemRecdataTable").dataTable().fnDestroy(),this.getallrecord(),$(".resetqty").removeClass("is-invalid"),$(".resetqty").removeClass("invalid"),$(".fail").prop("disabled",!1)}Edit(t,o){this.myRouter.navigate(["pages/edit-store-itemrec/"+t+"/"+o])}Delete(t){this.mainId=t,console.log(t),this.popUpSer.confirmCommon("Please confirm..","Do you really want to delete?").then(o=>{o&&(localStorage.getItem("CurrentUserId"),this.performDeleteAction())}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)"))}getDismissReason(t){return t===u.If.ESC?"by pressing ESC":t===u.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${t}`}quantities(){return this.storeitemForm.get("quantities")}newQuantity(t){return this.myFormBuilder.group({storeitems:[this.editItem[t],a.kI.required],ExpiryDate:[this.date,a.kI.required],qty:["0"],ordqty:[this.origininalitemqty[t]],remaingqty:[this.remainingqty[t]],rate:["0"],price:["0",this.itemprice[t]],ItemName:[this.itemName[t]]})}addQuantity(t){this.quantities().push(this.newQuantity(t))}removeQuantity(t){this.quantities().removeAt(t),this.itemprice.splice(t,1),this.itemqty.splice(t,1),this.rate.splice(t,1),this.origininalitemqty.splice(t,1),this.remainingqty.splice(t,1),this.newPrice.splice(t,1),this.editItem.splice(t,1)}changeItem(t,o,s){let r=this.allstoreitems.filter(l=>l.ItemId==t);console.log(r),setTimeout(()=>{this.itemqty.splice(o,1,r[0].remaingqty),this.origininalitemqty.splice(o,1,r[0].originalqty),this.itemprice.splice(o,1,r[0].originalprice/r[0].originalqty*r[0].remaingqty),this.remainingqty.splice(o,1,r[0].remaingqty),this.remainingfqty.splice(o,1,r[0].remaingqty),this.newPrice.splice(o,1,r[0].originalprice/r[0].originalqty)},300)}checkIfArrayIsUnique(t){return t.length===new Set(t).size}discount(t){console.log(t,"discount"),console.log(this.itemprice);let o=this.itemprice.reduce((d,m)=>d+m,0),r=o/100*t;console.log(r,"result");let l=o-r;console.log(l,"final_discount"),this.storeitemForm.controls.totalPrice.setValue(l)}unitPriceChange(t,o){let s=this.storeitemForm.controls.Discount.value;this.itemprice.splice(o,1,this.itemqty[o]*this.storeitemForm.controls.quantities.value[o].rate),this.rate.splice(o,1,t);let l=this.itemprice.reduce((d,m)=>d+m,0);if(this.storeitemForm.controls.totalPrice.setValue(l),""!=s){console.log("ggggg");let d=l/100*s;console.log(d,"result");let m=l-d;console.log(m,"final_discount"),this.storeitemForm.controls.totalPrice.setValue(m)}else this.storeitemForm.controls.totalPrice.setValue(l)}qtyChange(t,o){let s=this.storeitemForm.controls.Discount.value,r=t*this.storeitemForm.controls.quantities.value[o].rate;this.itemprice.splice(o,1,r),console.log(r),console.log(this.itemprice);let l=this.itemprice.reduce((m,_)=>m+_,0);if(console.log(l),""!=s){console.log("ggggg");let m=l/100*s;console.log(m,"result");let _=l-m;console.log(_,"final_discount"),this.storeitemForm.controls.totalPrice.setValue(_)}else this.storeitemForm.controls.totalPrice.setValue(l);this.itemprice.splice(o,1,r);let d=".itemqty"+o;console.log(this.remainingfqty[o],t,"aneeq i m here"),this.remainingfqty[o]<t?(this.alertres=this.remainingfqty[o],this.isItemGreaterFailure=!0,setTimeout(()=>this.isItemGreaterFailure=!1,3e3),$(d).addClass("is-invalid"),$(d).addClass("ng-invalid"),$(".fail").prop("disabled",!0),this.greaterQuantity[o]=!0):(this.itemqty.splice(o,1,t),this.remainingqty.splice(o,1,this.remainingfqty[o]-t),console.log(this.remainingqty,"this is"),$(d).removeClass("is-invalid"),$(d).removeClass("invalid"),this.greaterQuantity[o]=!1,-1===this.greaterQuantity.indexOf(!0)&&$(".fail").prop("disabled",!1))}performDeleteAction(){this.Deactivate=!0;let t=this.passwordForm.value;console.log(t.password);let o=localStorage.getItem("CurrentUserEmail");this.passwordForm.valid?this.userService.matchPassword({Email:o,Password:t.password}).subscribe(r=>{console.log(r,"before token");let l=r;if("Invalid Password"==r)console.log("Invalid Password"),this.isVisibleFailureInvalidPassword=!0,setTimeout(()=>this.isVisibleFailureInvalidPassword=!1,2e3);else if("Email Does Not Exist"==r)console.log("Email Does Not Exist"),this.isVisibleFailureEmailNotExist=!0,setTimeout(()=>this.isVisibleFailureEmailNotExist=!1,2e3);else if(l.success)return this.deletepurchaseorder(),console.log("matched pass"),this.deleteSuccess=!0,void setTimeout(()=>{this.deleteSuccess=!1,this.getallrecord()},3e3)}):(console.log("invalidddd"),this.isVisibleFailurePassword=!0,setTimeout(()=>this.isVisibleFailurePassword=!1,2e3))}deletepurchaseorder(){let o={user_id:localStorage.getItem("CurrentUserId"),mainId:this.mainId};console.log(o,"checking formdata"),this.storeRec.deletestoreitemrec(o).subscribe(s=>{console.log(s),this.hideDeactivate(),this.getallstoreitemrec(),this.isVisibleSuccessDelete=!0,setTimeout(()=>this.isVisibleSuccessDelete=!1,2e3)})}showdeletemodal(){this.showModal=!0}hideDeactivate(){this.Deactivate=!1,this.passwordForm.reset()}deleteformControlss(){this.passwordForm=this.myFormBuilder.group({password:["",[a.kI.required]]})}getf(){return this.passwordForm.controls}hide(){this.showModal=!1,this.passwordForm.reset()}getFormValidationErrors(){console.log("%c ==>> Validation Errors: ","color: red; font-weight: bold; font-size:25px;");let t=0;Object.keys(this.storeitemForm.controls).forEach(o=>{const s=this.storeitemForm.get(o).errors;null!=s&&(t++,Object.keys(s).forEach(r=>{console.log("Key control: "+o+", keyError: "+r+", err value: ",s[r])}))}),console.log("Number of errors: ",t)}ngOnDestroy(){console.log("destroyed")}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(M),e.Y36(ee),e.Y36(e.sBO),e.Y36(p.F0),e.Y36(h),e.Y36(b))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-store-item-recieved"]],decls:21,vars:4,consts:[[4,"ngIf"],["id","deactivatemodal","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal"],[1,"modal-dialog",2,"width","50%","height","20px","position","center","margin-top","5%"],[1,"modal-content"],[1,"modal-header"],["id","myModalLabel",1,"modal-title"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],[1,"from-control"],["type","password","placeholder","Enter password...","required","required","aria-required","true","formControlName","password",1,"form-control"],[1,"modal-footer"],["type","submit",1,"btn","upload-btn",3,"click"],["type","button","data-dismiss","modal",1,"btn","reset-btn",3,"click"],[1,"content-wrapper"],["class","alertnotify","style","background: #cb3837",4,"ngIf"],["class","alertnotify","style","background: #cb3837;",4,"ngIf"],["class","alertnotify","style","background: #54a254",4,"ngIf"],["activeIds","toggle-11",3,"closeOthers"],["id","toggle-11"],["ngbPanelTitle",""],["ngbPanelContent",""],["class","row mt-4",4,"ngIf"],[1,"alertnotify",2,"background","#cb3837"],[1,"alertnotify",2,"background","#54a254"],[1,"card-header--title"],[1,"pull-right"],[1,"fa","fa-angle-down","fa-lg"],[3,"formGroup"],[1,"row"],[1,"col-6","col-sm-6","col-md-3","col-lg-3"],["type","date","placeholder","Received Date","formControlName","recDate","id","recDate",1,"form-control","form-control-sm",3,"max","ngClass"],["class","invalid-feedback",4,"ngIf"],["formControlName","invNo","id","invNo",1,"form-control","form-control-sm",3,"ngClass","change"],["invoiceId",""],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","InvoiceNo","id","InvoiceNo",1,"form-control","form-control-sm",3,"ngClass"],[1,"ml-4"],[1,"col-lg-12"],[1,"col-md-2","mt-2",2,"font-weight","700","margin-bottom","-4px"],["for",""],[1,"col-md-1","mt-2",2,"font-weight","700","margin-bottom","-4px"],[1,"row","mt-2"],["formArrayName","quantities","id","tbl"],["class","row mt-1",3,"formGroupName",4,"ngFor","ngForOf"],[1,"row","mt-1"],[1,"col-9","mt-1"],[1,"col-1","mt-1",2,"font-weight","700","margin-bottom","-4px"],["type","number","formControlName","Discount","id","Discount","min","1","max","100",1,"form-control","form-control-sm",3,"ngClass","input"],["type","number","formControlName","totalPrice","disabled","","id","totalPrice","min","1",1,"form-control","form-control-sm",3,"ngClass"],[1,"col","text-right","mb-1"],[1,"btn","upload-btn","btn-sm","fail",3,"click"],[1,"btn","reset-btn","btn-sm","ml-2",3,"click"],[1,"invalid-feedback"],[3,"value"],[1,"row","mt-1",3,"formGroupName"],[1,"col-md-2"],["disabled","","formControlName","storeitems","id","storeitems","aria-placeholder","Please",1,"form-control","form-control-sm",2,"appearance","none",3,"ngClass","change"],["type","date","formControlName","ExpiryDate","id","ExpiryDate",1,"form-control","form-control-sm",3,"min","ngClass"],[1,"col-md-1"],["type","number","formControlName","qty","min","0",3,"value","id","ngClass","change"],["type","number","value","rate[i]","formControlName","rate","id","rate","min","0",1,"form-control","form-control-sm",3,"ngClass","input"],["type","number","formControlName","ordqty","min","1",1,"form-control","form-control-sm","resetqty",3,"value","ngClass"],["type","number","disabled","","formControlName","remaingqty","id","remaingqty","min","0",1,"form-control","form-control-sm","resetqty",3,"value","ngClass"],["type","number","formControlName","price",1,"form-control","form-control-sm",3,"value"],[1,"row","mt-4"],[1,"card","main-card","mb-3"],[1,"card-header"],[1,"table-responsive"],[1,"table","table-hover","table-bordered","table-responsive-xl"],["scope","col"],[4,"ngFor","ngForOf"],[3,"click"],["bgcolor","#3ac47d",4,"ngIf"],["bgcolor","#3ac47d"],["class","btn edit-btn btn-sm",3,"disabled","click",4,"ngIf"],["class","btn delet-btn btn-sm",3,"disabled","click",4,"ngIf"],[1,"btn","edit-btn","btn-sm",3,"disabled","click"],[1,"fa","fa-pencil","fa-fw"],[1,"btn","delet-btn","btn-sm",3,"disabled","click"],[1,"fa","fa-trash","fa-fw"],["id","invoiceitemRecdataTable",1,"table","table-striped"],["scope","row"]],template:function(t,o){1&t&&(e.YNc(0,ob,16,11,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"h4",5),e._uU(6,"Admin Permission Required "),e.qZA(),e.qZA(),e.TgZ(7,"div",6),e.TgZ(8,"p"),e.TgZ(9,"strong"),e._uU(10,"Please enter your login password to continue."),e.qZA(),e.qZA(),e.TgZ(11,"form",7),e.NdJ("ngSubmit",function(){return o.performDeleteAction()}),e.TgZ(12,"div",8),e.TgZ(13,"label",9),e._uU(14,"Password"),e.qZA(),e._UZ(15,"input",10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(16,"div",11),e.TgZ(17,"button",12),e.NdJ("click",function(){return o.performDeleteAction()}),e._uU(18,"Submit"),e.qZA(),e.TgZ(19,"button",13),e.NdJ("click",function(){return o.hideDeactivate()}),e._uU(20,"Cancel"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.Q6J("ngIf",o.IsSHowPage),e.xp6(1),e.Udp("display",o.Deactivate?"block":"none"),e.xp6(10),e.Q6J("formGroup",o.passwordForm))},directives:[g.O5,u.gY,u.Gk,u.Cu,u.gW,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,g.mk,a.EJ,a.YN,a.Kr,g.sg,a.CE,a.x0,a.wV,a.qQ,a.Fd,a.Q7],styles:[""]}),i})();function sb(i,n){1&i&&(e.TgZ(0,"div",8),e._uU(1," Something went wrong!. "),e.qZA())}function rb(i,n){1&i&&(e.TgZ(0,"div",9),e._uU(1," Updated Successfully!. "),e.qZA())}function ab(i,n){if(1&i&&(e.TgZ(0,"span",10),e._uU(1,"Edit "),e.TgZ(2,"strong",11),e._uU(3),e.qZA(),e.qZA(),e.TgZ(4,"div",12),e._UZ(5,"i",13),e.qZA()),2&i){const t=e.oxw(2);e.xp6(3),e.Oqu(t.ItemName)}}function lb(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Item Code is required "),e.qZA())}function db(i,n){if(1&i&&(e.TgZ(0,"div",32),e.YNc(1,lb,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.ItemCode.errors.required)}}function cb(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Item Name is required "),e.qZA())}function ub(i,n){if(1&i&&(e.TgZ(0,"div",32),e.YNc(1,cb,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.ItemName.errors.required)}}function gb(i,n){if(1&i&&(e.TgZ(0,"option",26),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.Cat_Id),e.xp6(1),e.hij(" ",t.Cat_Name," ")}}function mb(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"category is required"),e.qZA())}function pb(i,n){if(1&i&&(e.TgZ(0,"div",32),e.YNc(1,mb,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.Categoryid.errors.required)}}function _b(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Manufacturer is required"),e.qZA())}function hb(i,n){1&i&&(e.TgZ(0,"div",34),e._uU(1," Please Enter valid Manufacturer "),e.qZA())}function fb(i,n){if(1&i&&(e.TgZ(0,"div",32),e.YNc(1,_b,2,0,"div",0),e.YNc(2,hb,2,0,"div",33),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.Manufacturer.errors.required),e.xp6(1),e.Q6J("ngIf",t.inventoryForm.controls.Manufacturer.hasError("pattern"))}}function Zb(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"expirey is required"),e.qZA())}function bb(i,n){if(1&i&&(e.TgZ(0,"div",32),e.YNc(1,Zb,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.ExpireyItem.errors.required)}}function vb(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Min Quantity is required "),e.qZA())}function Tb(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Quantity must be positive "),e.qZA())}function Ab(i,n){if(1&i&&(e.TgZ(0,"div",32),e.YNc(1,vb,2,0,"div",0),e.YNc(2,Tb,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.MinQuantity.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.MinQuantity.errors.pattern)}}const Te=function(i){return{"is-invalid":i}};function Cb(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"form",14),e.TgZ(1,"div",15),e._UZ(2,"input",16),e.YNc(3,db,2,1,"div",17),e.TgZ(4,"div",18),e.TgZ(5,"label"),e._uU(6,"Item Name"),e.qZA(),e._UZ(7,"input",19),e.YNc(8,ub,2,1,"div",17),e.qZA(),e.TgZ(9,"div",18),e.TgZ(10,"label"),e._uU(11,"Category "),e.qZA(),e.TgZ(12,"select",20),e.TgZ(13,"option",21),e._uU(14,"Please Select"),e.qZA(),e.YNc(15,gb,2,2,"option",22),e.qZA(),e.YNc(16,pb,2,1,"div",17),e.qZA(),e.TgZ(17,"div",18),e.TgZ(18,"label"),e._uU(19,"Manufacturer"),e.qZA(),e._UZ(20,"input",23),e.YNc(21,fb,3,2,"div",17),e.qZA(),e.TgZ(22,"div",24),e.TgZ(23,"label"),e._uU(24,"Expirey Item"),e.qZA(),e.TgZ(25,"select",25),e.TgZ(26,"option",21),e._uU(27,"Please Select"),e.qZA(),e.TgZ(28,"option",26),e._uU(29," Yes "),e.qZA(),e.TgZ(30,"option",26),e._uU(31," No "),e.qZA(),e.qZA(),e.YNc(32,bb,2,1,"div",17),e.qZA(),e.TgZ(33,"div",27),e.TgZ(34,"label"),e._uU(35,"Min Quantity "),e.qZA(),e._UZ(36,"input",28),e.YNc(37,Ab,3,2,"div",17),e.qZA(),e.qZA(),e._UZ(38,"br"),e.TgZ(39,"div",15),e.TgZ(40,"div",29),e.TgZ(41,"button",30),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).addeditedStoreItems()}),e._uU(42,"Update"),e.qZA(),e._uU(43,"\xa0 "),e.TgZ(44,"button",31),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).addCancel()}),e._uU(45," Cancel "),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("formGroup",t.storeitemForm),e.xp6(2),e.Q6J("ngClass",e.VKq(16,Te,t.submitted&&t.f.ItemCode.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.ItemCode.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(18,Te,t.submitted&&t.f.ItemName.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.ItemName.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(20,Te,t.submitted&&t.f.Categoryid.errors)),e.xp6(3),e.Q6J("ngForOf",t.allEntity),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.Categoryid.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(22,Te,t.submitted&&t.f.Manufacturer.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.Manufacturer.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(24,Te,t.submitted&&t.f.ExpireyItem.errors)),e.xp6(3),e.Q6J("value",!0),e.xp6(2),e.Q6J("value",!1),e.xp6(2),e.Q6J("ngIf",t.submitted&&t.f.ExpireyItem.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(26,Te,t.submitted&&t.f.MinQuantity.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.MinQuantity.errors)}}function qb(i,n){if(1&i&&(e.TgZ(0,"div"),e.TgZ(1,"div",1),e.YNc(2,sb,2,0,"div",2),e.YNc(3,rb,2,0,"div",3),e.qZA(),e.TgZ(4,"ngb-accordion",4),e.TgZ(5,"ngb-panel",5),e.YNc(6,ab,6,1,"ng-template",6),e.YNc(7,Cb,46,28,"ng-template",7),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.isVisibleFailure),e.xp6(1),e.Q6J("ngIf",t.isVisibleSuccess),e.xp6(1),e.Q6J("closeOthers",!0)}}let xb=(()=>{class i{constructor(t,o,s,r,l,d,m,_){this.myFormBuilder=t,this.storeItemSer=o,this.route=s,this.catService=r,this.location=l,this.router=d,this.userService=m,this.popUpSer=_,this.submitted=!1,this.addJson={},this.tData=!1,this.isVisibleFailure=!1,this.isVisibleSuccess=!1,this.IsSHowPage=!1}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():this.userService.checkUserHasAccess("/pages/edit-store-items").subscribe(t=>{t.length>0?(this.IsSHowPage=!0,this.formControls(),this.getDataById(),this.getAllEntity()):(this.IsSHowPage=!1,this.popUpSer.confirmCommon("","You have no access to view page").then(o=>{}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)")))})}get f(){return this.storeitemForm.controls}formControls(){this.storeitemForm=this.myFormBuilder.group({ItemCode:[""],ItemName:["",a.kI.required],Manufacturer:["",a.kI.required],Categoryid:["",a.kI.required],ExpireyItem:["",a.kI.required],MinQuantity:["",[a.kI.required,a.kI.pattern("^[0-9]*[1-9]+[0-9]*$")]]})}getDataById(){this.storeItemSer.getDataById(this.route.snapshot.paramMap.get("id")).subscribe(t=>{this.storeitemForm.controls.MinQuantity.setValue(t[0].MinAlertQty),this.storeitemForm.controls.ItemName.setValue(t[0].ItemName),this.ItemName=t[0].ItemName,this.storeitemForm.controls.Categoryid.setValue(t[0].CatId),this.storeitemForm.controls.Manufacturer.setValue(t[0].Manufacturer),this.storeitemForm.controls.ExpireyItem.setValue(t[0].ExpiryItem),this.storeitemForm.controls.ItemCode.setValue(t[0].ItemCode)})}getAllEntity(){this.tData=!0,this.catService.CategoryData().subscribe(t=>{this.allEntity=t})}addCancel(){this.submitted=!1,this.storeitemForm.reset(),this.location.back()}addeditedStoreItems(){this.storeitemForm.invalid||(this.storeitemForm.value.ExpireyItem="true"===this.storeitemForm.value.ExpireyItem?1:0,this.addJson={ItemCode:this.storeitemForm.value.ItemCode,ItemName:this.storeitemForm.value.ItemName,Manufacturer:this.storeitemForm.value.Manufacturer,Categoryid:this.storeitemForm.value.Categoryid,ExpireyItem:this.storeitemForm.value.ExpireyItem,MinQuantity:this.storeitemForm.value.MinQuantity},this.storeItemSer.UpdateStoreItems(this.addJson).subscribe(t=>{t?(this.isVisibleSuccess=!0,setTimeout(()=>this.isVisibleSuccess=!1,2e3),setTimeout(()=>this.router.navigate(["/pages/store-items"]),2e3)):(this.isVisibleFailure=!0,setTimeout(()=>this.isVisibleFailure=!1,3e3))}))}ngOnDestroy(){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(M),e.Y36(p.gz),e.Y36(Le),e.Y36(g.Ye),e.Y36(p.F0),e.Y36(h),e.Y36(b))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit-store-items"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"content-wrapper"],["class","alertnotify","style","background: #cb3837;",4,"ngIf"],["class","alertnotify","style","background: #54a254;",4,"ngIf"],["activeIds","toggle-11",3,"closeOthers"],["id","toggle-11"],["ngbPanelTitle",""],["ngbPanelContent",""],[1,"alertnotify",2,"background","#cb3837"],[1,"alertnotify",2,"background","#54a254"],[1,"card-header--title"],[1,"text-dark"],[1,"pull-right"],[1,"fa","fa-angle-down","fa-lg"],[3,"formGroup"],[1,"row"],["type","hidden","placeholder","Item Code","formControlName","ItemCode","id","ItemCode","appAlphabetOnly","",1,"form-control","form-control-sm",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"col-6","col-sm-6","col-md-3","col-lg-3"],["type","text","placeholder","Item Name","formControlName","ItemName","id","ItemName",1,"form-control","form-control-sm",3,"ngClass"],["formControlName","Categoryid","id","Categoryid",1,"form-control","form-control-sm",3,"ngClass"],["value","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","Manufacturer","formControlName","Manufacturer","id","Manufacturer","maxlength","300",1,"form-control","form-control-sm",3,"ngClass"],[1,"col-6","col-sm-6","col-md-3","col-lg-2"],["formControlName","ExpireyItem","id","ExpireyItem",1,"form-control","form-control-sm",3,"ngClass"],[3,"value"],[1,"col-6","col-sm-6","col-md-3","col-lg-1"],["type","number","placeholder","","formControlName","MinQuantity","id","MinQuantity",1,"form-control","form-control-sm",3,"ngClass"],[1,"col","text-right"],[1,"btn","upload-btn","btn-sm",3,"click"],[1,"btn","reset-btn","btn-sm",3,"click"],[1,"invalid-feedback"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(t,o){1&t&&e.YNc(0,qb,8,3,"div",0),2&t&&e.Q6J("ngIf",o.IsSHowPage)},directives:[g.O5,u.gY,u.Gk,u.Cu,u.gW,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,x,g.mk,a.EJ,a.YN,a.Kr,g.sg,a.nD,a.wV],styles:[""]}),i})();function Ib(i,n){1&i&&(e.TgZ(0,"div",23),e._uU(1," Something went wrong!. "),e.qZA())}function yb(i,n){1&i&&(e.TgZ(0,"div",23),e._uU(1," Already exists!. "),e.qZA())}function kb(i,n){1&i&&(e.TgZ(0,"div",24),e._uU(1," Added Successfully!. "),e.qZA())}function Ub(i,n){1&i&&(e.TgZ(0,"div",23),e._uU(1," Incorrect Password!. "),e.qZA())}function Nb(i,n){1&i&&(e.TgZ(0,"div",25),e._uU(1," Deleted Successfully!. "),e.qZA())}function wb(i,n){1&i&&(e.TgZ(0,"span",26),e._uU(1,"Add Store Items"),e.qZA(),e.TgZ(2,"div",27),e._UZ(3,"i",28),e.qZA())}function Sb(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Item Code is required "),e.qZA())}function Fb(i,n){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,Sb,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.ItemCode.errors.required)}}function Db(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Item Name is required "),e.qZA())}function Jb(i,n){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,Db,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.ItemName.errors.required)}}function Eb(i,n){if(1&i&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.Cat_Id),e.xp6(1),e.hij(" ",t.Cat_Name," ")}}function Rb(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"category is required"),e.qZA())}function Pb(i,n){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,Rb,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.Categoryid.errors.required)}}function Yb(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Manufacturer is required"),e.qZA())}function Qb(i,n){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,Yb,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.Manufacturer.errors.required)}}function Ob(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"expirey is required"),e.qZA())}function Mb(i,n){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,Ob,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.ExpireyItem.errors.required)}}function Vb(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Min Quantity is required "),e.qZA())}function Bb(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Quantity must be positive "),e.qZA())}function Hb(i,n){if(1&i&&(e.TgZ(0,"div",48),e.YNc(1,Vb,2,0,"div",0),e.YNc(2,Bb,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.MinQuantity.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.MinQuantity.errors.pattern)}}const Ae=function(i){return{"is-invalid":i}};function $b(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"form",29),e.TgZ(1,"div",30),e._UZ(2,"input",31),e.YNc(3,Fb,2,1,"div",32),e.TgZ(4,"div",33),e.TgZ(5,"label"),e._uU(6,"Item Name"),e.qZA(),e._UZ(7,"input",34),e.YNc(8,Jb,2,1,"div",32),e.qZA(),e.TgZ(9,"div",33),e.TgZ(10,"label"),e._uU(11,"Category "),e.qZA(),e.TgZ(12,"select",35),e.TgZ(13,"option",36),e._uU(14,"Please Select"),e.qZA(),e.YNc(15,Eb,2,2,"option",37),e.qZA(),e.YNc(16,Pb,2,1,"div",32),e.qZA(),e.TgZ(17,"div",33),e.TgZ(18,"label"),e._uU(19,"Manufacturer"),e.qZA(),e._UZ(20,"input",38),e.YNc(21,Qb,2,1,"div",32),e.qZA(),e.TgZ(22,"div",39),e.TgZ(23,"label"),e._uU(24,"Expiry Item"),e.qZA(),e.TgZ(25,"select",40),e.TgZ(26,"option",36),e._uU(27,"Please Select"),e.qZA(),e.TgZ(28,"option",41),e._uU(29," Yes "),e.qZA(),e.TgZ(30,"option",41),e._uU(31," No "),e.qZA(),e.qZA(),e.YNc(32,Mb,2,1,"div",32),e.qZA(),e.TgZ(33,"div",42),e.TgZ(34,"label"),e._uU(35,"Min Qty "),e.qZA(),e._UZ(36,"input",43),e.YNc(37,Hb,3,2,"div",32),e.qZA(),e.qZA(),e.TgZ(38,"div",44),e.TgZ(39,"div",45),e.TgZ(40,"button",46),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).addStoreItems()}),e._uU(41,"Submit"),e.qZA(),e.TgZ(42,"button",47),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).addCancel()}),e._uU(43," Reset "),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("formGroup",t.storeitemForm),e.xp6(2),e.Q6J("ngClass",e.VKq(16,Ae,t.submitted&&t.f.ItemCode.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.ItemCode.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(18,Ae,t.submitted&&t.f.ItemName.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.ItemName.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(20,Ae,t.submitted&&t.f.Categoryid.errors)),e.xp6(3),e.Q6J("ngForOf",t.allEntity),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.Categoryid.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(22,Ae,t.submitted&&t.f.Manufacturer.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.Manufacturer.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(24,Ae,t.submitted&&t.f.ExpireyItem.errors)),e.xp6(3),e.Q6J("value",1),e.xp6(2),e.Q6J("value",0),e.xp6(2),e.Q6J("ngIf",t.submitted&&t.f.ExpireyItem.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(26,Ae,t.submitted&&t.f.MinQuantity.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.MinQuantity.errors)}}function Lb(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",58),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;return e.oxw(3).Edit(s.Id)}),e._UZ(1,"i",59),e.qZA()}}function Gb(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",60),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;e.oxw(2);const r=e.MAs(17);return e.oxw().deleteStoreItem(r,s.Id)}),e._UZ(1,"i",61),e.qZA()}}function jb(i,n){if(1&i&&(e.TgZ(0,"tr"),e.TgZ(1,"th",55),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e.YNc(14,Lb,2,0,"button",56),e._uU(15," \xa0 "),e.YNc(16,Gb,2,0,"button",57),e.qZA(),e.qZA()),2&i){const t=n.$implicit,o=n.index,s=e.oxw(3);e.xp6(2),e.Oqu(o+1),e.xp6(2),e.Oqu(t.ItemCode),e.xp6(2),e.Oqu(t.ItemName),e.xp6(2),e.Oqu(t.Cat_Name),e.xp6(2),e.Oqu(t.ExpiryItem),e.xp6(2),e.Oqu(t.MinAlertQty),e.xp6(2),e.Q6J("ngIf",s.editrec),e.xp6(2),e.Q6J("ngIf",s.deleterec)}}function zb(i,n){if(1&i&&(e.TgZ(0,"div",49),e.TgZ(1,"div",50),e.TgZ(2,"b"),e._uU(3,"List of Stock"),e.qZA(),e.qZA(),e.TgZ(4,"div",51),e._UZ(5,"br"),e.TgZ(6,"table",52),e.TgZ(7,"thead"),e.TgZ(8,"tr"),e.TgZ(9,"th",53),e._uU(10,"#"),e.qZA(),e.TgZ(11,"th",53),e._uU(12," Item Code"),e.qZA(),e.TgZ(13,"th",53),e._uU(14,"Item Name"),e.qZA(),e.TgZ(15,"th",53),e._uU(16,"Category"),e.qZA(),e.TgZ(17,"th",53),e._uU(18,"Expiry Item"),e.qZA(),e.TgZ(19,"th",53),e._uU(20,"Min Alert Qty"),e.qZA(),e.TgZ(21,"th"),e._uU(22,"Action"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(23,"tbody"),e.YNc(24,jb,17,8,"tr",54),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(24),e.Q6J("ngForOf",t.allitems)}}function Wb(i,n){1&i&&e._UZ(0,"i",69)}function Kb(i,n){1&i&&e._UZ(0,"i",70)}function Xb(i,n){if(1&i&&(e.TgZ(0,"div",30),e.TgZ(1,"div",76),e.TgZ(2,"ul"),e.TgZ(3,"li"),e._uU(4),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=n.$implicit;e.xp6(4),e.hij(" ",t.VendorName," ")}}function ev(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div"),e.YNc(1,Xb,5,1,"div",71),e.TgZ(2,"div",72),e.TgZ(3,"div",73),e.TgZ(4,"button",74),e.NdJ("click",function(){return e.CHM(t),e.oxw(4).deleteAllAssignItem()}),e._UZ(5,"i",61),e.qZA(),e.TgZ(6,"span",75),e._uU(7," \xa0"),e.TgZ(8,"b"),e._uU(9,"Unassign ALL Items"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngForOf",t.AssignItemVendor_items)}}function tv(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"h6",65),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).collapseVendor()}),e._uU(2),e.TgZ(3,"b",66),e._uU(4," Assign Items to Vender "),e.qZA(),e._uU(5,"Page, please remove them first.\xa0 "),e.TgZ(6,"span"),e.YNc(7,Wb,1,0,"i",67),e.YNc(8,Kb,1,0,"i",68),e.qZA(),e.qZA(),e.YNc(9,ev,10,1,"div",0),e.qZA()}if(2&i){const t=e.oxw(3);e.xp6(2),e.hij(" ",t.AssignItemVendor_items.length," entries exist in "),e.xp6(5),e.Q6J("ngIf",0==t.collapseVendorFlag),e.xp6(1),e.Q6J("ngIf",1==t.collapseVendorFlag),e.xp6(1),e.Q6J("ngIf",t.collapseVendorFlag)}}function iv(i,n){1&i&&(e.TgZ(0,"div"),e.TgZ(1,"h6",77),e._uU(2," No entries found in Add Vendor Page "),e.qZA(),e.qZA())}function ov(i,n){1&i&&e._UZ(0,"i",69)}function nv(i,n){1&i&&e._UZ(0,"i",70)}function sv(i,n){if(1&i&&(e.TgZ(0,"div",30),e.TgZ(1,"div",76),e.TgZ(2,"ul"),e.TgZ(3,"li"),e._uU(4),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=n.$implicit;e.xp6(4),e.hij(" ",t.VendorName," ")}}function rv(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div"),e.YNc(1,sv,5,1,"div",71),e.TgZ(2,"div",72),e.TgZ(3,"div",73),e.TgZ(4,"button",74),e.NdJ("click",function(){return e.CHM(t),e.oxw(4).deleteAllPackages()}),e._UZ(5,"i",61),e.qZA(),e.TgZ(6,"span",75),e._uU(7," \xa0"),e.TgZ(8,"b"),e._uU(9,"Unassign ALL Items"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngForOf",t.packages_sub_items)}}function av(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"h6",65),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).collapsePackage()}),e._uU(2),e.TgZ(3,"b",66),e._uU(4," Packages List "),e.qZA(),e._uU(5," Page, please remove them first.\xa0 "),e.TgZ(6,"span"),e.YNc(7,ov,1,0,"i",67),e.YNc(8,nv,1,0,"i",68),e.qZA(),e.qZA(),e.YNc(9,rv,10,1,"div",0),e.qZA()}if(2&i){const t=e.oxw(3);e.xp6(2),e.hij(" ",t.packages_sub_items.length," entries exist in "),e.xp6(5),e.Q6J("ngIf",0==t.collapsePackageFlag),e.xp6(1),e.Q6J("ngIf",1==t.collapsePackageFlag),e.xp6(1),e.Q6J("ngIf",t.collapsePackageFlag)}}function lv(i,n){1&i&&(e.TgZ(0,"div"),e.TgZ(1,"h6",77),e._uU(2," No entries found in Packages List Page "),e.qZA(),e.qZA())}function dv(i,n){1&i&&e._UZ(0,"i",69)}function cv(i,n){1&i&&e._UZ(0,"i",70)}function uv(i,n){if(1&i&&(e.TgZ(0,"div",30),e.TgZ(1,"div",76),e.TgZ(2,"ul"),e.TgZ(3,"li"),e._uU(4),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=n.$implicit;e.xp6(4),e.hij(" ",t.VendorName," ")}}function gv(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div"),e.YNc(1,uv,5,1,"div",71),e.TgZ(2,"div",72),e.TgZ(3,"div",73),e.TgZ(4,"button",74),e.NdJ("click",function(){return e.CHM(t),e.oxw(4).deleteAllPurchaseOrder()}),e._UZ(5,"i",61),e.qZA(),e.TgZ(6,"span",75),e._uU(7," \xa0"),e.TgZ(8,"b"),e._uU(9,"Unassign ALL Items"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngForOf",t.PurchasedOrderSub_items)}}function mv(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"h6",65),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).collapsePurchaseOrder()}),e._uU(2),e.TgZ(3,"b",66),e._uU(4," Purchase Order "),e.qZA(),e._uU(5," Page, please remove them first.\xa0 "),e.TgZ(6,"span"),e.YNc(7,dv,1,0,"i",67),e.YNc(8,cv,1,0,"i",68),e.qZA(),e.qZA(),e.YNc(9,gv,10,1,"div",0),e.qZA()}if(2&i){const t=e.oxw(3);e.xp6(2),e.hij(" ",t.PurchasedOrderSub_items.length," entries exist in "),e.xp6(5),e.Q6J("ngIf",0==t.collapsePurchaseOrderFlag),e.xp6(1),e.Q6J("ngIf",t.collapsePurchaseOrderFlag),e.xp6(1),e.Q6J("ngIf",t.collapsePurchaseOrderFlag)}}function pv(i,n){1&i&&(e.TgZ(0,"div"),e.TgZ(1,"h6",77),e._uU(2," No entries found in Purchase Order Page "),e.qZA(),e.qZA())}function _v(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",4),e.TgZ(1,"h4",62),e._uU(2,"Delete Failed"),e.qZA(),e.TgZ(3,"button",63),e.NdJ("click",function(){return e.CHM(t).$implicit.dismiss("Cross click")}),e.TgZ(4,"span",64),e._uU(5,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"div",6),e.YNc(7,tv,10,4,"div",0),e.YNc(8,iv,3,0,"div",0),e.YNc(9,av,10,4,"div",0),e.YNc(10,lv,3,0,"div",0),e.YNc(11,mv,10,4,"div",0),e.YNc(12,pv,3,0,"div",0),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(7),e.Q6J("ngIf",t.AssignItemVendor_items.length>0),e.xp6(1),e.Q6J("ngIf",t.AssignItemVendor_items.length<=0),e.xp6(1),e.Q6J("ngIf",t.packages_sub_items.length>0),e.xp6(1),e.Q6J("ngIf",t.packages_sub_items.length<=0),e.xp6(1),e.Q6J("ngIf",t.PurchasedOrderSub_items.length>0),e.xp6(1),e.Q6J("ngIf",t.PurchasedOrderSub_items<=0)}}function hv(i,n){if(1&i&&(e.TgZ(0,"div"),e.TgZ(1,"div",10),e.YNc(2,Ib,2,0,"div",11),e.YNc(3,yb,2,0,"div",11),e.YNc(4,kb,2,0,"div",12),e.YNc(5,Ub,2,0,"div",11),e.YNc(6,Nb,2,0,"div",13),e.qZA(),e.TgZ(7,"ngx-spinner",14),e.TgZ(8,"p",15),e._uU(9,"Please wait..."),e.qZA(),e.qZA(),e.TgZ(10,"ngb-accordion",16),e.TgZ(11,"ngb-panel",17),e.YNc(12,wb,4,0,"ng-template",18),e.YNc(13,$b,44,28,"ng-template",19),e.qZA(),e.qZA(),e.TgZ(14,"div",20),e.YNc(15,zb,25,1,"div",21),e.qZA(),e.YNc(16,_v,13,6,"ng-template",null,22,e.W1O),e.qZA()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.isVisibleFailure),e.xp6(1),e.Q6J("ngIf",t.isDuplicate),e.xp6(1),e.Q6J("ngIf",t.isVisibleSuccess),e.xp6(1),e.Q6J("ngIf",t.isVisibleFailureInvalidPassword),e.xp6(1),e.Q6J("ngIf",t.isVisibleSuccessDoctorDelete),e.xp6(4),e.Q6J("closeOthers",!0),e.xp6(5),e.Q6J("ngIf",t.tablerec)}}function fv(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"form",78),e.NdJ("ngSubmit",function(){return e.CHM(t),e.oxw().performDeleteAction()}),e.TgZ(2,"div",79),e.TgZ(3,"label",80),e._uU(4,"Password"),e.qZA(),e._UZ(5,"input",81),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.passwordForm)}}let Zv=(()=>{class i{constructor(t,o,s,r,l,d,m,_,Z){this.myFormBuilder=t,this.storeItemSer=o,this.itemstore=s,this.myRouter=r,this.detectChanges=l,this.userService=d,this.popUpSer=m,this.spinner=_,this.modalService=Z,this.submitted=!1,this.isDuplicate=!1,this.isVisibleSuccess=!1,this.isVisibleFailure=!1,this.isDeleteSuccess=!1,this.IsSHowPage=!1,this.tablerec=!1,this.editrec=!1,this.deleterec=!1,this.addJson={},this.tData=!1,this.AssignItemVendor_items=[],this.packages_sub_items=[],this.PurchasedOrderSub_items=[],this.isVisibleFailureInvalidPassword=!1,this.isVisibleSuccessDoctorDelete=!1,this.collapseVendorFlag=!0,this.collapsePackageFlag=!1,this.collapsePurchaseOrderFlag=!1}get f(){return this.storeitemForm.controls}get f1(){return this.passwordForm.controls}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():(this.userService.checkUserHasAccess("/pages/store-items").subscribe(t=>{t.length>0?(this.IsSHowPage=!0,this.formControls(),this.passwordForm=new a.cw({password:new a.NI(null)}),this.getAllEntities()):(this.IsSHowPage=!1,this.popUpSer.confirmCommon("","You have no access to view page").then(o=>{}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)")))}),setTimeout(()=>{this.userService.checkUserHasAccess("/pages/show-store-items").subscribe(t=>{t.length>0?(this.tablerec=!0,this.fetchstoreitems(),setTimeout(()=>{this.userService.checkUserHasAccess("/pages/edit-store-items").subscribe(o=>{this.editrec=o.length>0})},300),setTimeout(()=>{this.userService.checkUserHasAccess("/pages/delete-store-items").subscribe(o=>{this.deleterec=o.length>0})},300)):this.tablerec=!1})},300))}formControls(){this.storeitemForm=this.myFormBuilder.group({ItemCode:[""],ItemName:["",a.kI.required],Manufacturer:["",a.kI.required],Categoryid:["",a.kI.required],ExpireyItem:["",a.kI.required],MinQuantity:["",[a.kI.required,a.kI.pattern("^[0-9]*[1-9]+[0-9]*$")]]})}getAllEntities(){this.tData=!0,this.itemstore.CategoryData().subscribe(t=>{this.allEntity=t})}getAllDataTablejoin(){this.tData=!0,this.storeItemSer.fetchstoreitemsbyjoin().subscribe(t=>{this.allrecord=t})}addStoreItems(){this.spinner.show(),this.submitted=!0,this.storeitemForm.invalid?this.spinner.hide():(this.addJson={ItemName:this.storeitemForm.value.ItemName,Manufacturer:this.storeitemForm.value.Manufacturer,Categoryid:this.storeitemForm.value.Categoryid,ExpireyItem:this.storeitemForm.value.ExpireyItem,MinQuantity:this.storeitemForm.value.MinQuantity},this.storeItemSer.duplicateCheckEntry(this.addJson).subscribe(t=>{console.log(t),"true"==t.duplicate?(this.spinner.hide(),this.isDuplicate=!0,setTimeout(()=>{this.isDuplicate=!1},3e3)):(this.storeItemSer.Addstoreitems(this.addJson).subscribe(o=>{o?(this.spinner.hide(),this.isVisibleSuccess=!0,setTimeout(()=>this.isVisibleSuccess=!1,3e3),this.storeitemForm.reset(),this.submitted=!1,this.fetchstoreitems()):(this.spinner.hide(),this.isVisibleFailure=!0,setTimeout(()=>this.isVisibleFailure=!1,5e3))}),this.submitted=!0)}))}fetchstoreitems(){this.storeItemSer.fetchstoreitemsbyjoin().subscribe(t=>{this.allitems=t,t.length>0?(this.allitems=t,console.log(this.allitems,"wahab"),this.detectChanges.detectChanges(),$("#storedataTable").DataTable({paging:!0,searching:!0,ordering:!0})):(this.allitems=[],this.detectChanges.detectChanges(),$("#storedataTable").DataTable({paging:!0,searching:!0,ordering:!0}))}),$("#storedataTable").dataTable().fnDestroy()}addCancel(){this.submitted=!1,this.storeitemForm.reset()}Edit(t){this.Id=t,this.myRouter.navigate(["/pages/edit-store-items/"+this.Id])}deleteStoreItem(t,o){console.log(t),console.log(o),this.store_ItemId=o,this.content=t,this.popUpSer.confirm("Please confirm..","Do you really want to delete?").then(s=>{s&&(this.spinner.hide(),this.deleteConflicts(),this.collapse())}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)",this.spinner.hide()))}deleteConflicts(){this.storeItemSer.deleteStoreItemCheck(this.store_ItemId).subscribe(t=>{for(var o in console.log(t,"response delete"),this.AssignItemVendor_items=[],this.PurchasedOrderSub_items=[],this.packages_sub_items=[],t)"vendor"==t[o].tabname?this.AssignItemVendor_items.push(t[o]):"invoice"==t[o].tabname?this.PurchasedOrderSub_items.push(t[o]):"packages"==t[o].tabname&&this.packages_sub_items.push(t[o]);console.log(this.AssignItemVendor_items),this.AssignItemVendor_items.length>0||this.packages_sub_items.length>0||this.PurchasedOrderSub_items.length>0?(console.log("other files"),this.collapse(),this.modalService.open(this.content,{ariaLabelledBy:"modal-basic-title"}).result.then(s=>{this.closeResult=`Closed with: ${s}`},s=>{this.closeResult=`Dismissed ${this.getDismissReason(s)}`})):this.enterPasswordToDelete()})}deleteAllAssignItem(){console.log("hello"),this.popUpSer.confirm("Please confirm..","Do you really want to delete?").then(t=>{t&&(this.spinner.show(),this.AssignItemVendor_items.forEach(o=>{this.storeItemSer.deleteAllAssignItem(o.AssignId).subscribe(s=>{this.deleteConflicts()})}),this.modalService.dismissAll("Cross click"),this.spinner.hide(),this.isVisibleSuccessDoctorDelete=!0,setTimeout(()=>this.isVisibleSuccessDoctorDelete=!1,2e3))}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)"))}collapse(){console.log("hello collapse"),this.AssignItemVendor_items.length<=0?this.packages_sub_items.length<=0?this.PurchasedOrderSub_items.length<=0?(this.collapsePackageFlag=!1,this.collapsePurchaseOrderFlag=!1,this.collapseVendorFlag=!1):(this.collapsePackageFlag=!1,this.collapsePurchaseOrderFlag=!0,this.collapseVendorFlag=!1):(this.collapsePackageFlag=!0,this.collapsePurchaseOrderFlag=!1,this.collapseVendorFlag=!1):(this.collapseVendorFlag=!0,this.collapsePackageFlag=!1,this.collapsePurchaseOrderFlag=!1)}deleteAllPackages(){console.log("hello"),this.popUpSer.confirm("Please confirm..","Do you really want to delete?").then(t=>{t&&(this.spinner.show(),this.packages_sub_items.forEach(o=>{this.storeItemSer.deleteAllPackages(o.AssignId).subscribe(s=>{this.deleteConflicts()})}),this.modalService.dismissAll("Cross click"),this.spinner.hide(),this.isVisibleSuccessDoctorDelete=!0,setTimeout(()=>this.isVisibleSuccessDoctorDelete=!1,2e3))}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)"))}deleteAllPurchaseOrder(){console.log("hello"),this.popUpSer.confirm("Please confirm..","Do you really want to delete?").then(t=>{t&&(this.spinner.show(),this.PurchasedOrderSub_items.forEach(o=>{this.storeItemSer.deleteAllPurchaseOrder(o.AssignId).subscribe(s=>{this.deleteConflicts()})}),this.modalService.dismissAll("Cross click"),this.spinner.hide(),this.isVisibleSuccessDoctorDelete=!0,setTimeout(()=>this.isVisibleSuccessDoctorDelete=!1,2e3))}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)"))}enterPasswordToDelete(){this.Deactivate=!0}hideDeactivate(){this.Deactivate=!1,this.store_ItemId="",this.passwordForm.reset()}performDeleteAction(){let t=this.passwordForm.value;console.log(t.password,this.store_ItemId);let o=localStorage.getItem("CurrentUserEmail");this.passwordForm.valid?this.userService.matchPassword({Email:o,Password:t.password}).subscribe(r=>{console.log(r,"before token");let l=r;"Invalid Password"==r?(this.isVisibleFailureInvalidPassword=!0,setTimeout(()=>this.isVisibleFailureInvalidPassword=!1,2e3)):"Email Does Not Exist"==r||l.success&&(console.log("valid password"),this.deleteStoreAction())}):(console.log("invalidddd"),this.isVisibleFailure=!0,setTimeout(()=>this.isVisibleFailure=!1,2e3))}deleteStoreAction(){this.storeItemSer.deleteStoreItem(this.store_ItemId).subscribe(t=>{console.log(t),this.hideDeactivate(),this.fetchstoreitems(),this.isVisibleSuccessDoctorDelete=!0,setTimeout(()=>this.isVisibleSuccessDoctorDelete=!1,2e3)})}getDismissReason(t){return console.log(t),t===u.If.ESC?"by pressing ESC":t===u.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${t}`}gotoAssignItemToVendor(){this.modalService.dismissAll("Cross click"),this.storeItemSer.store_ItemId=this.store_ItemId,console.log("gotovendor")}gotoPurchaseOrder(){this.modalService.dismissAll("Cross click"),this.storeItemSer.store_ItemId=this.store_ItemId,console.log("gotopurchaseorder")}collapseVendor(){console.log("click"),this.collapseVendorFlag=!this.collapseVendorFlag,this.collapsePackageFlag=!1,this.collapsePurchaseOrderFlag=!1}collapsePackage(){console.log("click"),this.collapsePackageFlag=!this.collapsePackageFlag,this.collapseVendorFlag=!1,this.collapsePurchaseOrderFlag=!1}collapsePurchaseOrder(){console.log("click"),this.collapsePurchaseOrderFlag=!this.collapsePurchaseOrderFlag,this.collapseVendorFlag=!1,this.collapsePackageFlag=!1}ngOnDestroy(){console.log("destroyed")}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(M),e.Y36(Le),e.Y36(p.F0),e.Y36(e.sBO),e.Y36(h),e.Y36(b),e.Y36(v.t2),e.Y36(u.FF))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-store-items"]],decls:17,vars:4,consts:[[4,"ngIf"],["id","deactivatemodal","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal"],[1,"modal-dialog",2,"width","50%","height","20px","position","center","margin-top","5%"],[1,"modal-content"],[1,"modal-header"],["id","myModalLabel",1,"modal-title"],[1,"modal-body"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary",3,"click"],["type","button","data-dismiss","modal",1,"btn","btn-danger",3,"click"],[1,"content-wrapper"],["class","alertnotify","style","background: #cb3837;",4,"ngIf"],["class","alertnotify","style","background: #54a254;",4,"ngIf"],["class","alertnotify","style","background: #CB3837;",4,"ngIf"],["bdColor","rgba(51,51,51,0.6)","size","medium","color","#fff","type","timer"],[2,"font-size","20px","color","white","margin-top","30px"],["activeIds","toggle-11",3,"closeOthers"],["id","toggle-11"],["ngbPanelTitle",""],["ngbPanelContent",""],[1,"mt-3"],["class","card main-card mt-4",4,"ngIf"],["content",""],[1,"alertnotify",2,"background","#cb3837"],[1,"alertnotify",2,"background","#54a254"],[1,"alertnotify",2,"background","#CB3837"],[1,"card-header--title"],[1,"pull-right"],[1,"fa","fa-angle-down","fa-lg"],[3,"formGroup"],[1,"row"],["type","hidden","placeholder","Item Code","formControlName","ItemCode","id","ItemCode","appAlphabetOnly","",1,"form-control","form-control-sm",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"col-6","col-sm-6","col-md-3","col-lg-3"],["type","text","placeholder","Item Name","formControlName","ItemName","id","ItemName","appAlphabetOnly","",1,"form-control","form-control-sm",3,"ngClass"],["formControlName","Categoryid","id","Categoryid",1,"form-control","form-control-sm",3,"ngClass"],["value","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","Manufacturer","formControlName","Manufacturer","id","Manufacturer",1,"form-control","form-control-sm",3,"ngClass"],[1,"col-6","col-sm-6","col-md-3","col-lg-2"],["formControlName","ExpireyItem","id","ExpireyItem",1,"form-control","form-control-sm",3,"ngClass"],[3,"value"],[1,"col-6","col-sm-6","col-md-3","col-lg-1"],["type","number","placeholder","","formControlName","MinQuantity","id","MinQuantity",1,"form-control","form-control-sm",3,"ngClass"],[1,"row","mt-2"],[1,"col","text-right"],[1,"btn","upload-btn","btn-sm","mr-1",3,"click"],[1,"btn","reset-btn","btn-sm",3,"click"],[1,"invalid-feedback"],[1,"card","main-card","mt-4"],[1,"card-header"],[1,"table-responsive"],["id","storedataTable",1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],["class","btn edit-btn btn-sm",3,"click",4,"ngIf"],["class","btn delet-btn btn-sm",3,"click",4,"ngIf"],[1,"btn","edit-btn","btn-sm",3,"click"],[1,"fa","fa-pencil","fa-fw"],[1,"btn","delet-btn","btn-sm",3,"click"],[1,"fa","fa-trash","fa-fw"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["id","s5",2,"font-size","12px",3,"click"],[2,"color","#041168"],["class","bi bi-chevron-down",4,"ngIf"],["class","bi bi-chevron-up",4,"ngIf"],[1,"bi","bi-chevron-down"],[1,"bi","bi-chevron-up"],["class","row",4,"ngFor","ngForOf"],[1,"row","mb-2"],[1,"col","text-center"],[1,"btn","btn-danger","btn-sm",3,"click"],[2,"font-size","12px","vertical-align","middle"],[1,"col"],[2,"font-size","12px"],[3,"formGroup","ngSubmit"],[1,"form-group"],[1,"from-control"],["type","password","placeholder","Enter password...","formControlName","password","id","password",1,"form-control"]],template:function(t,o){1&t&&(e.YNc(0,hv,18,7,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"h4",5),e._uU(6,"Admin Permission Required "),e.qZA(),e.qZA(),e.TgZ(7,"div",6),e.TgZ(8,"p"),e.TgZ(9,"strong"),e._uU(10,"Please enter your login password to continue."),e.qZA(),e.qZA(),e.YNc(11,fv,6,1,"div",0),e.qZA(),e.TgZ(12,"div",7),e.TgZ(13,"button",8),e.NdJ("click",function(){return o.performDeleteAction()}),e._uU(14,"Submit"),e.qZA(),e.TgZ(15,"button",9),e.NdJ("click",function(){return o.hideDeactivate()}),e._uU(16,"Cancel"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.Q6J("ngIf",o.IsSHowPage),e.xp6(1),e.Udp("display",o.Deactivate?"block":"none"),e.xp6(10),e.Q6J("ngIf",o.passwordForm))},directives:[g.O5,v.Ro,u.gY,u.Gk,u.Cu,u.gW,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,x,g.mk,a.EJ,a.YN,a.Kr,g.sg,a.wV],styles:["#s5[_ngcontent-%COMP%]{cursor:pointer}"]}),i})();function bv(i,n){1&i&&(e.TgZ(0,"div",11),e._uU(1," Something went wrong!. "),e.qZA())}function vv(i,n){1&i&&(e.TgZ(0,"div",11),e._uU(1," Upload successfully. "),e.qZA())}function Tv(i,n){1&i&&(e.TgZ(0,"div",11),e._uU(1," Submitted successfully. "),e.qZA())}function Av(i,n){1&i&&(e.TgZ(0,"div",12),e._uU(1," Forwarded for Registration. "),e.qZA())}function Cv(i,n){1&i&&(e.TgZ(0,"div",12),e._uU(1," Submitted successfully. "),e.qZA())}function qv(i,n){1&i&&(e.TgZ(0,"div",11),e._uU(1," Deleted Successfully. "),e.qZA())}function xv(i,n){1&i&&(e.TgZ(0,"div",11),e._uU(1," Delete record failed. "),e.qZA())}function Iv(i,n){1&i&&(e.TgZ(0,"div",11),e._uU(1," Failed to submit! A child with same name and contact already exists. "),e.qZA())}function yv(i,n){1&i&&(e.TgZ(0,"span",13),e._uU(1,"Child Referral Form"),e.qZA(),e.TgZ(2,"div",14),e._UZ(3,"i",15),e.qZA())}function kv(i,n){if(1&i&&(e.TgZ(0,"option",59),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.DoctorId),e.xp6(1),e.hij(" ",t.FirstName+"-"+t.LastName," ")}}function Uv(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Doctor Name is required "),e.qZA())}function Nv(i,n){if(1&i&&(e.TgZ(0,"div",60),e.YNc(1,Uv,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",t.f.DoctorId.errors.required)}}function wv(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," First Name is required "),e.qZA())}function Sv(i,n){if(1&i&&(e.TgZ(0,"div",60),e.YNc(1,wv,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",t.f.fname.errors.required)}}function Fv(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Last Name is required "),e.qZA())}function Dv(i,n){if(1&i&&(e.TgZ(0,"div",60),e.YNc(1,Fv,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",t.f.lname.errors.required)}}function Jv(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Guardian Name is required "),e.qZA())}function Ev(i,n){if(1&i&&(e.TgZ(0,"div",60),e.YNc(1,Jv,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",t.f.guardian.errors.required)}}function Rv(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Contact number is required "),e.qZA())}function Pv(i,n){if(1&i&&(e.TgZ(0,"div",60),e.YNc(1,Rv,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",t.f.contact.errors.required)}}function Yv(i,n){if(1&i&&(e.TgZ(0,"option",59),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.Id),e.xp6(1),e.hij(" ",t.Name," ")}}function Qv(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"City is required"),e.qZA())}function Ov(i,n){if(1&i&&(e.TgZ(0,"div",60),e.YNc(1,Qv,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",t.f.city.errors.required)}}function Mv(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Residential Address is required "),e.qZA())}function Vv(i,n){if(1&i&&(e.TgZ(0,"div",60),e.YNc(1,Mv,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",t.f.raddress.errors.required)}}const Ce=function(i){return{"is-invalid":i}};function Bv(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",18),e.TgZ(1,"div",19),e.TgZ(2,"div",20),e.TgZ(3,"div",21),e.TgZ(4,"div",22),e.TgZ(5,"label",23),e._uU(6,"Doctor Name"),e.qZA(),e.TgZ(7,"select",24),e.TgZ(8,"option",25),e._uU(9,"Please Select"),e.qZA(),e.YNc(10,kv,2,2,"option",26),e.qZA(),e.YNc(11,Nv,2,1,"div",27),e.qZA(),e.qZA(),e.TgZ(12,"div",28),e.TgZ(13,"div",22),e.TgZ(14,"label",23),e._uU(15,"Child First Name"),e.qZA(),e._UZ(16,"input",29),e.YNc(17,Sv,2,1,"div",27),e.qZA(),e.qZA(),e.TgZ(18,"div",28),e.TgZ(19,"div",22),e.TgZ(20,"label",30),e._uU(21,"Child Last Name"),e.qZA(),e._UZ(22,"input",31),e.YNc(23,Dv,2,1,"div",27),e.qZA(),e.qZA(),e.TgZ(24,"div",28),e.TgZ(25,"div",22),e.TgZ(26,"label",32),e._uU(27,"Guardian Name"),e.qZA(),e._UZ(28,"input",33),e.YNc(29,Ev,2,1,"div",27),e.qZA(),e.qZA(),e.TgZ(30,"div",28),e.TgZ(31,"div",22),e.TgZ(32,"label",34),e._uU(33,"Contact Number"),e.qZA(),e._UZ(34,"input",35),e.YNc(35,Pv,2,1,"div",27),e.qZA(),e.qZA(),e.TgZ(36,"div",28),e.TgZ(37,"div",22),e.TgZ(38,"label",36),e._uU(39,"City"),e.qZA(),e.TgZ(40,"select",37),e.TgZ(41,"option",25),e._uU(42,"Please Select City"),e.qZA(),e.YNc(43,Yv,2,2,"option",26),e.qZA(),e.YNc(44,Ov,2,1,"div",27),e.qZA(),e.qZA(),e.TgZ(45,"div",28),e.TgZ(46,"div",22),e.TgZ(47,"label",23),e._uU(48,"Residential Address"),e.qZA(),e._UZ(49,"input",38),e.YNc(50,Vv,2,1,"div",27),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(51,"div",39),e.TgZ(52,"div",40),e.TgZ(53,"div",28),e.TgZ(54,"div",22),e.TgZ(55,"h3",41),e._uU(56,"UPLOAD PRESCRIPTION"),e.qZA(),e.TgZ(57,"label",42),e._uU(58),e.qZA(),e.qZA(),e.qZA(),e.TgZ(59,"div",28),e.TgZ(60,"div",22),e.TgZ(61,"a",43),e._uU(62," Upload File "),e.TgZ(63,"input",44,45),e.NdJ("change",function(s){return e.CHM(t),e.oxw(3).onFileSelectdoc1(s)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(65,"div",46),e.TgZ(66,"h5",47),e._uU(67,"Referral Purpose"),e.qZA(),e.qZA(),e.TgZ(68,"div",48),e.TgZ(69,"div",28),e.TgZ(70,"div",22),e.TgZ(71,"input",49),e.NdJ("change",function(s){return e.CHM(t),e.oxw(3).onCheckboxChange1(s)}),e.qZA(),e.TgZ(72,"label",41),e._uU(73,"\xa0\xa0\xa0Education"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(74,"div",28),e.TgZ(75,"div",22),e.TgZ(76,"input",50),e.NdJ("change",function(s){return e.CHM(t),e.oxw(3).onCheckboxChange1(s)}),e.qZA(),e.TgZ(77,"label",41),e._uU(78,"\xa0\xa0\xa0Test Strips"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(79,"div",28),e.TgZ(80,"div",22),e.TgZ(81,"input",51),e.NdJ("change",function(s){return e.CHM(t),e.oxw(3).onCheckboxChange1(s)}),e.qZA(),e.TgZ(82,"label",41),e._uU(83,"\xa0\xa0\xa0Insulin"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(84,"div",52),e.TgZ(85,"div",22),e.TgZ(86,"input",53),e.NdJ("change",function(s){return e.CHM(t),e.oxw(3).onCheckboxChange1(s)}),e.qZA(),e.TgZ(87,"label",41),e._uU(88,"\xa0\xa0\xa0Peer Support"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(89,"div",54),e.TgZ(90,"div",20),e.TgZ(91,"div",55),e.TgZ(92,"div",56),e.TgZ(93,"button",57),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).submit()}),e._uU(94,"Submit"),e.qZA(),e._uU(95,"\xa0 "),e.TgZ(96,"button",58),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).cancel()}),e._uU(97,"Reset"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw(3);e.xp6(7),e.Q6J("ngClass",e.VKq(22,Ce,t.submitted&&t.f.DoctorId.errors)),e.xp6(3),e.Q6J("ngForOf",t.allEntities),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.DoctorId.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(24,Ce,t.submitted&&t.f.fname.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.fname.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(26,Ce,t.submitted&&t.f.lname.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.lname.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(28,Ce,t.submitted&&t.f.guardian.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.guardian.errors),e.xp6(5),e.Q6J("preValue",t.ReferralForm.value.contact)("phoneControl",t.ReferralForm.controls.contact)("ngClass",e.VKq(30,Ce,t.submitted&&t.f.contact.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.contact.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(32,Ce,t.submitted&&t.f.city.errors)),e.xp6(3),e.Q6J("ngForOf",t.cities),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.city.errors),e.xp6(6),e.Q6J("ngIf",t.submitted&&t.f.raddress.errors),e.xp6(8),e.Oqu(t.filename),e.xp6(13),e.Q6J("value",1),e.xp6(5),e.Q6J("value",2),e.xp6(5),e.Q6J("value",3),e.xp6(5),e.Q6J("value",4)}}function Hv(i,n){if(1&i&&(e.TgZ(0,"form",16),e.YNc(1,Bv,98,34,"div",17),e.qZA()),2&i){const t=e.oxw(2);e.Q6J("formGroup",t.ReferralForm),e.xp6(1),e.Q6J("ngIf",t.collapseFlag)}}function $v(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",74),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;return e.oxw(3).edit(s.PatientId)}),e._UZ(1,"span",75),e._UZ(2,"i",76),e.qZA()}}function Lv(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",77),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;return e.oxw(3).Delete(s.PatientId)}),e._UZ(1,"i",78),e.qZA()}}function Gv(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td",69),e.YNc(12,$v,3,0,"button",70),e._uU(13,"\xa0 "),e.TgZ(14,"button",71),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw(3).regform(r.PatientId)}),e._UZ(15,"i",72),e.qZA(),e._uU(16,"\xa0 "),e.YNc(17,Lv,2,0,"button",73),e.qZA(),e.qZA()}if(2&i){const t=n.$implicit,o=n.index,s=e.oxw(3);e.xp6(2),e.Oqu(o+1),e.xp6(2),e.AsE("",t.FirstName," ",t.LastName,""),e.xp6(2),e.Oqu(t.CName),e.xp6(2),e.Oqu(t.GuardianName),e.xp6(2),e.Oqu(t.PhoneNumberMobile),e.xp6(2),e.Q6J("ngIf",s.editrec),e.xp6(5),e.Q6J("ngIf",s.IsDelete)}}function jv(i,n){if(1&i&&(e.TgZ(0,"div",61),e.TgZ(1,"div"),e.TgZ(2,"h6",62),e._uU(3,"Referred Children"),e.qZA(),e.qZA(),e.TgZ(4,"div"),e.TgZ(5,"table",63),e._UZ(6,"col",64),e._UZ(7,"col",65),e._UZ(8,"col",66),e._UZ(9,"col",65),e._UZ(10,"col",66),e._UZ(11,"col",66),e.TgZ(12,"thead"),e.TgZ(13,"tr"),e.TgZ(14,"th",67),e._uU(15,"#"),e.qZA(),e.TgZ(16,"th",67),e._uU(17,"Child Name"),e.qZA(),e.TgZ(18,"th",67),e._uU(19,"City"),e.qZA(),e.TgZ(20,"th",67),e._uU(21,"Guardian Name"),e.qZA(),e.TgZ(22,"th",67),e._uU(23,"Contact No."),e.qZA(),e.TgZ(24,"th",67),e._uU(25,"Action"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(26,"tbody"),e.YNc(27,Gv,18,8,"tr",68),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(27),e.Q6J("ngForOf",t.childpredata)}}function zv(i,n){if(1&i&&(e.TgZ(0,"div"),e.TgZ(1,"div",1),e.YNc(2,bv,2,0,"div",2),e.YNc(3,vv,2,0,"div",2),e.YNc(4,Tv,2,0,"div",2),e.YNc(5,Av,2,0,"div",3),e.YNc(6,Cv,2,0,"div",3),e.TgZ(7,"div",1),e.YNc(8,qv,2,0,"div",2),e.qZA(),e.TgZ(9,"div",1),e.YNc(10,xv,2,0,"div",2),e.qZA(),e.TgZ(11,"div",1),e.YNc(12,Iv,2,0,"div",2),e.qZA(),e.TgZ(13,"ngx-spinner",4),e.TgZ(14,"p",5),e._uU(15,"Please wait..."),e.qZA(),e.qZA(),e.qZA(),e.TgZ(16,"ngb-accordion",6),e.TgZ(17,"ngb-panel",7),e.YNc(18,yv,4,0,"ng-template",8),e.YNc(19,Hv,2,2,"ng-template",9),e.qZA(),e.qZA(),e.YNc(20,jv,28,1,"div",10),e.qZA()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.isForwardFailure),e.xp6(1),e.Q6J("ngIf",t.uploadedfile),e.xp6(1),e.Q6J("ngIf",t.submitfile),e.xp6(1),e.Q6J("ngIf",t.isForwardSuccess),e.xp6(1),e.Q6J("ngIf",t.isRefferalSuccess),e.xp6(2),e.Q6J("ngIf",t.isDeleteSuccess),e.xp6(2),e.Q6J("ngIf",t.isDeletefailure),e.xp6(2),e.Q6J("ngIf",t.isDuplicateFailure),e.xp6(4),e.Q6J("closeOthers",!0),e.xp6(4),e.Q6J("ngIf",t.tableref)}}let Wv=(()=>{class i{constructor(t,o,s,r,l,d,m,_,Z,A){this.frombuilder=t,this.confirmationDialogService=o,this.childinfo=s,this.childReferral=r,this.detectChanges=l,this.docterdetail=d,this.userService=m,this.popUpSer=_,this.router=Z,this.spinner=A,this.isVisibleSuccess=!1,this.isVisibleFailure=!1,this.isDeletefailure=!1,this.isDeleteSuccess=!1,this.isDuplicateFailure=!1,this.IsSHowPage=!1,this.firstconsent=!1,this.secondconsent=!1,this.thirdconsent=!1,this.fourthconsent=!1,this.isRefferalSuccess=!1,this.submitted=!1,this.IsDelete=!1,this.editrec=!1,this.tableref=!1,this.Data={},this.childdataPost=[],this.childdataPre=[],this.isForwardFailure=!1,this.isForwardSuccess=!1,this.isPrescriptionFailure=!1,this.collapseFlag=!0}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():(this.formcontrols(),this.userService.checkUserHasAccess("/pages/PendingReferralTable").subscribe(t=>{t.length>0?(this.IsSHowPage=!0,this.getAllDoctor(),this.getcities(),this.userService.checkUserHasAccess("/pages/listpending").subscribe(o=>{o.length>0?(this.getchildInfo(),this.tableref=!1,setTimeout(()=>{this.userService.checkUserHasAccess("/pages/delete-child-referal").subscribe(s=>{this.IsDelete=s.length>0})},200),setTimeout(()=>{this.userService.checkUserHasAccess("/pages/edit-child-referal").subscribe(s=>{this.editrec=s.length>0})},400)):this.tableref=!1})):(this.IsSHowPage=!1,this.popUpSer.confirmCommon("","You have no access to view page").then(o=>{}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)")))}))}get f(){return this.ReferralForm.controls}formcontrols(){this.ReferralForm=this.frombuilder.group({fname:["",a.kI.required],lname:["",a.kI.required],city:["",a.kI.required],guardian:["",a.kI.required],raddress:[""],DoctorId:["",a.kI.required],contact:["03",{validators:[a.kI.required,a.kI.pattern(/^((\+92)|(0092))-{0,1}\d{3}-{0,1}\d{7}$|^\d{11}$|^\d{4}-\d{7}$/)]}],firstconsent:[""],secondconsent:[""],thirdconsent:[""],fourthconsent:[""]})}activate(t){this.confirmationDialogService.confirm("Please confirm..","Forward for approval ?").then(o=>{o&&($("#"+t).removeClass("btn-secondary"),$("#"+t).addClass("btn-success"),$("#"+t).html("Registered"),this.childinfo.updateRegStatus(t,1).subscribe(s=>{s&&this.getchildReferralinfo()}))}).catch(()=>console.log())}edit(t){this.router.navigate(["/pages/edit-child-referal/"+t])}getchildInfo(){this.recived=!0,this.childinfo.getchildInfo().subscribe(t=>{this.childdataPre=[],this.childdataPost=[];for(let o in t)0==t[o].RegStatus&&this.childdataPre.push(t[o]);this.childpredata=this.childdataPre,this.childdataPre.length>0&&(this.detectChanges.detectChanges(),$("#predatatable").DataTable({paging:!0,searching:!0,retrieve:!0,ordering:!0,lengthMenu:[[5,10,20,-1],[5,10,20,50]],pageLength:5}))}),$("#predatatable").dataTable().fnDestroy()}regform(t){this.childinfo.getchildInfobyId(t).subscribe(o=>{o&&this.confirmationDialogService.confirm("Please Confirm","Forward for Registration... ?").then(s=>{s&&this.childinfo.regReferredChild(o[0]).subscribe(r=>{r?(this.childinfo.addfolder1(r[1]).subscribe(l=>{}),this.isForwardSuccess=!0,setTimeout(()=>this.isForwardSuccess=!1,3e3),this.getchildInfo()):(this.isForwardFailure=!0,setTimeout(()=>this.isForwardFailure=!1,3e3))})}).catch(()=>console.log())})}getchildReferralinfo(){this.childReferral.getchildReferralinfo().subscribe(t=>{if(t.length>0)for(let o in t)0==t[o].RegStatus&&this.childdataPre.push(t[o]);this.childdataPre=this.childdataPre,this.childdataPre.length>0&&$("#predatatable").DataTable({paging:!0,searching:!0,pageLength:5,lengthMenu:[[5,10,20,50],[5,10,20,50]],ordering:!0})}),$("#predatatable").dataTable().fnDestroy()}onFileSelectdoc1(t){const o=t.target.files[0];if(null==o)this.filename="";else if(o.size>2e6)alert("please select file less than  2mb"),this.filename="";else{this.filename=o.name,this.filetype=o.name.substring(o.name.indexOf(".")+1,o.name.length),this.filenamebackend=o.name.substring(0,o.name.indexOf("."));var s=this.filename.split(".").pop();"pdf"==s||"jpg"==s||"jpeg"==s?(this.prespdf=new FormData,this.prespdf.append("latestprescription",o)):(alert("Supported file: pdf,jpg,jpeg "),this.filename="")}}onCheckboxChange1(t){1==t.target.value?this.firstconsent=!!t.target.checked:2==t.target.value?this.secondconsent=!!t.target.checked:3==t.target.value?this.thirdconsent=!!t.target.checked:4==t.target.value&&(t.target.checked?this.fourthconsent=!0:(this.firstconsent=!1,this.secondconsent=!1,this.thirdconsent=!1,this.fourthconsent=!1))}getAllDoctor(){this.docterdetail.getAllActiveData().subscribe(t=>{this.allEntities=t})}submit(){return(0,we.mG)(this,void 0,void 0,function*(){let t,o;this.submitted=!0,o=Date.now(),this.ReferralForm.invalid?this.spinner.hide():((this.filename="")&&(t=this.filenamebackend+o+"."+this.filetype),this.Data={fname:this.ReferralForm.value.fname,lname:this.ReferralForm.value.lname,city:this.ReferralForm.value.city,guardian:this.ReferralForm.value.guardian,raddress:this.ReferralForm.value.raddress,DoctorId:this.ReferralForm.value.DoctorId,contact:this.ReferralForm.value.contact,firstconsent:this.firstconsent,secondconsent:this.secondconsent,thirdconsent:this.thirdconsent,fourthconsent:this.fourthconsent,prespath:t},""==t?this.isPrescriptionFailure=!1:this.childReferral.childReferralRegister(this.Data).subscribe(s=>{s?"true"==s.duplicate?(this.spinner.hide(),this.isDuplicateFailure=!0,setTimeout(()=>this.isDuplicateFailure=!1,3e3)):(this.isRefferalSuccess=!0,setTimeout(()=>this.isRefferalSuccess=!1,3e3),this.childReferral.getlastid().subscribe(r=>{if(r){let l=r[0].PatientId;this.childReferral.addfolder(l).subscribe(d=>{d&&(t="")&&this.childReferral.addlatestprecdoc(this.prespdf,l,o).subscribe(m=>{})})}}),this.spinner.hide(),this.ReferralForm.reset(),this.isRefferalSuccess=!0,setTimeout(()=>(this.isRefferalSuccess=!1,this.router.navigate(["/pages/child-info"])),3e3),this.filename="",this.submitted=!1,this.getchildInfo()):(this.spinner.hide(),this.isVisibleFailure=!0,setTimeout(()=>this.isVisibleFailure=!1,3e3))}))})}getcities(){this.childinfo.getallcities().subscribe(t=>{this.cities=t})}Delete(t){this.popUpSer.confirmCommon("","Do You really want to delete?").then(o=>{o&&this.childReferral.deleteReferralbyid(t).subscribe(s=>{s?(this.isDeleteSuccess=!0,setTimeout(()=>this.isDeleteSuccess=!1,3e3),this.getchildInfo()):(this.isDeletefailure=!0,setTimeout(()=>this.isDeletefailure=!1,3e3))})}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)"))}cancel(){this.ReferralForm.reset(),this.submitted=!1,this.formcontrols(),this.filename=""}collapse(){this.collapseFlag=0==this.collapseFlag}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(b),e.Y36(S),e.Y36(ie),e.Y36(e.sBO),e.Y36(B),e.Y36(h),e.Y36(b),e.Y36(p.F0),e.Y36(v.t2))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-pendingreferraltable"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"content-wrapper"],["class","alertnotify","style","background: #CB3837",4,"ngIf"],["class","alertnotify","style","background: #54A254",4,"ngIf"],["bdColor","rgba(51,51,51,0.6)","size","medium","color","#fff","type","timer"],[2,"font-size","20px","color","white","margin-top","30px"],["activeIds","toggle-11",3,"closeOthers"],["id","toggle-11"],["ngbPanelTitle",""],["ngbPanelContent",""],["class","mt-4",4,"ngIf"],[1,"alertnotify",2,"background","#CB3837"],[1,"alertnotify",2,"background","#54A254"],[1,"card-header--title"],[1,"pull-right"],[1,"fa","fa-angle-down","fa-lg"],[3,"formGroup"],["class","row",4,"ngIf"],[1,"row"],[1,"col-md-5"],[1,"col-md-12"],[1,"row","mt-1",2,"padding-left","15px"],[1,"col"],["id","s2"],["id","DoctorId","formControlName","DoctorId",1,"form-control","form-control-sm",3,"ngClass"],["value","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],[1,"row","mt-2",2,"padding-left","15px"],["type","text","id","fname","placeholder","Enter First Name","formControlName","fname","appAlphabetOnly","","maxlength","20",1,"form-control","form-control-sm",3,"ngClass"],["for","lname","id","s2"],["type","text","id","lname","placeholder","Enter Last Name","formControlName","lname","appAlphabetOnly","","maxlength","20",1,"form-control","form-control-sm",3,"ngClass"],["for","guardian","id","s2"],["type","text","id","guardian","placeholder","Enter Guardian Name","formControlName","guardian","appAlphabetOnly","","maxlength","20",1,"form-control","form-control-sm",3,"ngClass"],["for","contact","id","s2"],["type","text","id","contact","placeholder","03","formControlName","contact","phoneMask","","maxlength","12",1,"Phone","form-control","form-control-sm",3,"preValue","phoneControl","ngClass"],["for","City","id","s2"],["id","city","formControlName","city",1,"form-control","form-control-sm",3,"ngClass"],["type","text","id","raddress","placeholder","Enter Residential Address","formControlName","raddress","maxlength","200",1,"form-control","form-control-sm"],[1,"col-md-5","offset-1","mt-2"],[1,"pinkcard","mb-1",2,"padding","15px"],["for",""],[2,"padding-left","10px"],[1,"mb-2","mr-2","btn","upload-btn","rounded-pill","px-4"],["type","file","id","customFile","name","uploadedImage","accept","application/pdf,image/jpg,image/jpeg",1,"center-block","file-upload",3,"change"],["UploadFileInput",""],[1,"row","mb-1"],["id","s4",1,"mt-5"],[1,"card-border-local",2,"padding","15px"],["type","checkbox","formControlName","firstconsent","id","firstconsent",3,"value","change"],["type","checkbox","formControlName","secondconsent","id","secondconsent",3,"value","change"],["type","checkbox","formControlName","thirdconsent","id","thirdconsent",3,"value","change"],[1,"row","mt-2","mb-2",2,"padding-left","15px"],["type","checkbox","formControlName","fourthconsent","id","fourthconsent",3,"value","change"],[1,"row","mt-5"],[1,"row","mr-1",2,"float","right"],[1,"col",2,"float","right"],["ngbTooltip","Submit","type","submit","id","submit",1,"btn","btn-sm","upload-btn","px-3",3,"click"],["ngbTooltip","Reset","type","submit","id","reset",1,"btn","btn-sm","reset-btn","px-3",3,"click"],[3,"value"],[1,"invalid-feedback"],[1,"mt-4"],[1,"theme-heading"],["id","predatatable",1,"table","table-cell","text-center","table-striped","table-bordered",2,"width","100%"],[2,"width","2%"],[2,"width","15%"],[2,"width","10%"],["scope","col"],[4,"ngFor","ngForOf"],[2,"white-space","nowrap"],["ngbTooltip","Edit","class","btn edit-btn","id","edit",3,"click",4,"ngIf"],["ngbTooltip","Move","id","move",1,"btn","upload-btn",3,"click"],[1,"fa","fa-check","fa-xs"],["ngbTooltip","Delete","class","btn delet-btn","id","delete",3,"click",4,"ngIf"],["ngbTooltip","Edit","id","edit",1,"btn","edit-btn",3,"click"],[1,"bs-tooltip-top"],[1,"fa","fa-pencil","fa-xs"],["ngbTooltip","Delete","id","delete",1,"btn","delet-btn",3,"click"],[1,"fa","fa-trash","fa-xs"]],template:function(t,o){1&t&&e.YNc(0,zv,21,10,"div",0),2&t&&e.Q6J("ngIf",o.IsSHowPage)},directives:[g.O5,v.Ro,u.gY,u.Gk,u.Cu,u.gW,a._Y,a.JL,a.sg,a.EJ,a.JJ,a.u,g.mk,a.YN,a.Kr,g.sg,a.Fj,x,a.nD,J,a.Wl,u._L],styles:['#customFile[_ngcontent-%COMP%]{position:absolute;top:0;left:0;filter:alpha(opacity=0);-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";opacity:0;background-color:transparent;color:transparent}input[type=checkbox][_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{font-size:medium;vertical-align:middle}input[type=checkbox][_ngcontent-%COMP%]{border:.1em;border-radius:.5em;width:1.3em;height:1.3em;vertical-align:middle}']}),i})();function Kv(i,n){1&i&&(e.TgZ(0,"div",19),e._uU(1," Email Does Not Exists!. "),e.qZA())}function Xv(i,n){1&i&&(e.TgZ(0,"div",20),e._uU(1," Updated your Password Successfully!. "),e.qZA())}function e6(i,n){1&i&&(e.TgZ(0,"div",20),e._uU(1," Please check your email for password recovery!. "),e.qZA())}function t6(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Email is required"),e.qZA())}function i6(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Email must be a valid Email address"),e.qZA())}function o6(i,n){if(1&i&&(e.TgZ(0,"div",27),e.YNc(1,t6,2,0,"div",28),e.YNc(2,i6,2,0,"div",28),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.Email.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.Email.errors.email)}}const We=function(i){return{"is-invalid":i}};function n6(i,n){if(1&i&&(e.TgZ(0,"div",21),e.TgZ(1,"div",22),e.TgZ(2,"div",23),e.TgZ(3,"div",24),e.TgZ(4,"label"),e.TgZ(5,"h6"),e._uU(6,"Enter email address"),e.qZA(),e.qZA(),e.TgZ(7,"div"),e._UZ(8,"input",25),e.YNc(9,o6,3,2,"div",26),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(8),e.Q6J("ngClass",e.VKq(2,We,t.submitted&&t.f.Email.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.Email.errors)}}function s6(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Password is required"),e.qZA())}function r6(i,n){if(1&i&&(e.TgZ(0,"div",27),e.YNc(1,s6,2,0,"div",28),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f1.emailPassword.errors.required)}}function a6(i,n){1&i&&(e.TgZ(0,"p",32),e._uU(1,"Password didnot match!"),e.qZA())}function l6(i,n){if(1&i&&(e.TgZ(0,"div",21),e.TgZ(1,"div",22),e.TgZ(2,"div",23),e.TgZ(3,"label",29),e._uU(4,"Enter the password sent by you on email"),e.qZA(),e._UZ(5,"input",30),e.YNc(6,r6,2,1,"div",26),e.YNc(7,a6,2,0,"p",31),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(5),e.Q6J("ngClass",e.VKq(3,We,t.submitted1&&t.f1.emailPassword.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted1&&t.f1.emailPassword.errors),e.xp6(1),e.Q6J("ngIf",t.matchKey)}}function d6(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Password is required"),e.qZA())}function c6(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Password must be at least 6 characters"),e.qZA())}function u6(i,n){if(1&i&&(e.TgZ(0,"div",27),e.YNc(1,d6,2,0,"div",28),e.YNc(2,c6,2,0,"div",28),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f2.Password.errors.required),e.xp6(1),e.Q6J("ngIf",t.f2.Password.errors.minlength)}}function g6(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Confirm Password is required"),e.qZA())}function m6(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Passwords must match"),e.qZA())}function p6(i,n){if(1&i&&(e.TgZ(0,"div",27),e.YNc(1,g6,2,0,"div",28),e.YNc(2,m6,2,0,"div",28),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f2.confirmPassword.errors.required),e.xp6(1),e.Q6J("ngIf",t.f2.confirmPassword.errors.mustMatch)}}function _6(i,n){if(1&i&&(e.TgZ(0,"div",21),e.TgZ(1,"div",22),e.TgZ(2,"div",33),e.TgZ(3,"div",34),e.TgZ(4,"label"),e._uU(5,"Password"),e.qZA(),e.TgZ(6,"div"),e._UZ(7,"input",35),e.YNc(8,u6,3,2,"div",26),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"div",33),e.TgZ(10,"div",34),e.TgZ(11,"label"),e._uU(12,"Confirm Password"),e.qZA(),e.TgZ(13,"div"),e._UZ(14,"input",36),e.YNc(15,p6,3,2,"div",26),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(7),e.Q6J("ngClass",e.VKq(4,We,t.submitted2&&t.f2.Password.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted2&&t.f2.Password.errors),e.xp6(6),e.Q6J("ngClass",e.VKq(6,We,t.submitted2&&t.f2.confirmPassword.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted2&&t.f2.confirmPassword.errors)}}function h6(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",37),e.NdJ("click",function(){return e.CHM(t),e.oxw().back()}),e._uU(1,"Back"),e.qZA()}}function f6(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",38),e.NdJ("click",function(){return e.CHM(t),e.oxw().next()}),e._uU(1,"Request Reset Link"),e.qZA()}}function Z6(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",39),e.NdJ("click",function(){return e.CHM(t),e.oxw().onSubmit()}),e._uU(1,"Update Password"),e.qZA()}}let b6=(()=>{class i{constructor(t,o,s,r){this.myFormBuilder=t,this.userSer=o,this.myRouter=s,this.popUpSer=r,this.submitted=!1,this.submitted1=!1,this.submitted2=!1,this.step=1,this.firstStep=!1,this.finalStep=!1,this.matchKey=!1,this.isEmailSentSuccess=!1,this.isVisibleFailure=!1,this.isVisibleSuccess=!1}ngOnInit(){this.formControls(),this.formControls1(),this.formControls2()}get f(){return this.forgetPasswordform.controls}get f1(){return this.recoverPasswordform.controls}get f2(){return this.newPasswordform.controls}formControls(){this.forgetPasswordform=this.myFormBuilder.group({Email:["",[a.kI.required,a.kI.email]]})}formControls1(){this.recoverPasswordform=this.myFormBuilder.group({emailPassword:["",[a.kI.required]]})}formControls2(){this.newPasswordform=this.myFormBuilder.group({Password:["",[a.kI.required,a.kI.minLength(6)]],confirmPassword:["",[a.kI.required,a.kI.minLength(6)]]},{validator:v6("Password","confirmPassword")})}back(){this.step--,1==this.step&&(this.submitted=!1,this.firstStep=!1),2==this.step&&(this.submitted1=!1,this.finalStep=!1)}next(){if(1==this.step){if(this.submitted=!0,this.forgetPasswordform.invalid)return;this.popUpSer.confirmCommon("","Please Confirm Email").then(t=>{t&&(this.step++,this.firstStep=!0,this.sendmail(this.forgetPasswordform.value.Email))}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)"))}if(2==this.step){if(this.submitted1=!0,this.recoverPasswordform.invalid)return;if(this.recoverPasswordform.value.emailPassword!=this.emailkey)return void(this.matchKey=!0);this.matchKey=!1,this.step++,this.finalStep=!0,this.firstStep=!0}}sendmail(t){this.emailkey="";for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=o.length,r=0;r<7;r++)this.emailkey+=o.charAt(Math.floor(Math.random()*s));this.userSer.sendmail({Email:t,key:this.emailkey}).subscribe(d=>{d&&(this.isEmailSentSuccess=!0,setTimeout(()=>this.isEmailSentSuccess=!1,1e3))})}onSubmit(){this.submitted2=!0,this.newPasswordform.invalid||this.userSer.forgetPassword({Email:this.forgetPasswordform.value.Email,Password:this.newPasswordform.value.confirmPassword}).subscribe(o=>{1==o?(this.isVisibleSuccess=!0,setTimeout(()=>this.isVisibleSuccess=!1,2e3),setTimeout(()=>this.myRouter.navigate(["pages/login-boxed"]),500)):(o="Email Does Not Exist")&&(this.isVisibleFailure=!0,setTimeout(()=>this.isVisibleFailure=!1,1e3))})}ngOnDestroy(){console.log("destroyed")}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(h),e.Y36(p.F0),e.Y36(b))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-forgot-password-boxed"]],decls:28,vars:12,consts:[["class","alertnotify","style","background: #cb3837;",4,"ngIf"],["class","alertnotify","style","background: #54a254;",4,"ngIf"],[1,"h-100","bg-plum-plate","bg-animation",2,"background-image","linear-gradient(-20deg, #2b5876 0%, #4e4376 100%) !important"],[1,"d-flex","h-100","justify-content-center","align-items-center"],[1,"mx-auto","app-login-box","col-md-6"],[1,"modal-dialog","w-100"],[1,"modal-content"],["src","/assets/images/iot.png","height","50px","width","150px",1,"mx-auto","d-block"],[1,"mt-1","text-center","h4","modal-title"],[1,"mt-1","ml-3"],[1,"form-signin",3,"formGroup"],["class","modal-body",4,"ngIf"],[3,"formGroup"],[1,"text-center","mt-0"],["class","btn reset-btn",3,"click",4,"ngIf"],["class","btn btn-primary  ",3,"click",4,"ngIf"],["type","button","class","btn upload-btn btn-lg","id","updatepass",3,"click",4,"ngIf"],[1,"mb-2","mt-2","text-center"],["routerLink","/pages/login-boxed","id","signin",1,"text-primary"],[1,"alertnotify",2,"background","#cb3837"],[1,"alertnotify",2,"background","#54a254"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],["id","exampleInputGroup1","role","group","aria-describedby","exampleInputGroup1__BV_description_",1,"form-group"],["id","email","type","text","formControlName","Email","placeholder","Enter email...","required","required","aria-required","true","aria-describedby","exampleInputGroup1__BV_description_",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"invalid-feedback"],[4,"ngIf"],["for",""],["id","password","type","text","placeholder","Enter password...","required","required","aria-required","true","formControlName","emailPassword",1,"form-control",3,"ngClass"],["style","color: #C71C22;",4,"ngIf"],[2,"color","#C71C22"],[1,"col-md-6"],["id","exampleInputGroup2","role","group",1,"form-group"],["id","password","type","password","placeholder","Enter password...","required","required","aria-required","true","formControlName","Password",1,"form-control",3,"ngClass"],["id","password","type","password","placeholder","Confirm password...","required","required","aria-required","true","formControlName","confirmPassword",1,"form-control",3,"ngClass"],[1,"btn","reset-btn",3,"click"],[1,"btn","btn-primary",3,"click"],["type","button","id","updatepass",1,"btn","upload-btn","btn-lg",3,"click"]],template:function(t,o){1&t&&(e.YNc(0,Kv,2,0,"div",0),e.YNc(1,Xv,2,0,"div",1),e.YNc(2,e6,2,0,"div",1),e.TgZ(3,"div",2),e.TgZ(4,"div",3),e.TgZ(5,"div",4),e.TgZ(6,"div",5),e.TgZ(7,"div",6),e._UZ(8,"img",7),e.TgZ(9,"div",8),e.TgZ(10,"b"),e._uU(11,"Forgot your Password?"),e.qZA(),e.qZA(),e.TgZ(12,"div",9),e.TgZ(13,"p"),e._uU(14,"Please enter the email address you'd like your password reset information sent to "),e.qZA(),e.qZA(),e.TgZ(15,"form",10),e.YNc(16,n6,10,4,"div",11),e.qZA(),e.TgZ(17,"form",12),e.YNc(18,l6,8,5,"div",11),e.qZA(),e.TgZ(19,"form",12),e.YNc(20,_6,16,8,"div",11),e.TgZ(21,"div",13),e.YNc(22,h6,2,0,"button",14),e.YNc(23,f6,2,0,"button",15),e.YNc(24,Z6,2,0,"button",16),e.qZA(),e.TgZ(25,"h6",17),e.TgZ(26,"a",18),e._uU(27,"Back To Login"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.Q6J("ngIf",o.isVisibleFailure),e.xp6(1),e.Q6J("ngIf",o.isVisibleSuccess),e.xp6(1),e.Q6J("ngIf",o.isEmailSentSuccess),e.xp6(13),e.Q6J("formGroup",o.forgetPasswordform),e.xp6(1),e.Q6J("ngIf",1==o.step),e.xp6(1),e.Q6J("formGroup",o.recoverPasswordform),e.xp6(1),e.Q6J("ngIf",2==o.step),e.xp6(1),e.Q6J("formGroup",o.newPasswordform),e.xp6(1),e.Q6J("ngIf",3==o.step),e.xp6(2),e.Q6J("ngIf",o.firstStep),e.xp6(1),e.Q6J("ngIf",!o.finalStep),e.xp6(1),e.Q6J("ngIf",o.finalStep))},directives:[g.O5,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,a.Q7,g.mk,p.yS],encapsulation:2}),i})();function v6(i,n){return t=>{const s=t.controls[n];s.errors&&!s.errors.mustMatch||s.setErrors(t.controls[i].value!==s.value?{mustMatch:!0}:null)}}function T6(i,n){1&i&&(e.TgZ(0,"div",24),e._uU(1," Sorry You are not approved by Admin yet!.\n"),e.qZA())}function A6(i,n){1&i&&(e.TgZ(0,"div",24),e._uU(1," Wrong Email or Password!.\n"),e.qZA())}function C6(i,n){1&i&&(e.TgZ(0,"div",24),e._uU(1," Email Does Not Exist!.\n"),e.qZA())}function q6(i,n){1&i&&(e.TgZ(0,"div",25),e._uU(1," Logged In Successfully!.\n"),e.qZA())}function x6(i,n){1&i&&(e.TgZ(0,"div",24),e._uU(1," Sorry You dont't have access to this system. Please contact System Administrator!.\n"),e.qZA())}function I6(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Email is required"),e.qZA())}function y6(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Email must be a valid email address"),e.qZA())}function k6(i,n){if(1&i&&(e.TgZ(0,"div",26),e.YNc(1,I6,2,0,"div",27),e.YNc(2,y6,2,0,"div",27),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.email.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.email.errors.email)}}function U6(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Password is required"),e.qZA())}function N6(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Password must be at least 6 characters"),e.qZA())}function w6(i,n){if(1&i&&(e.TgZ(0,"div",26),e.YNc(1,U6,2,0,"div",27),e.YNc(2,N6,2,0,"div",27),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.password.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.password.errors.minlength)}}const Et=function(i){return{"is-invalid":i}};let S6=(()=>{class i{constructor(t,o,s){this.myFormBuilder=t,this.myRouter=o,this.userSer=s,this.submitted=!1,this.isVisibleSuccess=!1,this.isVisibleFailure=!1,this.isVisibleFailureEmail=!1,this.isVisibleFailureEmailNotExist=!1,this.isRoleExist=!1}ngOnInit(){this.formControls()}get f(){return this.signinform.controls}formControls(){this.signinform=this.myFormBuilder.group({email:["",[a.kI.required,a.kI.email]],password:["",[a.kI.required,a.kI.minLength(6)]]})}onSubmit(){this.submitted=!0,this.signinform.invalid||this.userSer.loginUser({Email:this.signinform.value.email,Password:this.signinform.value.password}).subscribe(o=>{localStorage.setItem("token",o.token);let s=o;"Invalid Password"==o?(this.isVisibleFailureEmail=!0,setTimeout(()=>this.isVisibleFailureEmail=!1,2e3)):"Email Does Not Exist"==o&&(this.isVisibleFailureEmailNotExist=!0,setTimeout(()=>this.isVisibleFailureEmailNotExist=!1,2e3)),1==s.success?setTimeout(()=>{this.userSer.checkUserRights(this.signinform.value.email).subscribe(r=>{let l="0";if(r.length>0){for(var d in r)l=l+","+r[d].RoleId,localStorage.setItem("CurrentUserEmail",this.signinform.value.email),localStorage.setItem("CurrentUserId",r[0].UserId),localStorage.setItem("CurrentRoleId",l),localStorage.setItem("CurrentRoleName",r[0].RoleName);this.isVisibleSuccess=!0,setTimeout(()=>this.isVisibleSuccess=!1,2e3),setTimeout(()=>this.myRouter.navigate(["/pages/dashboard"]),2e3)}else this.isRoleExist=!0,setTimeout(()=>this.isRoleExist=!1,2e3),setTimeout(()=>this.myRouter.navigate(["/pages/login-boxed"]),2e3)})},500):(this.isVisibleFailure=!0,setTimeout(()=>this.isVisibleFailure=!1,5e3))})}ngOnDestroy(){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(p.F0),e.Y36(h))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-login-boxed"]],decls:40,vars:14,consts:[["class","alertnotify","style","background: #cb3837;",4,"ngIf"],["class","alertnotify","style","background: #54a254;",4,"ngIf"],[1,"h-100","bg-plum-plate","bg-animation"],[1,"d-flex","h-100","justify-content-center","align-items-center",2,"background-image","linear-gradient(-20deg, #2b5876 0%, #4e4376 100%) !important"],[1,"mx-auto","app-login-box","col-md-8"],[1,"modal-dialog","w-100","mx-auto"],[1,"modal-content"],[1,"mx-auto","mb-3"],["src","/assets/images/iot.png","height","auto","width","160px"],[1,"form-signin",3,"formGroup","ngSubmit"],[1,"modal-body"],["id","exampleInputGroup1","role","group","aria-describedby","exampleInputGroup1__BV_description_",1,"form-group"],["id","exampleInput1","type","text","placeholder","Enter email...","required","required","aria-required","true","aria-describedby","exampleInputGroup1__BV_description_","formControlName","email",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["tabindex","-1","id","exampleInputGroup1__BV_description_",1,"form-text","text-muted"],["id","exampleInputGroup2","role","group",1,"form-group"],["id","exampleInput2","type","password","placeholder","Enter password...","required","required","aria-required","true","formControlName","password",1,"form-control",3,"ngClass"],[1,"divider"],[1,"mb-0"],["routerLink","/pages/register-boxed",1,"text-primary"],["routerLink","/pages/forgot-password-boxed",1,"text-primary"],[1,"modal-footer","clearfix"],[1,"float-right"],["type","submit","id","loginbtn",1,"btn","btn-primary","btn-lg"],[1,"alertnotify",2,"background","#cb3837"],[1,"alertnotify",2,"background","#54a254"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(t,o){1&t&&(e.YNc(0,T6,2,0,"div",0),e.YNc(1,A6,2,0,"div",0),e.YNc(2,C6,2,0,"div",0),e.YNc(3,q6,2,0,"div",1),e.YNc(4,x6,2,0,"div",0),e.TgZ(5,"div",2),e.TgZ(6,"div",3),e.TgZ(7,"div",4),e.TgZ(8,"div",5),e.TgZ(9,"div",6),e.TgZ(10,"div",7),e._UZ(11,"img",8),e.qZA(),e.TgZ(12,"form",9),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(13,"div",10),e.TgZ(14,"div",11),e.TgZ(15,"div"),e.TgZ(16,"label"),e._uU(17,"Email"),e.qZA(),e._UZ(18,"input",12),e.YNc(19,k6,3,2,"div",13),e.TgZ(20,"small",14),e._uU(21,"We'll never share your email with anyone else. "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(22,"div",15),e.TgZ(23,"label"),e._uU(24,"Password"),e.qZA(),e.TgZ(25,"div"),e._UZ(26,"input",16),e.YNc(27,w6,3,2,"div",13),e.qZA(),e.qZA(),e._UZ(28,"div",17),e.TgZ(29,"h6",18),e._uU(30," Don\u2019t have an Account? "),e.TgZ(31,"a",19),e._uU(32,"Sign up now"),e.qZA(),e._uU(33," | "),e.TgZ(34,"a",20),e._uU(35,"Forgot Password"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(36,"div",21),e.TgZ(37,"div",22),e.TgZ(38,"button",23),e._uU(39,"Login"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.Q6J("ngIf",o.isVisibleFailure),e.xp6(1),e.Q6J("ngIf",o.isVisibleFailureEmail),e.xp6(1),e.Q6J("ngIf",o.isVisibleFailureEmailNotExist),e.xp6(1),e.Q6J("ngIf",o.isVisibleSuccess),e.xp6(1),e.Q6J("ngIf",o.isRoleExist),e.xp6(8),e.Q6J("formGroup",o.signinform),e.xp6(6),e.Q6J("ngClass",e.VKq(10,Et,o.submitted&&o.f.email.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.email.errors),e.xp6(7),e.Q6J("ngClass",e.VKq(12,Et,o.submitted&&o.f.password.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.password.errors))},directives:[g.O5,a._Y,a.JL,a.sg,a.Fj,a.Q7,a.JJ,a.u,g.mk,p.yS],encapsulation:2}),i})();function F6(i,n){1&i&&(e.TgZ(0,"div",50),e._uU(1," Email Already Exists!.\n"),e.qZA())}function D6(i,n){1&i&&(e.TgZ(0,"div",51),e._uU(1," Registered Successfully!.\n"),e.qZA())}function J6(i,n){1&i&&(e.TgZ(0,"div",52),e._uU(1," Something went wrong!. "),e.qZA())}function E6(i,n){1&i&&(e.TgZ(0,"div",53),e._uU(1," Added Successfully!. "),e.qZA())}function R6(i,n){1&i&&(e.TgZ(0,"div",52),e._uU(1," The number of children eligible for support should be less than the number of children under care "),e.qZA())}function P6(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"First Name is required"),e.qZA())}function Y6(i,n){if(1&i&&(e.TgZ(0,"div",54),e.YNc(1,P6,2,0,"div",55),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.Firstname.errors.required)}}function Q6(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Last Name is required"),e.qZA())}function O6(i,n){if(1&i&&(e.TgZ(0,"div",54),e.YNc(1,Q6,2,0,"div",55),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.Lastname.errors.required)}}function M6(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Email is required"),e.qZA())}function V6(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Email must be a valid Email address "),e.qZA())}function B6(i,n){if(1&i&&(e.TgZ(0,"div",54),e.YNc(1,M6,2,0,"div",55),e.YNc(2,V6,2,0,"div",55),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.Email.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.Email.errors.email)}}function H6(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Password is required"),e.qZA())}function $6(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Password must be at least 6 characters"),e.qZA())}function L6(i,n){if(1&i&&(e.TgZ(0,"div",54),e.YNc(1,H6,2,0,"div",55),e.YNc(2,$6,2,0,"div",55),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.Password.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.Password.errors.minlength)}}function G6(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Confirm Password is required"),e.qZA())}function j6(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Passwords must match "),e.qZA())}function z6(i,n){if(1&i&&(e.TgZ(0,"div",54),e.YNc(1,G6,2,0,"div",55),e.YNc(2,j6,2,0,"div",55),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.confirmPassword.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.confirmPassword.errors.mustMatch)}}function W6(i,n){1&i&&(e.TgZ(0,"span",56),e._uU(1,"Doctor Information"),e.qZA(),e.TgZ(2,"div",57),e._UZ(3,"i",58),e.qZA())}function K6(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"First Name is Required!"),e.qZA())}function X6(i,n){if(1&i&&(e.TgZ(0,"div",54),e.YNc(1,K6,2,0,"div",55),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.doc.FirstName.errors.required)}}function eT(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Last Name is Required!"),e.qZA())}function tT(i,n){if(1&i&&(e.TgZ(0,"div",54),e.YNc(1,eT,2,0,"div",55),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.doc.LastName.errors.required)}}function iT(i,n){if(1&i&&(e.TgZ(0,"option",88),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.HospitalId),e.xp6(1),e.hij("",t.HospitalName," ")}}function oT(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Hospital Name is Required!"),e.qZA())}function nT(i,n){if(1&i&&(e.TgZ(0,"div",54),e.YNc(1,oT,2,0,"div",55),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.doc.Hospital.errors.required)}}function sT(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Department Name is Required!"),e.qZA())}function rT(i,n){if(1&i&&(e.TgZ(0,"div",54),e.YNc(1,sT,2,0,"div",55),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.doc.DepartmentName.errors.required)}}function aT(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Designation is Required!"),e.qZA())}function lT(i,n){if(1&i&&(e.TgZ(0,"div",54),e.YNc(1,aT,2,0,"div",55),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.doc.Designation.errors.required)}}function dT(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Email is Required!"),e.qZA())}function cT(i,n){if(1&i&&(e.TgZ(0,"div",54),e.YNc(1,dT,2,0,"div",55),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.doc.Email.errors.required)}}function uT(i,n){if(1&i&&(e.TgZ(0,"option",88),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.Id),e.xp6(1),e.hij("",t.Name," ")}}function gT(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"City is required"),e.qZA())}function mT(i,n){if(1&i&&(e.TgZ(0,"div",54),e.YNc(1,gT,2,0,"div",55),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.doc.City.errors.required)}}function pT(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Website is Required!"),e.qZA())}function _T(i,n){if(1&i&&(e.TgZ(0,"div",54),e.YNc(1,pT,2,0,"div",55),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.doc.Website.errors)}}function hT(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Tel # is Required! "),e.qZA())}function fT(i,n){if(1&i&&(e.TgZ(0,"div",54),e.YNc(1,hT,2,0,"div",55),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.doc.TelNo.errors.required)}}function ZT(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Cell # is Required! "),e.qZA())}function bT(i,n){if(1&i&&(e.TgZ(0,"div",54),e.YNc(1,ZT,2,0,"div",55),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.doc.CellNo.errors.required)}}function vT(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Address is Required!"),e.qZA())}function TT(i,n){if(1&i&&(e.TgZ(0,"div",54),e.YNc(1,vT,2,0,"div",55),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.doc.Address.errors.required)}}function AT(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Address is Required!"),e.qZA())}function CT(i,n){if(1&i&&(e.TgZ(0,"div",54),e.YNc(1,AT,2,0,"div",55),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.doc.Address.errors.required)}}const N=function(i){return{"is-invalid":i}};function qT(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",59),e.TgZ(1,"div",60),e.TgZ(2,"div",13),e.TgZ(3,"div",19),e.TgZ(4,"div",61),e.TgZ(5,"div",14),e.TgZ(6,"div",62),e.TgZ(7,"label",63),e._uU(8,"First Name"),e.qZA(),e.TgZ(9,"h6",64),e._uU(10),e.qZA(),e.YNc(11,X6,2,1,"div",17),e.qZA(),e.qZA(),e.TgZ(12,"div",14),e.TgZ(13,"div",62),e.TgZ(14,"label",65),e._uU(15,"Last Name"),e.qZA(),e.TgZ(16,"h6",64),e._uU(17),e.qZA(),e.YNc(18,tT,2,1,"div",17),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"div",13),e.TgZ(20,"div",19),e.TgZ(21,"div",61),e.TgZ(22,"div",14),e.TgZ(23,"div",62),e.TgZ(24,"label",66),e._uU(25,"Hospital"),e.qZA(),e.TgZ(26,"select",67),e.TgZ(27,"option",68),e._uU(28,"Select Hospital"),e.qZA(),e.YNc(29,iT,2,2,"option",69),e.qZA(),e.YNc(30,nT,2,1,"div",17),e.qZA(),e.qZA(),e.TgZ(31,"div",14),e.TgZ(32,"div",62),e.TgZ(33,"label",70),e._uU(34,"Department"),e.qZA(),e._UZ(35,"input",71),e.YNc(36,rT,2,1,"div",17),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(37,"div",13),e.TgZ(38,"div",19),e.TgZ(39,"div",61),e.TgZ(40,"div",14),e.TgZ(41,"div",62),e.TgZ(42,"label",70),e._uU(43,"Designation"),e.qZA(),e._UZ(44,"input",72),e.YNc(45,lT,2,1,"div",17),e.qZA(),e.qZA(),e.TgZ(46,"div",14),e.TgZ(47,"div",62),e.TgZ(48,"label",70),e._uU(49,"Email"),e.qZA(),e.TgZ(50,"h6",64),e._uU(51),e.qZA(),e.YNc(52,cT,2,1,"div",17),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(53,"div",13),e.TgZ(54,"div",19),e.TgZ(55,"div",61),e.TgZ(56,"div",14),e.TgZ(57,"div",62),e.TgZ(58,"label",73),e._uU(59,"City"),e.qZA(),e.TgZ(60,"select",74),e.TgZ(61,"option",68),e._uU(62,"Select City"),e.qZA(),e.YNc(63,uT,2,2,"option",69),e.qZA(),e.YNc(64,mT,2,1,"div",17),e.qZA(),e.qZA(),e.TgZ(65,"div",14),e.TgZ(66,"div",62),e.TgZ(67,"label",70),e._uU(68,"Website"),e.qZA(),e._UZ(69,"input",75),e.YNc(70,_T,2,1,"div",17),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(71,"div",13),e.TgZ(72,"div",19),e.TgZ(73,"div",61),e.TgZ(74,"div",14),e.TgZ(75,"div",62),e.TgZ(76,"label",70),e._uU(77,"Tel #"),e.qZA(),e._UZ(78,"input",76),e.YNc(79,fT,2,1,"div",17),e.qZA(),e.qZA(),e.TgZ(80,"div",14),e.TgZ(81,"div",62),e.TgZ(82,"label",77),e._uU(83,"Cell #"),e.qZA(),e._UZ(84,"input",78),e.YNc(85,bT,2,1,"div",17),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(86,"div",13),e.TgZ(87,"div",19),e.TgZ(88,"div",61),e.TgZ(89,"div",14),e.TgZ(90,"div",62),e.TgZ(91,"label",70),e._uU(92,"Address line 1"),e.qZA(),e._UZ(93,"input",79),e.YNc(94,TT,2,1,"div",17),e.qZA(),e.qZA(),e.TgZ(95,"div",14),e.TgZ(96,"div",62),e.TgZ(97,"label",70),e._uU(98,"Address line 2"),e.qZA(),e._UZ(99,"input",79),e.YNc(100,CT,2,1,"div",17),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(101,"div",80),e.TgZ(102,"div",12),e.TgZ(103,"div",81),e.TgZ(104,"div",82),e._UZ(105,"img",83),e.qZA(),e.qZA(),e.TgZ(106,"div",84),e.TgZ(107,"div",85),e.TgZ(108,"button",86,87),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(),r=e.MAs(93);return s.open(r)}),e._uU(110,"Upload Image"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(10),e.hij("",t.FirstName," "),e.xp6(1),e.Q6J("ngIf",t.submittedD&&t.doc.FirstName.errors),e.xp6(6),e.hij("",t.LastName," "),e.xp6(1),e.Q6J("ngIf",t.submittedD&&t.doc.LastName.errors),e.xp6(8),e.Q6J("ngClass",e.VKq(31,N,t.submittedD&&t.doc.Hospital.errors)),e.xp6(3),e.Q6J("ngForOf",t.hospitals),e.xp6(1),e.Q6J("ngIf",t.submittedD&&t.doc.Hospital.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(33,N,t.submittedD&&t.doc.DepartmentName.errors)),e.xp6(1),e.Q6J("ngIf",t.submittedD&&t.doc.DepartmentName.errors),e.xp6(8),e.Q6J("ngClass",e.VKq(35,N,t.submittedD&&t.doc.Designation.errors)),e.xp6(1),e.Q6J("ngIf",t.submittedD&&t.doc.Designation.errors),e.xp6(6),e.hij("",t.Email," "),e.xp6(1),e.Q6J("ngIf",t.submittedD&&t.doc.Email.errors),e.xp6(8),e.Q6J("ngClass",e.VKq(37,N,t.submittedD&&t.doc.City.errors)),e.xp6(3),e.Q6J("ngForOf",t.allcities),e.xp6(1),e.Q6J("ngIf",t.submittedD&&t.doc.City.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(39,N,t.submittedD&&t.doc.Website.errors)),e.xp6(1),e.Q6J("ngIf",t.submittedD&&t.doc.Website.errors),e.xp6(8),e.Q6J("preValue",t.doctor.value.TelNo)("ptclControl",t.doctor.controls.TelNo)("ngClass",e.VKq(41,N,t.submittedD&&t.doc.TelNo.errors)),e.xp6(1),e.Q6J("ngIf",t.submittedD&&t.doc.TelNo.errors),e.xp6(5),e.Q6J("preValue",t.doctor.value.CellNo)("phoneControl",t.doctor.controls.CellNo)("ngClass",e.VKq(43,N,t.submittedD&&t.doc.CellNo.errors)),e.xp6(1),e.Q6J("ngIf",t.submittedD&&t.doc.CellNo.errors),e.xp6(8),e.Q6J("ngClass",e.VKq(45,N,t.submittedD&&t.doc.Address.errors)),e.xp6(1),e.Q6J("ngIf",t.submittedD&&t.doc.Address.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(47,N,t.submittedD&&t.doc.Address.errors)),e.xp6(1),e.Q6J("ngIf",t.submittedD&&t.doc.Address.errors),e.xp6(5),e.Q6J("src",t.originalImage,e.LSH)}}function xT(i,n){1&i&&(e.TgZ(0,"span",56),e._uU(1,"Children Under Care"),e.qZA(),e.TgZ(2,"div",57),e._UZ(3,"i",58),e.qZA())}function IT(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Total Children is Required!"),e.qZA())}function yT(i,n){if(1&i&&(e.TgZ(0,"div",54),e.YNc(1,IT,2,0,"div",55),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.doc.TotalDiabeticChildren.errors.required)}}function kT(i,n){1&i&&(e.TgZ(0,"p"),e._uU(1,"Password is required"),e.qZA())}function UT(i,n){if(1&i&&(e.TgZ(0,"div",54),e.YNc(1,kT,2,0,"p",55),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.errorUndercare)}}function NT(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"New Cases Per Month is Required!"),e.qZA())}function wT(i,n){if(1&i&&(e.TgZ(0,"div",54),e.YNc(1,NT,2,0,"div",55),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.doc.NewCasesPerMonth.errors.required)}}function ST(i,n){if(1&i&&(e.TgZ(0,"div",89),e.TgZ(1,"div",60),e.TgZ(2,"div",13),e.TgZ(3,"div",19),e.TgZ(4,"div",61),e.TgZ(5,"div",14),e.TgZ(6,"div",62),e.TgZ(7,"label",90),e._uU(8,"Total Children Under Care"),e.qZA(),e._UZ(9,"input",91),e.YNc(10,yT,2,1,"div",17),e.qZA(),e.qZA(),e.TgZ(11,"div",14),e.TgZ(12,"div",62),e.TgZ(13,"label",90),e._uU(14,"Children Eligible for P.O.I Support"),e.qZA(),e._UZ(15,"input",92),e.YNc(16,UT,2,1,"div",17),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"div",13),e.TgZ(18,"div",19),e.TgZ(19,"div",61),e.TgZ(20,"div",14),e.TgZ(21,"div",62),e.TgZ(22,"label",90),e._uU(23,"Approximate New Cases Each Month"),e.qZA(),e._UZ(24,"input",93),e.YNc(25,wT,2,1,"div",17),e.qZA(),e.qZA(),e.TgZ(26,"div",14),e._UZ(27,"div",62),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(9),e.Q6J("ngClass",e.VKq(6,N,t.submittedD&&t.doc.TotalDiabeticChildren.errors||t.errorfound)),e.xp6(1),e.Q6J("ngIf",t.submittedD&&t.doc.TotalDiabeticChildren.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(8,N,t.submittedD&&t.doc.InsulinSupport.errors||t.errorfound)),e.xp6(1),e.Q6J("ngIf",t.submittedD&&t.doc.InsulinSupport.errors),e.xp6(8),e.Q6J("ngClass",e.VKq(10,N,t.submittedD&&t.doc.NewCasesPerMonth.errors)),e.xp6(1),e.Q6J("ngIf",t.submittedD&&t.doc.NewCasesPerMonth.errors)}}function FT(i,n){1&i&&(e.TgZ(0,"span",56),e._uU(1,"Terms & Conditions"),e.qZA(),e.TgZ(2,"div",57),e._UZ(3,"i",58),e.qZA())}function DT(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Percentage is required"),e.qZA())}function JT(i,n){if(1&i&&(e.TgZ(0,"div",54),e.YNc(1,DT,2,0,"div",55),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.doc.Support.errors.required)}}function ET(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Date is required "),e.qZA())}function RT(i,n){if(1&i&&(e.TgZ(0,"div",54),e.YNc(1,ET,2,0,"div",55),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.doc.Date.errors.required)}}function PT(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Signature is required "),e.qZA())}function YT(i,n){if(1&i&&(e.TgZ(0,"div",54),e.YNc(1,PT,2,0,"div",55),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.doc.Signature.errors.required)}}function QT(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"div",94),e.TgZ(2,"label"),e._uU(3,"As per Terms & Conditions, I/We can do the following:"),e.qZA(),e.qZA(),e.TgZ(4,"div",95),e.TgZ(5,"div",96),e.TgZ(6,"input",97),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw().firstconsent=s})("change",function(s){return e.CHM(t),e.oxw().onCheckboxChange1(s)}),e.qZA(),e.TgZ(7,"label",98),e._uU(8," \xa0\xa0 Share information about the program with people who have diabetes "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"div",95),e.TgZ(10,"div",99),e.TgZ(11,"input",100),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw().secondconsent=s})("change",function(s){return e.CHM(t),e.oxw().onCheckboxChange1(s)}),e.qZA(),e.TgZ(12,"label",98),e._uU(13," \xa0\xa0 Share information about the program with other doctors/doctors "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(14,"div",95),e.TgZ(15,"div",99),e.TgZ(16,"input",101),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw().thirdconsent=s})("change",function(s){return e.CHM(t),e.oxw().onCheckboxChange1(s)}),e.qZA(),e.TgZ(17,"label",98),e._uU(18," \xa0\xa0 Put up posters on public media/website/waiting areas in clinics "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"div",95),e.TgZ(20,"div",99),e.TgZ(21,"input",102),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw().fourthconsent=s})("change",function(s){return e.CHM(t),e.oxw().onCheckboxChange1(s)}),e.qZA(),e.TgZ(22,"label",98),e._uU(23," \xa0\xa0 Assist with registration process of beneficiaries "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(24,"div",95),e.TgZ(25,"div",99),e.TgZ(26,"input",103),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw().fifthconsent=s})("change",function(s){return e.CHM(t),e.oxw().onCheckboxChange1(s)}),e.qZA(),e.TgZ(27,"label",98),e._uU(28," \xa0\xa0 Continue providing free consultation to the registered beneficiaries "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(29,"div",95),e.TgZ(30,"div",99),e.TgZ(31,"input",104),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw().sixthconsent=s})("change",function(s){return e.CHM(t),e.oxw().onCheckboxChange1(s)}),e.qZA(),e.TgZ(32,"label",98),e._uU(33," \xa0\xa0 Support package handling if a beneficiary is unreachable by courier service "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(34,"div",95),e.TgZ(35,"div",99),e.TgZ(36,"input",105),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw().seventhconsent=s})("change",function(s){return e.CHM(t),e.oxw().onCheckboxChange1(s)}),e.qZA(),e.TgZ(37,"label",98),e._uU(38," \xa0\xa0 If unavailable, refer the child to another doctor/doctor In the city "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(39,"div",95),e.TgZ(40,"div",99),e.TgZ(41,"input",106),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw().eightconsent=s})("change",function(s){return e.CHM(t),e.oxw().onCheckboxChange1(s)}),e.qZA(),e.TgZ(42,"label",98),e._uU(43," \xa0\xa0 Support some percentage of supplies for the registered beneficiaries "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(44,"div",107),e.TgZ(45,"div",108),e.TgZ(46,"label",109),e._uU(47,"% Support provided by hospital (if any)"),e.qZA(),e._UZ(48,"input",110),e.YNc(49,JT,2,1,"div",17),e.qZA(),e.TgZ(50,"div",111),e.TgZ(51,"label",98),e._uU(52,"Date"),e.qZA(),e._UZ(53,"input",112),e.YNc(54,RT,2,1,"div",17),e.qZA(),e.TgZ(55,"div",111),e.TgZ(56,"label",90),e._uU(57,"Signature"),e.qZA(),e._UZ(58,"input",113),e.YNc(59,YT,2,1,"div",17),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(6),e.Q6J("value",1)("ngModel",t.firstconsent),e.xp6(5),e.Q6J("value",2)("ngModel",t.secondconsent),e.xp6(5),e.Q6J("value",3)("ngModel",t.thirdconsent),e.xp6(5),e.Q6J("value",4)("ngModel",t.fourthconsent),e.xp6(5),e.Q6J("value",5)("ngModel",t.fifthconsent),e.xp6(5),e.Q6J("value",6)("ngModel",t.sixthconsent),e.xp6(5),e.Q6J("value",7)("ngModel",t.seventhconsent),e.xp6(5),e.Q6J("value",8)("ngModel",t.eightconsent),e.xp6(7),e.Q6J("ngClass",e.VKq(23,N,t.submittedD&&t.doc.Support.errors)),e.xp6(1),e.Q6J("ngIf",t.submittedD&&t.doc.Support.errors),e.xp6(4),e.Q6J("max",t.maxDate)("ngClass",e.VKq(25,N,t.submittedD&&t.doc.Date.errors)),e.xp6(1),e.Q6J("ngIf",t.submittedD&&t.doc.Date.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(27,N,t.submittedD&&t.doc.Signature.errors)),e.xp6(1),e.Q6J("ngIf",t.submittedD&&t.doc.Signature.errors)}}function OT(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",114),e.TgZ(1,"h4",115),e._uU(2,"Profile update"),e.qZA(),e.TgZ(3,"button",116),e.NdJ("click",function(){return e.CHM(t),e.oxw().close()}),e.TgZ(4,"span",117),e._uU(5,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"div",12),e.TgZ(7,"form"),e.TgZ(8,"div",118),e.TgZ(9,"label"),e.TgZ(10,"b"),e._uU(11,"Upload Image"),e.qZA(),e.qZA(),e._UZ(12,"br"),e._UZ(13,"br"),e.TgZ(14,"div",119),e.TgZ(15,"a",120),e._uU(16,"Choose File "),e.TgZ(17,"input",121,87),e.NdJ("change",function(s){return e.CHM(t),e.oxw().onFileSelect(s)}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"image-cropper",122),e.NdJ("imageCropped",function(s){return e.CHM(t),e.oxw().imageCropped(s)})("imageLoaded",function(){return e.CHM(t),e.oxw().imageLoaded()})("cropperReady",function(){return e.CHM(t),e.oxw().cropperReady()})("loadImageFailed",function(){return e.CHM(t),e.oxw().loadImageFailed()}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(20,"div",46),e.TgZ(21,"button",123),e.NdJ("click",function(){return e.CHM(t).$implicit.close("Save click")}),e._uU(22,"Save"),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(19),e.Q6J("imageChangedEvent",t.imageChangedEvent)("maintainAspectRatio",!0)("aspectRatio",1)("resizeToWidth",256)}}let MT=(()=>{class i{constructor(t,o,s,r,l,d,m,_){this.myFormBuilder=t,this.userSer=o,this.myRouter=s,this.modalService=r,this.doctorSer=l,this.frombuilder=d,this.hospitalSer=m,this.childSer=_,this.doctorFlag=!1,this.submitted=!1,this.isVisibleSuccess=!1,this.isVisibleFailure=!1,this.today=new Date,this.closeResult="",this.imagename="",this.activeIds=["toggle-11"],this.closeOthers=!0,this.checkbox=[],this.fileInputLabel="",this.maxDate=(0,g.p6)(new Date,"yyyy-MM-dd","en"),this.IsSHowPage=!1,this.firstconsent=!1,this.secondconsent=!1,this.thirdconsent=!1,this.fourthconsent=!1,this.fifthconsent=!1,this.sixthconsent=!1,this.seventhconsent=!1,this.eightconsent=!1,this.allcities=[],this.dr_form_errors=[],this.addJson={},this.CountryData=[{name:"I/We can share information about the program with people with diabetes",value:"1"},{name:"Share info about the Program with other Doctors/Institutes",value:"2"},{name:"I/We van put up posters on social media/website/waiting areas in clinics",value:"3"},{name:"I/We can assist with registration process of beneficiaries",value:"4"},{name:"I/We can continue providing fee consultation to the registered beneficiaries",value:"5"},{name:"I/We can support package handling if a benefeciary is unreachable by the counter",value:"6"},{name:"If unavailable,I/we can refer the child to another doctor/doctor in the city",value:"7"},{name:"I/We can support some percentage of the supplies for the registered benefeciaries",value:"8"}],this.hospital=[],this.collapseDocterInfoFlag=!0,this.collapseChildUnderCareFlag=!1,this.collapseTermConditionFlag=!1,this.forceLeft=!1}formcontrolsDoctor(){this.doctor=this.frombuilder.group({Hospital:["",a.kI.required],FirstName:[this.FirstName],LastName:[this.LastName],DepartmentName:["",a.kI.required],Designation:["",a.kI.required],CellNo:["03",{validators:[a.kI.required,a.kI.pattern(/^((\+92)|(0092))-{0,1}\d{3}-{0,1}\d{7}$|^\d{11}$|^\d{4}-\d{7}$/)]}],TelNo:["",{validators:[a.kI.required,a.kI.minLength(7)]}],Email:[this.Email],Website:["",a.kI.pattern("^((http|https|ftp)://(www.)?|www.)[a-zA-Z0-9_-]+.([a-zA-Z]{2,4}|[a-zA-Z]{2}.[a-zA-Z]{2})(/[a-zA-Z0-9-._?&=,'+%$#~]*)*$")],City:["",a.kI.required],Address:[""],uploadedImage:[""],firstconsent:["",a.kI.required],secondconsent:["",a.kI.required],thirdconsent:["",a.kI.required],fourthconsent:[""],fifthconsent:[""],sixthconsent:[""],seventhconsent:[""],eightconsent:[""],TotalDiabeticChildren:[""],NewCasesPerMonth:[""],InsulinSupport:[""],Support:[""],Date:["",a.kI.required],Signature:["",a.kI.required]})}ngOnInit(){this.formControls(),this.formcontrolsDoctor(),this.getallcities(),this.weburl=window.location.protocol+"//"+window.location.host+"/Documents/doctordata/",this.originalImage="assets/images/download.png"}get f(){return this.signupform.controls}get doc(){return this.doctor.controls}formControls(){this.signupform=this.myFormBuilder.group({Firstname:["",a.kI.required],Lastname:["",a.kI.required],Email:["",[a.kI.required,a.kI.email]],EmployeeId:[""],Password:["",[a.kI.required,a.kI.minLength(6)]],confirmPassword:["",[a.kI.required,a.kI.minLength(6)]],userType:[""]},{validator:VT("Password","confirmPassword")})}onsignup(){this.submitted=!0,this.signupform.invalid||(this.doctorFlag?this.doctorSer.duplicatecheck(this.Email).subscribe(t=>{t?(this.isVisibleFailureDupl=!0,setTimeout(()=>{this.isVisibleFailureDupl=!1},3e3)):this.openModalPass()}):""!=this.signupform.value.EmployeeId||this.doctorFlag||this.userSer.addUser({Firstname:this.signupform.value.Firstname,Lastname:this.signupform.value.Lastname,Email:this.signupform.value.Email,Password:this.signupform.value.Password,EmployeeId:null}).subscribe(o=>{o?(this.isVisibleSuccess=!0,setTimeout(()=>this.isVisibleSuccess=!1,3e3),setTimeout(()=>this.myRouter.navigate(["pages/login-boxed"]),500)):(this.isVisibleFailureDupl=!0,setTimeout(()=>this.isVisibleFailureDupl=!1,500))}))}close(){this.modal.dismiss("Cross click")}closeDoctor(){this.modal.dismiss("Cross click")}setFirstName(t){this.FirstName=t.target.value}setLastName(t){this.LastName=t.target.value}setEmail(t){this.Email=t.target.value}setPassword(t){this.Password=t.target.value}openModal(t){this.doctorFlag="modal1"===t}openModalPass(){$("#exampleModal").modal("show"),this.getAllHospitals(),this.getallcities()}getAllHospitals(){this.hospitalSer.getAllHospitalsWithoutToken().subscribe(t=>{this.hospitals=t,console.log(this.hospitals)})}getallcities(){this.childSer.getallcities().subscribe(t=>{t.length>0&&(this.allcities=t)})}onCheckboxChange1(t){1==t.target.value?this.firstconsent=!!t.target.checked:2==t.target.value?this.secondconsent=!!t.target.checked:3==t.target.value?this.thirdconsent=!!t.target.checked:4==t.target.value?this.fourthconsent=!!t.target.checked:5==t.target.value?this.fifthconsent=!!t.target.checked:6==t.target.value?this.sixthconsent=!!t.target.checked:7==t.target.value?this.seventhconsent=!!t.target.checked:8==t.target.value&&(this.eightconsent=!!t.target.checked)}cancel(){this.doctor.reset(),this.originalImage="assets/images/download.png"}submit(){if(this.submittedD=!0,this.applyLimit(),this.doctor.invalid){this.closeOthers=!1,this.activeIds=["toggle-11","toggle-12","toggle-13"];const t=this.getErrors();t.length>0?this.errorsFound=!0:(this.errorsFound=!1,this.dr_form_errors=[]);for(let o=0;o<t.length;o++)this.dr_form_errors.push(t[o].control)}else{if((""!=this.doctor.value.TotalDiabeticChildren||""!=this.doctor.value.InsulinSupport)&&this.doctor.value.TotalDiabeticChildren<this.doctor.value.InsulinSupport)return setTimeout(()=>{this.errorUndercare=!1},3e3),this.errorUndercare=!0,void(this.errorfound=!0);this.errorfound=!1;let t="",o=Date.now();""!=this.fileInputLabel&&(t="doctor"+o+".png"),this.addJson={fname:this.FirstName,lname:this.LastName,hospital:this.doctor.value.Hospital,depname:this.doctor.value.DepartmentName,designation:this.doctor.value.Designation,cellno:this.doctor.value.CellNo,telno:this.doctor.value.TelNo,email:this.Email,Website:this.doctor.value.Website,city:this.doctor.value.City,address:this.doctor.value.Address,firstconsent:this.doctor.value.firstconsent,secondconsent:this.doctor.value.secondconsent,thirdconsent:this.doctor.value.thirdconsent,fourthconsent:this.doctor.value.fourthconsent,fifthconsent:this.doctor.value.fifthconsent,sixthconsent:this.doctor.value.sixthconsent,seventhconsent:this.doctor.value.seventhconsent,eightconsent:this.doctor.value.eightconsent,tdiabchildren:this.doctor.value.TotalDiabeticChildren,newcasespermonth:this.doctor.value.NewCasesPerMonth,insulinsupport:this.doctor.value.InsulinSupport,support:this.doctor.value.Support,Date:this.doctor.value.Date,signature:this.doctor.value.Signature,uploadedImage:t,password:this.Password},console.log(this.addJson),this.doctorSer.doctorSignUp(this.addJson).subscribe(s=>{s?(console.log(s,"res here"),this.isVisibleSuccess=!0,this.doctorSer.addfolder(s[0].DoctorId).subscribe(r=>{}),setTimeout(()=>{this.isVisibleSuccess=!1,""!=this.fileInputLabel&&this.doctorSer.addUserImage(this.imgpdf,s[0].DoctorId,o).subscribe(r=>{}),this.myRouter.navigate(["/pages/login-boxed"])},2e3)):(this.isVisibleFailure=!0,setTimeout(()=>{this.isVisibleFailure=!1},2e3))})}}getHospitals(t){this.hospitalSer.gethospitalbyid(t).subscribe(o=>{o.length>0&&this.hospital.push(o)})}onFileSelect(t){const o=t.target.files[0];if(null==o)this.imagename="";else if(o.size>2e6)alert("please select file less than 2 mb"),this.imagename="";else{this.imagename=o.name,this.imageChangedEvent=t;const r=new FileReader;if(r.readAsDataURL(o),r.onload=()=>{(new Image).src=r.result,this.url=r.result},!o.type.match(/image-*/))return void alert("Invalid format");this.fileInputLabel=o.name}}imageCropped(t){this.croppedImage=this.dataURLtoFile(t.base64,"doctor.png"),this.originalImage=t.base64,$("#profilepic").attr("src",t.base64),this.imgpdf=new FormData,this.imgpdf.append("uploadedImage",this.croppedImage)}imageLoaded(){}cropperReady(){}loadImageFailed(){}dataURLtoFile(t,o){for(var s=t.split(","),r=s[0].match(/:(.*?);/)[1],l=atob(s[1]),d=l.length,m=new Uint8Array(d);d--;)m[d]=l.charCodeAt(d);return new File([m],o,{type:r})}open(t){this.modalService.open(t,{ariaLabelledBy:"modal-basic-title"}).result.then(o=>{this.closeResult=`Closed with: ${o}`},o=>{this.closeResult=`Dismissed ${this.getDismissReason(o)}`})}getDismissReason(t){return t===u.If.ESC?"by pressing ESC":t===u.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${t}`}collapseDocterInfo(){this.collapseDocterInfoFlag=!this.collapseDocterInfoFlag,this.collapseChildUnderCareFlag=!1,this.collapseTermConditionFlag=!1}collapseChildUnderCare(){this.collapseChildUnderCareFlag=!this.collapseChildUnderCareFlag,this.collapseDocterInfoFlag=!1,this.collapseTermConditionFlag=!1}collapseTermCondition(){this.collapseTermConditionFlag=!this.collapseTermConditionFlag,this.collapseDocterInfoFlag=!1,this.collapseChildUnderCareFlag=!1}applyLimit(){this.child_eligibility_length=this.doctor.value.TotalDiabeticChildren,this.forceLeft=!1,(""==this.doctor.value.TotalDiabeticChildren||null==this.doctor.value.TotalDiabeticChildren)&&(this.doctor.controls.InsulinSupport.setValue(""),this.forceLeft=!0),this.doctor.controls.InsulinSupport.setValidators([a.kI.max(this.child_eligibility_length)])}getErrors(){const t=[];return Object.keys(this.doctor.controls).forEach(o=>{const s=this.doctor.get(o).errors;s&&Object.keys(s).forEach(r=>{t.push({control:o,error:r,value:s[r]})})}),t}hideModal(){this.errorsFound=!1,this.dr_form_errors=[]}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(h),e.Y36(p.F0),e.Y36(u.FF),e.Y36(B),e.Y36(a.qu),e.Y36(de),e.Y36(S))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-register-boxed"]],decls:102,vars:29,consts:[["class","alertnotify","style","background: #cb3837;",4,"ngIf"],["class","alertnotify","style","background: #54a254;",4,"ngIf"],[1,"content-wrapper","d-flex","flex-row"],["class","alertnotify","style","background: #CB3837",4,"ngIf"],["class","alertnotify","style","background: #54A254",4,"ngIf"],[1,"h-100","bg-plum-plate","bg-animation"],[1,"d-flex","h-100","justify-content-center","align-items-center",2,"background-image","linear-gradient(-20deg, #2b5876 0%, #4e4376 100%) !important"],[1,"mx-auto","app-login-box","col-md-8"],[1,"modal-dialog","w-100"],[1,"modal-content"],["src","/assets/images/iot.png","height","50px","width","150px",2,"margin-left","170px"],[1,"form-signin",3,"formGroup"],[1,"modal-body"],[1,"row"],[1,"col-md-6"],["id","exampleInputGroup2","role","group",1,"form-group"],["id","fname","type","text","formControlName","Firstname","placeholder","Enter First Name","required","required","aria-required","true",1,"form-control",3,"ngClass","change"],["class","invalid-feedback",4,"ngIf"],["id","lname","type","text","placeholder","Enter Last Name","required","required","aria-required","true","formControlName","Lastname",1,"form-control",3,"ngClass","change"],[1,"col-md-12"],["id","exampleInputGroup1","role","group","aria-describedby","exampleInputGroup1__BV_description_",1,"form-group"],["id","email","type","text","formControlName","Email","placeholder","Enter email...","required","required","aria-required","true","aria-describedby","exampleInputGroup1__BV_description_",1,"form-control",3,"ngClass","change"],["tabindex","-1","id","exampleInputGroup1__BV_description_",1,"form-text","text-muted"],["id","password","type","password","placeholder","Enter password...","required","required","aria-required","true","formControlName","Password",1,"form-control",3,"ngClass","change"],["id","confirmPassword","type","password","placeholder","Confirm password...","required","required","aria-required","true","formControlName","confirmPassword",1,"form-control",3,"ngClass"],["id","exampleInputGroup2",1,"form-group"],["formControlName","userType",1,"form-control",3,"change"],["selected","selected","value","",2,"display","none"],["value","null"],["value","modal1"],[1,"divider"],[1,"mb-0"],["routerLink","/pages/login-boxed","id","signin",1,"text-primary"],["routerLink","/pages/forgot-password-boxed","id","recover",1,"text-primary"],[1,"modal-footer","d-block","text-center"],["type","button","id","createacc",1,"btn","btn-wide","btn-pill","btn-shadow","btn-hover-shine","btn-secondary","btn-lg",3,"click"],["id","exampleModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-xl"],[3,"formGroup"],["onsubmit","expandAll()",3,"closeOthers","activeIds"],["id","toggle-11"],["ngbPanelTitle",""],["ngbPanelContent",""],["id","toggle-12"],["id","toggle-13"],["content",""],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary","btn-sm",3,"click"],["type","button","ngbTooltip","Submit","id","submitdoctor",1,"btn","upload-btn","btn-sm",3,"click"],["ngbTooltip","Reset","type","reset","id","reset",1,"btn","reset-btn","btn-sm",3,"click"],[1,"alertnotify",2,"background","#cb3837"],[1,"alertnotify",2,"background","#54a254"],[1,"alertnotify",2,"background","#CB3837"],[1,"alertnotify",2,"background","#54A254"],[1,"invalid-feedback"],[4,"ngIf"],[1,"card-header--title"],[1,"pull-right"],[1,"fa","fa-angle-down","fa-lg"],[1,"row","mb-2"],[1,"col-md-8"],[1,"row","mt-2",2,"padding-left","15px"],[1,"col-md-11"],["for","fname","id","s2"],[2,"font-size","17px","border-radius","6px","border-style","solid","border-width","1px"],["for","lname","id","s2"],["for","hospital","id","s2"],["id","hospital","formControlName","Hospital",1,"form-control","form-control-sm",3,"ngClass"],["value","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["id","s2"],["type","text","id","depname","placeholder","Enter Department","formControlName","DepartmentName","maxlength","25","appAlphabetOnly","",1,"form-control","form-control-sm",3,"ngClass"],["type","text","id","designation","placeholder","Enter Designation","formControlName","Designation","maxlength","25","appAlphabetOnly","",1,"form-control","form-control-sm",3,"ngClass"],["for","City","id","s2"],["id","city","formControlName","City",1,"form-control","form-control-sm",3,"ngClass"],["type","text","id","website","placeholder","Enter Website","formControlName","Website",1,"form-control","form-control-sm",3,"ngClass"],["type","text","id","telno","placeholder","Enter Tel #","ptclMask","","formControlName","TelNo","maxlength","11",1,"ptcl","form-control","form-control-sm",3,"preValue","ptclControl","ngClass"],["for","cellno","id","s2"],["type","text","id","cellno","placeholder","Enter Cell #","phoneMask","","formControlName","CellNo","maxlength","12",1,"Phone","form-control","form-control-sm",3,"preValue","phoneControl","ngClass"],["type","text","id","address","placeholder","Enter Address","formControlName","Address",1,"form-control","form-control-sm",3,"ngClass"],[1,"col-md-3","mt-1"],[1,"row","mt-2"],[1,"col-md-6","offset-md-2"],["id","profilepic","height","150px","width","150px",1,"rounded-circle",3,"src"],[1,"row","mt-3","ml-2"],[1,"col-md-12","offset-md-2","pl-2"],["id","uploadimg","accept","image/png,image/jpg,image/jpeg,image/eps,image/tiff,","required","",1,"btn","upload-btn","btn-sm","mt-1",2,"font-size","medium",3,"click"],["UploadFileInput",""],[3,"value"],[1,"row","mb-1"],["for","","id","s2"],["type","number","id","TotalDiabeticChildren","placeholder","Enter Total Children Under Care","formControlName","TotalDiabeticChildren","min","0",1,"form-control","form-control-sm",3,"ngClass"],["type","number","id","InsulinSupport","placeholder","Enter Children Eligible for P.O.I Support","formControlName","InsulinSupport","min","0",1,"form-control","form-control-sm",3,"ngClass"],["type","number","id","newcasespermonth","placeholder","Enter Approximate New Cases Each Month","formControlName","NewCasesPerMonth","min","0",1,"form-control","form-control-sm",3,"ngClass"],[1,"row","pt-1",2,"font-size","medium","margin-left","10px"],[1,"row","pt-1",2,"margin-left","15px"],[1,"col-lg-6","mt-2"],["type","checkbox","formControlName","firstconsent","id","firstconsent",3,"value","ngModel","ngModelChange","change"],["for",""],[1,"col-lg-12"],["type","checkbox","formControlName","secondconsent","id","secondconsent",3,"value","ngModel","ngModelChange","change"],["type","checkbox","formControlName","thirdconsent","id","thirdconsent",3,"value","ngModel","ngModelChange","change"],["type","checkbox","formControlName","fourthconsent","id","fourthconsent",3,"value","ngModel","ngModelChange","change"],["type","checkbox","formControlName","fifthconsent","id","fifthconsent",3,"value","ngModel","ngModelChange","change"],["type","checkbox","formControlName","sixthconsent","id","sixthconsent",3,"value","ngModel","ngModelChange","change"],["type","checkbox","formControlName","seventhconsent","id","seventhconsent",3,"value","ngModel","ngModelChange","change"],["type","checkbox","formControlName","eightconsent","id","eightconsent",3,"value","ngModel","ngModelChange","change"],[1,"row","p-2",2,"margin-left","10px"],[1,"col-md-4"],["id","s2","for",""],["type","number","id","support","placeholder","Enter % Support provided by hospital (if any)","formControlName","Support",1,"form-control","form-control-sm",3,"ngClass"],[1,"col-md-3","pl-5"],["type","date","id","Date","placeholder","Date","formControlName","Date",1,"form-control","form-control-sm",3,"max","ngClass"],["type","text","id","signature","placeholder","Signature","formControlName","Signature",1,"form-control","form-control-sm",3,"ngClass"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close","id","close",1,"close",3,"click"],["aria-hidden","true"],[1,"form-group"],[1,"custom-file"],[1,"btn","btn-primary","text-white"],["type","file","id","customFile","name","uploadedImage","accept","image/*","required","",1,"center-block","file-upload",3,"change"],["id","profileimage","name","uploadedImagei","format","jpeg",3,"imageChangedEvent","maintainAspectRatio","aspectRatio","resizeToWidth","imageCropped","imageLoaded","cropperReady","loadImageFailed"],["type","button","id","save",1,"btn","upload-btn","button-style",3,"click"]],template:function(t,o){1&t&&(e.YNc(0,F6,2,0,"div",0),e.YNc(1,D6,2,0,"div",1),e.TgZ(2,"div",2),e.YNc(3,J6,2,0,"div",3),e.YNc(4,E6,2,0,"div",4),e.YNc(5,R6,2,0,"div",3),e.qZA(),e.TgZ(6,"div",5),e.TgZ(7,"div",6),e.TgZ(8,"div",7),e.TgZ(9,"div",8),e.TgZ(10,"div",9),e._UZ(11,"img",10),e.TgZ(12,"form",11),e.TgZ(13,"div",12),e.TgZ(14,"div",13),e.TgZ(15,"div",14),e.TgZ(16,"div",15),e.TgZ(17,"label"),e._uU(18,"First Name"),e.qZA(),e.TgZ(19,"div"),e.TgZ(20,"input",16),e.NdJ("change",function(r){return o.setFirstName(r)}),e.qZA(),e.YNc(21,Y6,2,1,"div",17),e.qZA(),e.qZA(),e.qZA(),e.TgZ(22,"div",14),e.TgZ(23,"div",15),e.TgZ(24,"label"),e._uU(25,"Last Name"),e.qZA(),e.TgZ(26,"div"),e.TgZ(27,"input",18),e.NdJ("change",function(r){return o.setLastName(r)}),e.qZA(),e.YNc(28,O6,2,1,"div",17),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(29,"div",13),e.TgZ(30,"div",19),e.TgZ(31,"div",20),e.TgZ(32,"label"),e._uU(33,"Email"),e.qZA(),e.TgZ(34,"div"),e.TgZ(35,"input",21),e.NdJ("change",function(r){return o.setEmail(r)}),e.qZA(),e.YNc(36,B6,3,2,"div",17),e.TgZ(37,"small",22),e._uU(38,"We'll never share your email with anyone else. "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(39,"div",13),e.TgZ(40,"div",14),e.TgZ(41,"div",15),e.TgZ(42,"label"),e._uU(43,"Password"),e.qZA(),e.TgZ(44,"div"),e.TgZ(45,"input",23),e.NdJ("change",function(r){return o.setPassword(r)}),e.qZA(),e.YNc(46,L6,3,2,"div",17),e.qZA(),e.qZA(),e.qZA(),e.TgZ(47,"div",14),e.TgZ(48,"div",15),e.TgZ(49,"label"),e._uU(50,"Confirm Password"),e.qZA(),e.TgZ(51,"div"),e._UZ(52,"input",24),e.YNc(53,z6,3,2,"div",17),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(54,"div",13),e.TgZ(55,"div",19),e.TgZ(56,"div",25),e.TgZ(57,"label"),e._uU(58,"User Type"),e.qZA(),e.TgZ(59,"select",26),e.NdJ("change",function(r){return o.openModal(r.target.value)}),e.TgZ(60,"option",27),e._uU(61,"Please Select"),e.qZA(),e.TgZ(62,"option",28),e._uU(63,"MZ-User"),e.qZA(),e.TgZ(64,"option",29),e._uU(65,"Doctor"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(66,"div",30),e.TgZ(67,"h6",31),e._uU(68," Already have an account? "),e.TgZ(69,"a",32),e._uU(70,"Sign in"),e.qZA(),e._uU(71," | "),e.TgZ(72,"a",33),e._uU(73,"Recover Password"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(74,"div",34),e.TgZ(75,"button",35),e.NdJ("click",function(){return o.onsignup()}),e._uU(76,"Create Account "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(77,"div",36),e.TgZ(78,"div",37),e.TgZ(79,"div",9),e.TgZ(80,"div",12),e.TgZ(81,"form",38),e.TgZ(82,"ngb-accordion",39),e.TgZ(83,"ngb-panel",40),e.YNc(84,W6,4,0,"ng-template",41),e.YNc(85,qT,111,49,"ng-template",42),e.qZA(),e.TgZ(86,"ngb-panel",43),e.YNc(87,xT,4,0,"ng-template",41),e.YNc(88,ST,28,12,"ng-template",42),e.qZA(),e.TgZ(89,"ngb-panel",44),e.YNc(90,FT,4,0,"ng-template",41),e.YNc(91,QT,60,29,"ng-template",42),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(92,OT,23,4,"ng-template",null,45,e.W1O),e.TgZ(94,"div",46),e.TgZ(95,"button",47),e.NdJ("click",function(){return o.closeDoctor()}),e._uU(96,"Close"),e.qZA(),e.TgZ(97,"button",48),e.NdJ("click",function(){return o.submit()}),e._uU(98,"Submit"),e.qZA(),e._uU(99,"\xa0 "),e.TgZ(100,"button",49),e.NdJ("click",function(){return o.cancel()}),e._uU(101,"Reset"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.Q6J("ngIf",o.isVisibleFailureDupl),e.xp6(1),e.Q6J("ngIf",o.isVisibleSuccess),e.xp6(2),e.Q6J("ngIf",o.isVisibleFailure),e.xp6(1),e.Q6J("ngIf",o.isVisibleSuccess),e.xp6(1),e.Q6J("ngIf",o.errorUndercare),e.xp6(7),e.Q6J("formGroup",o.signupform),e.xp6(8),e.Q6J("ngClass",e.VKq(19,N,o.submitted&&o.f.Firstname.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.Firstname.errors),e.xp6(6),e.Q6J("ngClass",e.VKq(21,N,o.submitted&&o.f.Lastname.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.Lastname.errors),e.xp6(7),e.Q6J("ngClass",e.VKq(23,N,o.submitted&&o.f.Email.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.Email.errors),e.xp6(9),e.Q6J("ngClass",e.VKq(25,N,o.submitted&&o.f.Password.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.Password.errors),e.xp6(6),e.Q6J("ngClass",e.VKq(27,N,o.submitted&&o.f.confirmPassword.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.confirmPassword.errors),e.xp6(28),e.Q6J("formGroup",o.doctor),e.xp6(1),e.Q6J("closeOthers",o.closeOthers)("activeIds",o.activeIds))},directives:[g.O5,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,a.Q7,g.mk,a.EJ,a.YN,a.Kr,p.yS,u.gY,u.Gk,u.Cu,u.gW,g.sg,a.nD,x,ut,J,a.wV,a.qQ,a.Wl,a.F,ce.ap,u._L],encapsulation:2}),i})();function VT(i,n){return t=>{const s=t.controls[n];s.errors&&!s.errors.mustMatch||s.setErrors(t.controls[i].value!==s.value?{mustMatch:!0}:null)}}let f=(()=>{class i{constructor(t){this.router=t}canActivate(t,o){return!!localStorage.getItem("CurrentUserEmail")||(this.router.navigate(["pages/login-boxed"]),!1)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(p.F0))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),qe=(()=>{class i{constructor(t,o){this.httpClient=t,this.myRouter=o,this.token=localStorage.getItem("token"),this.httpOptions={headers:new c.WM({authorization:`Bearer ${this.token}`})}}GetAllUnassignedItem(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/vendor/GetAllUnassignedItem/?Id="+t,s)}GetAllAssignedItem(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/vendor/GetAllAssignedItem/?Id="+t,s)}AssignItems(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/vendor/AssignItem/",t,s)}AssignItemsVendor(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/vendor/assignitemtovendor/",t,s)}AddVendor(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/vendor/addvendor/",t,s)}EmailIdentifier(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/vendor/EmailIdentifier/",t,s)}EmailIdentifierEdit(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/vendor/EmailIdentifierEdit/",t,s)}GetAllVendor(){let t=localStorage.getItem("token"),o={headers:new c.WM({authorization:`Bearer ${t}`})};return this.httpClient.get("/api/vendor/getallvendor/",o)}GetAllVendorNameId(){let t=localStorage.getItem("token"),o={headers:new c.WM({authorization:`Bearer ${t}`})};return this.httpClient.get("/api/vendor/getallvendorIdandName/",o)}updateData(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/vendor/updatevendor/",t,s)}deletevendorcheck(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/vendor/deletevendorcheck?VendorId="+t,s)}deletevendor(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/vendor/deletevendor",t,s)}DeleteAssignItem(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/vendor/deleteassigneditem?AssignId="+t,s)}getDataById(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/vendor/getVendorDataById/?Id="+t,s)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(c.eN),e.LFG(p.F0))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function BT(i,n){1&i&&(e.TgZ(0,"div",24),e._uU(1," Something went Wrong!. "),e.qZA())}function HT(i,n){1&i&&(e.TgZ(0,"div",25),e._uU(1," Added successfully. "),e.qZA())}function $T(i,n){1&i&&(e.TgZ(0,"div",24),e._uU(1," Incorrect Password. "),e.qZA())}function LT(i,n){1&i&&(e.TgZ(0,"div",26),e._uU(1," Deleted Successfully. "),e.qZA())}function GT(i,n){1&i&&(e.TgZ(0,"div",26),e._uU(1," Deleted successfully. "),e.qZA())}function jT(i,n){1&i&&(e.TgZ(0,"div",24),e._uU(1," Failed to submit! A vendor with same name, contact and NTN number already exists. "),e.qZA())}function zT(i,n){1&i&&(e.TgZ(0,"span",27),e._uU(1,"Add Vendor"),e.qZA(),e.TgZ(2,"div",28),e._UZ(3,"i",29),e.qZA())}function WT(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Vendor Name is required"),e.qZA())}function KT(i,n){if(1&i&&(e.TgZ(0,"div",52),e.YNc(1,WT,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.VendorName.errors.required)}}function XT(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Contact Person Name is required"),e.qZA())}function eA(i,n){if(1&i&&(e.TgZ(0,"div",52),e.YNc(1,XT,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.ContactPerson.errors.required)}}function tA(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Contact Number is required"),e.qZA())}function iA(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"This entry can only contain numbers."),e.qZA())}function oA(i,n){if(1&i&&(e.TgZ(0,"div",52),e.YNc(1,tA,2,0,"div",0),e.YNc(2,iA,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.Contact.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.Contact.errors.pattern)}}function nA(i,n){1&i&&(e.TgZ(0,"div",53),e._uU(1,"This email is already used"),e.qZA())}function sA(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Email is required"),e.qZA())}function rA(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Email must be a valid email address "),e.qZA())}function aA(i,n){if(1&i&&(e.TgZ(0,"div",52),e.YNc(1,sA,2,0,"div",0),e.YNc(2,rA,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.Email.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.Email.errors.email)}}function lA(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Account Title is required"),e.qZA())}function dA(i,n){if(1&i&&(e.TgZ(0,"div",52),e.YNc(1,lA,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.AccountTitle.errors.required)}}function cA(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"NTN is required"),e.qZA())}function uA(i,n){if(1&i&&(e.TgZ(0,"div",52),e.YNc(1,cA,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.NTN.errors.required)}}function gA(i,n){if(1&i&&(e.TgZ(0,"option",54),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.Id),e.xp6(1),e.hij("",t.Name," ")}}function mA(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"City is required"),e.qZA())}function pA(i,n){if(1&i&&(e.TgZ(0,"div",52),e.YNc(1,mA,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.city.errors.required)}}function _A(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Address is required"),e.qZA())}function hA(i,n){if(1&i&&(e.TgZ(0,"div",52),e.YNc(1,_A,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.Address.errors.required)}}const ne=function(i){return{"is-invalid":i}};function fA(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",30),e.TgZ(1,"div",31),e.TgZ(2,"form",32),e.TgZ(3,"div",33),e.TgZ(4,"div",34),e.TgZ(5,"label"),e._uU(6,"Company "),e.qZA(),e._UZ(7,"input",35),e.YNc(8,KT,2,1,"div",36),e.qZA(),e.TgZ(9,"div",34),e.TgZ(10,"label"),e._uU(11,"Contact Person "),e.qZA(),e._UZ(12,"input",37),e.YNc(13,eA,2,1,"div",36),e.qZA(),e.TgZ(14,"div",34),e.TgZ(15,"label"),e._uU(16,"Contact No "),e.qZA(),e._UZ(17,"input",38),e.YNc(18,oA,3,2,"div",36),e.qZA(),e.qZA(),e.TgZ(19,"div",33),e.TgZ(20,"div",34),e.TgZ(21,"label"),e._uU(22,"Email "),e.qZA(),e._UZ(23,"input",39),e.YNc(24,nA,2,0,"div",40),e.YNc(25,aA,3,2,"div",36),e.qZA(),e.TgZ(26,"div",34),e.TgZ(27,"label"),e._uU(28,"Account Title "),e.qZA(),e._UZ(29,"input",41),e.YNc(30,dA,2,1,"div",36),e.qZA(),e.TgZ(31,"div",34),e.TgZ(32,"label"),e._uU(33,"NTN Number "),e.qZA(),e._UZ(34,"input",42),e.YNc(35,uA,2,1,"div",36),e.qZA(),e.qZA(),e.TgZ(36,"div",33),e.TgZ(37,"div",34),e.TgZ(38,"label",43),e._uU(39,"City"),e.qZA(),e.TgZ(40,"select",44),e.TgZ(41,"option",45),e._uU(42,"Select City"),e.qZA(),e.YNc(43,gA,2,2,"option",46),e.qZA(),e.YNc(44,pA,2,1,"div",36),e.qZA(),e.TgZ(45,"div",47),e.TgZ(46,"label"),e._uU(47,"Address "),e.qZA(),e._UZ(48,"input",48),e.YNc(49,hA,2,1,"div",36),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(50,"br"),e.TgZ(51,"div",49),e.TgZ(52,"button",50),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).addvendor()}),e._uU(53,"Submit"),e.qZA(),e._uU(54,"\xa0 "),e.TgZ(55,"button",51),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).addCancel()}),e._uU(56,"Reset"),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("formGroup",t.vendorForm),e.xp6(5),e.Q6J("ngClass",e.VKq(21,ne,t.submitted&&t.f.VendorName.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.VendorName.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(23,ne,t.submitted&&t.f.ContactPerson.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.ContactPerson.errors),e.xp6(4),e.Q6J("preValue",t.vendorForm.value.Contact)("phoneControl",t.vendorForm.controls.Contact)("ngClass",e.VKq(25,ne,t.submitted&&t.f.Contact.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.Contact.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(27,ne,t.submitted&&t.f.Email.errors)),e.xp6(1),e.Q6J("ngIf",t.EmailDup),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.Email.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(29,ne,t.submitted&&t.f.AccountTitle.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.AccountTitle.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(31,ne,t.submitted&&t.f.NTN.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.NTN.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(33,ne,t.submitted&&t.f.city.errors)),e.xp6(3),e.Q6J("ngForOf",t.allcities),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.city.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(35,ne,t.submitted&&t.f.Address.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.Address.errors)}}function ZA(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",65),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;return e.oxw(3).Edit(s.VendorId)}),e._UZ(1,"i",66),e.qZA()}}function bA(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",67),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,r=e.oxw(3),l=e.MAs(2);return r.Delete(l,s.VendorId)}),e._UZ(1,"i",68),e.qZA()}}function vA(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",50),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;return e.oxw(3).show(s.VendorId)}),e._UZ(1,"i",69),e.qZA()}}function TA(i,n){if(1&i&&(e.TgZ(0,"tr"),e.TgZ(1,"th",61),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e.YNc(14,ZA,2,0,"button",62),e._uU(15," \xa0 "),e.YNc(16,bA,2,0,"button",63),e._uU(17," \xa0 "),e.YNc(18,vA,2,0,"button",64),e.qZA(),e.qZA()),2&i){const t=n.$implicit,o=n.index,s=e.oxw(3);e.xp6(2),e.Oqu(o+1),e.xp6(2),e.Oqu(t.VendorName),e.xp6(2),e.Oqu(t.ContactPerson),e.xp6(2),e.Oqu(t.ContactNum),e.xp6(2),e.Oqu(t.Email),e.xp6(2),e.Oqu(t.Address),e.xp6(2),e.Q6J("ngIf",s.editrec),e.xp6(2),e.Q6J("ngIf",s.deleterec),e.xp6(2),e.Q6J("ngIf",s.deleterec)}}function AA(i,n){if(1&i&&(e.TgZ(0,"div",55),e.TgZ(1,"div",56),e.TgZ(2,"b"),e._uU(3,"All Companies"),e.qZA(),e.qZA(),e.TgZ(4,"div",57),e.TgZ(5,"table",58),e.TgZ(6,"thead"),e.TgZ(7,"tr"),e.TgZ(8,"th",59),e._uU(9,"#"),e.qZA(),e.TgZ(10,"th",59),e._uU(11,"Company"),e.qZA(),e.TgZ(12,"th",59),e._uU(13,"Contact Person"),e.qZA(),e.TgZ(14,"th",59),e._uU(15,"Contact No"),e.qZA(),e.TgZ(16,"th",59),e._uU(17,"Email"),e.qZA(),e.TgZ(18,"th",59),e._uU(19,"Address"),e.qZA(),e.TgZ(20,"th",59),e._uU(21,"Action Buttons"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(22,"tbody"),e.YNc(23,TA,19,9,"tr",60),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(23),e.Q6J("ngForOf",t.allrecord)}}function CA(i,n){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,BT,2,0,"div",12),e.YNc(2,HT,2,0,"div",13),e.YNc(3,$T,2,0,"div",12),e.YNc(4,LT,2,0,"div",14),e.YNc(5,GT,2,0,"div",14),e.YNc(6,jT,2,0,"div",12),e.TgZ(7,"ngx-spinner",15),e.TgZ(8,"p",16),e._uU(9,"Please wait..."),e.qZA(),e.qZA(),e.TgZ(10,"ngb-accordion",17),e.TgZ(11,"ngb-panel",18),e.YNc(12,zT,4,0,"ng-template",19),e.YNc(13,fA,57,37,"ng-template",20),e.qZA(),e.qZA(),e.TgZ(14,"div",21),e.TgZ(15,"div",22),e.YNc(16,AA,24,1,"div",23),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.isVisibleFailure),e.xp6(1),e.Q6J("ngIf",t.isVisibleSuccess),e.xp6(1),e.Q6J("ngIf",t.isVisibleFailureInvalidPassword),e.xp6(1),e.Q6J("ngIf",t.isVisibleSuccessVendorDelete),e.xp6(1),e.Q6J("ngIf",t.isDeleteSuccess),e.xp6(1),e.Q6J("ngIf",t.isDuplicateFailure),e.xp6(4),e.Q6J("closeOthers",!0),e.xp6(6),e.Q6J("ngIf",t.tablerec)}}function qA(i,n){if(1&i&&(e.TgZ(0,"h6",79),e._uU(1),e.TgZ(2,"b",80),e._uU(3," Assign Items to Vender "),e.qZA(),e._uU(4," Page, please remove them first. "),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.AssignItemVendor_items," entries exist in ")}}function xA(i,n){if(1&i&&(e.TgZ(0,"div",75),e.TgZ(1,"div",81),e.TgZ(2,"ul"),e.TgZ(3,"li",79),e._uU(4),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=n.$implicit;e.xp6(4),e.hij(" ",t.ItemName," ")}}function IA(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",5),e.TgZ(1,"h4",70),e._uU(2,"Delete Failed"),e.qZA(),e.TgZ(3,"button",71),e.NdJ("click",function(){return e.CHM(t).$implicit.dismiss("Cross click")}),e.TgZ(4,"span",72),e._uU(5,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"div",7),e.TgZ(7,"div"),e.YNc(8,qA,5,1,"h6",73),e.YNc(9,xA,5,1,"div",74),e.TgZ(10,"div",75),e.TgZ(11,"div",76),e.TgZ(12,"button",77),e.NdJ("click",function(){return e.CHM(t),e.oxw().deleteAllAssignItem()}),e._UZ(13,"i",68),e.qZA(),e.TgZ(14,"span",78),e._uU(15," \xa0"),e.TgZ(16,"b"),e._uU(17,"Unassign ALL Items"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(8),e.Q6J("ngIf",t.AssignItemVendor_items>0),e.xp6(1),e.Q6J("ngForOf",t.check)}}function yA(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"form",82),e.NdJ("ngSubmit",function(){return e.CHM(t),e.oxw().performDeleteAction()}),e.TgZ(2,"div",83),e.TgZ(3,"label",84),e._uU(4,"Password"),e.qZA(),e._UZ(5,"input",85),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.passwordForm)}}function kA(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",86),e.TgZ(1,"div",3),e.TgZ(2,"div",4),e.TgZ(3,"div",5),e.TgZ(4,"h5",6),e._uU(5,"Vendor Details"),e.qZA(),e.qZA(),e.TgZ(6,"div",7),e.TgZ(7,"table",87),e.TgZ(8,"tr"),e.TgZ(9,"td"),e.TgZ(10,"b"),e._uU(11,"Company:"),e.qZA(),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.qZA(),e.TgZ(14,"td"),e.TgZ(15,"b"),e._uU(16,"Contact Person:"),e.qZA(),e.qZA(),e.TgZ(17,"td"),e._uU(18),e.qZA(),e.qZA(),e.TgZ(19,"tr"),e.TgZ(20,"td"),e.TgZ(21,"b"),e._uU(22,"Contact Number:"),e.qZA(),e.qZA(),e.TgZ(23,"td"),e._uU(24),e.qZA(),e.TgZ(25,"td"),e.TgZ(26,"b"),e._uU(27,"Email:"),e.qZA(),e.qZA(),e.TgZ(28,"td"),e._uU(29),e.qZA(),e.qZA(),e.TgZ(30,"tr"),e.TgZ(31,"td"),e.TgZ(32,"b"),e._uU(33,"Account Title:"),e.qZA(),e.qZA(),e.TgZ(34,"td"),e._uU(35),e.qZA(),e.TgZ(36,"td"),e.TgZ(37,"b"),e._uU(38,"NTN Number: "),e.qZA(),e.qZA(),e.TgZ(39,"td"),e._uU(40),e.qZA(),e.qZA(),e.TgZ(41,"tr"),e.TgZ(42,"td"),e.TgZ(43,"b"),e._uU(44,"City:"),e.qZA(),e.qZA(),e.TgZ(45,"td"),e._uU(46),e.qZA(),e.TgZ(47,"td"),e.TgZ(48,"b"),e._uU(49,"Address: "),e.qZA(),e.qZA(),e.TgZ(50,"td"),e._uU(51),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(52,"div",8),e.TgZ(53,"button",10),e.NdJ("click",function(){return e.CHM(t),e.oxw().hide()}),e._uU(54,"Cancel"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.Udp("display",t.showVendorModal?"block":"none"),e.xp6(13),e.Oqu(t.vdetails[0].VendorName),e.xp6(5),e.Oqu(t.vdetails[0].ContactPerson),e.xp6(6),e.Oqu(t.vdetails[0].ContactNum),e.xp6(5),e.Oqu(t.vdetails[0].Email),e.xp6(6),e.Oqu(t.vdetails[0].AccountTitle),e.xp6(5),e.Oqu(t.vdetails[0].NTN),e.xp6(6),e.Oqu(t.vdetails[0].Cname),e.xp6(5),e.Oqu(t.vdetails[0].Address)}}let UA=(()=>{class i{constructor(t,o,s,r,l,d,m,_,Z,A){this.myFormBuilder=t,this.vendorSer=o,this.detectChanges=s,this.myRouter=r,this.userService=l,this.popUpSer=d,this.spinner=m,this.modalService=_,this.confirmationDialogService=Z,this.childSer=A,this.submitted=!1,this.addJson={},this.showVendorModal=!1,this.isVisibleSuccess=!1,this.isVisibleFailure=!1,this.isVisibleFailureInvalidPassword=!1,this.isVisibleSuccessVendorDelete=!1,this.isDeleteSuccess=!1,this.isDuplicateFailure=!1,this.IsSHowPage=!1,this.tablerec=!1,this.editrec=!1,this.deleterec=!1,this.check=[]}get f(){return this.vendorForm.controls}get f1(){return this.passwordForm.controls}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():(this.userService.checkUserHasAccess("/pages/vendor").subscribe(t=>{t.length>0?(this.IsSHowPage=!0,this.formControls(),this.passwordForm=new a.cw({password:new a.NI(null)})):(this.IsSHowPage=!1,this.popUpSer.confirmCommon("","You have no access to view page").then(o=>{}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)")))}),setTimeout(()=>{this.userService.checkUserHasAccess("/pages/show-vendor").subscribe(t=>{t.length>0?(this.tablerec=!0,this.getAllVendor(),this.getallcities(),setTimeout(()=>{this.userService.checkUserHasAccess("/pages/edit-vendor").subscribe(o=>{this.editrec=o.length>0})},300),setTimeout(()=>{this.userService.checkUserHasAccess("/pages/delete-vendor").subscribe(o=>{this.deleterec=o.length>0})},300)):this.tablerec=!1})},200))}formControls(){this.vendorForm=this.myFormBuilder.group({VendorName:["",a.kI.required],ContactPerson:["",a.kI.required],Email:["",[a.kI.email]],Address:["",a.kI.required],Contact:["03",a.kI.compose([a.kI.required,a.kI.pattern(/^((\+92)|(0092))-{0,1}\d{3}-{0,1}\d{7}$|^\d{11}$|^\d{4}-\d{7}$/)])],AccountTitle:["",a.kI.required],NTN:["",a.kI.compose([a.kI.required])],city:["",a.kI.required]})}show(t){this.showVendorModal=!0,this.vdetails=this.allrecord.filter(o=>o.VendorId==t)}hide(){this.showVendorModal=!1}getallcities(){this.childSer.getallcities().subscribe(t=>{t.length>0&&(this.allcities=t)})}submit(){this.spinner.show(),this.submitted=!0,this.vendorForm.invalid&&this.spinner.hide()}addvendor(){this.spinner.show(),this.submitted=!0,this.EmailDup=!1,this.vendorForm.invalid?this.spinner.hide():(this.addJson={VendorName:this.vendorForm.value.VendorName,ContactPerson:this.vendorForm.value.ContactPerson,Contact:this.vendorForm.value.Contact,Address:this.vendorForm.value.Address,Email:this.vendorForm.value.Email,AccountTitle:this.vendorForm.value.AccountTitle,NTN:this.vendorForm.value.NTN,city:this.vendorForm.value.city},this.vendorSer.EmailIdentifier(this.addJson).subscribe(t=>{"true"==t.duplicate?(this.spinner.hide(),this.EmailDup=!0,$("#Email").css("border","1px solid red")):($("#Email").css("border","1px solid #ced4da"),this.vendorSer.AddVendor(this.addJson).subscribe(o=>{o?"true"==o.duplicate?(this.spinner.hide(),this.isDuplicateFailure=!0,setTimeout(()=>this.isDuplicateFailure=!1,3e3)):(this.spinner.hide(),this.isVisibleSuccess=!0,setTimeout(()=>this.isVisibleSuccess=!1,1e3),this.submitted=!1,this.vendorForm.reset(),this.getAllVendor()):(this.spinner.hide(),this.isVisibleFailure=!0,setTimeout(()=>this.isVisibleFailure=!1,1e3))}))}))}getAllVendor(){this.vendorSer.GetAllVendor().subscribe(t=>{this.allrecord=t,t.length>0?(this.allrecord=t,this.detectChanges.detectChanges(),$("#stockdataTable").DataTable({paging:!0,searching:!0,ordering:!0})):(this.allrecord=[],this.detectChanges.detectChanges(),$("#stockdataTable").DataTable({paging:!0,searching:!0,ordering:!0}))}),$("#stockdataTable").dataTable().fnDestroy()}Edit(t){this.myRouter.navigate(["/pages/edit-vendor/"+t])}getItemListByVendorId(t,o){this.vendorSer.deletevendorcheck(t).subscribe(s=>{this.check=s,this.AssignItemVendor_items=s.length,this.AssignItemVendor_items>0?this.modalService.open(o,{ariaLabelledBy:"modal-basic-title"}).result.then(r=>{this.closeResult=`Closed with: ${r}`},r=>{this.closeResult=`Dismissed ${this.getDismissReason(r)}`}):(this.modalService.dismissAll("Cross click"),this.enterPasswordToDelete())})}Delete(t,o){this.VendorId=o,this.popUpSer.confirmCommon("Please confirm..","Do you really want to delete?").then(s=>{s&&(localStorage.getItem("CurrentUserId"),this.enterPasswordToDelete())}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)"))}getDismissReason(t){return t===u.If.ESC?"by pressing ESC":t===u.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${t}`}enterPasswordToDelete(){this.Deactivate=!0}hideDeactivate(){this.Deactivate=!1,this.VendorId="",this.passwordForm.reset()}addCancel(){this.submitted=!1,this.vendorForm.reset()}performDeleteAction(){let t=this.passwordForm.value,o=localStorage.getItem("CurrentUserEmail");this.passwordForm.valid&&this.userService.matchPassword({Email:o,Password:t.password}).subscribe(r=>{let l=r;"Invalid Password"==r?(this.isVisibleFailureInvalidPassword=!0,setTimeout(()=>this.isVisibleFailureInvalidPassword=!1,2e3)):"Email Does Not Exist"==r||l.success&&this.deleteVendor()})}deleteVendor(){let o={CurrentUserId:localStorage.getItem("CurrentUserId"),VendorId:this.VendorId};this.vendorSer.deletevendor(o).subscribe(s=>{this.hideDeactivate(),this.getAllVendor(),this.isVisibleSuccessVendorDelete=!0,setTimeout(()=>this.isVisibleSuccessVendorDelete=!1,2e3)})}deleteAllAssignItem(){this.confirmationDialogService.confirm("Please confirm..","Do you really want to delete?").then(t=>{t&&(this.spinner.show(),this.check.forEach(o=>{this.vendorSer.DeleteAssignItem(o.AssignId).subscribe(s=>{this.getItemListByVendorId(this.VendorId,this.content)})}),this.modalService.dismissAll("Cross click"),this.spinner.hide(),this.isVisibleSuccessVendorDelete=!0,setTimeout(()=>this.isVisibleSuccessVendorDelete=!1,2e3))}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)"))}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(qe),e.Y36(e.sBO),e.Y36(p.F0),e.Y36(h),e.Y36(b),e.Y36(v.t2),e.Y36(u.FF),e.Y36(b),e.Y36(S))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-vendor"]],decls:20,vars:5,consts:[[4,"ngIf"],["content",""],["id","deactivatemodal","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal"],[1,"modal-dialog",2,"width","50%","height","20px","position","center","margin-top","5%"],[1,"modal-content"],[1,"modal-header"],["id","myModalLabel",1,"modal-title"],[1,"modal-body"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary",3,"click"],["type","button","data-dismiss","modal",1,"btn","btn-danger",3,"click"],["class","modal","id","imagemodal","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",3,"display",4,"ngIf"],["class","alertnotify","style","background: #cb3837;",4,"ngIf"],["class","alertnotify","style","background: #54a254;",4,"ngIf"],["class","alertnotify","style","background: #CB3837;",4,"ngIf"],["bdColor","rgba(51,51,51,0.6)","size","medium","color","#fff","type","timer"],[2,"font-size","20px","color","white","margin-top","30px"],["activeIds","toggle-11",3,"closeOthers"],["id","toggle-11"],["ngbPanelTitle",""],["ngbPanelContent",""],[1,"row","mt-4"],[1,"col-lg-12"],["class","card main-card mb-3",4,"ngIf"],[1,"alertnotify",2,"background","#cb3837"],[1,"alertnotify",2,"background","#54a254"],[1,"alertnotify",2,"background","#CB3837"],[1,"card-header--title"],[1,"pull-right"],[1,"fa","fa-angle-down","fa-lg"],[1,"card"],[1,"card-body","pl-2","pr-2"],[3,"formGroup"],[1,"row","mt-2"],[1,"col-lg-4"],["type","text","formControlName","VendorName","id","VendorName","noWhitespaceValidator","",1,"form-control","form-control-sm",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","text","formControlName","ContactPerson","id","ContactPerson",1,"form-control","form-control-sm",3,"ngClass"],["type","text","formControlName","Contact","id","Contact","phoneMask","","maxlength","12",1,"Phone","form-control","form-control-sm",3,"preValue","phoneControl","ngClass"],["type","email","formControlName","Email","id","Email",1,"form-control","form-control-sm",3,"ngClass"],["style","color:red;",4,"ngIf"],["type","text","formControlName","AccountTitle","id","AccountTitle",1,"form-control","form-control-sm",3,"ngClass"],["type","number","formControlName","NTN","id","NTN",1,"form-control","form-control-sm",3,"ngClass"],["for","City",1,"col-form-label-sm"],["id","city","formControlName","city",1,"form-control","form-control-sm",3,"ngClass"],["value","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-lg-8"],["type","text","formControlName","Address","id","Address",1,"form-control","form-control-sm",3,"ngClass"],[1,"col","text-right","mb-1"],[1,"btn","upload-btn","btn-sm",3,"click"],[1,"btn","reset-btn","btn-sm",3,"click"],[1,"invalid-feedback"],[2,"color","red"],[3,"value"],[1,"card","main-card","mb-3"],[1,"card-header"],[1,"table-responsive"],["id","stockdataTable",1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],["class","btn edit-btn btn-sm",3,"click",4,"ngIf"],["class","btn delet-btn btn-sm",3,"click",4,"ngIf"],["class","btn upload-btn btn-sm",3,"click",4,"ngIf"],[1,"btn","edit-btn","btn-sm",3,"click"],[1,"fa","fa-pencil","fa-fw"],[1,"btn","delet-btn","btn-sm",3,"click"],[1,"fa","fa-trash","fa-fw"],[1,"fa","fa-eye","fa-fw"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["style","font-size:15px",4,"ngIf"],["class","row",4,"ngFor","ngForOf"],[1,"row"],[1,"col","text-center"],[1,"btn","btn-danger","btn-sm",3,"click"],[2,"font-size","15px","vertical-align","middle"],[2,"font-size","15px"],[2,"color","#041168"],[1,"col"],[3,"formGroup","ngSubmit"],[1,"form-group"],[1,"from-control"],["type","password","placeholder","Enter password...","formControlName","password","id","password",1,"form-control"],["id","imagemodal","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal"],[1,"table","table-striped"]],template:function(t,o){1&t&&(e.YNc(0,CA,17,8,"div",0),e.YNc(1,IA,18,2,"ng-template",null,1,e.W1O),e.TgZ(3,"div",2),e.TgZ(4,"div",3),e.TgZ(5,"div",4),e.TgZ(6,"div",5),e.TgZ(7,"h4",6),e._uU(8,"Admin Permission Required "),e.qZA(),e.qZA(),e.TgZ(9,"div",7),e.TgZ(10,"p"),e.TgZ(11,"strong"),e._uU(12,"Please enter your login password to continue."),e.qZA(),e.qZA(),e.YNc(13,yA,6,1,"div",0),e.qZA(),e.TgZ(14,"div",8),e.TgZ(15,"button",9),e.NdJ("click",function(){return o.performDeleteAction()}),e._uU(16,"Submit"),e.qZA(),e.TgZ(17,"button",10),e.NdJ("click",function(){return o.hideDeactivate()}),e._uU(18,"Cancel"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(19,kA,55,10,"div",11)),2&t&&(e.Q6J("ngIf",o.IsSHowPage),e.xp6(3),e.Udp("display",o.Deactivate?"block":"none"),e.xp6(10),e.Q6J("ngIf",o.passwordForm),e.xp6(6),e.Q6J("ngIf",o.showVendorModal))},directives:[g.O5,v.Ro,u.gY,u.Gk,u.Cu,u.gW,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,g.mk,J,a.nD,a.wV,a.EJ,a.YN,a.Kr,g.sg],styles:[""]}),i})();function NA(i,n){1&i&&(e.TgZ(0,"div",9),e._uU(1," Something went Wrong!. "),e.qZA())}function wA(i,n){1&i&&(e.TgZ(0,"div",10),e._uU(1," Updated Successfully. "),e.qZA())}function SA(i,n){1&i&&(e.TgZ(0,"div",10),e._uU(1," Deleted Successfully . "),e.qZA())}function FA(i,n){1&i&&(e.TgZ(0,"div",9),e._uU(1," Failed to submit! A vendor with same name, contact and NTN number already exists. "),e.qZA())}function DA(i,n){if(1&i&&(e.TgZ(0,"span",11),e._uU(1,"Edit Vendor: "),e.TgZ(2,"strong",12),e._uU(3),e.qZA(),e.qZA(),e.TgZ(4,"div",13),e._UZ(5,"i",14),e.qZA()),2&i){const t=e.oxw(2);e.xp6(3),e.Oqu(t.VendorName)}}function JA(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Vendor Name is required"),e.qZA())}function EA(i,n){if(1&i&&(e.TgZ(0,"div",39),e.YNc(1,JA,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.VendorName.errors.required)}}function RA(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Contact Person Name is required"),e.qZA())}function PA(i,n){if(1&i&&(e.TgZ(0,"div",39),e.YNc(1,RA,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.ContactPerson.errors.required)}}function YA(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Contact Number is required"),e.qZA())}function QA(i,n){if(1&i&&(e.TgZ(0,"div",39),e.YNc(1,YA,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.Contact.errors.required)}}function OA(i,n){1&i&&(e.TgZ(0,"div",40),e._uU(1,"This email is already used"),e.qZA())}function MA(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Email is required"),e.qZA())}function VA(i,n){if(1&i&&(e.TgZ(0,"div",39),e.YNc(1,MA,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.Email.errors.required)}}function BA(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Account Title is required"),e.qZA())}function HA(i,n){if(1&i&&(e.TgZ(0,"div",39),e.YNc(1,BA,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.AccountTitle.errors.required)}}function $A(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"NTN is required"),e.qZA())}function LA(i,n){if(1&i&&(e.TgZ(0,"div",39),e.YNc(1,$A,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.NTN.errors.required)}}function GA(i,n){if(1&i&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.Id),e.xp6(1),e.hij("",t.Name," ")}}function jA(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"City is required"),e.qZA())}function zA(i,n){if(1&i&&(e.TgZ(0,"div",39),e.YNc(1,jA,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.city.errors.required)}}function WA(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Address is required"),e.qZA())}function KA(i,n){if(1&i&&(e.TgZ(0,"div",39),e.YNc(1,WA,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.Address.errors.required)}}const se=function(i){return{"is-invalid":i}};function XA(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",15),e.TgZ(1,"div",16),e.TgZ(2,"form",17),e.TgZ(3,"div",18),e.TgZ(4,"div",19),e.TgZ(5,"label"),e._uU(6,"Company "),e.qZA(),e._UZ(7,"input",20),e.YNc(8,EA,2,1,"div",21),e.qZA(),e.TgZ(9,"div",22),e.TgZ(10,"label"),e._uU(11,"Contact Person "),e.qZA(),e._UZ(12,"input",23),e.YNc(13,PA,2,1,"div",21),e.qZA(),e.TgZ(14,"div",24),e.TgZ(15,"label"),e._uU(16,"Contact Number "),e.qZA(),e._UZ(17,"input",25),e.YNc(18,QA,2,1,"div",21),e.qZA(),e.qZA(),e.TgZ(19,"div",18),e.TgZ(20,"div",19),e.TgZ(21,"label"),e._uU(22,"Email "),e.qZA(),e._UZ(23,"input",26),e.YNc(24,OA,2,0,"div",27),e.YNc(25,VA,2,1,"div",21),e.qZA(),e.TgZ(26,"div",22),e.TgZ(27,"label"),e._uU(28,"Account Title "),e.qZA(),e._UZ(29,"input",28),e.YNc(30,HA,2,1,"div",21),e.qZA(),e.TgZ(31,"div",24),e.TgZ(32,"label"),e._uU(33,"NTN Number "),e.qZA(),e._UZ(34,"input",29),e.YNc(35,LA,2,1,"div",21),e.qZA(),e.qZA(),e.TgZ(36,"div",18),e.TgZ(37,"div",19),e.TgZ(38,"label",30),e._uU(39,"City"),e.qZA(),e.TgZ(40,"select",31),e.TgZ(41,"option",32),e._uU(42,"Select City"),e.qZA(),e.YNc(43,GA,2,2,"option",33),e.qZA(),e.YNc(44,zA,2,1,"div",21),e.qZA(),e.TgZ(45,"div",34),e.TgZ(46,"label"),e._uU(47,"Address "),e.qZA(),e._UZ(48,"input",35),e.YNc(49,KA,2,1,"div",21),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(50,"br"),e.TgZ(51,"div",36),e.TgZ(52,"button",37),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).updatevendor()}),e._uU(53,"Update"),e.qZA(),e._uU(54,"\xa0 "),e.TgZ(55,"button",38),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).addCancel()}),e._uU(56," Cancel "),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("formGroup",t.vendorForm),e.xp6(5),e.Q6J("ngClass",e.VKq(21,se,t.submitted&&t.f.VendorName.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.VendorName.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(23,se,t.submitted&&t.f.ContactPerson.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.ContactPerson.errors),e.xp6(4),e.Q6J("preValue",t.vendorForm.value.Contact)("phoneControl",t.vendorForm.controls.Contact)("ngClass",e.VKq(25,se,t.submitted&&t.f.Contact.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.Contact.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(27,se,t.submitted&&t.f.Email.errors)),e.xp6(1),e.Q6J("ngIf",t.EmailDup),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.Email.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(29,se,t.submitted&&t.f.AccountTitle.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.AccountTitle.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(31,se,t.submitted&&t.f.NTN.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.NTN.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(33,se,t.submitted&&t.f.city.errors)),e.xp6(3),e.Q6J("ngForOf",t.allcities),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.city.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(35,se,t.submitted&&t.f.Address.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.Address.errors)}}function e3(i,n){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,NA,2,0,"div",1),e.YNc(2,wA,2,0,"div",2),e.YNc(3,SA,2,0,"div",2),e.YNc(4,FA,2,0,"div",1),e.TgZ(5,"ngx-spinner",3),e.TgZ(6,"p",4),e._uU(7,"Please wait..."),e.qZA(),e.qZA(),e.TgZ(8,"ngb-accordion",5),e.TgZ(9,"ngb-panel",6),e.YNc(10,DA,6,1,"ng-template",7),e.YNc(11,XA,57,37,"ng-template",8),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.isVisibleFailure),e.xp6(1),e.Q6J("ngIf",t.isVisibleSuccess),e.xp6(1),e.Q6J("ngIf",t.isDeleteSuccess),e.xp6(1),e.Q6J("ngIf",t.isDuplicateFailure),e.xp6(4),e.Q6J("closeOthers",!0)}}let t3=(()=>{class i{constructor(t,o,s,r,l,d,m,_,Z,A){this.myFormBuilder=t,this.vendorSer=o,this.detectChanges=s,this.route=r,this.myRouter=l,this.userService=d,this.popUpSer=m,this.spinner=_,this.location=Z,this.childSer=A,this.EmailDup=!1,this.submitted=!1,this.addJson={},this.isVisibleSuccess=!1,this.isVisibleFailure=!1,this.isDeleteSuccess=!1,this.isDuplicateFailure=!1,this.IsSHowPage=!1}get f(){return this.vendorForm.controls}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():this.userService.checkUserHasAccess("/pages/edit-vendor").subscribe(t=>{t.length>0?(this.IsSHowPage=!0,this.formControls(),this.getEditData(),this.getallcities(),this.getAllVendor()):(this.IsSHowPage=!1,this.popUpSer.confirmCommon("","You have no access to view page").then(o=>{}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)")))})}formControls(){this.vendorForm=this.myFormBuilder.group({VendorName:["",[a.kI.required]],ContactPerson:["",[a.kI.required]],Email:["",{validators:[a.kI.required,a.kI.email]}],Address:["",a.kI.required],Contact:["03",a.kI.compose([a.kI.required,a.kI.pattern(/^((\+92)|(0092))-{0,1}\d{3}-{0,1}\d{7}$|^\d{11}$|^\d{4}-\d{7}$/)])],AccountTitle:["",a.kI.required],NTN:["",a.kI.required],city:["",a.kI.required]})}getallcities(){this.childSer.getallcities().subscribe(t=>{t.length>0&&(this.allcities=t)})}submit(){this.submitted=!0,!this.vendorForm.invalid&&console.log("true")}updatevendor(){this.spinner.show(),this.submitted=!0,this.EmailDup=!1,this.vendorForm.invalid?this.spinner.hide():(this.addJson={VendorId:this.VendorId,VendorName:this.vendorForm.value.VendorName,ContactPerson:this.vendorForm.value.ContactPerson,Contact:this.vendorForm.value.Contact,Address:this.vendorForm.value.Address,Email:this.vendorForm.value.Email,AccountTitle:this.vendorForm.value.AccountTitle,NTN:this.vendorForm.value.NTN,city:this.vendorForm.value.city},this.vendorSer.EmailIdentifierEdit(this.addJson).subscribe(t=>{"true"==t.duplicate?(this.spinner.hide(),this.EmailDup=!0,$("#Email").css("border","1px solid red")):($("#Email").css("border","1px solid #ced4da"),this.vendorSer.updateData(this.addJson).subscribe(o=>{o?"true"==o.duplicate?(this.spinner.hide(),this.isDuplicateFailure=!0,setTimeout(()=>this.isDuplicateFailure=!1,3e3)):(this.spinner.hide(),this.isVisibleSuccess=!0,console.log("ahmed"),setTimeout(()=>this.isVisibleSuccess=!1,1e3),this.submitted=!1,this.vendorForm.reset(),this.location.back()):(this.spinner.hide(),this.isVisibleFailure=!0,setTimeout(()=>this.isVisibleFailure=!1,1e3))}))}))}getEditData(){this.VendorId=this.route.snapshot.paramMap.get("id"),this.vendorSer.getDataById(this.route.snapshot.paramMap.get("id")).subscribe(t=>{console.log(t,"agaya"),this.VendorName=t[0].VendorName,this.vendorForm.controls.VendorName.setValue(t[0].VendorName),this.vendorForm.controls.ContactPerson.setValue(t[0].ContactPerson),this.vendorForm.controls.Contact.setValue(t[0].ContactNum),this.vendorForm.controls.Email.setValue(t[0].Email),this.vendorForm.controls.Address.setValue(t[0].Address),this.vendorForm.controls.AccountTitle.setValue(t[0].AccountTitle),this.vendorForm.controls.NTN.setValue(t[0].NTN),this.vendorForm.controls.city.setValue(t[0].City)})}getAllVendor(){this.vendorSer.GetAllVendor().subscribe(t=>{this.allrecord=t,console.log(this.allrecord),t.length>0?(this.allrecord=t,this.detectChanges.detectChanges(),$("#stockdataTable").DataTable({paging:!0,searching:!0,ordering:!0})):(this.allrecord=[],this.detectChanges.detectChanges(),$("#stockdataTable").DataTable({paging:!0,searching:!0,ordering:!0}))}),$("#stockdataTable").dataTable().fnDestroy()}addCancel(){this.location.back()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(qe),e.Y36(e.sBO),e.Y36(p.gz),e.Y36(p.F0),e.Y36(h),e.Y36(b),e.Y36(v.t2),e.Y36(g.Ye),e.Y36(S))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-editvendor"]],decls:1,vars:1,consts:[[4,"ngIf"],["class","alertnotify","style","background: #cb3837;",4,"ngIf"],["class","alertnotify","style","background: #54a254;",4,"ngIf"],["bdColor","rgba(51,51,51,0.6)","size","medium","color","#fff","type","timer"],[2,"font-size","20px","color","white","margin-top","30px"],["activeIds","toggle-11",3,"closeOthers"],["id","toggle-11"],["ngbPanelTitle",""],["ngbPanelContent",""],[1,"alertnotify",2,"background","#cb3837"],[1,"alertnotify",2,"background","#54a254"],[1,"card-header--title"],[1,"text-dark"],[1,"pull-right"],[1,"fa","fa-angle-down","fa-lg"],[1,"card"],[1,"card-body","pl-2","pr-2"],[3,"formGroup"],[1,"row","mt-2"],[1,"col-lg-4",2,"padding-left","15px"],["type","text","formControlName","VendorName","id","VendorName",1,"form-control","form-control-sm",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"col-lg-4"],["type","text","formControlName","ContactPerson","id","ContactPerson",1,"form-control","form-control-sm",3,"ngClass"],[1,"col-lg-4",2,"padding-right","15px"],["type","text","formControlName","Contact","id","Contact","phoneMask","","maxlength","12",1,"Phone","form-control","form-control-sm",3,"preValue","phoneControl","ngClass"],["type","text","formControlName","Email","id","Email",1,"form-control","form-control-sm",3,"ngClass"],["style","color:red;",4,"ngIf"],["type","text","formControlName","AccountTitle","id","AccountTitle",1,"form-control","form-control-sm",3,"ngClass"],["type","text","formControlName","NTN","id","NTN",1,"form-control","form-control-sm",3,"ngClass"],["for","City",1,"col-form-label-sm"],["id","city","formControlName","city",1,"form-control","form-control-sm",3,"ngClass"],["value","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-lg-8",2,"padding-right","15px"],["type","text","formControlName","Address","id","Address",1,"form-control","form-control-sm",3,"ngClass"],[1,"col","text-right","mb-1"],[1,"btn","upload-btn","btn-sm",3,"click"],[1,"btn","reset-btn","btn-sm",3,"click"],[1,"invalid-feedback"],[2,"color","red"],[3,"value"]],template:function(t,o){1&t&&e.YNc(0,e3,12,5,"div",0),2&t&&e.Q6J("ngIf",o.IsSHowPage)},directives:[g.O5,v.Ro,u.gY,u.Gk,u.Cu,u.gW,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,g.mk,J,a.nD,a.EJ,a.YN,a.Kr,g.sg],styles:[""]}),i})();function i3(i,n){1&i&&(e.TgZ(0,"div",10),e._uU(1," Something went wrong!. "),e.qZA())}function o3(i,n){1&i&&(e.TgZ(0,"div",11),e._uU(1," Assigned Successfully!. "),e.qZA())}function n3(i,n){1&i&&(e.TgZ(0,"div",11),e._uU(1," UnAssigned Successfully!. "),e.qZA())}function s3(i,n){1&i&&(e.TgZ(0,"span",12),e._uU(1,"Assign Items to Vendor"),e.qZA(),e.TgZ(2,"div",13),e._UZ(3,"i",14),e.qZA())}function r3(i,n){if(1&i&&(e.TgZ(0,"option",26),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.VendorId),e.xp6(1),e.hij(" ",t.VendorName," ")}}function a3(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Vendor is required"),e.qZA())}function l3(i,n){if(1&i&&(e.TgZ(0,"div",27),e.YNc(1,a3,2,0,"div",28),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.vendor.errors.required)}}function d3(i,n){if(1&i&&(e.TgZ(0,"div",23),e.TgZ(1,"div",29),e.TgZ(2,"div"),e.TgZ(3,"p"),e._uU(4," Your selected Store Item "),e.TgZ(5,"strong",30),e._uU(6),e.qZA(),e._uU(7," is assigned to above Vendors"),e.qZA(),e.TgZ(8,"p"),e._uU(9," If you want to delete "),e.TgZ(10,"strong"),e._uU(11),e.qZA(),e._uU(12," you need to remove it from Assigned item list below first. "),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(6),e.hij("(",t.allvendor[0].ItemName,")"),e.xp6(5),e.Oqu(t.ItemName)}}const c3=function(){return["/pages/store-items"]};function u3(i,n){if(1&i&&(e.TgZ(0,"div",23),e.TgZ(1,"div",29),e.TgZ(2,"div"),e.TgZ(3,"p"),e._uU(4," Your selected Store Item "),e.TgZ(5,"strong",30),e._uU(6),e.qZA(),e._uU(7," is un assigned from vendors now. "),e.qZA(),e.TgZ(8,"p"),e._uU(9," If you want to delete then go back to "),e.TgZ(10,"b"),e.TgZ(11,"a",31),e._uU(12,"Store Items"),e.qZA(),e.qZA(),e._uU(13," page. "),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(6),e.hij("(",t.ItemName,")"),e.xp6(5),e.Q6J("routerLink",e.DdM(2,c3))}}const g3=function(i){return{"is-invalid":i}};function m3(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"form",15),e.TgZ(1,"div",16),e.TgZ(2,"div",17),e.TgZ(3,"label"),e._uU(4,"Vendor "),e.qZA(),e.TgZ(5,"select",18),e.NdJ("change",function(s){return e.CHM(t),e.oxw().getstoreitems(s.target.value)}),e.TgZ(6,"option",19),e._uU(7," Please select "),e.qZA(),e.YNc(8,r3,2,2,"option",20),e.qZA(),e.YNc(9,l3,2,1,"div",21),e.qZA(),e.qZA(),e.YNc(10,d3,13,2,"div",22),e.YNc(11,u3,14,3,"div",22),e._UZ(12,"br"),e.TgZ(13,"div",23),e.TgZ(14,"div",24),e.TgZ(15,"button",25),e.NdJ("click",function(){return e.CHM(t),e.oxw().addCancel()}),e._uU(16," Reset "),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("formGroup",t.assignitemForm),e.xp6(5),e.Q6J("ngClass",e.VKq(6,g3,t.submitted&&t.f.vendor.errors)),e.xp6(3),e.Q6J("ngForOf",t.allvendor),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.vendor.errors),e.xp6(1),e.Q6J("ngIf",t.vendors_by_store_ItemId_boolean&&t.allvendor),e.xp6(1),e.Q6J("ngIf",t.vendors_by_store_ItemId_boolean_complete)}}function p3(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e.TgZ(2,"input",40),e.NdJ("change",function(s){const l=e.CHM(t).$implicit;return e.oxw(2).checkChange(l.Id,s.target.checked)}),e.qZA(),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.qZA()}if(2&i){const t=n.$implicit;e.xp6(4),e.Oqu(t.ItemName)}}function _3(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e.TgZ(2,"input",41),e.NdJ("change",function(s){const l=e.CHM(t).$implicit;return e.oxw(2).checkedChange(l.AssignId,l.VendorId,s.target.checked)}),e.qZA(),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.qZA()}if(2&i){const t=n.$implicit;e.xp6(2),e.Q6J("checked",!0),e.xp6(2),e.Oqu(t.ItemName)}}function h3(i,n){if(1&i&&(e.TgZ(0,"div",32),e.TgZ(1,"div",23),e.TgZ(2,"div",33),e.TgZ(3,"h5"),e._uU(4,"List of Items"),e.qZA(),e.TgZ(5,"div",34),e.TgZ(6,"table",35),e.TgZ(7,"thead"),e.TgZ(8,"tr"),e._UZ(9,"th"),e.TgZ(10,"th",36),e._uU(11,"Menu's"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"tbody"),e.YNc(13,p3,5,1,"tr",37),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(14,"div",17),e.TgZ(15,"div",38),e.TgZ(16,"h5"),e._uU(17,"Items Assigned To Vendor"),e.qZA(),e.TgZ(18,"div",34),e.TgZ(19,"table",39),e.TgZ(20,"thead"),e.TgZ(21,"tr"),e._UZ(22,"th",36),e.TgZ(23,"th",36),e._uU(24,"Menu's"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(25,"tbody"),e.YNc(26,_3,5,2,"tr",37),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(13),e.Q6J("ngForOf",t.allstoreitems),e.xp6(13),e.Q6J("ngForOf",t.allassigneditems)}}let f3=(()=>{class i{constructor(t,o,s,r,l,d,m,_){this.myFormBuilder=t,this.storeitemser=o,this.storeRec=s,this.vendorSer=r,this.popUpSer=l,this.detectChanges=d,this.userService=m,this.spinner=_,this.active=!1,this.UnAssigned=!1,this.submitted=!1,this.isVisibleSuccess=!1,this.isVisibleFailure=!1,this.IsSHowPage=!1,this.tablerec=!1,this.editrec=!1,this.deleterec=!1,this.allstoreitems=[],this.addJson={},this.allassigneditems=[],this.vendors_by_store_ItemId_boolean=!1,this.vendors_by_store_ItemId_boolean_complete=!1,this.array=[]}ngOnDestroy(){console.log("destroy-called"),this.storeitemser.store_ItemId=void 0}get f(){return this.assignitemForm.controls}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():this.userService.checkUserHasAccess("/pages/assign-item").subscribe(t=>{t.length>0?(this.formControls(),this.store_ItemId=this.storeitemser.store_ItemId,null!=this.storeitemser.store_ItemId?(this.vendors_by_store_ItemId_boolean=!0,console.log("not-null"),this.getAllVendorsByStoreItemId()):(this.vendors_by_store_ItemId_boolean=!1,this.getAllVendor()),this.userService.checkUserHasAccess("/pages/show-assign-item").subscribe(o=>{o.length>0?(this.tablerec=!0,this.getallrecord(),setTimeout(()=>{this.userService.checkUserHasAccess("/pages/edit-assign-item").subscribe(s=>{this.editrec=s.length>0})},300),setTimeout(()=>{this.userService.checkUserHasAccess("/pages/delete-assign-item").subscribe(s=>{this.deleterec=s.length>0})},300)):this.tablerec=!1})):(this.IsSHowPage=!1,this.popUpSer.confirmCommon("","You have no access to view page").then(o=>{}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)")))})}formControls(){this.assignitemForm=this.myFormBuilder.group({vendor:[""]})}getAllVendorsByStoreItemId(){this.storeitemser.getAllVendorsByStoreItemId(this.store_ItemId).subscribe(t=>{t?(this.allvendor=t,console.log(this.allvendor),this.ItemName=this.allvendor[0].ItemName):(this.allvendor=[],console.log("in else"),this.vendors_by_store_ItemId_boolean_complete=!0,this.vendors_by_store_ItemId_boolean=!1)})}getAllVendor(){this.vendorSer.GetAllVendorNameId().subscribe(t=>{this.allvendor=t,console.log(this.allvendor),this.allvendor=t.length>0?t:[]})}Change(t){console.log=t}onChange(t,o,s){s?this.assignitemForm.controls.categoryArray.value[t].storeitems.push(o):this.assignitemForm.controls.categoryArray.value[t].storeitems.splice(this.assignitemForm.controls.categoryArray.value[t].storeitems.indexOf(o),1)}getallassgineditems(t){this.vendorSer.GetAllAssignedItem(t).subscribe(o=>{this.allstoreitems=o,console.log(this.allstoreitems,"zain")})}getstoreitems(t){this.active=!0,console.log("calllll check",t),this.current_VendorId=t,this.vendorSer.GetAllAssignedItem(t).subscribe(o=>{console.log(o),console.log(this.allstoreitems),o.length>0?(this.allstoreitems=[],this.allstoreitems=o,this.detectChanges.detectChanges(),$("#addrightsDataTable1").DataTable({retrieve:!0,scrollY:200,paging:!1,searching:!0,ordering:!1})):(this.allstoreitems=[],this.detectChanges.detectChanges(),$("#addrightsDataTable1").DataTable({retrieve:!0,scrollY:200,paging:!1,searching:!0,ordering:!1})),console.log(this.allstoreitems,"zain")}),$("#addrightsDataTable1").dataTable().fnDestroy(),this.vendorSer.GetAllUnassignedItem(t).subscribe(o=>{console.log(o),console.log(this.allassigneditems),o.length>0?(this.allassigneditems=[],this.allassigneditems=o,this.detectChanges.detectChanges(),$("#rightsDataTable1").DataTable({retrieve:!0,scrollY:200,paging:!1,searching:!0,ordering:!1})):(this.allassigneditems=[],this.detectChanges.detectChanges(),$("#rightsDataTable1").DataTable({retrieve:!0,scrollY:200,paging:!1,searching:!0,ordering:!1}))}),$("#rightsDataTable1").dataTable().fnDestroy()}addStoreItems(){if(this.submitted=!0,!this.assignitemForm.invalid){let o="";for(var t in this.assignitemForm.value.quantities)o=o+","+this.assignitemForm.value.quantities[t].storeitems;console.log(o+",","loop string"),this.addJson={vendor:this.assignitemForm.value.vendor,recSub:o+","},console.log(this.addJson),this.vendorSer.AssignItems(this.addJson).subscribe(s=>{console.log(s),s?(this.isVisibleSuccess=!0,setTimeout(()=>this.isVisibleSuccess=!1,3e3),this.assignitemForm.reset(),this.submitted=!1,this.getallrecord()):(this.isVisibleFailure=!0,setTimeout(()=>this.isVisibleFailure=!1,5e3))})}}getallrecord(){this.storeRec.getAllRecord().subscribe(t=>{t.length>0?(this.allrecord=t,this.detectChanges.detectChanges(),$("#storeitemRecdataTable").DataTable({retrieve:!0,paging:!0,searching:!0,ordering:!0,pageLength:5,lengthMenu:[[5,10,20,-1],[5,10,20,50]]})):(this.allrecord=[],this.detectChanges.detectChanges(),$("#storeitemRecdataTable").DataTable({retrieve:!0,paging:!0,searching:!0,ordering:!0,pageLength:5,lengthMenu:[[5,10,20,-1],[5,10,20,50]]}))}),$("#storeitemRecdataTable").dataTable().fnDestroy()}checkChange(t,o){console.log(t),null==this.assignitemForm.value.vendor||"null"==this.assignitemForm.value.vendor?($("#rightCheck").prop("checked",!1),this.popUpSer.confirmCommon("","Please fill the required fields").then(s=>{}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)"))):(this.spinner.show(),0==o?(this.isVisibleSuccess=!0,setTimeout(()=>this.isVisibleSuccess=!1,3e3)):this.vendorSer.AssignItemsVendor({ItemId:t,VendorId:this.current_VendorId,Active:"1"}).subscribe(r=>{console.log(r),r?(this.spinner.hide(),this.RoleChange(this.assignitemForm.value.vendor,null),this.getstoreitems(this.assignitemForm.value.vendor),this.isVisibleSuccess=!0,setTimeout(()=>this.isVisibleSuccess=!1,3e3)):(this.spinner.hide(),this.isVisibleFailure=!0,setTimeout(()=>this.isVisibleFailure=!1,5e3))}))}RoleChange(t,o){null!=o&&(this.selecteditemnname=o.target.options[o.target.options.selectedIndex].text),$("#rightsDataTable1").dataTable().fnDestroy()}checkAll(){$("#checkall").prop("checked",!1).length>0&&(0==$("#checkall").prop("checked",!1)[0].checked?$("input:checkbox").not(this).prop("checked",!0):$("input:checkbox").not(this).prop("checked",!1))}checkedChange(t,o,s){console.log(t),console.log(o),console.log(s),null==this.assignitemForm.value.vendor||"null"==this.assignitemForm.value.vendor?($("#rightCheck").prop("checked",!1),this.popUpSer.confirmCommon("","Please fill the required fields").then(r=>{}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)"))):(this.spinner.show(),0==s&&(console.log(t),this.vendorSer.DeleteAssignItem(t).subscribe(r=>{r?(this.spinner.hide(),null!=this.storeitemser.store_ItemId?(console.log("vendorrr idddd",o),console.log("not-null"),console.log("form_VendorId",this.assignitemForm.value.VendorId),this.getAllVendorsByStoreItemId(),this.assignitemForm.reset(),this.allstoreitems=[],this.allassigneditems=[],$("#addrightsDataTable1").DataTable().clear(),$("#rightsDataTable1").DataTable().clear()):(this.spinner.hide(),console.log("elselllllllll"),this.getstoreitems(o)),this.UnAssigned=!0,setTimeout(()=>this.UnAssigned=!1,3e3)):(this.spinner.hide(),this.isVisibleFailure=!0,setTimeout(()=>this.isVisibleFailure=!1,5e3))})))}addCancel(){this.active=!1,this.assignitemForm.reset(),this.submitted=!1,this.allstoreitems=[],this.allassigneditems=[],$("#addrightsDataTable1").DataTable().clear(),$("#rightsDataTable1").DataTable().clear()}Delete(t){console.log(t)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(M),e.Y36(ee),e.Y36(qe),e.Y36(b),e.Y36(e.sBO),e.Y36(h),e.Y36(v.t2))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-assign-item"]],decls:12,vars:5,consts:[[1,"content-wrapper"],["class","alertnotify","style","background: #cb3837",4,"ngIf"],["class","alertnotify","style","background: #54a254",4,"ngIf"],["bdColor","rgba(51,51,51,0.6)","size","medium","color","#fff","type","timer"],[2,"font-size","20px","color","white","margin-top","30px"],["activeIds","toggle-11",3,"closeOthers"],["id","toggle-11"],["ngbPanelTitle",""],["ngbPanelContent",""],["class","card mt-2",4,"ngIf"],[1,"alertnotify",2,"background","#cb3837"],[1,"alertnotify",2,"background","#54a254"],[1,"card-header--title"],[1,"pull-right"],[1,"fa","fa-angle-down","fa-lg"],[3,"formGroup"],[1,"row",2,"padding-left","15px"],[1,"col-md-2"],["id","vendor","formControlName","vendor","aria-placeholder","Please",1,"form-control","form-control-sm",3,"ngClass","change"],["value","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["class","row",4,"ngIf"],[1,"row"],[1,"col","text-right"],[1,"btn","reset-btn","btn-sm",3,"click"],[3,"value"],[1,"invalid-feedback"],[4,"ngIf"],[1,"col"],[2,"color","red"],["routerLinkActive","router-link-active",3,"routerLink"],[1,"card","mt-2"],[1,"col-md-5"],[1,"table-responsive"],["id","addrightsDataTable1",1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[1,"col-md-4"],["id","rightsDataTable1",1,"table","table-striped"],["type","checkbox","id","rightCheck",3,"change"],["type","checkbox","id","rightCheck",3,"checked","change"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,i3,2,0,"div",1),e.YNc(2,o3,2,0,"div",2),e.YNc(3,n3,2,0,"div",2),e.qZA(),e.TgZ(4,"ngx-spinner",3),e.TgZ(5,"p",4),e._uU(6,"Please wait..."),e.qZA(),e.qZA(),e.TgZ(7,"ngb-accordion",5),e.TgZ(8,"ngb-panel",6),e.YNc(9,s3,4,0,"ng-template",7),e.YNc(10,m3,17,8,"ng-template",8),e.qZA(),e.qZA(),e.YNc(11,h3,27,2,"div",9)),2&t&&(e.xp6(1),e.Q6J("ngIf",o.isVisibleFailure),e.xp6(1),e.Q6J("ngIf",o.isVisibleSuccess),e.xp6(1),e.Q6J("ngIf",o.UnAssigned),e.xp6(4),e.Q6J("closeOthers",!0),e.xp6(4),e.Q6J("ngIf",o.active))},directives:[g.O5,v.Ro,u.gY,u.Gk,u.Cu,u.gW,a._Y,a.JL,a.sg,a.EJ,a.JJ,a.u,g.mk,a.YN,a.Kr,g.sg,p.yS,p.Od],styles:[""]}),i})();function Z3(i,n){1&i&&(e.TgZ(0,"div",7),e._uU(1," Something went wrong!. "),e.qZA())}function b3(i,n){1&i&&(e.TgZ(0,"div",8),e._uU(1," Updated Successfully!. "),e.qZA())}function v3(i,n){if(1&i&&(e.TgZ(0,"span",9),e._uU(1,"Diabetes Log For "),e.TgZ(2,"strong",10),e._uU(3),e.qZA(),e.qZA(),e.TgZ(4,"div",11),e._UZ(5,"i",12),e.qZA()),2&i){const t=e.oxw();e.xp6(3),e.Oqu(t.childpoi)}}function T3(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"POI is required"),e.qZA())}function A3(i,n){if(1&i&&(e.TgZ(0,"div",42),e.YNc(1,T3,2,0,"div",43),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.poinumber.errors.required)}}function C3(i,n){if(1&i&&(e.TgZ(0,"option",44),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.CategoryId),e.xp6(1),e.Oqu(t.CategoryName)}}function q3(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Meal is required "),e.qZA())}function x3(i,n){if(1&i&&(e.TgZ(0,"div",42),e.YNc(1,q3,2,0,"div",43),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.mealtaken.errors.required)}}function I3(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Meal is required "),e.qZA())}function y3(i,n){if(1&i&&(e.TgZ(0,"div",42),e.YNc(1,I3,2,0,"div",43),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.glubeforemeal.errors.required)}}function k3(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Meal is required "),e.qZA())}function U3(i,n){if(1&i&&(e.TgZ(0,"div",42),e.YNc(1,k3,2,0,"div",43),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.gluaftermeal.errors.required)}}function N3(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Meal is required "),e.qZA())}function w3(i,n){if(1&i&&(e.TgZ(0,"div",42),e.YNc(1,N3,2,0,"div",43),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.insulin.errors.required)}}function S3(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Date is required "),e.qZA())}function F3(i,n){if(1&i&&(e.TgZ(0,"div",42),e.YNc(1,S3,2,0,"div",43),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.date.errors.required)}}const xe=function(i){return{"is-invalid":i}};function D3(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"form",13),e.TgZ(1,"div",14),e.TgZ(2,"div",15),e.TgZ(3,"div",14),e.TgZ(4,"div",16),e.TgZ(5,"label",17),e._uU(6,"POI No"),e.qZA(),e._UZ(7,"input",18),e.YNc(8,A3,2,1,"div",19),e.qZA(),e.TgZ(9,"div",16),e.TgZ(10,"label",20),e._uU(11,"Meal Type (Breakfast/Lunch/Dinner)"),e.qZA(),e.TgZ(12,"select",21),e.TgZ(13,"option",22),e._uU(14,"Please Select"),e.qZA(),e.YNc(15,C3,2,2,"option",23),e.qZA(),e.qZA(),e.TgZ(16,"div",16),e.TgZ(17,"label",24),e._uU(18,"Meal Taken"),e.qZA(),e._UZ(19,"input",25),e.YNc(20,x3,2,1,"div",19),e.qZA(),e.qZA(),e.TgZ(21,"div",14),e.TgZ(22,"div",26),e.TgZ(23,"label",27),e._uU(24,"Glucose Reading Before"),e.qZA(),e._UZ(25,"input",28),e.YNc(26,y3,2,1,"div",19),e.qZA(),e.TgZ(27,"div",26),e.TgZ(28,"label",29),e._uU(29,"Glucose Reading After"),e.qZA(),e._UZ(30,"input",30),e.YNc(31,U3,2,1,"div",19),e.qZA(),e.qZA(),e.TgZ(32,"div",14),e.TgZ(33,"div",26),e.TgZ(34,"label",31),e._uU(35,"Insulin Dose"),e.qZA(),e._UZ(36,"input",32),e.YNc(37,w3,2,1,"div",19),e.qZA(),e.TgZ(38,"div",26),e.TgZ(39,"label",31),e._uU(40,"Date"),e.qZA(),e._UZ(41,"input",33),e.YNc(42,F3,2,1,"div",19),e.qZA(),e.qZA(),e.qZA(),e.TgZ(43,"div",34),e.TgZ(44,"div",14),e.TgZ(45,"div",35),e.TgZ(46,"label",36),e._uU(47,"Comments "),e.qZA(),e.TgZ(48,"textarea",37),e._uU(49,"                              "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(50,"div",38),e.TgZ(51,"div",39),e.TgZ(52,"button",40),e.NdJ("click",function(){return e.CHM(t),e.oxw().submit()}),e._uU(53,"Update"),e.qZA(),e.TgZ(54,"button",41),e.NdJ("click",function(){return e.CHM(t),e.oxw().cancel()}),e._uU(55,"Cancel"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("formGroup",t.editDiabetesLog),e.xp6(7),e.Q6J("ngClass",e.VKq(14,xe,t.submitted&&t.f.poinumber.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.poinumber.errors),e.xp6(7),e.Q6J("ngForOf",t.Mealtype),e.xp6(4),e.Q6J("ngClass",e.VKq(16,xe,t.submitted&&t.f.mealtaken.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.mealtaken.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(18,xe,t.submitted&&t.f.glubeforemeal.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.glubeforemeal.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(20,xe,t.submitted&&t.f.gluaftermeal.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.gluaftermeal.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(22,xe,t.submitted&&t.f.insulin.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.insulin.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(24,xe,t.submitted&&t.f.date.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.date.errors)}}let J3=(()=>{class i{constructor(t,o,s,r,l,d){this.frombuilder=t,this.diabeteslog=o,this.Entity=s,this.router=r,this.location=l,this.userService=d,this.submitted=!1,this.isVisibleFailure=!1,this.isVisibleSuccess=!1,this.IsSHowPage=!1,this.poino=[]}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():(this.id=this.router.snapshot.paramMap.get("id"),this.formcontrols(),this.getallDiabeteslogbyid(this.id),this.getallpoino(),this.entity(1229))}get f(){return this.editDiabetesLog.controls}getallpoino(){this.diabeteslog.getAllPoino().subscribe(t=>{t.length>0&&(this.poino=t)})}formcontrols(){this.editDiabetesLog=this.frombuilder.group({poinumber:["",a.kI.required],mealtaken:["",a.kI.required],mealtype:["",a.kI.required],glubeforemeal:["",a.kI.required],gluaftermeal:["",a.kI.required],insulin:["",a.kI.required],comment:[""],date:["",a.kI.required]})}getallDiabeteslogbyid(t){this.diabeteslog.GetAllDiabetesLogbyId(t).subscribe(o=>{o?(this.Data=o,this.editDiabetesLog.controls.mealtaken.setValue(o[0].MealTaken),this.editDiabetesLog.controls.poinumber.setValue(o[0].PoiNo),this.childpoi=o[0].PoiNo,this.editDiabetesLog.controls.mealtype.setValue(o[0].MealType),this.editDiabetesLog.controls.glubeforemeal.setValue(o[0].GlucoseBeforeMeal),this.editDiabetesLog.controls.gluaftermeal.setValue(o[0].GlucoseAfterMeal),this.editDiabetesLog.controls.insulin.setValue(o[0].InsulinDose),this.editDiabetesLog.controls.comment.setValue(o[0].Comments),this.editDiabetesLog.controls.date.setValue(o[0].submitedDate)):alert("cant get value form Db")})}entity(t){this.Mealtype=[],this.Entity.getCategorybyEntityType(t).subscribe(o=>{for(let s in o){if(!(o[s].EntityTypeId=1229))return;this.Mealtype.push(o[s])}})}submit(){this.submitted=!0,!this.editDiabetesLog.invalid&&(this.formdata={poino:this.editDiabetesLog.value.poinumber,mealtaken:this.editDiabetesLog.value.mealtaken,mealtype:this.editDiabetesLog.value.mealtype,glubeforemeal:this.editDiabetesLog.value.glubeforemeal,gluaftermeal:this.editDiabetesLog.value.gluaftermeal,insulin:this.editDiabetesLog.value.insulin,comment:this.editDiabetesLog.value.comment,date:this.editDiabetesLog.value.date,Id:this.id},this.diabeteslog.updateDiabeteslog(this.formdata).subscribe(t=>{t?(this.isVisibleSuccess=!0,setTimeout(()=>{this.isVisibleSuccess=!1},3e3),this.location.back()):(this.isVisibleFailure=!0,setTimeout(()=>{this.isVisibleFailure=!1},3e3))}))}cancel(){this.editDiabetesLog.reset(),this.location.back()}ngOnDestroy(){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(lt),e.Y36(O),e.Y36(p.gz),e.Y36(g.Ye),e.Y36(h))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit-diabetes-log"]],decls:7,vars:3,consts:[[1,"content-wrapper"],["class","alertnotify","style","background: #CB3837",4,"ngIf"],["class","alertnotify","style","background: #54A254",4,"ngIf"],["activeIds","toggle-11",3,"closeOthers"],["id","toggle-11"],["ngbPanelTitle",""],["ngbPanelContent",""],[1,"alertnotify",2,"background","#CB3837"],[1,"alertnotify",2,"background","#54A254"],[1,"card-header--title"],[1,"text-dark"],[1,"pull-right"],[1,"fa","fa-angle-down","fa-lg"],[3,"formGroup"],[1,"row"],[1,"col-md-8"],[1,"col-md-4",2,"padding-left","15px"],["for",""],["type","text","placeholder","PoiNo","formControlName","poinumber","id","poinumber",1,"form-control","form-control-sm",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","Meal Type",1,"col-form-label-sm"],["formControlName","mealtype",1,"form-control","form-control-sm"],["disabled","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["for","Meal Taken",1,"col-form-label-sm"],["type","text","placeholder","Meal Taken","formControlName","mealtaken","id","mealtaken",1,"form-control","form-control-sm",3,"ngClass"],[1,"col-md-6",2,"padding-left","15px"],["for","Glucose Reading Before",1,"col-form-label-sm"],["type","number","placeholder","Before Meal mg/dl","formControlName","glubeforemeal","id","glubeforemeal",1,"form-control","form-control-sm",3,"ngClass"],["for","Glucose Reading After",1,"col-form-label-sm"],["type","number","placeholder","After Meal mg/dl","formControlName","gluaftermeal","id","gluaftermeal",1,"form-control","form-control-sm",3,"ngClass"],["for","Insulin",1,"col-form-label-sm"],["type","number","placeholder"," mg/dl","formControlName","insulin","id","insulin",1,"form-control","form-control-sm",3,"ngClass"],["type","date","formControlName","date","id","date",1,"form-control","form-control-sm",3,"ngClass"],[1,"col-md-4"],[1,"col-md-12",2,"padding-left","15px"],["for","Comments",1,"col-form-label-sm"],["type","text","rows","6","cols","60","placeholder","comments here ....","formControlName","comment","id","comment",1,"form-control","form-control-sm"],[1,"row","m-2","float-right"],[1,"col"],["type","submit",1,"btn","upload-btn","mr-1","ml-2","btn-sm",3,"click"],["type","submit",1,"btn","reset-btn","btn-sm",3,"click"],[1,"invalid-feedback"],[4,"ngIf"],[3,"value"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Z3,2,0,"div",1),e.YNc(2,b3,2,0,"div",2),e.qZA(),e.TgZ(3,"ngb-accordion",3),e.TgZ(4,"ngb-panel",4),e.YNc(5,v3,6,1,"ng-template",5),e.YNc(6,D3,56,26,"ng-template",6),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",o.isVisibleFailure),e.xp6(1),e.Q6J("ngIf",o.isVisibleSuccess),e.xp6(1),e.Q6J("closeOthers",!0))},directives:[g.O5,u.gY,u.Gk,u.Cu,u.gW,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,g.mk,a.EJ,a.YN,a.Kr,g.sg,a.wV],styles:[""]}),i})(),Ke=(()=>{class i{constructor(t){this.httpClient=t,this.token=localStorage.getItem("token"),this.httpOptions={headers:new c.WM({authorization:`Bearer ${this.token}`})}}AddOrder(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/PurchasedOrder/AddOrder",t,s)}UpdateOrder(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/PurchasedOrder/UpdateOrder",t,s)}getallpurchasedorder(){let t=localStorage.getItem("token"),o={headers:new c.WM({authorization:`Bearer ${t}`})};return this.httpClient.get("/api/PurchasedOrder/Orders",o)}getPurchasedOrderIdData(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/PurchasedOrder/PurchasedOrderIdData?id="+t,s)}deleteStoreItem(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/PurchasedOrder/deleteStoreItem?id="+t,s)}deletepurchaseorder(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/PurchasedOrder/deletepurchaseorder/",t,s)}updatePurchasedOrder(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/PurchasedOrder/updatePurchasedOrder/",t,s)}getUnitsOfItems(){let t=localStorage.getItem("token"),o={headers:new c.WM({authorization:`Bearer ${t}`})};return this.httpClient.get("/api/PurchasedOrder/GetAllUnits",o)}getAssignedVendorItems(){let t=localStorage.getItem("token"),o={headers:new c.WM({authorization:`Bearer ${t}`})};return this.httpClient.get("/api/PurchasedOrder/AssignedVendorItems",o)}getItemByVendorId(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/PurchasedOrder/ItemByVendorId?id="+t,s)}duplicateCheckEntry(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/PurchasedOrder/duplicateCheckEntry",t,s)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(c.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function E3(i,n){1&i&&(e.TgZ(0,"div",30),e._uU(1," Something went wrong!. "),e.qZA())}function R3(i,n){1&i&&(e.TgZ(0,"div",31),e._uU(1," Purchased Order is Added Successfully!. "),e.qZA())}function P3(i,n){1&i&&(e.TgZ(0,"div",30),e._uU(1," No duplicate Items are allowed. "),e.qZA())}function Y3(i,n){1&i&&(e.TgZ(0,"div",32),e._uU(1," Deleted Successfully!. "),e.qZA())}function Q3(i,n){1&i&&(e.TgZ(0,"div",30),e._uU(1," Please add Store Items. "),e.qZA())}function O3(i,n){1&i&&(e.TgZ(0,"div",30),e._uU(1," No duplicate invoice number is allowed. "),e.qZA())}function M3(i,n){1&i&&(e.TgZ(0,"span",33),e._uU(1,"Purchased Order"),e.qZA(),e.TgZ(2,"div",34),e._UZ(3,"i",35),e.qZA())}function V3(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Received Date is required "),e.qZA())}function B3(i,n){if(1&i&&(e.TgZ(0,"div",56),e.YNc(1,V3,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.purDate.errors.required)}}function H3(i,n){if(1&i&&(e.TgZ(0,"option",57),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.VendorId),e.xp6(1),e.hij(" ",t.VendorName," ")}}function $3(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Vendor is required "),e.qZA())}function L3(i,n){if(1&i&&(e.TgZ(0,"div",56),e.YNc(1,$3,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.PurchasedOrder.controls.Vendor.errors.required)}}function G3(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Remarks are required"),e.qZA())}function j3(i,n){if(1&i&&(e.TgZ(0,"div",56),e.YNc(1,G3,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.Remarks.errors.required)}}function z3(i,n){if(1&i&&(e.TgZ(0,"option",57),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.Id),e.xp6(1),e.hij(" ",t.ItemName," ")}}function W3(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Item is required "),e.qZA())}function K3(i,n){if(1&i&&(e.TgZ(0,"div",56),e.YNc(1,W3,2,0,"div",0),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.controls.storeitems.errors.required)}}function X3(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Quantity is required "),e.qZA())}function eC(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Value must be positive "),e.qZA())}function tC(i,n){if(1&i&&(e.TgZ(0,"div",56),e.YNc(1,X3,2,0,"div",0),e.YNc(2,eC,2,0,"div",0),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.controls.qty.errors.required),e.xp6(1),e.Q6J("ngIf",t.controls.qty.errors.pattern)}}function iC(i,n){if(1&i&&(e.TgZ(0,"option",57),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.CategoryId),e.xp6(1),e.hij(" ",t.CategoryName," ")}}function oC(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Item is required "),e.qZA())}function nC(i,n){if(1&i&&(e.TgZ(0,"div",56),e.YNc(1,oC,2,0,"div",0),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.controls.Itemunit.errors.required)}}const Ie=function(i){return{"is-invalid":i}};function sC(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",58),e.TgZ(1,"div",59),e.TgZ(2,"label"),e._uU(3," Items"),e.qZA(),e.TgZ(4,"select",60),e.TgZ(5,"option",42),e._uU(6,"Please Select Item"),e.qZA(),e.YNc(7,z3,2,2,"option",43),e.qZA(),e.YNc(8,K3,2,1,"div",40),e.qZA(),e.TgZ(9,"div",59),e.TgZ(10,"label"),e._uU(11,"Description "),e.qZA(),e._UZ(12,"input",61),e.qZA(),e.TgZ(13,"div",62),e.TgZ(14,"label",63),e._uU(15,"Quantity"),e.qZA(),e.TgZ(16,"input",64),e.NdJ("input",function(s){const l=e.CHM(t).index;return e.oxw(3).modelChangeFn(s,l)}),e.qZA(),e.YNc(17,tC,3,2,"div",40),e.qZA(),e.TgZ(18,"div",62),e.TgZ(19,"label",63),e._uU(20,"Unit"),e.qZA(),e.TgZ(21,"select",65),e.TgZ(22,"option",42),e._uU(23,"Please Select Item"),e.qZA(),e.YNc(24,iC,2,2,"option",43),e.qZA(),e.YNc(25,nC,2,1,"div",40),e.qZA(),e.TgZ(26,"div",62),e.TgZ(27,"button",66),e.NdJ("click",function(){const r=e.CHM(t).index;return e.oxw(3).removeQuantity(r)}),e._UZ(28,"i",67),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=n.$implicit,o=n.index,s=e.oxw(3);e.Q6J("formGroupName",o),e.xp6(4),e.Q6J("ngClass",e.VKq(9,Ie,s.submitted&&t.controls.storeitems.errors)),e.xp6(3),e.Q6J("ngForOf",s.allstoreitemsfiltered),e.xp6(1),e.Q6J("ngIf",s.submitted&&t.controls.storeitems.errors),e.xp6(8),e.Q6J("ngClass",e.VKq(11,Ie,s.submitted&&t.controls.qty.errors)),e.xp6(1),e.Q6J("ngIf",s.submitted&&t.controls.qty.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(13,Ie,s.submitted&&t.controls.Itemunit.errors)),e.xp6(3),e.Q6J("ngForOf",s.Units),e.xp6(1),e.Q6J("ngIf",s.submitted&&t.controls.Itemunit.errors)}}function rC(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"form",36),e.TgZ(1,"div",37),e.TgZ(2,"div",38),e.TgZ(3,"label"),e._uU(4,"Order Date "),e.qZA(),e._UZ(5,"input",39),e.YNc(6,B3,2,1,"div",40),e.qZA(),e.TgZ(7,"div",38),e.TgZ(8,"label"),e._uU(9,"Vendor"),e.qZA(),e.TgZ(10,"select",41),e.NdJ("change",function(s){return e.CHM(t),e.oxw(2).getItemByVendorId(s)}),e.TgZ(11,"option",42),e._uU(12,"Please Select"),e.qZA(),e.YNc(13,H3,2,2,"option",43),e.qZA(),e.YNc(14,L3,2,1,"div",40),e.qZA(),e.TgZ(15,"div",44),e.TgZ(16,"label"),e._uU(17,"Remarks "),e.qZA(),e._UZ(18,"input",45),e.YNc(19,j3,2,1,"div",40),e.qZA(),e.qZA(),e.TgZ(20,"div",46),e.TgZ(21,"div",47),e.TgZ(22,"div",48),e.YNc(23,sC,29,15,"div",49),e._UZ(24,"hr"),e.qZA(),e.qZA(),e.qZA(),e._UZ(25,"br"),e.TgZ(26,"div",50),e.TgZ(27,"div",51),e.TgZ(28,"button",52),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).addStoreItems()}),e._uU(29,"Submit"),e.qZA(),e._uU(30,"\xa0 "),e.TgZ(31,"button",53),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).addCancel()}),e._uU(32," Reset "),e.qZA(),e._uU(33," \xa0 "),e.TgZ(34,"button",54),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).addQuantity()}),e._UZ(35,"i",55),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("formGroup",t.PurchasedOrder),e.xp6(5),e.Q6J("max",t.maxDate)("ngClass",e.VKq(10,Ie,t.submitted&&t.f.purDate.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.purDate.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(12,Ie,t.submitted&&t.PurchasedOrder.controls.Vendor.errors)),e.xp6(3),e.Q6J("ngForOf",t.VendorDetails),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.PurchasedOrder.controls.Vendor.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(14,Ie,t.submitted&&t.f.Remarks.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.Remarks.errors),e.xp6(4),e.Q6J("ngForOf",t.quantities().controls)}}function aC(i,n){1&i&&(e.TgZ(0,"div",68),e.TgZ(1,"b"),e._uU(2,"Purchased Order List"),e.qZA(),e._UZ(3,"br"),e.qZA())}function lC(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",74),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;return e.oxw(2).Edit(s.POIDMain)}),e._UZ(1,"i",75),e.qZA()}if(2&i){const t=e.oxw().$implicit;e.Q6J("disabled",t.StoreMainId),e.xp6(1),e.Q6J("ngbTooltip",t.StoreMainId?"Purchased Order is already received":"")}}function dC(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",76),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;return e.oxw(2).Delete(s.POIDMain,s.PurchaseOrder)}),e._UZ(1,"i",77),e.qZA()}if(2&i){const t=e.oxw().$implicit;e.Q6J("disabled",t.StoreMainId),e.xp6(1),e.Q6J("ngbTooltip",t.StoreMainId?"Purchased Order is already received":"")}}function cC(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"th",69),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e.YNc(12,lC,2,2,"button",70),e._uU(13," \xa0 "),e.YNc(14,dC,2,2,"button",71),e._uU(15," \xa0 "),e.TgZ(16,"button",72),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw(2).Print(r.POIDMain)}),e._UZ(17,"i",73),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=n.$implicit,o=n.index,s=e.oxw(2);e.xp6(2),e.Oqu(o+1),e.xp6(2),e.Oqu(t.VendorName),e.xp6(2),e.Oqu(t.fullname),e.xp6(2),e.Oqu(t.PurchaseOrder),e.xp6(2),e.Oqu(t.PDate),e.xp6(2),e.Q6J("ngIf",s.editrec),e.xp6(2),e.Q6J("ngIf",s.deleterec)}}function uC(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"div",1),e.YNc(2,E3,2,0,"div",2),e.YNc(3,R3,2,0,"div",3),e.qZA(),e.TgZ(4,"div",1),e.YNc(5,P3,2,0,"div",2),e.qZA(),e.YNc(6,Y3,2,0,"div",4),e.TgZ(7,"div",1),e.YNc(8,Q3,2,0,"div",2),e.YNc(9,O3,2,0,"div",2),e.qZA(),e.TgZ(10,"ngx-spinner",5),e.TgZ(11,"p",6),e._uU(12,"Please wait..."),e.qZA(),e.qZA(),e.TgZ(13,"ngb-accordion",7),e.TgZ(14,"ngb-panel",8),e.YNc(15,M3,4,0,"ng-template",9),e.YNc(16,rC,36,16,"ng-template",10),e.qZA(),e.qZA(),e.TgZ(17,"div",11),e.YNc(18,aC,4,0,"div",12),e.TgZ(19,"div",13),e._UZ(20,"br"),e.TgZ(21,"table",14),e.TgZ(22,"thead"),e.TgZ(23,"tr"),e.TgZ(24,"th",15),e._uU(25,"#"),e.qZA(),e.TgZ(26,"th",15),e._uU(27,"Vendor Name"),e.qZA(),e.TgZ(28,"th",15),e._uU(29,"Ordered By"),e.qZA(),e.TgZ(30,"th",15),e._uU(31,"PO Number"),e.qZA(),e.TgZ(32,"th",15),e._uU(33,"Order Date"),e.qZA(),e.TgZ(34,"th",15),e._uU(35,"Action"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(36,"tbody"),e.YNc(37,cC,18,7,"tr",16),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(38,"div",17),e.TgZ(39,"div",18),e.TgZ(40,"div",19),e.TgZ(41,"div",20),e.TgZ(42,"h4",21),e._uU(43,"Admin Permission Required "),e.qZA(),e.qZA(),e.TgZ(44,"div",22),e.TgZ(45,"p"),e.TgZ(46,"strong"),e._uU(47,"Please enter your login password to continue."),e.qZA(),e.qZA(),e.TgZ(48,"form",23),e.NdJ("ngSubmit",function(){return e.CHM(t),e.oxw().performDeleteAction()}),e.TgZ(49,"div",24),e.TgZ(50,"label",25),e._uU(51,"Password"),e.qZA(),e._UZ(52,"input",26),e.qZA(),e.qZA(),e.qZA(),e.TgZ(53,"div",27),e.TgZ(54,"button",28),e.NdJ("click",function(){return e.CHM(t),e.oxw().performDeleteAction()}),e._uU(55,"Submit"),e.qZA(),e.TgZ(56,"button",29),e.NdJ("click",function(){return e.CHM(t),e.oxw().hideDeactivate()}),e._uU(57,"Cancel"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.isVisibleFailure),e.xp6(1),e.Q6J("ngIf",t.isVisibleSuccess),e.xp6(2),e.Q6J("ngIf",t.IsItemMatched),e.xp6(1),e.Q6J("ngIf",t.isVisibleSuccessDelete),e.xp6(2),e.Q6J("ngIf",t.IsItemNotProvided),e.xp6(1),e.Q6J("ngIf",t.isDuplicate),e.xp6(4),e.Q6J("closeOthers",!0),e.xp6(5),e.Q6J("ngIf",t.tablerec),e.xp6(19),e.Q6J("ngForOf",t.DataformDb),e.xp6(1),e.Udp("display",t.Deactivate?"block":"none"),e.xp6(10),e.Q6J("formGroup",t.passwordForm)}}let gC=(()=>{class i{constructor(t,o,s,r,l,d,m,_,Z,A,I,P){this.myFormBuilder=t,this.storeitemser=o,this.Vendor=s,this.storeRec=r,this.detectChanges=l,this.myRouter=d,this.Purchasedservice=m,this.spinner=_,this.userService=Z,this.modalService=A,this.fb=I,this.popUpSer=P,this.submitted=!1,this.isVisibleSuccess=!1,this.isVisibleFailure=!1,this.IsItemMatched=!1,this.IsItemNotProvided=!1,this.IsSHowPage=!1,this.tablerec=!1,this.editrec=!1,this.deleterec=!1,this.isDuplicate=!1,this.showModal=!1,this.allstoreitems=[],this.allstoreitemsfiltered=[],this.closeOthers=!1,this.purchase_orders_by_store_ItemId_boolean=!1,this.purchase_orders_by_store_ItemId_boolean_complete=!1,this.VendorDetails=[],this.isVisibleFailurePassword=!1,this.isVisibleSuccessDoctorDelete=!1,this.isVisibleSuccessDelete=!1,this.isVisibleFailureInvalidPassword=!1,this.isVisibleFailureEmailNotExist=!1,this.formdata={},this.total=[],this.addJson={},this.sub_total=0,this.maxDate=(0,g.p6)(new Date,"yyyy-MM-dd","en")}get f(){return this.PurchasedOrder.controls}ngOnInit(){this.getAllUnits(),console.log("store_ItemId",this.storeitemser.store_ItemId),console.log(this.Units),console.log("store_ItemId",this.storeitemser.store_ItemId),this.userService.tokenExpired()?this.userService.logout():this.userService.checkUserHasAccess("/pages/PurchasedOrder").subscribe(t=>{t.length>0?(this.IsSHowPage=!0,this.formControls(),this.deleteformControlss(),this.getstoreitems(),this.getAllVednor(),this.addQuantity(),this.userService.checkUserHasAccess("/pages/ShowPurchasedOrder").subscribe(o=>{o.length>0?(this.tablerec=!0,this.store_ItemId=this.storeitemser.store_ItemId,null!=this.storeitemser.store_ItemId?(this.purchase_orders_by_store_ItemId_boolean=!0,console.log("not-null")):(this.purchase_orders_by_store_ItemId_boolean_complete=!1,this.getallpurchasedorder()),setTimeout(()=>{this.userService.checkUserHasAccess("/pages/EditPurchasedOrder").subscribe(s=>{this.editrec=s.length>0})},300),setTimeout(()=>{this.userService.checkUserHasAccess("/pages/DeletePurchasedOrder").subscribe(s=>{this.deleterec=s.length>0})},300)):this.tablerec=!1})):(this.IsSHowPage=!1,this.popUpSer.confirmCommon("","You have no access to view page").then(o=>{}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)")))})}formControls(){this.PurchasedOrder=this.myFormBuilder.group({purDate:["",a.kI.required],Vendor:["",a.kI.required],Remarks:["Please deliver our order within 7 working days.",a.kI.required],quantities:this.myFormBuilder.array([])})}getstoreitems(){this.Purchasedservice.getAssignedVendorItems().subscribe(t=>{this.allstoreitems=t,console.log(this.allstoreitems),this.spinner.hide()})}getAllUnits(){this.Purchasedservice.getUnitsOfItems().subscribe(t=>{this.Units=t,console.log(this.Units),this.spinner.hide()})}addCancel(){this.PurchasedOrder.reset(),this.quantities().clear(),this.allstoreitemsfiltered=[],this.quantities().push(this.newQuantity()),this.submitted=!1}quantities(){return this.PurchasedOrder.get("quantities")}newQuantity(){return this.myFormBuilder.group({storeitems:["",a.kI.required],qty:["",[a.kI.required,a.kI.pattern("^[0-9]*$")]],Itemunit:["",a.kI.required],Description:[""]})}addQuantity(){this.quantities().push(this.newQuantity()),console.log(this.PurchasedOrder),console.log(this.PurchasedOrder.value.quantities),console.log(this.quantities())}removeQuantity(t){this.sub_total=this.sub_total-this.PurchasedOrder.value.quantities[t].Total,this.quantities().removeAt(t)}getAllVednor(){this.Vendor.GetAllVendor().subscribe(t=>{console.log(t),this.VendorDetails=t,console.log(this.VendorDetails[0].VendorId)})}Print(t){this.myRouter.navigate(["pages/purchased-orders-report/"+t])}modelChangeFn(t,o){}duplicateItemCheck(t){let o=t,s=0,r=0;return console.log(o),o.forEach(l=>{let d=o.length;for(let m=s+1;m<d;m++)l.storeitems==this.PurchasedOrder.value.quantities[m].storeitems&&r++;s++}),r}addStoreItems(){if(this.spinner.show(),console.log(this.PurchasedOrder.value),this.submitted=!0,this.user=localStorage.getItem("CurrentUserId"),this.PurchasedOrder.invalid)return console.log("asdfghh"),void this.spinner.hide();{let o=this.duplicateItemCheck(this.PurchasedOrder.value.quantities);if(console.log(o),0!=o)return this.spinner.hide(),console.log("found in submit"),this.IsItemMatched=!0,void setTimeout(()=>this.IsItemMatched=!1,4e3);if(this.PurchasedOrder.value.quantities<=0)return console.log("here1111"),this.spinner.hide(),this.IsItemNotProvided=!0,void setTimeout(()=>this.IsItemNotProvided=!1,4e3);let s="";for(var t in this.PurchasedOrder.value.quantities)s=s+","+this.PurchasedOrder.value.quantities[t].storeitems+","+this.PurchasedOrder.value.quantities[t].qty+","+this.PurchasedOrder.value.quantities[t].Itemunit+","+this.PurchasedOrder.value.quantities[t].Description;this.addJson={purDate:this.PurchasedOrder.value.purDate,Vendor:this.PurchasedOrder.value.Vendor,user:this.user,city:this.city_id,Remarks:this.PurchasedOrder.value.Remarks,recSub:s+","},this.Purchasedservice.duplicateCheckEntry(this.addJson).subscribe(r=>{if(console.log(r),"true"==r.duplicate)return this.isDuplicate=!0,setTimeout(()=>{this.isDuplicate=!1},3e3),void this.spinner.hide();this.Purchasedservice.AddOrder(this.addJson).subscribe(l=>{console.log(l),l?(this.spinner.hide(),this.isVisibleSuccess=!0,setTimeout(()=>this.isVisibleSuccess=!1,3e3),this.submitted=!1,this.getallpurchasedorder(),this.PurchasedOrder.reset(),this.formControls(),this.addQuantity()):(this.spinner.hide(),this.isVisibleFailure=!0,setTimeout(()=>this.isVisibleFailure=!1,5e3))})})}}getallpurchasedorder(){$("#PO-tbl").DataTable().clear(),this.Purchasedservice.getallpurchasedorder().subscribe(t=>{console.log(t),t?this.DataformDb=t:alert("cant get value form Db"),this.detectChanges.detectChanges(),$("#PO-tbl").DataTable({paging:!0,searching:!0,ordering:!0})}),$("#PO-tbl").dataTable().fnDestroy()}getf(){return this.passwordForm.controls}deleteformControlss(){this.passwordForm=this.fb.group({password:["",[a.kI.required]]})}showdeletemodal(){this.showModal=!0}hide(){this.showModal=!1,this.passwordForm.reset()}hideDeactivate(){this.Deactivate=!1,this.passwordForm.reset()}performDeleteAction(){let t=this.passwordForm.value;console.log(t.password,this.POIDMain);let o=localStorage.getItem("CurrentUserEmail");this.passwordForm.valid?this.userService.matchPassword({Email:o,Password:t.password}).subscribe(r=>{console.log(r,"before token");let l=r;if("Invalid Password"==r)console.log("Invalid Password"),this.isVisibleFailureInvalidPassword=!0,setTimeout(()=>this.isVisibleFailureInvalidPassword=!1,2e3);else if("Email Does Not Exist"==r)console.log("Email Does Not Exist"),this.isVisibleFailureEmailNotExist=!0,setTimeout(()=>this.isVisibleFailureEmailNotExist=!1,2e3);else if(l.success)return this.deletepurchaseorder(),void console.log("matched pass")}):(console.log("invalidddd"),this.isVisibleFailurePassword=!0,setTimeout(()=>this.isVisibleFailurePassword=!1,2e3))}deletepurchaseorder(){let o={user_id:localStorage.getItem("CurrentUserId"),POIDMain:this.POIDMain,PONumber:this.PONumber};console.log(o,"checking formdata"),this.Purchasedservice.deletepurchaseorder(o).subscribe(s=>{this.isVisibleSuccessDelete=!0,setTimeout(()=>this.isVisibleSuccessDelete=!1,2e3),console.log(s,"delete response"),this.hideDeactivate(),this.getallpurchasedorder()})}enterPasswordToDelete(){this.Deactivate=!0,console.log(this.PONumber,this.POIDMain)}Delete(t,o){this.POIDMain=t,this.PONumber=o,this.popUpSer.confirmCommon("Please confirm..","Do you really want to delete?").then(s=>{if(s){let l={user_id:localStorage.getItem("CurrentUserId"),POIDMain:this.POIDMain,PONumber:this.PONumber};console.log(l,"checking formdata"),this.Purchasedservice.deletepurchaseorder(l).subscribe(d=>{console.log(d,"delete response"),this.hideDeactivate(),this.isVisibleSuccessDelete=!0,setTimeout(()=>this.isVisibleSuccessDelete=!1,2e3),this.getallpurchasedorder()})}}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)"))}getDismissReason(t){return t===u.If.ESC?"by pressing ESC":t===u.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${t}`}Edit(t){this.myRouter.navigate(["pages/EditPurchasedOrder/"+t])}getItemByVendorId(t){this.spinner.show(),console.log(t.target.value);let o=t.target.value,s=this.VendorDetails.find(r=>r.VendorId==o);console.log(s,"asdqwerty"),this.city_id=s.City,this.Purchasedservice.getItemByVendorId(o).subscribe(r=>{this.allstoreitemsfiltered=r}),setTimeout(()=>{this.getstoreitems()},1e3)}getItemByVendorIdInit(t){this.Purchasedservice.getItemByVendorId(t).subscribe(o=>{this.allstoreitemsfiltered=o}),setTimeout(()=>{this.getstoreitems()},5e3)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(M),e.Y36(qe),e.Y36(ee),e.Y36(e.sBO),e.Y36(p.F0),e.Y36(Ke),e.Y36(v.t2),e.Y36(h),e.Y36(u.FF),e.Y36(a.qu),e.Y36(b))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-purchased-order"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"content-wrapper"],["class","alertnotify","style","background: #CB3837",4,"ngIf"],["class","alertnotify","style","background: #54A254",4,"ngIf"],["class","alertnotify","style","background: #cb3837",4,"ngIf"],["bdColor","rgba(51,51,51,0.6)","size","medium","color","#fff","type","timer"],[2,"font-size","20px","color","white","margin-top","30px"],["activeIds","toggle-11",3,"closeOthers"],["id","toggle-11"],["ngbPanelTitle",""],["ngbPanelContent",""],[1,"card","main-card","mb-3","mt-3"],["class","card-header",4,"ngIf"],[1,"table-responsive"],["id","PO-tbl",1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],["id","deactivatemodal","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal"],[1,"modal-dialog",2,"width","50%","height","20px","position","center","margin-top","5%"],[1,"modal-content"],[1,"modal-header"],["id","myModalLabel",1,"modal-title"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],[1,"from-control"],["type","password","placeholder","Enter password...","required","required","aria-required","true","formControlName","password",1,"form-control"],[1,"modal-footer"],["type","submit",1,"btn","upload-btn",3,"click"],["type","button","data-dismiss","modal",1,"btn","reset-btn",3,"click"],[1,"alertnotify",2,"background","#CB3837"],[1,"alertnotify",2,"background","#54A254"],[1,"alertnotify",2,"background","#cb3837"],[1,"card-header--title"],[1,"pull-right"],[1,"fa","fa-angle-down","fa-lg"],[3,"formGroup"],[1,"row","ml-3","mr-3"],[1,"col-md-4"],["type","date","placeholder","Purchased Order Date","formControlName","purDate","id","purDate","onkeydown","return false",1,"form-control","form-control-sm",3,"max","ngClass"],["class","invalid-feedback",4,"ngIf"],["formControlName","Vendor","id","Vendor","placeholder","Please Select",1,"form-control","form-control-sm",3,"ngClass","change"],["value","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-lg-4"],["type","text","formControlName","Remarks","id","Remarks","placeholder","Remarks are required",1,"form-control","form-control-sm",3,"ngClass"],[1,"row","mt-2","ml-3"],[1,"col-lg-12"],["formArrayName","quantities","id","tbl"],["class","row",3,"formGroupName",4,"ngFor","ngForOf"],[1,"row"],[1,"col","text-right"],[1,"btn","upload-btn","btn-sm",3,"click"],[1,"btn","reset-btn","btn-sm",3,"click"],["type","button","id","plusbtn",1,"btn","btn-primary","fail","btn-sm",3,"click"],[1,"fa","fa-plus"],[1,"invalid-feedback"],[3,"value"],[1,"row",3,"formGroupName"],[1,"col-md-2"],["formControlName","storeitems","id","storeitems","aria-placeholder","Please",1,"form-control","form-control-sm",3,"ngClass"],["type","text","formControlName","Description","id","Description",1,"form-control","form-control-sm"],[1,"col-md-1"],["for",""],["type","number","formControlName","qty","id","qty",1,"form-control","form-control-sm",3,"ngClass","input"],["formControlName","Itemunit","id","Itemunit","aria-placeholder","Please",1,"form-control","form-control-sm",3,"ngClass"],[1,"btn","btn-danger","btn-sm",2,"margin-top","18px",3,"click"],[1,"fa","fa-minus"],[1,"card-header"],["scope","row"],["class","btn edit-btn btn-sm",3,"disabled","click",4,"ngIf"],["class","btn delet-btn btn-sm",3,"disabled","click",4,"ngIf"],[1,"btn","print-btn","btn-sm",3,"click"],[1,"fa","fa-print","fa-fw"],[1,"btn","edit-btn","btn-sm",3,"disabled","click"],["container","body",1,"fa","fa-pencil","fa-fw",3,"ngbTooltip"],[1,"btn","delet-btn","btn-sm",3,"disabled","click"],["container","body",1,"fa","fa-trash","fa-fw",3,"ngbTooltip"]],template:function(t,o){1&t&&e.YNc(0,uC,58,12,"div",0),2&t&&e.Q6J("ngIf",o.IsSHowPage)},directives:[g.O5,v.Ro,u.gY,u.Gk,u.Cu,u.gW,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,g.mk,a.EJ,a.YN,a.Kr,g.sg,a.CE,a.x0,a.wV,u._L,a.Q7],styles:[""]}),i})();function mC(i,n){1&i&&(e.TgZ(0,"div",10),e._uU(1," Something went wrong!. "),e.qZA())}function pC(i,n){1&i&&(e.TgZ(0,"div",11),e._uU(1," Purchased Order is Updated Successfully!. "),e.qZA())}function _C(i,n){1&i&&(e.TgZ(0,"div",10),e._uU(1," Deleted Successfully. "),e.qZA())}function hC(i,n){1&i&&(e.TgZ(0,"div",10),e._uU(1," No duplicate Items are allowed. "),e.qZA())}function fC(i,n){if(1&i&&(e.TgZ(0,"span",12),e._uU(1,"Edit Purchase Order: "),e.TgZ(2,"strong",13),e._uU(3),e.qZA(),e.qZA(),e.TgZ(4,"div",14),e._UZ(5,"i",15),e.qZA()),2&i){const t=e.oxw(2);e.xp6(3),e.Oqu(t.PurchaseOrder)}}function ZC(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Received Date is required "),e.qZA())}function bC(i,n){if(1&i&&(e.TgZ(0,"div",35),e.YNc(1,ZC,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.purDate.errors.required)}}function vC(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Invoice No is required"),e.qZA())}function TC(i,n){if(1&i&&(e.TgZ(0,"div",35),e.YNc(1,vC,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.invNo.errors.required)}}function AC(i,n){if(1&i&&(e.TgZ(0,"option",36),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.VendorId),e.xp6(1),e.hij(" ",t.VendorName," ")}}function CC(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Vendor is required "),e.qZA())}function qC(i,n){if(1&i&&(e.TgZ(0,"div",35),e.YNc(1,CC,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.EditPurchasedOrder.controls.Vendor.errors.required)}}function xC(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Remarks are required"),e.qZA())}function IC(i,n){if(1&i&&(e.TgZ(0,"div",35),e.YNc(1,xC,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.Remarks.errors.required)}}function yC(i,n){if(1&i&&(e.TgZ(0,"option",36),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.ItemId),e.xp6(1),e.hij(" ",t.ItemName," ")}}function kC(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Item is required "),e.qZA())}function UC(i,n){if(1&i&&(e.TgZ(0,"div",35),e.YNc(1,kC,2,0,"div",0),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.controls.storeitems.errors.required)}}function NC(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Quantity is required "),e.qZA())}function wC(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Value must be positive "),e.qZA())}function SC(i,n){if(1&i&&(e.TgZ(0,"div",35),e.YNc(1,NC,2,0,"div",0),e.YNc(2,wC,2,0,"div",0),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.controls.qty.errors.required),e.xp6(1),e.Q6J("ngIf",t.controls.qty.errors.pattern)}}function FC(i,n){if(1&i&&(e.TgZ(0,"option",36),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.CategoryId),e.xp6(1),e.hij(" ",t.CategoryName," ")}}function DC(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Item is required "),e.qZA())}function JC(i,n){if(1&i&&(e.TgZ(0,"div",35),e.YNc(1,DC,2,0,"div",0),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.controls.ItemUnits.errors.required)}}const re=function(i){return{"is-invalid":i}};function EC(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",37),e.TgZ(1,"div",38),e.TgZ(2,"label"),e._uU(3," Items"),e.qZA(),e._UZ(4,"input",39),e.TgZ(5,"select",40),e.YNc(6,yC,2,2,"option",23),e.qZA(),e.YNc(7,UC,2,1,"div",20),e.qZA(),e.TgZ(8,"div",38),e.TgZ(9,"label"),e._uU(10,"Description "),e.qZA(),e._UZ(11,"input",41),e.qZA(),e.TgZ(12,"div",42),e.TgZ(13,"label",43),e._uU(14,"Quantity "),e.qZA(),e.TgZ(15,"input",44),e.NdJ("input",function(s){const l=e.CHM(t).index;return e.oxw(3).modelChangeFn(s,l)}),e.qZA(),e.YNc(16,SC,3,2,"div",20),e.qZA(),e.TgZ(17,"div",42),e.TgZ(18,"label",43),e._uU(19,"Unit"),e.qZA(),e.TgZ(20,"select",45),e.TgZ(21,"option",46),e._uU(22,"Please Select Item"),e.qZA(),e.YNc(23,FC,2,2,"option",23),e.qZA(),e.YNc(24,JC,2,1,"div",20),e.qZA(),e.TgZ(25,"div",42),e.TgZ(26,"button",47),e.NdJ("click",function(){const r=e.CHM(t).index;return e.oxw(3).removeQuantity(r)}),e._UZ(27,"i",48),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=n.$implicit,o=n.index,s=e.oxw(3);e.Q6J("formGroupName",o),e.xp6(5),e.Q6J("ngClass",e.VKq(10,re,s.submitted&&t.controls.storeitems.errors)),e.xp6(1),e.Q6J("ngForOf",s.allstoreitemsfiltered),e.xp6(1),e.Q6J("ngIf",s.submitted&&t.controls.storeitems.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(12,re,s.submitted&&t.controls.description.errors)),e.xp6(4),e.Q6J("ngClass",e.VKq(14,re,s.submitted&&t.controls.qty.errors)),e.xp6(1),e.Q6J("ngIf",s.submitted&&t.controls.qty.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(16,re,s.submitted&&t.controls.ItemUnits.errors)),e.xp6(3),e.Q6J("ngForOf",s.Units),e.xp6(1),e.Q6J("ngIf",s.submitted&&t.controls.ItemUnits.errors)}}function RC(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"form",16),e.TgZ(1,"div",17),e.TgZ(2,"div",18),e.TgZ(3,"label"),e._uU(4,"Order Date "),e.qZA(),e._UZ(5,"input",19),e.YNc(6,bC,2,1,"div",20),e.qZA(),e.TgZ(7,"div",18),e.TgZ(8,"label"),e._uU(9,"Purchase Order No "),e.qZA(),e._UZ(10,"input",21),e.YNc(11,TC,2,1,"div",20),e.qZA(),e.TgZ(12,"div",18),e.TgZ(13,"label"),e._uU(14,"Vendor"),e.qZA(),e.TgZ(15,"select",22),e.YNc(16,AC,2,2,"option",23),e.qZA(),e.YNc(17,qC,2,1,"div",20),e.qZA(),e.qZA(),e.TgZ(18,"div",17),e.TgZ(19,"div",18),e.TgZ(20,"label"),e._uU(21,"Remarks "),e.qZA(),e._UZ(22,"input",24),e.YNc(23,IC,2,1,"div",20),e.qZA(),e.qZA(),e.TgZ(24,"div",25),e.TgZ(25,"div",26),e.TgZ(26,"div",27),e.YNc(27,EC,28,18,"div",28),e._UZ(28,"hr"),e.qZA(),e.qZA(),e.qZA(),e._UZ(29,"br"),e.TgZ(30,"div",29),e.TgZ(31,"div",30),e.TgZ(32,"button",31),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).addStoreItems()}),e._uU(33,"Update"),e.qZA(),e._uU(34,"\xa0 "),e.TgZ(35,"button",32),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).addCancel()}),e._uU(36," Cancel "),e.qZA(),e.TgZ(37,"button",33),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).addQuantity()}),e._UZ(38,"i",34),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("formGroup",t.EditPurchasedOrder),e.xp6(5),e.Q6J("ngClass",e.VKq(11,re,t.submitted&&t.f.purDate.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.purDate.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(13,re,t.submitted&&t.f.invNo.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.invNo.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(15,re,t.submitted&&t.EditPurchasedOrder.controls.Vendor.errors)),e.xp6(1),e.Q6J("ngForOf",t.VendorDetails),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.EditPurchasedOrder.controls.Vendor.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(17,re,t.submitted&&t.f.Remarks.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.Remarks.errors),e.xp6(4),e.Q6J("ngForOf",t.quantities().controls)}}function PC(i,n){if(1&i&&(e.TgZ(0,"div"),e.TgZ(1,"div",1),e.YNc(2,mC,2,0,"div",2),e.YNc(3,pC,2,0,"div",3),e.TgZ(4,"div",1),e.YNc(5,_C,2,0,"div",2),e.qZA(),e.TgZ(6,"div",1),e.YNc(7,hC,2,0,"div",2),e.qZA(),e.TgZ(8,"ngx-spinner",4),e.TgZ(9,"p",5),e._uU(10,"Please wait..."),e.qZA(),e.qZA(),e.TgZ(11,"ngb-accordion",6),e.TgZ(12,"ngb-panel",7),e.YNc(13,fC,6,1,"ng-template",8),e.YNc(14,RC,39,19,"ng-template",9),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.isVisibleFailure),e.xp6(1),e.Q6J("ngIf",t.isVisibleSuccess),e.xp6(2),e.Q6J("ngIf",t.IsDelete),e.xp6(2),e.Q6J("ngIf",t.IsItemMatched),e.xp6(4),e.Q6J("closeOthers",!0)}}let YC=(()=>{class i{constructor(t,o,s,r,l,d,m,_,Z,A,I){this.myFormBuilder=t,this.storeitemser=o,this.storeItemRecieved=s,this.Vendor=r,this.Purchasedservice=l,this.route=d,this.confirmationDialogService=m,this.location=_,this.spinner=Z,this.userService=A,this.popUpSer=I,this.submitted=!1,this.isVisibleSuccess=!1,this.isVisibleFailure=!1,this.IsDelete=!1,this.IsItemMatched=!1,this.IsSHowPage=!1,this.editeditem=[],this.total=[],this.Units=[],this.sub_total=0}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():this.userService.checkUserHasAccess("/pages/EditPurchasedOrder").subscribe(t=>{t.length>0?(this.IsSHowPage=!0,this.formControls(),this.PurchasedEditId=this.route.snapshot.paramMap.get("id"),this.getAllUnits(),this.getAllVednor(),this.getstoreitems()):(this.IsSHowPage=!1,this.popUpSer.confirmCommon("","You have no access to view page").then(o=>{}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)")))})}get f(){return this.EditPurchasedOrder.controls}formControls(){this.EditPurchasedOrder=this.myFormBuilder.group({purDate:["",a.kI.required],invNo:["",a.kI.required],Vendor:["",a.kI.required],Remarks:["",a.kI.required],quantities:this.myFormBuilder.array([])}),this.getPurchasedOrderIdData()}getstoreitems(){this.storeitemser.fetchstoreitemsbyjoin().subscribe(t=>{this.allstoreitems=t})}getItemByVendorIdInit(t){this.Purchasedservice.getItemByVendorId(t).subscribe(o=>{console.log(o),this.allstoreitemsfiltered=o}),setTimeout(()=>{this.getstoreitems()},5e3)}addCancel(){this.location.back()}quantities(){return this.EditPurchasedOrder.get("quantities")}newQuantity(){return this.myFormBuilder.group({storeitems:["",a.kI.required],qty:["",[a.kI.required,a.kI.pattern("^[0-9]*$")]],quantities:this.myFormBuilder.array([this.initListItem()]),storeItemId:[""],ItemUnits:[""],Description:[""]})}initListItem(){return this.myFormBuilder.group({quantities:[""],ItemUnits:[""],Description:[""]})}addQuantity(){this.quantities().push(this.newQuantity())}removeQuantity(t){console.log(this.editeditem[t]),console.log(this.EditPurchasedOrder.value.quantities[t].storeItemId),this.editeditem[t]==this.EditPurchasedOrder.value.quantities[t].storeItemId?(console.log("found"),this.confirmationDialogService.confirm("Please confirm..","Do you really want to delete it.. ?").then(o=>{o&&(this.spinner.show(),this.Purchasedservice.deleteStoreItem(this.EditPurchasedOrder.value.quantities[t].storeItemId).subscribe(s=>{console.log(s),s&&(this.spinner.hide(),this.editeditem.splice(t,1),this.IsDelete=!0,setTimeout(()=>this.IsDelete=!1,3e3),this.quantities().removeAt(t))}))}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)",this.spinner.hide()))):(this.spinner.hide(),this.quantities().removeAt(t))}getAllVednor(){this.Vendor.GetAllVendor().subscribe(t=>{this.VendorDetails=t})}modelChangeFn(t,o){console.log(o,"indexxx")}getAllUnits(){this.Purchasedservice.getUnitsOfItems().subscribe(t=>{this.Units=t,console.log(this.Units),this.spinner.hide()})}getPurchasedOrderIdData(){this.Purchasedservice.getPurchasedOrderIdData(this.route.snapshot.paramMap.get("id")).subscribe(t=>{if(t){if(console.log(t),t.length>0){this.EditPurchasedOrder.controls.purDate.setValue(t[0].PODate),this.EditPurchasedOrder.controls.invNo.setValue(t[0].PurchaseOrder),this.PurchaseOrder=t[0].InvoiceNo,this.EditPurchasedOrder.controls.Vendor.setValue(t[0].VendorId),this.EditPurchasedOrder.controls.Remarks.setValue(t[0].Remarks),this.getItemByVendorIdInit(t[0].VendorId);for(let o in t)this.addQuantity(),this.editeditem.push(t[o].Poidsub),this.EditPurchasedOrder.controls.quantities.value[o].storeitems=t[o].ItemId,this.EditPurchasedOrder.controls.quantities.value[o].qty=t[o].Quantity,this.EditPurchasedOrder.controls.quantities.value[o].storeItemId=t[o].Poidsub,this.EditPurchasedOrder.controls.quantities.value[o].ItemUnits=t[o].UnitId,this.EditPurchasedOrder.controls.quantities.value[o].Description=t[o].Description;this.EditPurchasedOrder.controls.quantities.setValue(this.quantities().value),console.log(this.EditPurchasedOrder.controls.quantities.value,"iiiii")}}else alert("cant get value form Db")})}duplicateItemCheck(t){console.log("here");let o=t,s=0,r=0;return console.log(o),o.forEach(l=>{let d=o.length;for(let m=s+1;m<d;m++)l.storeitems==this.EditPurchasedOrder.value.quantities[m].storeitems&&(console.log("found"),r++);s++}),r}addStoreItems(){if(this.spinner.show(),this.submitted=!0,this.User=localStorage.getItem("CurrentUserId"),this.EditPurchasedOrder.invalid)return console.log("invalid"),void this.spinner.hide();{let o=this.duplicateItemCheck(this.EditPurchasedOrder.value.quantities);if(console.log(o),0!=o)return this.spinner.hide(),console.log("found in submit"),this.IsItemMatched=!0,void setTimeout(()=>this.IsItemMatched=!1,4e3);console.log("valid");let s="";for(var t in this.EditPurchasedOrder.value.quantities)s=s+","+this.EditPurchasedOrder.value.quantities[t].storeItemId+"+"+this.EditPurchasedOrder.value.quantities[t].storeitems+","+this.EditPurchasedOrder.value.quantities[t].qty+","+this.EditPurchasedOrder.value.quantities[t].ItemUnits+","+this.EditPurchasedOrder.value.quantities[t].Description;console.log(s+",","loop string"),this.addJson={recDate:this.EditPurchasedOrder.value.purDate,invNo:this.EditPurchasedOrder.value.invNo,Vendor:this.EditPurchasedOrder.value.Vendor,Remarks:this.EditPurchasedOrder.value.Remarks,user:this.User,mainId:this.PurchasedEditId,recSub:s+","},console.log(this.addJson),this.Purchasedservice.updatePurchasedOrder(this.addJson).subscribe(r=>{console.log(r),r?(this.spinner.hide(),this.isVisibleSuccess=!0,setTimeout(()=>(this.isVisibleSuccess=!1,this.location.back()),1e3),this.EditPurchasedOrder.reset(),this.submitted=!1):(this.spinner.hide(),this.isVisibleFailure=!0,setTimeout(()=>this.isVisibleFailure=!1,5e3))})}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(M),e.Y36(ee),e.Y36(qe),e.Y36(Ke),e.Y36(p.gz),e.Y36(b),e.Y36(g.Ye),e.Y36(v.t2),e.Y36(h),e.Y36(b))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit-purchased-order"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"content-wrapper"],["class","alertnotify","style","background: #CB3837",4,"ngIf"],["class","alertnotify","style","background: #54A254",4,"ngIf"],["bdColor","rgba(51,51,51,0.6)","size","medium","color","#fff","type","timer"],[2,"font-size","20px","color","white","margin-top","30px"],["activeIds","toggle-13",3,"closeOthers"],["id","toggle-13"],["ngbPanelTitle",""],["ngbPanelContent",""],[1,"alertnotify",2,"background","#CB3837"],[1,"alertnotify",2,"background","#54A254"],[1,"card-header--title"],[1,"text-dark"],[1,"pull-right"],[1,"fa","fa-angle-down","fa-lg"],[3,"formGroup"],[1,"row","ml-3","mr-3"],[1,"col-md-4"],["disabled","","type","date","placeholder","Purchased Order Date","formControlName","purDate","id","purDate",1,"form-control","form-control-sm",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["disabled","","type","text","placeholder","Invoice No","formControlName","invNo","id","invNo",1,"form-control","form-control-sm",3,"ngClass"],["disabled","","formControlName","Vendor","id","Vendor","aria-placeholder","Please",1,"form-control","form-control-sm",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","Remarks","id","Remarks",1,"form-control","form-control-sm",3,"ngClass"],[1,"row","mt-2","ml-3"],[1,"col-lg-12"],["formArrayName","quantities","id","tbl"],["class","row",3,"formGroupName",4,"ngFor","ngForOf"],[1,"row"],[1,"col","text-right"],[1,"btn","upload-btn","btn-sm",3,"click"],[1,"btn","reset-btn","btn-sm",3,"click"],["type","button","id","plusbtn",1,"btn","btn-primary","fail","ml-2","btn-sm",3,"click"],[1,"fa","fa-plus"],[1,"invalid-feedback"],[3,"value"],[1,"row",3,"formGroupName"],[1,"col-md-2"],["type","text","formControlName","storeItemId","id","storeItemId","hidden",""],["formControlName","storeitems","id","storeitems","aria-placeholder","Please",1,"form-control","form-control-sm",3,"ngClass"],["type","text","formControlName","Description","id","Description",1,"form-control","form-control-sm",3,"ngClass"],[1,"col-md-1"],["for",""],["type","number","formControlName","qty","id","qty","min","0",1,"form-control","form-control-sm",3,"ngClass","input"],["formControlName","ItemUnits","id","ItemUnits","aria-placeholder","Please",1,"form-control","form-control-sm",3,"ngClass"],["value","","hidden",""],[1,"btn","delet-btn","btn-sm",2,"margin-top","18px",3,"click"],[1,"fa","fa-minus"]],template:function(t,o){1&t&&e.YNc(0,PC,15,5,"div",0),2&t&&e.Q6J("ngIf",o.IsSHowPage)},directives:[g.O5,v.Ro,u.gY,u.Gk,u.Cu,u.gW,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,g.mk,a.EJ,g.sg,a.YN,a.Kr,a.CE,a.x0,a.wV,a.qQ],styles:[""]}),i})();function QC(i,n){if(1&i&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.qZA()),2&i){const t=n.$implicit,o=n.index;e.xp6(2),e.Oqu(o+1),e.xp6(2),e.Oqu(t.ItemName),e.xp6(2),e.AsE("",t.Quantity," ",t.Unit,""),e.xp6(2),e.Oqu(t.Description)}}function OC(i,n){if(1&i&&(e.TgZ(0,"form"),e.TgZ(1,"div",23),e.TgZ(2,"div",24),e.TgZ(3,"div",25),e.TgZ(4,"h3",26),e.TgZ(5,"u"),e._uU(6,"Purchase Order"),e.qZA(),e.qZA(),e.TgZ(7,"h7"),e.TgZ(8,"b"),e._uU(9,"Westridge 1, Street#3 Opposite Rafay Mall, House#65A, Peshawar road Rawalpindi. Ph:0308-1333214 , 0518313214"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(10,"div",27),e.TgZ(11,"div",28),e.TgZ(12,"span"),e.TgZ(13,"b"),e._uU(14,"Date :"),e.qZA(),e.qZA(),e.TgZ(15,"span"),e._uU(16),e.qZA(),e.qZA(),e.TgZ(17,"div",29),e.TgZ(18,"span"),e.TgZ(19,"b"),e._uU(20,"PO # "),e.qZA(),e.qZA(),e.TgZ(21,"span"),e._uU(22),e.qZA(),e.qZA(),e.qZA(),e.TgZ(23,"div",27),e.TgZ(24,"div",30),e.TgZ(25,"span"),e._uU(26,"To,"),e.qZA(),e._UZ(27,"br"),e.TgZ(28,"span"),e._uU(29),e.qZA(),e._UZ(30,"br"),e.TgZ(31,"span"),e._uU(32),e.qZA(),e.qZA(),e.qZA(),e.TgZ(33,"div",23),e.TgZ(34,"div",31),e.TgZ(35,"table",32),e.TgZ(36,"thead",33),e.TgZ(37,"tr"),e.TgZ(38,"th"),e._uU(39,"Sr No"),e.qZA(),e.TgZ(40,"th"),e._uU(41,"Item Name"),e.qZA(),e.TgZ(42,"th"),e._uU(43,"Quantity"),e.qZA(),e.TgZ(44,"th"),e._uU(45,"Description"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(46,"tbody"),e.YNc(47,QC,9,5,"tr",34),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(16),e.Oqu(t.allrecord[0].PODate),e.xp6(6),e.Oqu(t.allrecord[0].PurchaseOrder),e.xp6(7),e.hij("",t.allrecord[0].VendorName,","),e.xp6(3),e.hij("",t.allrecord[0].Address," "),e.xp6(15),e.Q6J("ngForOf",t.allrecord)}}let MC=(()=>{class i{constructor(t,o,s,r,l){this.myRouter=t,this.route=o,this.purchased=s,this.location=r,this.userService=l,this.url=window.location.protocol+"//"+window.location.host+"/assets/css/report.css",this.data=!1}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():this.purchased.getPurchasedOrderIdData(this.route.snapshot.paramMap.get("id")).subscribe(t=>{this.allrecord=t,this.data=!0})}cancel(){this.location.back()}print(){var t=document.getElementById("2"),o=document.getElementById("1"),s=document.getElementById("head"),r=document.getElementById("Signature");let l=document.getElementById("page");var d=document.getElementById("foot");let m=window.open("","new div","height=1080,width=700");m.document.write("<html><head>"),m.document.write(`<link rel="stylesheet" type="text/css" href="${this.url}";>`),m.document.write('<style>\n    @media print {\n      .col-sm-1, .col-sm-2, .col-sm-3, .col-sm-4, .col-sm-5, .col-sm-6,\n      .col-sm-7, .col-sm-8, .col-sm-9, .col-sm-10, .col-sm-11, .col-sm-12 {\n           float: left;}\n      @page {\n        size: A4;\n      }\n      body {\n        position: relative;\n      }\n      html,body {\n        \n        \n        width: 100%;\n      }\n      footer {\n        display: inline-block;\n        position: fixed;\n        vertical-align: bottom;\n        width: 100%;\n        bottom: 0;\n      }\n      .col-sm-12 {\n        width: 100%;\n   }\n\n   .col-sm-11 {\n        width: 91.66666666666666%;\n   }\n\n   .col-sm-10 {\n        width: 83.33333333333334%;\n   }\n\n   .col-sm-9 {\n         width: 75%;\n   }\n\n   .col-sm-8 {\n         width: 66.66666666666666%;\n   }\n\n    .col-sm-7 {\n         width: 58.333333333333336%;\n    }\n\n    .col-sm-6 {\n         width: 50%;\n    }\n\n    .col-sm-5 {\n         width: 41.66666666666667%;\n    }\n\n    .col-sm-4 {\n         width: 33.33333333333333%;\n    }\n\n    .col-sm-3 {\n         width: 25%;\n    }\n\n    .col-sm-2 {\n           width: 16.666666666666664%;\n    }\n\n    .col-sm-1 {\n           width: 8.333333333333332%;\n     }\n     .print:last-child {\n      page-break-after: auto;\n      }\n      .th {\n        background-color: yellow;\n      }\n      .lightBlue {\n        background-color: lightblue !important;\n        -webkit-print-color-adjust: exact;\n        color-adjust: exact !important;   \n      }\n    .date{\n      font-weight: 400;\n      color : green;\n    }\n    .heading{\n      font-weight: 400;\n    }\n    \n    .error{\n      border : 1px solid red;\n    }\n    }\n    </style><header><div class="row header">'),m.document.write(s.innerHTML),m.document.write("</div></header></head><body>"),m.document.write(l.innerHTML),m.document.write(r.innerHTML),m.document.write("</body>"),m.document.write('<footer class="footer"><div class="footer">'),m.document.write(d.innerHTML),m.document.write("</div></footer>"),m.document.write("</html>"),m.document.close(),m.focus(),t.style.visibility="hidden",o.style.visibility="hidden",setTimeout(()=>{m.document.close(),m.focus(),m.print()},1500),setTimeout(function(){t.style.visibility="visible",o.style.visibility="visible",m.close()},2e3),setTimeout(()=>{this.location.back()},3e3)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(p.F0),e.Y36(p.gz),e.Y36(Ke),e.Y36(g.Ye),e.Y36(h))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-purchased-order-report"]],decls:68,vars:1,consts:[[1,"container-fluid",2,"background-color","white"],["id","head",1,"row","m-2",2,"background-color","white"],[1,"col-3","ml-2"],["src","/assets/images/logo-report.png","height","70","width","auto"],[1,"col-8","text-right"],[2,"font-family","'Constantia' Times, serif"],[1,"row"],["id","page",1,"col-md-12",2,"background-color","white"],[4,"ngIf"],["id","Signature",1,"row","ml-2","align-items-end",2,"margin-top","20px","font-size","18px","font-family","'Times New Roman', Times, serif"],[1,"col-4"],[2,"text-align","left"],[1,"text-center"],[1,"col-4","offset-7","text-center"],["id","foot",2,"margin-top","20px","font-size","18px","font-family","'Times New Roman', Times, serif"],[2,"border-top","1px solid black","border-bottom","1px solid black"],[1,"text-center","p-0","m-0"],[1,"row","mr-1","ml-1"],[1,"col-4",2,"border-right","1px solid black"],[1,"row","justify-content-end","m-2"],[1,"col"],["id","1",1,"btn","reset-btn",2,"width","120px","float","right","margin-left","4px",3,"click"],["id","2",1,"btn","print-btn",2,"width","120px","float","right",3,"click"],[1,"container-fluid"],[1,"row","justify-content-center"],[1,"col-6","text-center"],[2,"font-family","'Times New Roman', Times, serif"],[1,"row",2,"margin-top","20px","font-size","18px","font-family","'Times New Roman', Times, serif"],[1,"col-3"],[1,"col-3","ml-auto","text-right","mr-2"],[1,"col-8"],["className","row-sm-12",1,"table-table-responsive-m","text-left",2,"margin-top","10px"],[1,"table","table-bordered","px-10",2,"font-family","Calibri","font-size","18px"],[2,"background-color","lightgrey"],[4,"ngFor","ngForOf"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e._UZ(3,"img",3),e.qZA(),e.TgZ(4,"div",4),e.TgZ(5,"h4",5),e.TgZ(6,"b"),e._uU(7,"Meethi Zindagi"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",6),e.TgZ(9,"div",7),e.YNc(10,OC,48,5,"form",8),e.qZA(),e.qZA(),e.TgZ(11,"div",9),e.TgZ(12,"div",10),e.TgZ(13,"span",11),e._uU(14,"Kind Regards,"),e.qZA(),e._UZ(15,"br"),e._UZ(16,"br"),e._UZ(17,"br"),e.TgZ(18,"div",12),e.TgZ(19,"span"),e._uU(20,"____________________________________"),e.qZA(),e._UZ(21,"br"),e.TgZ(22,"span"),e._uU(23,"Store Officer"),e.qZA(),e._UZ(24,"br"),e._UZ(25,"br"),e._UZ(26,"br"),e.TgZ(27,"span"),e._uU(28,"____________________________________"),e.qZA(),e._UZ(29,"br"),e.TgZ(30,"span"),e._uU(31,"Finance Officer"),e.qZA(),e._UZ(32,"br"),e._UZ(33,"br"),e._UZ(34,"br"),e.qZA(),e.qZA(),e.TgZ(35,"div",13),e.TgZ(36,"span"),e._uU(37," ____________________________________"),e.qZA(),e._UZ(38,"br"),e.TgZ(39,"span"),e._uU(40," Executive Director"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(41,"div",14),e.TgZ(42,"div",15),e.TgZ(43,"p",16),e.TgZ(44,"b"),e._uU(45,"Meethi Zindagi is PCP Certified and Tax Exempted, Approved Under Section 2(36) of Income Tax Ordinance 2001"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(46,"div",17),e.TgZ(47,"div",18),e.TgZ(48,"p"),e.TgZ(49,"b"),e._uU(50,"Rawalpindi Office:"),e.qZA(),e._uU(51," 65-A, Street 3, Westridge-1, Opp Rafay Mall, Peshawar Road, Rawalpindi.Tel: 051-8313214"),e.qZA(),e.qZA(),e.TgZ(52,"div",18),e.TgZ(53,"p"),e.TgZ(54,"b"),e._uU(55,"Lahore Office:"),e.qZA(),e._uU(56," 254-B, Street 5, Cavalry Ground, Lahore Cantt, Lahore. Tel: 0332-8313214"),e.qZA(),e.qZA(),e.TgZ(57,"div",10),e.TgZ(58,"p"),e.TgZ(59,"b"),e._uU(60,"Karachi Office:"),e.qZA(),e._uU(61," E-127/G4, Block 7, Near Maskan Chowrangi, Gulshan-e-Iqbal, Karachi. Tel: 0335-5554606"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(62,"div",19),e.TgZ(63,"div",20),e.TgZ(64,"button",21),e.NdJ("click",function(){return o.cancel()}),e._uU(65,"Cancel"),e.qZA(),e.TgZ(66,"button",22),e.NdJ("click",function(){return o.print()}),e._uU(67,"Print"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(10),e.Q6J("ngIf",o.data))},directives:[g.O5,a._Y,a.JL,a.F,g.sg],styles:["","\n    @page {\n        size: auto;\n        /* auto is the initial value */\n        margin: 0mm;\n        /* this affects the margin in the printer settings */\n    }\n"],encapsulation:2}),i})();const et_NoAccessPage="Sorry You don't have access of this page",ye_User="#userdataTable";let pt=(()=>{class i{constructor(t,o){this.httpClient=t,this.userService=o,this.isSpace=!1,this.BundleNolist=[{value:"1",name:"1"},{value:"2",name:"2"},{value:"3",name:"3"},{value:"4",name:"4"},{value:"5",name:"5"},{value:"6",name:"6"},{value:"7",name:"7"},{value:"8",name:"8"},{value:"9",name:"9"},{value:"10",name:"10"},{value:"11",name:"11"},{value:"12",name:"12"},{value:"13",name:"13"},{value:"14",name:"14"},{value:"15",name:"15"},{value:"16",name:"16"},{value:"17",name:"17"},{value:"18",name:"18"},{value:"19",name:"19"},{value:"20",name:"20"}],this.Sizelist=[{value:"20",name:"20"},{value:"21",name:"21"},{value:"22",name:"22"},{value:"23",name:"23"},{value:"24",name:"24"},{value:"25",name:"25"},{value:"26",name:"26"},{value:"27",name:"27"},{value:"28",name:"28"},{value:"29",name:"29"},{value:"30",name:"30"},{value:"31",name:"31"},{value:"32",name:"32"},{value:"33",name:"33"},{value:"34",name:"34"},{value:"35",name:"35"},{value:"36",name:"36"},{value:"37",name:"37"},{value:"38",name:"38"},{value:"39",name:"39"},{value:"40",name:"40"}],this.MacAddressList=[{value:"70:B3:D5:FE:4E:06",name:"70:B3:D5:FE:4E:06"},{value:"70:B3:D5:FE:4D:7A",name:"70:B3:D5:FE:4D:7A"},{value:"70:B3:D5:FE:4C:E0",name:"70:B3:D5:FE:4C:E0"},{value:"70:B3:D5:FE:4C:E1",name:"70:B3:D5:FE:4C:E1"},{value:"70:B3:D5:FE:4C:E2",name:"70:B3:D5:FE:4C:E2"},{value:"70:B3:D5:FE:4C:E3",name:"70:B3:D5:FE:4C:E3"},{value:"70:B3:D5:FE:4C:E4",name:"70:B3:D5:FE:4C:E4"},{value:"70:B3:D5:FE:4C:E5",name:"70:B3:D5:FE:4C:E5"},{value:"70:B3:D5:FE:4C:E6",name:"70:B3:D5:FE:4C:E6"},{value:"70:B3:D5:FE:4C:E7",name:"70:B3:D5:FE:4C:E7"},{value:"70:B3:D5:FE:4C:E8",name:"70:B3:D5:FE:4C:E8"},{value:"70:B3:D5:FE:8C:E5",name:"70:B3:D5:FE:8C:E5"},{value:"70:b3:d5:fe:4f:c6",name:"70:b3:d5:fe:4f:c6"}],this.SensorIdList=[{name:"1",value:"1"},{name:"2",value:"2"}],this.MachineWorkingStatus=[{name:"Completed",value:"25"},{name:"ReWash",value:"26"},{name:"Problem",value:"30"}],this.token=localStorage.getItem("token"),this.httpOptions={headers:new c.WM({authorization:`Bearer ${this.token}`})}}validateForm(t){return Object.keys(t.controls).forEach(o=>{""==t.get(o).value.trim()?(this.isSpace=!0,alert(o+" is required.")):this.isSpace=!1}),this.isSpace}EmailedMessage(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/auth/EmailMessages",t,s)}userProfileById(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/auth/userProfileById?id="+t,s)}addFolder(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/auth/addfolder?id="+t,s)}addUserImage(t,o,s){let r=localStorage.getItem("token"),l={headers:new c.WM({authorization:`Bearer ${r}`})};return this.httpClient.post("/api/auth/uploadfile?id="+o+"&date="+s,t,l)}updateRecord(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/auth/updateRecord",t,s)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(c.eN),e.LFG(h))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function VC(i,n){1&i&&(e.TgZ(0,"div",13),e._uU(1," Something went wrong!. "),e.qZA())}function BC(i,n){1&i&&(e.TgZ(0,"div",14),e._uU(1," Activated Successfully!. "),e.qZA())}function HC(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"th",15),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e.TgZ(8,"button",16),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw(2).ActivateUser(r.Email,r.Userid)}),e._uU(9," Activate "),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=n.$implicit,o=n.index;e.xp6(2),e.Oqu(o+1),e.xp6(2),e.AsE("",t.Firstname," ",t.Lastname,""),e.xp6(2),e.Oqu(t.Email),e.xp6(2),e.Gre("btn upload-btn btn-sm ",t.Firstname,"")}}const $C=function(){return["/pages/active-users"]};function LC(i,n){if(1&i&&(e.TgZ(0,"div"),e.TgZ(1,"div",1),e.YNc(2,VC,2,0,"div",2),e.YNc(3,BC,2,0,"div",3),e.qZA(),e.TgZ(4,"div",4),e.TgZ(5,"div",5),e.TgZ(6,"b"),e._uU(7,"List of All Inactive Users"),e.qZA(),e.TgZ(8,"div",6),e.TgZ(9,"button",7),e.TgZ(10,"a",8),e._uU(11,"All Active Users"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"div",9),e._UZ(13,"br"),e.TgZ(14,"table",10),e.TgZ(15,"thead"),e.TgZ(16,"tr"),e.TgZ(17,"th",11),e._uU(18,"#"),e.qZA(),e.TgZ(19,"th",11),e._uU(20,"Username"),e.qZA(),e.TgZ(21,"th",11),e._uU(22,"Email"),e.qZA(),e.TgZ(23,"th",11),e._uU(24,"Action"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(25,"tbody"),e.YNc(26,HC,10,7,"tr",12),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.isVisibleFailure),e.xp6(1),e.Q6J("ngIf",t.isVisibleSuccess),e.xp6(7),e.Q6J("routerLink",e.DdM(4,$C)),e.xp6(16),e.Q6J("ngForOf",t.users)}}let GC=(()=>{class i{constructor(t,o,s,r,l,d){this.userService=t,this.usererv=o,this.commonSer=s,this.myRouter=r,this.detectChanges=l,this.popUpSer=d,this.isVisibleSuccess=!1,this.isVisibleFailure=!1,this.tData=!1,this.IsSHowPage=!1,this.CurrentPageURL=this.myRouter.url}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():setTimeout(()=>{this.userService.checkUserHasAccess("/pages/users").subscribe(t=>{t.length>0?(this.IsSHowPage=!0,this.getAllInActiveUser()):(this.IsSHowPage=!1,this.popUpSer.confirmCommon("",et_NoAccessPage).then(o=>{}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)")))})},500)}getAllInActiveUser(){this.tData=!0,setTimeout(()=>{this.usererv.getAllInActiveUser().subscribe(t=>{t.length>0?(this.users=t,this.detectChanges.detectChanges(),$(ye_User).DataTable({paging:!0,searching:!0,ordering:!0})):(this.users=[],this.detectChanges.detectChanges(),$(ye_User).DataTable({paging:!0,searching:!0,ordering:!0}))})},500),$(ye_User).dataTable().fnDestroy()}ActivateUser(t,o){setTimeout(()=>{this.userService.checkUserHasAccess("/pages/activateUsers").subscribe(s=>{s.length>0?this.userService.activateUser(t).subscribe(r=>{r?(this.tData=!1,this.getAllInActiveUser(),this.isVisibleSuccess=!0,console.log("user:"+o),setTimeout(()=>{this.commonSer.addFolder(o).subscribe(l=>{})},2e3),setTimeout(()=>this.isVisibleSuccess=!1,3e3),setTimeout(()=>this.myRouter.navigate(["/pages/users"]),3e3)):(this.isVisibleFailure=!0,setTimeout(()=>this.isVisibleFailure=!1,5e3))}):this.popUpSer.confirmCommon("",et_NoAccessPage).then(r=>{}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)"))})},1e3)}ngOnDestroy(){console.log("destroyed")}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(h),e.Y36(h),e.Y36(pt),e.Y36(p.F0),e.Y36(e.sBO),e.Y36(b))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-users"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"content-wrapper"],["class","alertnotify","style","background: #cb3837",4,"ngIf"],["class","alertnotify","style","background: #54a254",4,"ngIf"],[1,"card","main-card","mb-3"],[1,"card-header"],[1,"pull-right"],[1,"btn","upload-btn","btn-sm"],[1,"a1",3,"routerLink"],[1,"table-responsive"],["id","userdataTable",1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[1,"alertnotify",2,"background","#cb3837"],[1,"alertnotify",2,"background","#54a254"],["scope","row"],[3,"click"]],template:function(t,o){1&t&&e.YNc(0,LC,27,5,"div",0),2&t&&e.Q6J("ngIf",o.IsSHowPage)},directives:[g.O5,p.yS,g.sg],styles:[""]}),i})();function jC(i,n){1&i&&(e.TgZ(0,"div",13),e._uU(1," Something went wrong!. "),e.qZA())}function zC(i,n){1&i&&(e.TgZ(0,"div",14),e._uU(1," DeActivated Successfully!. "),e.qZA())}function WC(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"th",15),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e.TgZ(8,"button",16),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw(2).DeActivtaeUser(r.Email)}),e._uU(9,"Deactivate"),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=n.$implicit,o=n.index;e.xp6(2),e.Oqu(o+1),e.xp6(2),e.AsE("",t.Firstname," ",t.Lastname,""),e.xp6(2),e.Oqu(t.Email)}}function KC(i,n){if(1&i&&(e.TgZ(0,"div"),e.TgZ(1,"div",1),e.YNc(2,jC,2,0,"div",2),e.YNc(3,zC,2,0,"div",3),e.qZA(),e.TgZ(4,"div",4),e.TgZ(5,"div",5),e.TgZ(6,"b"),e._uU(7,"List of All Active Users"),e.qZA(),e.TgZ(8,"div",6),e.TgZ(9,"button",7),e.TgZ(10,"a",8),e._uU(11,"All InActive Users"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"div",9),e._UZ(13,"br"),e.TgZ(14,"table",10),e.TgZ(15,"thead"),e.TgZ(16,"tr"),e.TgZ(17,"th",11),e._uU(18,"#"),e.qZA(),e.TgZ(19,"th",11),e._uU(20,"Username"),e.qZA(),e.TgZ(21,"th",11),e._uU(22,"Email"),e.qZA(),e.TgZ(23,"th",11),e._uU(24,"Action"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(25,"tbody"),e.YNc(26,WC,10,4,"tr",12),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.isVisibleFailure),e.xp6(1),e.Q6J("ngIf",t.isVisibleSuccess),e.xp6(23),e.Q6J("ngForOf",t.users)}}let XC=(()=>{class i{constructor(t,o,s,r,l){this.userService=t,this.usererv=o,this.myRouter=s,this.detectChanges=r,this.popUpSer=l,this.isVisibleSuccess=!1,this.isVisibleFailure=!1,this.tData=!1,this.IsSHowPage=!1}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():setTimeout(()=>{this.userService.checkUserHasAccess("/pages/active-users").subscribe(t=>{t.length>0?(console.log(t,"all user response"),this.IsSHowPage=!0,this.getAllActiveUser()):(this.IsSHowPage=!1,this.popUpSer.confirmCommon("",et_NoAccessPage).then(o=>{}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)")))})},500)}getAllActiveUser(){setTimeout(()=>{this.usererv.getAllActiveUser().subscribe(t=>{t.length>0?(this.users=t,this.detectChanges.detectChanges(),$("#userActivedataTable").DataTable({paging:!0,searching:!0,ordering:!0})):(this.users=[],this.detectChanges.detectChanges(),$("#userActivedataTable").DataTable({paging:!0,searching:!0,ordering:!0}))})},500),$("#userActivedataTable").dataTable().fnDestroy()}DeActivtaeUser(t){setTimeout(()=>{this.userService.checkUserHasAccess("/pages/deActivateUser").subscribe(o=>{o.length>0?this.userService.DeactivateUser(t).subscribe(s=>{s?(this.isVisibleSuccess=!0,setTimeout(()=>this.isVisibleSuccess=!1,3e3),this.getAllActiveUser(),this.detectChanges.detectChanges()):(this.isVisibleFailure=!0,setTimeout(()=>this.isVisibleFailure=!1,5e3),this.getAllActiveUser(),this.detectChanges.detectChanges())}):this.popUpSer.confirmCommon("",et_NoAccessPage).then(s=>{}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)"))})},1e3)}ngOnChanges(){this.getAllActiveUser()}ngOnDestroy(){console.log("destroyed")}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(h),e.Y36(h),e.Y36(p.F0),e.Y36(e.sBO),e.Y36(b))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-all-active-users"]],features:[e.TTD],decls:1,vars:1,consts:[[4,"ngIf"],[1,"content-wrapper"],["class","alertnotify","style","background: #cb3837;",4,"ngIf"],["class","alertnotify","style","background: #54a254;",4,"ngIf"],[1,"card","main-card","mb-3"],[1,"card-header"],[1,"pull-right"],[1,"btn","upload-btn","btn-sm"],["routerLink","/pages/users",1,"a1"],[1,"table-responsive"],["id","userActivedataTable",1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[1,"alertnotify",2,"background","#cb3837"],[1,"alertnotify",2,"background","#54a254"],["scope","row"],[1,"btn","delet-btn","btn-sm",3,"click"]],template:function(t,o){1&t&&e.YNc(0,KC,27,3,"div",0),2&t&&e.Q6J("ngIf",o.IsSHowPage)},directives:[g.O5,p.yS,g.sg],styles:[""]}),i})(),pe=(()=>{class i{constructor(t){this.httpClient=t,this.token=localStorage.getItem("token"),this.httpOptions={headers:new c.WM({authorization:`Bearer ${this.token}`})}}addPackage(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/package/addPackage/",t,s)}SendOrder(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/package/SendOrder/",t,s)}getPackages(){let t=localStorage.getItem("token"),o={headers:new c.WM({authorization:`Bearer ${t}`})};return this.httpClient.get("/api/package/getPackages",o)}getPatientName(){let t=localStorage.getItem("token"),o={headers:new c.WM({authorization:`Bearer ${t}`})};return this.httpClient.get("/api/package/getPatientName",o)}getSearchPackageStatusByDate(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/package/getSearchPackageStatusByDate",t,s)}getReceivedStoreItem(){let t=localStorage.getItem("token"),o={headers:new c.WM({authorization:`Bearer ${t}`})};return this.httpClient.get("/api/package/getReceivedStoreItem",o)}getStoreItemsFromCategory(){let t=localStorage.getItem("token"),o={headers:new c.WM({authorization:`Bearer ${t}`})};return this.httpClient.get("/api/package/getStoreItemsFromCategory",o)}getCreatedPackages(){let t=localStorage.getItem("token"),o={headers:new c.WM({authorization:`Bearer ${t}`})};return this.httpClient.get("/api/package/getCreatedPackages",o)}getPackageByIdItems(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/package/getPackageByIdItems?id="+t,s)}getPatientsWithNoPackage(){let t=localStorage.getItem("token"),o={headers:new c.WM({authorization:`Bearer ${t}`})};return this.httpClient.get("/api/package/getPatientsWithNoPackage",o)}getPatientsWithPackageEdit(){let t=localStorage.getItem("token"),o={headers:new c.WM({authorization:`Bearer ${t}`})};return this.httpClient.get("/api/package/getPatientsWithPackageEdit",o)}getPackageById(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/package/getPackageById?id="+t,s)}updatePackageName(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/package/updatePackageName",t,s)}updatePackageStatus(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/package/postPackageStatusOfPatient",t,s)}getCreatedPackageById(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/package/getCreatedPackageById?id="+t,s)}checkCreatedPackageById(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/package/checkCreatedPackageById?id="+t,s)}createPackage(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/package/createPackage",t,s)}updatePackage(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/package/updatePackage",t,s)}assignedPackageToPatient(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/package/assignedPackageToPatient",t,s)}updatePreviousPackage(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/package/searchByPackageId&RegNumber",t,s)}deleteItemFormPackage(t,o){let s=localStorage.getItem("token"),r={headers:new c.WM({authorization:`Bearer ${s}`})};return this.httpClient.get("/api/package/deleteItemFormPackage?packageid="+t+"&itemid="+o,r)}DeleteByassignedPackageId(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/package/DeleteByassignedPackageId?id= "+t,s)}DeletePackageName(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/package/DeletePackageName?id= "+t,s)}getAssigendPackages(){let t=localStorage.getItem("token"),o={headers:new c.WM({authorization:`Bearer ${t}`})};return this.httpClient.get("/api/package/getAssigendPackages",o)}getAssigendPackagesById(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/package/getAssigendPackagesById?id="+t,s)}updateAssignedPackage(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/package/updateAssignedPackage",t,s)}duplicateCheckEntry(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/package/duplicateCheckEntry",t,s)}duplicateCheckEntryById(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/package/duplicateCheckEntryById",t,s)}getPackageStatusOfPatient(){let t=localStorage.getItem("token"),o={headers:new c.WM({authorization:`Bearer ${t}`})};return this.httpClient.get("/api/package/getPackageStatusOfPatient",o)}updatePackageStatusComments(t,o,s){let r=localStorage.getItem("token"),l={headers:new c.WM({authorization:`Bearer ${r}`})};return this.httpClient.post("/api/package/updateRegstatus&Comment?id="+t+"&comments="+o+"&statusid="+s,l)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(c.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function eq(i,n){1&i&&(e.TgZ(0,"div",10),e._uU(1," Something went wrong!. "),e.qZA())}function tq(i,n){1&i&&(e.TgZ(0,"div",11),e._uU(1," Updated Successfully. "),e.qZA())}function iq(i,n){1&i&&(e.TgZ(0,"div",10),e._uU(1," Deleted Successfully. "),e.qZA())}function oq(i,n){1&i&&(e.TgZ(0,"div",10),e._uU(1," Items Duplicate . "),e.qZA())}function nq(i,n){if(1&i&&(e.TgZ(0,"div",10),e._uU(1," Quantity of "),e.TgZ(2,"b"),e._uU(3),e.qZA(),e._uU(4),e.qZA()),2&i){const t=e.oxw(2);e.xp6(3),e.Oqu(t.Item),e.xp6(1),e.hij(' must be less than "',t.Qty,'" ')}}function sq(i,n){1&i&&(e.TgZ(0,"span",12),e._uU(1,"Edit Package Formation"),e.qZA(),e.TgZ(2,"div",13),e._UZ(3,"i",14),e.qZA())}function rq(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Package is required "),e.qZA())}function aq(i,n){if(1&i&&(e.TgZ(0,"div",32),e.YNc(1,rq,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",t.editPackageCreation.controls.PackageId.errors.required)}}const _t=function(i){return{"is-invalid":i}};function lq(i,n){if(1&i&&(e.TgZ(0,"div",27),e.TgZ(1,"div",28),e.TgZ(2,"label"),e._uU(3,"Patient Name:"),e.qZA(),e.TgZ(4,"select",29),e.TgZ(5,"option",30),e._uU(6),e.qZA(),e.qZA(),e.YNc(7,aq,2,1,"div",31),e.qZA(),e.qZA()),2&i){const t=e.oxw(3);e.xp6(4),e.Q6J("ngClass",e.VKq(4,_t,t.submitted&&t.editPackageCreation.controls.PackageId.errors)),e.xp6(1),e.Q6J("value",t.packageDetails[0].packageId),e.xp6(1),e.hij(" ",t.packageDetails[0].packageName," "),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.editPackageCreation.controls.PackageId.errors)}}function dq(i,n){if(1&i&&(e.TgZ(0,"option",30),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.ItemId),e.xp6(1),e.hij(" ",t.ItemName," ")}}function cq(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Item is required "),e.qZA())}function uq(i,n){if(1&i&&(e.TgZ(0,"div",32),e.YNc(1,cq,2,0,"div",0),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.controls.storeitems.errors.required)}}function gq(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Quantity is required "),e.qZA())}function mq(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Value must be positive "),e.qZA())}function pq(i,n){if(1&i&&(e.TgZ(0,"div",32),e.YNc(1,gq,2,0,"div",0),e.YNc(2,mq,2,0,"div",0),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.controls.qty.errors.required),e.xp6(1),e.Q6J("ngIf",t.controls.qty.errors.pattern)}}function _q(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",33),e.TgZ(1,"div",34),e.TgZ(2,"label"),e._uU(3," Items:"),e.qZA(),e.TgZ(4,"select",35),e.NdJ("change",function(s){const l=e.CHM(t).index;return e.oxw(3).modelChangeFn(s,l)}),e.YNc(5,dq,2,2,"option",36),e.qZA(),e.YNc(6,uq,2,1,"div",31),e.qZA(),e.TgZ(7,"div",37),e.TgZ(8,"label",38),e._uU(9,"Quantity:"),e.qZA(),e.TgZ(10,"input",39),e.NdJ("input",function(s){const l=e.CHM(t).index;return e.oxw(3).modelChangeFn(s,l)}),e.qZA(),e.YNc(11,pq,3,2,"div",31),e.qZA(),e.TgZ(12,"div",37),e.TgZ(13,"button",40),e.NdJ("click",function(){const r=e.CHM(t).index;return e.oxw(3).removeQuantity(r)}),e._UZ(14,"i",41),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=n.$implicit,o=n.index,s=e.oxw(3);e.Q6J("formGroupName",o),e.xp6(4),e.Q6J("ngClass",e.VKq(6,_t,s.submitted&&t.controls.storeitems.errors)),e.xp6(1),e.Q6J("ngForOf",s.allRecievedStoreItems),e.xp6(1),e.Q6J("ngIf",s.submitted&&t.controls.storeitems.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(8,_t,s.submitted&&t.controls.qty.errors)),e.xp6(1),e.Q6J("ngIf",s.submitted&&t.controls.qty.errors)}}function hq(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"form",15),e.YNc(1,lq,8,6,"div",16),e.TgZ(2,"div",17),e.TgZ(3,"div",18),e.TgZ(4,"div",19),e.YNc(5,_q,15,10,"div",20),e.qZA(),e.qZA(),e.qZA(),e._UZ(6,"br"),e.TgZ(7,"div",21),e.TgZ(8,"div",22),e.TgZ(9,"button",23),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).addPackages()}),e._uU(10,"Update"),e.qZA(),e._uU(11,"\xa0 "),e.TgZ(12,"button",24),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).addCancel()}),e._uU(13," Cancel "),e.qZA(),e.TgZ(14,"button",25),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).addQuantity()}),e._UZ(15,"i",26),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("formGroup",t.editPackageCreation),e.xp6(1),e.Q6J("ngIf",t.packageDetails),e.xp6(4),e.Q6J("ngForOf",t.quantities().controls)}}function fq(i,n){if(1&i&&(e.TgZ(0,"div"),e.TgZ(1,"div",1),e.YNc(2,eq,2,0,"div",2),e.YNc(3,tq,2,0,"div",3),e.TgZ(4,"div",1),e.YNc(5,iq,2,0,"div",2),e.qZA(),e.TgZ(6,"div",1),e.YNc(7,oq,2,0,"div",2),e.qZA(),e.TgZ(8,"div",1),e.YNc(9,nq,5,2,"div",2),e.qZA(),e.TgZ(10,"ngx-spinner",4),e.TgZ(11,"p",5),e._uU(12,"Please wait..."),e.qZA(),e.qZA(),e.TgZ(13,"ngb-accordion",6),e.TgZ(14,"ngb-panel",7),e.YNc(15,sq,4,0,"ng-template",8),e.YNc(16,hq,16,3,"ng-template",9),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.isVisibleFailure),e.xp6(1),e.Q6J("ngIf",t.isVisibleSuccess),e.xp6(2),e.Q6J("ngIf",t.IsDelete),e.xp6(2),e.Q6J("ngIf",t.IsItemMatched),e.xp6(2),e.Q6J("ngIf",t.IsQty),e.xp6(4),e.Q6J("closeOthers",!0)}}let Zq=(()=>{class i{constructor(t,o,s,r,l,d,m,_,Z){this.myFormBuilder=t,this.detectChanges=o,this.myRouter=s,this.Packages=r,this.activated=l,this.location=d,this.spinner=m,this.confirmationDialogService=_,this.userService=Z,this.submitted=!1,this.tData=!0,this.IsSHowPage=!0,this.showTabData=!0,this.IsDelete=!1,this.isVisibleSuccess=!1,this.isVisibleFailure=!1,this.IsItemMatched=!1,this.EmptyArray=!1,this.allstoreitemsfiltered=[],this.closeOthers=!1,this.editeditem=[],this.Array_Qty=[],this.total=[],this.addJson={},this.sub_total=0}get f(){return this.editPackageCreation.controls}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():(this.spinner.hide(),this.formControls(),this.getstoreitems(),this.getCreatedPackageById(),this.getPackages())}getCreatedPackageById(){this.Packages.getCreatedPackageById(this.activated.snapshot.paramMap.get("id")).subscribe(t=>{if(this.packageDetails=t,console.table(t),t){if(t.length>0){this.editPackageCreation.controls.PackageId.setValue(t[0].packageId);for(let o in t)this.addQuantity(),this.editeditem.push(t[o].itemId),this.editPackageCreation.controls.quantities.value[o].storeitems=t[o].itemId,this.editPackageCreation.controls.quantities.value[o].qty=t[o].qty,this.editPackageCreation.controls.quantities.value[o].storeItemId=t[o].itemId,this.editPackageCreation.controls.quantities.value[o].packageSubId=t[o].packageSubId;this.editPackageCreation.controls.quantities.setValue(this.quantities().value)}}else alert("cant get value form Db")})}getPackages(){this.Packages.getPackages().subscribe(t=>{this.packages=t,console.table(t)})}formControls(){this.editPackageCreation=this.myFormBuilder.group({PackageId:["",a.kI.required],quantities:this.myFormBuilder.array([])})}getstoreitems(){this.Packages.getStoreItemsFromCategory().subscribe(t=>{this.allRecievedStoreItems=t})}addCancel(){this.editPackageCreation.reset(),this.submitted=!1,this.location.back()}quantities(){return this.editPackageCreation.get("quantities")}newQuantity(){return this.myFormBuilder.group({storeitems:["",a.kI.required],qty:["",[a.kI.required,a.kI.pattern("^[1-9]*$")]],storeItemId:[""],packageSubId:[""]})}addQuantity(){this.quantities().push(this.newQuantity())}removeQuantity(t){this.editeditem[t]===this.editPackageCreation.value.quantities[t].storeItemId?this.confirmationDialogService.confirm("Please confirm..","Do you really want to delete it.. ?").then(o=>{o&&(this.spinner.show(),this.Packages.deleteItemFormPackage(this.editPackageCreation.value.quantities[t].packageSubId,this.editPackageCreation.value.quantities[t].storeItemId).subscribe(s=>{s&&(this.spinner.hide(),this.editeditem.splice(t,1),this.IsDelete=!0,setTimeout(()=>this.IsDelete=!1,3e3),this.quantities().removeAt(t))}))}).catch(()=>console.log("")):(this.spinner.hide(),this.quantities().removeAt(t)),0==this.quantities.length&&this.quantities()}modelChangeFn(t,o){void 0!==this.editPackageCreation.value.quantities[o].qty&&this.Packages.checkCreatedPackageById(this.editPackageCreation.value.quantities[o].storeitems).subscribe(s=>{s&&(this.Qty_check=s,this.editPackageCreation.value.quantities[o].qty<=this.Qty_check[0].ItemQty?this.IsQty=!1:(this.Qty=this.Qty_check[0].ItemQty,this.Item=this.Qty_check[0].ItemName,this.IsQty=!0))})}duplicateItemCheck(t){let o=t,s=0,r=0;return o.forEach(l=>{let d=o.length;for(let m=s+1;m<d;m++)l.storeitems==this.editPackageCreation.value.quantities[m].storeitems&&r++;s++}),r}addPackages(){if(this.submitted=!0,this.spinner.show(),this.user=parseInt(localStorage.getItem("CurrentUserId")),this.editPackageCreation.invalid)this.spinner.hide();else{if(0!=this.duplicateItemCheck(this.editPackageCreation.value.quantities))return this.IsItemMatched=!0,this.spinner.hide(),void setTimeout(()=>this.IsItemMatched=!1,4e3);if(this.editPackageCreation.value.quantities.length<=0)return this.EmptyArray=!0,setTimeout(()=>this.EmptyArray=!1,4e3),void this.location.back();let s="";for(var t in this.editPackageCreation.value.quantities)s=s+","+this.editPackageCreation.value.quantities[t].storeItemId+"+"+this.editPackageCreation.value.quantities[t].storeitems+","+this.editPackageCreation.value.quantities[t].qty;this.addJson={PackageName:parseInt(this.editPackageCreation.value.PackageId),user:parseInt(this.user),recSub:s+","},this.Packages.updatePackage(this.addJson).subscribe(r=>{r?(this.isVisibleSuccess=!0,setTimeout(()=>this.isVisibleSuccess=!1,3e3),this.spinner.hide(),this.submitted=!1,setTimeout(()=>this.location.back(),1e3)):(this.isVisibleFailure=!0,setTimeout(()=>this.isVisibleFailure=!1,5e3))})}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(e.sBO),e.Y36(p.F0),e.Y36(pe),e.Y36(p.gz),e.Y36(g.Ye),e.Y36(v.t2),e.Y36(b),e.Y36(h))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-editpackagecreation"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"content-wrapper"],["class","alertnotify","style","background: #CB3837",4,"ngIf"],["class","alertnotify","style","background: #54A254",4,"ngIf"],["bdColor","rgba(51,51,51,0.6)","size","medium","color","#fff","type","timer"],[2,"font-size","20px","color","white","margin-top","30px"],["activeIds","toggle-11",3,"closeOthers"],["id","toggle-11"],["ngbPanelTitle",""],["ngbPanelContent",""],[1,"alertnotify",2,"background","#CB3837"],[1,"alertnotify",2,"background","#54A254"],[1,"card-header--title"],[1,"pull-right"],[1,"fa","fa-angle-down","fa-lg"],[3,"formGroup"],["class","row ml-3 mr-3",4,"ngIf"],[1,"row","mt-2","ml-3"],[1,"col-lg-12"],["formArrayName","quantities","id","tbl"],["class","row",3,"formGroupName",4,"ngFor","ngForOf"],[1,"row"],[1,"col","text-right"],[1,"btn","upload-btn","btn-sm",3,"click"],[1,"btn","reset-btn","btn-sm",3,"click"],["type","button","id","plusbtn",1,"btn","btn-primary","fail","ml-1","btn-sm",3,"click"],[1,"fa","fa-plus"],[1,"row","ml-3","mr-3"],[1,"col-md-3"],["disabled","","formControlName","PackageId","id","PackageId",1,"form-control","form-control-sm",3,"ngClass"],[3,"value"],["class","invalid-feedback",4,"ngIf"],[1,"invalid-feedback"],[1,"row",3,"formGroupName"],[1,"col-md-2"],["formControlName","storeitems","id","storeitems","aria-placeholder","Please",1,"form-control","form-control-sm",3,"ngClass","change"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-1"],["for",""],["type","number","formControlName","qty","id","qty",1,"form-control","form-control-sm",3,"ngClass","input"],[1,"btn","btn-danger","btn-sm",2,"margin-top","18px",3,"click"],[1,"fa","fa-minus"]],template:function(t,o){1&t&&e.YNc(0,fq,17,6,"div",0),2&t&&e.Q6J("ngIf",o.IsSHowPage)},directives:[g.O5,v.Ro,u.gY,u.Gk,u.Cu,u.gW,a._Y,a.JL,a.sg,a.EJ,a.JJ,a.u,g.mk,a.YN,a.Kr,a.CE,g.sg,a.x0,a.wV,a.Fj],styles:[""]}),i})();function bq(i,n){1&i&&(e.TgZ(0,"div",33),e._uU(1," Something went wrong!. "),e.qZA())}function vq(i,n){1&i&&(e.TgZ(0,"div",34),e._uU(1," Assigned successfully!. "),e.qZA())}function Tq(i,n){1&i&&(e.TgZ(0,"div",34),e._uU(1," Deliverd Successfully!. "),e.qZA())}function Aq(i,n){1&i&&(e.TgZ(0,"div",33),e._uU(1," Items duplicate! . "),e.qZA())}function Cq(i,n){1&i&&(e.TgZ(0,"div",33),e._uU(1," Please select Items. "),e.qZA())}function qq(i,n){1&i&&(e.TgZ(0,"div",33),e._uU(1," No duplicate package creation is allowed. Please create a new one "),e.qZA())}function xq(i,n){1&i&&(e.TgZ(0,"span",35),e._uU(1,"Package Formation"),e.qZA(),e.TgZ(2,"div",36),e._UZ(3,"i",37),e.qZA())}function Iq(i,n){if(1&i&&(e.TgZ(0,"option",50),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.RegNumber),e.xp6(1),e.AsE(" ",t.PatientFirstName,"-",t.PatientLastName," ")}}function yq(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Package is required "),e.qZA())}function kq(i,n){if(1&i&&(e.TgZ(0,"div",51),e.YNc(1,yq,2,0,"div",52),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.packageCreation.controls.PackageId.errors.required)}}function Uq(i,n){if(1&i&&(e.TgZ(0,"option",50),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.ItemId),e.xp6(1),e.hij(" ",t.ItemName," ")}}function Nq(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Item is required "),e.qZA())}function wq(i,n){if(1&i&&(e.TgZ(0,"div",51),e.YNc(1,Nq,2,0,"div",52),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.controls.storeitems.errors.required)}}function Sq(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Quantity is required "),e.qZA())}function Fq(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Value must be positive "),e.qZA())}function Dq(i,n){if(1&i&&(e.TgZ(0,"div",51),e.YNc(1,Sq,2,0,"div",52),e.YNc(2,Fq,2,0,"div",52),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.controls.qty.errors.required),e.xp6(1),e.Q6J("ngIf",t.controls.qty.errors.pattern)}}const ke=function(i){return{"is-invalid":i}};function Jq(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",53),e.TgZ(1,"div",54),e.TgZ(2,"label"),e._uU(3," Items:"),e.qZA(),e.TgZ(4,"select",55),e.YNc(5,Uq,2,2,"option",42),e.qZA(),e.YNc(6,wq,2,1,"div",29),e.qZA(),e.TgZ(7,"div",54),e.TgZ(8,"label",56),e._uU(9,"Quantity:"),e.qZA(),e._UZ(10,"input",57),e.YNc(11,Dq,3,2,"div",29),e.qZA(),e.TgZ(12,"div",58),e.TgZ(13,"button",59),e.NdJ("click",function(){const r=e.CHM(t).index;return e.oxw(2).removeQuantity(r)}),e._UZ(14,"i",60),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=n.$implicit,o=n.index,s=e.oxw(2);e.Q6J("formGroupName",o),e.xp6(4),e.Q6J("ngClass",e.VKq(6,ke,s.submitted&&t.controls.storeitems.errors)),e.xp6(1),e.Q6J("ngForOf",s.allRecievedStoreItems),e.xp6(1),e.Q6J("ngIf",s.submitted&&t.controls.storeitems.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(8,ke,s.submitted&&t.controls.qty.errors)),e.xp6(1),e.Q6J("ngIf",s.submitted&&t.controls.qty.errors)}}function Eq(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"form",19),e.TgZ(1,"div",38),e.TgZ(2,"div",39),e.TgZ(3,"label"),e._uU(4,"Patient Name:"),e.qZA(),e.TgZ(5,"select",40),e.TgZ(6,"option",41),e._uU(7,"Please-Select"),e.qZA(),e.YNc(8,Iq,2,3,"option",42),e.qZA(),e.YNc(9,kq,2,1,"div",29),e.TgZ(10,"div",43),e.YNc(11,Jq,15,10,"div",44),e.qZA(),e.qZA(),e.qZA(),e._UZ(12,"br"),e.TgZ(13,"div",38),e.TgZ(14,"div",45),e.TgZ(15,"button",46),e.NdJ("click",function(){return e.CHM(t),e.oxw().addPackages()}),e._uU(16,"Submit"),e.qZA(),e._uU(17,"\xa0 "),e.TgZ(18,"button",47),e.NdJ("click",function(){return e.CHM(t),e.oxw().addCancel()}),e._uU(19," Reset "),e.qZA(),e._uU(20,"\xa0\xa0 "),e.TgZ(21,"button",48),e.NdJ("click",function(){return e.CHM(t),e.oxw().addQuantity()}),e._UZ(22,"i",49),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("formGroup",t.packageCreation),e.xp6(5),e.Q6J("ngClass",e.VKq(5,ke,t.submitted&&t.packageCreation.controls.PackageId.errors)),e.xp6(3),e.Q6J("ngForOf",t.packages),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.packageCreation.controls.PackageId.errors),e.xp6(2),e.Q6J("ngForOf",t.quantities().controls)}}function Rq(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"th",61),e._uU(2),e.qZA(),e.TgZ(3,"td"),e.TgZ(4,"a",62),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().navigate(r.regno,r.packageId)}),e._uU(5),e.qZA(),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td"),e.TgZ(11,"button",63),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().Edit(r.packageId)}),e._UZ(12,"i",64),e.qZA(),e._uU(13," \xa0 "),e.TgZ(14,"button",65),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().Print(r.regno,r.createdate,r.packageId)}),e._UZ(15,"i",66),e.qZA(),e._uU(16," \xa0 "),e.TgZ(17,"button",46),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().modalFormftn(r.regno,r.packageId)}),e._UZ(18,"i",67),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=n.$implicit,o=n.index;e.xp6(2),e.Oqu(o+1),e.xp6(3),e.Oqu(t.package),e.xp6(2),e.Oqu(t.createdate),e.xp6(2),e.Oqu(t.items)}}function Pq(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Contact is required "),e.qZA())}function Yq(i,n){1&i&&(e.TgZ(0,"div",82),e._uU(1," Enter Contact Number "),e.qZA())}function Qq(i,n){if(1&i&&(e.TgZ(0,"div",51),e.YNc(1,Pq,2,0,"div",52),e.YNc(2,Yq,2,0,"div",81),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.contact.errors.required),e.xp6(1),e.Q6J("ngIf",t.modalForm.controls.contact.hasError("pattern"))}}function Oq(i,n){if(1&i&&(e.TgZ(0,"div",68),e.TgZ(1,"div",69),e.TgZ(2,"div",70),e.TgZ(3,"div",71),e.TgZ(4,"div"),e.TgZ(5,"div"),e.TgZ(6,"div",72),e._UZ(7,"img",73),e.TgZ(8,"div",74),e.TgZ(9,"h4"),e._uU(10),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"div",75),e.TgZ(12,"div",38),e.TgZ(13,"div",76),e.TgZ(14,"h8"),e._uU(15,"POI NO"),e.qZA(),e.qZA(),e.TgZ(16,"div",77),e._uU(17),e.qZA(),e.qZA(),e._UZ(18,"hr"),e.TgZ(19,"div",38),e.TgZ(20,"div",76),e.TgZ(21,"h8"),e._uU(22,"City"),e.qZA(),e.qZA(),e.TgZ(23,"div",77),e._uU(24),e.qZA(),e.qZA(),e._UZ(25,"hr"),e.TgZ(26,"div",78),e.TgZ(27,"h8",79),e._uU(28,"Mobile"),e.qZA(),e._UZ(29,"input",80),e.YNc(30,Qq,3,2,"div",29),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(7),e.s9C("src",t.img,e.LSH),e.xp6(3),e.AsE("",t.UserData.PatientFirstName," ",t.UserData.PatientLastName," "),e.xp6(7),e.hij(" ",t.UserData.poino," "),e.xp6(7),e.hij(" ",t.UserData.City," "),e.xp6(5),e.Q6J("preValue",t.modalForm.value.mcontact)("phoneControl",t.modalForm.controls.contact)("ngClass",e.VKq(9,ke,t.submitted&&t.f.contact.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.contact.errors)}}function Mq(i,n){if(1&i&&(e.TgZ(0,"div",8),e.TgZ(1,"div",38),e.TgZ(2,"div",83),e.TgZ(3,"b"),e._uU(4,"PackageItems"),e.qZA(),e.qZA(),e.TgZ(5,"div",83),e.TgZ(6,"b"),e._uU(7),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(7),e.hij(" ",t.pkgData[0].packageName,"")}}function Vq(i,n){if(1&i&&(e.TgZ(0,"tr"),e.TgZ(1,"th",61),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8," \xa0 "),e._uU(9," \xa0 "),e.qZA(),e.qZA()),2&i){const t=n.$implicit,o=n.index;e.xp6(2),e.Oqu(o+1),e.xp6(2),e.Oqu(t.ItemName),e.xp6(2),e.Oqu(t.qty)}}function Bq(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Postal Address is required "),e.qZA())}function Hq(i,n){if(1&i&&(e.TgZ(0,"div",51),e.YNc(1,Bq,2,0,"div",52),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.postaladdress.errors.required)}}function $q(i,n){if(1&i&&(e.TgZ(0,"div",84),e.TgZ(1,"label",85),e._uU(2,"Postal Address"),e.qZA(),e._UZ(3,"input",86),e.YNc(4,Hq,2,1,"div",29),e.qZA()),2&i){const t=e.oxw();e.xp6(3),e.Q6J("ngClass",e.VKq(2,ke,t.submitted&&t.f.postaladdress.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.postaladdress.errors)}}function Lq(i,n){1&i&&(e.TgZ(0,"div",87),e._UZ(1,"input",88),e.TgZ(2,"label"),e._uU(3,"By Post"),e.qZA(),e._UZ(4,"br"),e.qZA())}function Gq(i,n){1&i&&(e.TgZ(0,"div",87),e._UZ(1,"input",89),e.TgZ(2,"label"),e._uU(3,"By Hand"),e.qZA(),e.qZA())}function jq(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Received Date is required "),e.qZA())}function zq(i,n){if(1&i&&(e.TgZ(0,"div",51),e.YNc(1,jq,2,0,"div",52),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.date.errors.required)}}let Wq=(()=>{class i{constructor(t,o,s,r,l,d,m){this.myFormBuilder=t,this.detectChanges=o,this.myRouter=s,this.Packages=r,this.activated=l,this.userService=d,this.childSer=m,this.TableRefresh=!1,this.maxDate=(0,g.p6)(new Date,"yyyy-MM-dd","en").slice(0,8)+"01",this.submitted=!1,this.tData=!0,this.IsShowPage=!0,this.showTabData=!0,this.IsDelete=!0,this.isVisibleSuccess=!1,this.isVisibleFailure=!1,this.IsItemMatched=!1,this.EmptyArray=!1,this.allstoreitemsfiltered=[],this.closeOthers=!1,this.isDuplicate=!1,this.bypost=!1,this.byhand=!1,this.total=[],this.addJson={},this.sub_total=0,this.method=0}get f(){return this.packageCreation.controls}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():(this.date=(0,g.p6)(new Date,"yyyy-MM-dd","en"),this.formControls(),this.formControls1(),this.getstoreitems(),this.addQuantity(),this.getCreatedPackages(),this.getPatientName())}modalFormftn(t,o){this.Deactivate=!0,this.weburl=window.location.protocol+"//"+window.location.host+"//Documents/childdata/",this.childSer.getdatabyid(t).subscribe(s=>{s?(this.UserData=s[0],this.modalForm.controls.postaladdress.setValue(s[0].PostalAddress),this.modalForm.controls.contact.setValue(s[0].GuardianContact),this.img=s[0].PatientPhoto?this.weburl+t+"/"+s[0].PatientPhoto:"/assets/images/download.png"):alert("NoData")}),this.Packages.getCreatedPackageById(o).subscribe(s=>{this.pkgData=s})}modalOderSubmit(){if(this.UserData&&this.pkgData){let o="";for(var t in this.pkgData)o=o+","+this.pkgData[t].itemId+","+this.pkgData[t].qty;this.addJson={dileveryMethod:this.modalForm.value.method,contact:this.modalForm.value.contact,regnumber:this.UserData.RegNumber,postaladdress:this.modalForm.value.postaladdress,createdby:localStorage.getItem("CurrentUserId"),diliverydate:this.modalForm.value.date,city:this.UserData.City,status:1,packageid:this.pkgData[0].packageId[0],recSub:o+","},console.table(this.addJson),this.Packages.SendOrder(this.addJson).subscribe(s=>{s?(this.orderSend=!0,setTimeout(()=>{this.orderSend=!1,this.addJson={},this.Deactivate=!1},3e3)):(this.isVisibleFailure=!0,setTimeout(()=>{this.isVisibleFailure=!1},3e3))})}}Print(t,o,s){this.myRouter.navigate(["pages/recievingslips/"+s])}loadImageFailed(){}dataURLtoFile(t,o){for(var s=t.split(","),r=s[0].match(/:(.*?);/)[1],l=atob(s[1]),d=l.length,m=new Uint8Array(d);d--;)m[d]=l.charCodeAt(d);return new File([m],o,{type:r})}hideDeactivate(){this.Deactivate=!1}getPatientName(){this.Packages.getPatientName().subscribe(t=>{this.packages=t})}formControls(){this.packageCreation=this.myFormBuilder.group({PackageId:["",a.kI.required],quantities:this.myFormBuilder.array([])})}formControls1(){this.modalForm=this.myFormBuilder.group({date:[this.date,a.kI.required],method:[a.kI.required],contact:["03",a.kI.compose([a.kI.required,a.kI.pattern(/^((\+92)|(0092))-{0,1}\d{3}-{0,1}\d{7}$|^\d{11}$|^\d{4}-\d{7}$/)])],postaladdress:[]})}getstoreitems(){this.Packages.getStoreItemsFromCategory().subscribe(t=>{this.allRecievedStoreItems=t})}navigate(t,o){this.myRouter.navigate(["pages/Listofallpackages/"+t+"/"+o])}addCancel(){this.packageCreation.reset(),this.submitted=!1,this.formControls(),this.addQuantity()}quantities(){return this.packageCreation.get("quantities")}newQuantity(){return this.myFormBuilder.group({storeitems:["",a.kI.required],qty:["",[a.kI.required,a.kI.pattern("^[0-9]*$")]]})}addQuantity(){this.quantities().push(this.newQuantity())}removeQuantity(t){this.quantities().removeAt(t)}duplicateItemCheck(t){let o=t,s=0,r=0;return o.forEach(l=>{let d=o.length;for(let m=s+1;m<d;m++)l.storeitems==this.packageCreation.value.quantities[m].storeitems&&r++;s++}),r}addPackages(){if(this.submitted=!0,this.user=localStorage.getItem("CurrentUserId"),!this.packageCreation.invalid){if(0!=this.duplicateItemCheck(this.packageCreation.value.quantities))return this.IsItemMatched=!0,void setTimeout(()=>this.IsItemMatched=!1,4e3);this.packageCreation.value.quantities.length<=0&&(this.EmptyArray=!0,setTimeout(()=>this.EmptyArray=!1,4e3));let s="";for(var t in this.packageCreation.value.quantities)s=s+","+this.packageCreation.value.quantities[t].storeitems+","+this.packageCreation.value.quantities[t].qty;this.addJson={PackageName:this.packageCreation.value.PackageId,user:this.user,recSub:s+","},this.Packages.duplicateCheckEntryById(this.addJson).subscribe(r=>{"true"==r.duplicate?(this.isDuplicate=!0,setTimeout(()=>{this.isDuplicate=!1},3e3)):this.Packages.createPackage(this.addJson).subscribe(l=>{l?(this.isVisibleSuccess=!0,setTimeout(()=>this.isVisibleSuccess=!1,3e3),this.packageCreation.reset(),this.submitted=!1,this.formControls(),this.addQuantity(),this.getCreatedPackages()):(this.isVisibleFailure=!0,setTimeout(()=>this.isVisibleFailure=!1,5e3))})})}}getCreatedPackages(){this.Packages.getCreatedPackages().subscribe(t=>{t?this.DataformDb=t:alert("cant get value form Db"),this.detectChanges.detectChanges(),$("#PKG").DataTable({paging:!0,searching:!0,ordering:!0,pageLength:5,lengthMenu:[[5,10,20,-1],[5,10,20,50]]})}),$("#PKG").dataTable().fnDestroy()}Edit(t){this.myRouter.navigate(["pages/edit-package-creation/"+t])}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(e.sBO),e.Y36(p.F0),e.Y36(pe),e.Y36(p.gz),e.Y36(h),e.Y36(S))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-packagecreation"]],decls:73,vars:22,consts:[[1,"content-wrapper"],["class","alertnotify","style","background: #CB3837",4,"ngIf"],["class","alertnotify","style","background: #54A254",4,"ngIf"],["activeIds","toggle-11",3,"closeOthers"],["id","toggle-11"],["ngbPanelTitle",""],["ngbPanelContent",""],[1,"card","main-card","mb-3","mt-3"],[1,"card-header"],[1,"table-responsive"],["id","PKG",1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],["id","deactivatemodal","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal"],[1,"modal-dialog","modal-lg",2,"height","5px","position","center","scroll-behavior","smooth","margin-top","4%"],[1,"modal-content"],[1,"modal-header"],["id","myModalLabel",1,"modal-title"],[1,"modal-body",2,"overflow-y","auto"],[3,"formGroup"],[1,"form-group"],["class","container",4,"ngIf"],[1,"card","main-card",2,"margin-top","1%"],["class","card-header",4,"ngIf"],["class","form-inline","style","margin-top:1%",4,"ngIf"],[1,"row","mt-2"],[1,"col-md-6"],["class","row","style","margin-left: 10px;",4,"ngIf"],["type","date","placeholder","Received Date","formControlName","date","id","date",1,"form-control","form-control-sm",3,"min","ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary",3,"click"],["type","button","data-dismiss","modal",1,"btn","btn-danger",3,"click"],[1,"alertnotify",2,"background","#CB3837"],[1,"alertnotify",2,"background","#54A254"],[1,"card-header--title"],[1,"pull-right"],[1,"fa","fa-angle-down","fa-lg"],[1,"row"],[1,"col-md-12"],["formControlName","PackageId","id","PackageId","aria-placeholder","Please",1,"form-control","form-control-sm",3,"ngClass"],["value","","disabled","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["formArrayName","quantities","id","tbl"],["class","row",3,"formGroupName",4,"ngFor","ngForOf"],[1,"col","text-right"],[1,"btn","upload-btn","btn-sm",3,"click"],[1,"btn","reset-btn","btn-sm",3,"click"],["type","button","id","plusbtn",1,"btn","btn-primary","fail","btn-sm",3,"click"],[1,"fa","fa-plus"],[3,"value"],[1,"invalid-feedback"],[4,"ngIf"],[1,"row",3,"formGroupName"],[1,"col-md-5"],["formControlName","storeitems","id","storeitems","aria-placeholder","Please",1,"form-control","form-control-sm",3,"ngClass"],["for",""],["type","number","formControlName","qty","id","qty",1,"form-control","form-control-sm",3,"ngClass"],[1,"col-md-1"],[1,"btn","delet-btn","btn-sm",2,"margin-top","18px",3,"click"],[1,"fa","fa-minus"],["scope","row"],["href","javascript: void(0);",3,"click"],[1,"btn","edit-btn","btn-sm",3,"click"],[1,"fa","fa-pencil","fa-fw"],[1,"btn","print-btn","btn-sm",3,"click"],[1,"fa","fa-print","fa-fw"],[1,"fa","fa-paper-plane"],[1,"container"],[1,"main-body"],[1,"row","gutters-sm"],[1,"col-md-4"],[1,"d-flex","flex-column","align-items-center","text-center"],["alt","img","width","90px",1,"rounded-circle",3,"src"],[1,"mt-3"],[1,"col-md-8"],[1,"col-sm-6"],[1,"col-sm-6",2,"color","#e83e8c"],[1,"form-inline"],[2,"padding-right","15px"],["type","text","size","65","placeholder","03000000000","phoneMask","","formControlName","contact","maxlength","11",1,"Phone","form-control","form-control-sm",2,"border-top-style","hidden","border-right-style","hidden","border-left-style","hidden","border-bottom-style","groove","background-color","rgb(250, 249, 249)",3,"preValue","phoneControl","ngClass"],["class","text-danger",4,"ngIf"],[1,"text-danger"],[1,"col","sm-6"],[1,"form-inline",2,"margin-top","1%"],["for","PostalAddress",2,"padding-right","15px"],["size","100","type","text","id","postaladdress","placeholder","Postal Address","formControlName","postaladdress",1,"form-control","form-control-sm",3,"ngClass"],[1,"row",2,"margin-left","10px"],["type","radio","formControlName","method","value","1","checked","",1,"form-check-input"],["type","radio","formControlName","method","value","2",1,"form-check-input"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,bq,2,0,"div",1),e.YNc(2,vq,2,0,"div",2),e.YNc(3,Tq,2,0,"div",2),e.qZA(),e.TgZ(4,"div",0),e.YNc(5,Aq,2,0,"div",1),e.qZA(),e.TgZ(6,"div",0),e.YNc(7,Cq,2,0,"div",1),e.YNc(8,qq,2,0,"div",1),e.qZA(),e.TgZ(9,"ngb-accordion",3),e.TgZ(10,"ngb-panel",4),e.YNc(11,xq,4,0,"ng-template",5),e.YNc(12,Eq,23,7,"ng-template",6),e.qZA(),e.qZA(),e.TgZ(13,"div",7),e.TgZ(14,"div",8),e.TgZ(15,"b"),e._uU(16,"Packages List"),e.qZA(),e.qZA(),e.TgZ(17,"div",9),e._UZ(18,"br"),e.TgZ(19,"table",10),e.TgZ(20,"thead"),e.TgZ(21,"tr"),e.TgZ(22,"th",11),e._uU(23,"#"),e.qZA(),e.TgZ(24,"th",11),e._uU(25,"Package Name"),e.qZA(),e.TgZ(26,"th",11),e._uU(27,"Created Date"),e.qZA(),e.TgZ(28,"th",11),e._uU(29,"Assgined Items"),e.qZA(),e.TgZ(30,"th",11),e._uU(31,"Action"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(32,"tbody"),e.YNc(33,Rq,19,4,"tr",12),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(34,"div",13),e.TgZ(35,"div",14),e.TgZ(36,"div",15),e.TgZ(37,"div",16),e.TgZ(38,"h4",17),e._uU(39,"Package Info"),e.qZA(),e.qZA(),e.TgZ(40,"div",18),e.TgZ(41,"form",19),e.TgZ(42,"div",20),e.YNc(43,Oq,31,11,"div",21),e.TgZ(44,"div",22),e.YNc(45,Mq,8,1,"div",23),e.TgZ(46,"div",9),e.TgZ(47,"table",10),e.TgZ(48,"thead"),e.TgZ(49,"tr"),e.TgZ(50,"th",11),e._uU(51,"#"),e.qZA(),e.TgZ(52,"th",11),e._uU(53,"Name"),e.qZA(),e.TgZ(54,"th",11),e._uU(55,"Qty"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(56,"tbody"),e.YNc(57,Vq,10,3,"tr",12),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(58,$q,5,4,"div",24),e.TgZ(59,"div",25),e.TgZ(60,"div",26),e.YNc(61,Lq,5,0,"div",27),e.YNc(62,Gq,4,0,"div",27),e.qZA(),e.TgZ(63,"div",26),e.TgZ(64,"label"),e._uU(65,"Delivery Date: "),e.qZA(),e._UZ(66,"input",28),e.YNc(67,zq,2,1,"div",29),e.qZA(),e.qZA(),e.qZA(),e.TgZ(68,"div",30),e.TgZ(69,"button",31),e.NdJ("click",function(){return o.modalOderSubmit()}),e._uU(70,"Submit"),e.qZA(),e.TgZ(71,"button",32),e.NdJ("click",function(){return o.hideDeactivate()}),e._uU(72,"Cancel"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",o.isVisibleFailure),e.xp6(1),e.Q6J("ngIf",o.isVisibleSuccess),e.xp6(1),e.Q6J("ngIf",o.orderSend),e.xp6(2),e.Q6J("ngIf",o.IsItemMatched),e.xp6(2),e.Q6J("ngIf",o.EmptyArray),e.xp6(1),e.Q6J("ngIf",o.isDuplicate),e.xp6(1),e.Q6J("closeOthers",!0),e.xp6(24),e.Q6J("ngForOf",o.DataformDb),e.xp6(1),e.Udp("display",o.Deactivate?"block":"none"),e.xp6(7),e.Q6J("formGroup",o.modalForm),e.xp6(2),e.Q6J("ngIf",o.UserData),e.xp6(2),e.Q6J("ngIf",o.pkgData),e.xp6(12),e.Q6J("ngForOf",o.pkgData),e.xp6(1),e.Q6J("ngIf",o.UserData),e.xp6(3),e.Q6J("ngIf",o.UserData),e.xp6(1),e.Q6J("ngIf",o.UserData),e.xp6(4),e.Q6J("min",o.maxDate)("ngClass",e.VKq(20,ke,o.submitted&&o.f.date.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.date.errors))},directives:[g.O5,u.gY,u.Gk,u.Cu,u.gW,a._Y,a.JL,a.sg,a.EJ,a.JJ,a.u,g.mk,a.YN,a.Kr,g.sg,a.CE,a.x0,a.wV,a.Fj,J,a.nD,a._],styles:[".modal-body[_ngcontent-%COMP%]{max-height:calc(100vh - 100px);overflow-y:auto}.no-outline[_ngcontent-%COMP%]:focus{outline:none}"]}),i})();function Kq(i,n){1&i&&(e.TgZ(0,"div",11),e._uU(1," Already added!. "),e.qZA())}function Xq(i,n){1&i&&(e.TgZ(0,"div",11),e._uU(1," Package Duplicate!. "),e.qZA())}function ex(i,n){1&i&&(e.TgZ(0,"div",12),e._uU(1," Added successfully. "),e.qZA())}function tx(i,n){1&i&&(e.TgZ(0,"div",11),e._uU(1," Deleted Successfully!. "),e.qZA())}function ix(i,n){1&i&&(e.TgZ(0,"span",13),e._uU(1,"Add Package"),e.qZA(),e.TgZ(2,"div",14),e._UZ(3,"i",15),e.qZA())}function ox(i,n){1&i&&(e.TgZ(0,"div",23),e._uU(1," please enter valid name "),e.qZA())}const nx=function(i){return{"is-invalid":i}};function sx(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"form",16),e.TgZ(1,"div",4),e.TgZ(2,"div",17),e.TgZ(3,"label"),e._uU(4,"Package Name"),e.qZA(),e._UZ(5,"input",18),e.YNc(6,ox,2,0,"div",19),e.qZA(),e.qZA(),e._UZ(7,"br"),e.TgZ(8,"div",4),e.TgZ(9,"div",20),e.TgZ(10,"button",21),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).addPackage()}),e._uU(11,"Submit"),e.qZA(),e._uU(12,"\xa0 "),e.TgZ(13,"button",22),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).Cancel()}),e._uU(14,"Reset"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("formGroup",t.PackageFormation),e.xp6(5),e.Q6J("ngClass",e.VKq(3,nx,t.submitted&&t.f.PackageName.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.PackageName.errors)}}function rx(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"th",31),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td",32),e.TgZ(6,"button",33),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw(3).editPackage(r.packageId)}),e._UZ(7,"i",34),e.qZA(),e._uU(8," \xa0 "),e.TgZ(9,"button",35),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw(3).Delete(r.packageId)}),e._UZ(10,"i",36),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=n.$implicit,o=n.index;e.xp6(2),e.Oqu(o+1),e.xp6(2),e.Oqu(t.packageName)}}function ax(i,n){if(1&i&&(e.TgZ(0,"div",24),e.TgZ(1,"div",25),e.TgZ(2,"b"),e._uU(3,"List of Packages"),e.qZA(),e.qZA(),e.TgZ(4,"div",26),e._UZ(5,"br"),e.TgZ(6,"table",27),e.TgZ(7,"thead"),e.TgZ(8,"tr"),e.TgZ(9,"th",28),e._uU(10,"#"),e.qZA(),e.TgZ(11,"th",28),e._uU(12,"Package Name"),e.qZA(),e.TgZ(13,"th",29),e._uU(14,"Action"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(15,"tbody"),e.YNc(16,rx,11,2,"tr",30),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(16),e.Q6J("ngForOf",t.Packages)}}function lx(i,n){if(1&i&&(e.TgZ(0,"div"),e.TgZ(1,"div",1),e.YNc(2,Kq,2,0,"div",2),e.YNc(3,Xq,2,0,"div",2),e.YNc(4,ex,2,0,"div",3),e.YNc(5,tx,2,0,"div",2),e.qZA(),e.TgZ(6,"div",4),e.TgZ(7,"div",5),e.TgZ(8,"ngb-accordion",6),e.TgZ(9,"ngb-panel",7),e.YNc(10,ix,4,0,"ng-template",8),e.YNc(11,sx,15,5,"ng-template",9),e.qZA(),e.qZA(),e.YNc(12,ax,17,1,"div",10),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.isVisibleFailure),e.xp6(1),e.Q6J("ngIf",t.isDuplicate),e.xp6(1),e.Q6J("ngIf",t.isVisibleSuccess),e.xp6(1),e.Q6J("ngIf",t.Deleted),e.xp6(3),e.Q6J("closeOthers",!0),e.xp6(4),e.Q6J("ngIf",t.showTabData)}}let dx=(()=>{class i{constructor(t,o,s,r,l,d){this.myFormBuilder=t,this.Pkgser=o,this.detectChanges=s,this.myRouter=r,this.userService=l,this.confirmationDialogService=d,this.isVisibleFailure=!1,this.isVisibleSuccess=!1,this.updatecatergory=!1,this.submitted=!1,this.submitted1=!1,this.isDuplicate=!1,this.tData=!1,this.IsSHowPage=!0,this.showTabData=!0,this.IsDelete=!1,this.Deleted=!1}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():(this.formControls(),this.user=localStorage.getItem("CurrentUserId"),this.getAllPackages())}formControls(){this.PackageFormation=this.myFormBuilder.group({PackageName:["",a.kI.required]})}get f(){return this.PackageFormation.controls}addPackage(){this.submitted=!0,!this.PackageFormation.invalid&&(this.formdata={PackageName:this.PackageFormation.get("PackageName").value,user:this.user},this.Pkgser.duplicateCheckEntry(this.formdata).subscribe(t=>{if("true"==t.duplicate)return this.isDuplicate=!0,void setTimeout(()=>{this.isDuplicate=!1},3e3);this.Pkgser.addPackage(this.formdata).subscribe(o=>{o?(this.isVisibleSuccess=!0,setTimeout(()=>this.isVisibleSuccess=!1,1e3),this.getAllPackages(),this.submitted=!1,this.PackageFormation.reset()):(this.isVisibleFailure=!0,setTimeout(()=>this.isVisibleFailure=!1,1e3))})}))}Cancel(){this.PackageFormation.reset(),this.formControls(),this.submitted=!1}getAllPackages(){this.tData=!0,setTimeout(()=>{this.Pkgser.getPackages().subscribe(t=>{t.length>0?(this.Packages=t,this.detectChanges.detectChanges(),$("#packageLog").DataTable({paging:!0,searching:!0,ordering:!0})):(this.Packages=[],this.detectChanges.detectChanges(),$("#packageLog").DataTable({paging:!0,searching:!0,ordering:!0}))})},500),$("#packageLog").dataTable().fnDestroy()}editPackage(t){this.myRouter.navigate(["/pages/package-formation/edit-package/"+t])}Delete(t){this.confirmationDialogService.confirm("Please confirm..","Do you really want to delete?").then(o=>{o&&this.Pkgser.DeletePackageName(t).subscribe(s=>{s?(this.getAllPackages(),this.Deleted=!0,setTimeout(()=>{this.Deleted=!1},3e3)):this.Deleted=!1})}).catch(()=>console.log(""))}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(pe),e.Y36(e.sBO),e.Y36(p.F0),e.Y36(h),e.Y36(b))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-package-formation"]],inputs:{TableRefresh:"TableRefresh"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"content-wrapper"],["class","alertnotify","style","background: #cb3837;",4,"ngIf"],["class","alertnotify","style","background: #54a254;",4,"ngIf"],[1,"row"],[1,"col-md-12"],["activeIds","toggle-11",3,"closeOthers"],["id","toggle-11"],["ngbPanelTitle",""],["ngbPanelContent",""],["class","card main-card mt-3",4,"ngIf"],[1,"alertnotify",2,"background","#cb3837"],[1,"alertnotify",2,"background","#54a254"],[1,"card-header--title"],[1,"pull-right"],[1,"fa","fa-angle-down","fa-lg"],[3,"formGroup"],[1,"col"],["type","text","placeholder","PackageName","formControlName","PackageName","id","PackageName","appAlphabetOnly","",1,"form-control","form-control-sm",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"col","text-right"],[1,"btn","upload-btn","btn-sm",3,"click"],[1,"btn","reset-btn","btn-sm",3,"click"],[1,"invalid-feedback"],[1,"card","main-card","mt-3"],[1,"card-header"],[1,"table-responsive"],["id","packageLog",1,"table","table-striped"],["scope","col"],["scope","col",1,"col-2","text-center"],[4,"ngFor","ngForOf"],["scope","row"],[1,"text-center"],[1,"btn","edit-btn","btn-sm",3,"click"],[1,"fa","fa-pencil","fa-fw"],[1,"btn","delet-btn","btn-sm",3,"click"],[1,"fa","fa-trash","fa-fw"]],template:function(t,o){1&t&&e.YNc(0,lx,13,6,"div",0),2&t&&e.Q6J("ngIf",o.IsSHowPage)},directives:[g.O5,u.gY,u.Gk,u.Cu,u.gW,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,x,g.mk,g.sg],styles:[""]}),i})();function cx(i,n){1&i&&(e.TgZ(0,"div",20),e._uU(1," Something went wrong!. "),e.qZA())}function ux(i,n){1&i&&(e.TgZ(0,"div",21),e._uU(1," Assigned Successfully!. "),e.qZA())}function gx(i,n){1&i&&(e.TgZ(0,"div",22),e._uU(1," Deleted successfully!. "),e.qZA())}function mx(i,n){1&i&&(e.TgZ(0,"span",23),e._uU(1,"Assigning Package"),e.qZA(),e.TgZ(2,"div",24),e._UZ(3,"i",25),e.qZA())}function px(i,n){if(1&i&&(e.TgZ(0,"option",40),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.RegNumber),e.xp6(1),e.lnq(" ",t.PatientFirstName," ",t.PatientLastName," ( ",t.PoiNo," ) ")}}function _x(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Patient Name is required "),e.qZA())}function hx(i,n){if(1&i&&(e.TgZ(0,"div",41),e.YNc(1,_x,2,0,"div",42),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.AssignPackage.controls.PactientId.errors.required)}}function fx(i,n){if(1&i&&(e.TgZ(0,"option",40),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.packageId),e.xp6(1),e.hij(" ",t.packageName," ")}}function Zx(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Package is required "),e.qZA())}function bx(i,n){if(1&i&&(e.TgZ(0,"div",41),e.YNc(1,Zx,2,0,"div",42),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.AssignPackage.controls.PackageId.errors.required)}}function vx(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",43),e.TgZ(1,"button",44),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).toggle()}),e._UZ(2,"i",45),e.qZA(),e.qZA()}}function Tx(i,n){if(1&i&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"uppercase"),e.qZA(),e.TgZ(6,"td"),e.TgZ(7,"span",50),e._uU(8),e.qZA(),e.qZA(),e.qZA()),2&i){const t=n.$implicit,o=n.index;e.xp6(2),e.Oqu(o+1),e.xp6(2),e.hij("",e.lcZ(5,3,t.ItemName)," "),e.xp6(4),e.hij(" ",t.qty,"")}}function Ax(i,n){if(1&i&&(e.TgZ(0,"div",46),e.TgZ(1,"div",36),e.TgZ(2,"div",47),e.TgZ(3,"h5"),e._uU(4),e.qZA(),e.qZA(),e.qZA(),e.TgZ(5,"div",48),e.TgZ(6,"table",49),e.TgZ(7,"thead"),e.TgZ(8,"tr"),e.TgZ(9,"th"),e._uU(10,"#"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Item Name"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Quantity"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(15,"tbody"),e.YNc(16,Tx,9,5,"tr",19),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(4),e.hij("",t.packegesnam," Details"),e.xp6(12),e.Q6J("ngForOf",t.viewItem)}}const Rt=function(i){return{"is-invalid":i}};function Cx(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"form",26),e.TgZ(1,"div",27),e.TgZ(2,"div",28),e.TgZ(3,"label"),e._uU(4,"Patient Name"),e.qZA(),e.TgZ(5,"select",29),e.TgZ(6,"option",30),e._uU(7,"Please Select"),e.qZA(),e.YNc(8,px,2,4,"option",31),e.qZA(),e.YNc(9,hx,2,1,"div",32),e.qZA(),e.TgZ(10,"div",28),e.TgZ(11,"label"),e._uU(12,"Package Name"),e.qZA(),e.TgZ(13,"select",33),e.NdJ("input",function(s){return e.CHM(t),e.oxw().modelChangeFn(s)}),e.TgZ(14,"option",30),e._uU(15,"Please Select Package"),e.qZA(),e.YNc(16,fx,2,2,"option",31),e.qZA(),e.YNc(17,bx,2,1,"div",32),e.qZA(),e._uU(18,"\xa0 "),e.YNc(19,vx,3,0,"div",34),e._uU(20,"\xa0 "),e.YNc(21,Ax,17,2,"div",35),e.qZA(),e._UZ(22,"br"),e.TgZ(23,"div",36),e.TgZ(24,"div",37),e.TgZ(25,"button",38),e.NdJ("click",function(){return e.CHM(t),e.oxw().addPackage()}),e._uU(26,"Submit"),e.qZA(),e._uU(27,"\xa0 "),e.TgZ(28,"button",39),e.NdJ("click",function(){return e.CHM(t),e.oxw().Cancel()}),e._uU(29," Reset "),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("formGroup",t.AssignPackage),e.xp6(5),e.Q6J("ngClass",e.VKq(9,Rt,t.submitted&&t.AssignPackage.controls.PactientId.errors)),e.xp6(3),e.Q6J("ngForOf",t.Patient),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.AssignPackage.controls.PactientId.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(11,Rt,t.submitted&&t.AssignPackage.controls.PackageId.errors)),e.xp6(3),e.Q6J("ngForOf",t.Packages),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.AssignPackage.controls.PackageId.errors),e.xp6(2),e.Q6J("ngIf",t.IsbuttonShow),e.xp6(2),e.Q6J("ngIf",t.show)}}function qx(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td",51),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e.TgZ(10,"button",52),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().editAssignedPackages(r.assignedPackageId)}),e._UZ(11,"i",53),e.qZA(),e._uU(12,"\xa0 "),e.TgZ(13,"button",54),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().Delete(r.assignedPackageId)}),e._UZ(14,"i",55),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=n.$implicit,o=n.index;e.xp6(2),e.Oqu(o+1),e.xp6(2),e.lnq("",t.PatientFirstName," ",t.PatientLastName," (",t.PoiNo,") "),e.xp6(2),e.Oqu(t.packageName),e.xp6(2),e.AsE("",t.Firstname," ",t.Lastname,"")}}let xx=(()=>{class i{constructor(t,o,s,r,l,d,m){this.myFormBuilder=t,this.Pkgser=o,this.detectChanges=s,this.myRouter=r,this.userService=l,this.spinner=d,this.confirmationDialogService=m,this.isVisibleFailure=!1,this.isVisibleSuccess=!1,this.updatecatergory=!1,this.submitted=!1,this.submitted1=!1,this.tData=!1,this.IsSHowPage=!0,this.showTabData=!0,this.IsDelete=!1,this.IsbuttonShow=!1}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():(this.formControls(),this.getpatient(),this.getCreatedPackages(),this.getAssigendPackages(),this.user=localStorage.getItem("CurrentUserId"))}formControls(){this.AssignPackage=this.myFormBuilder.group({PackageId:["",a.kI.required],PactientId:["",a.kI.required]})}getAssigendPackages(){this.Pkgser.getAssigendPackages().subscribe(t=>{t.length>0?(this.dataOfPackage=t,this.detectChanges.detectChanges(),$("#assignedPackages").DataTable({searching:!0,ordering:!0,paging:!0,pageLength:5,lengthMenu:[[5,10,20,-1],[5,10,20,50]]})):(this.dataOfPackage=[],this.detectChanges.detectChanges(),$("#assignedPackages").DataTable({searching:!0,ordering:!0,paging:!0,pageLength:5,lengthMenu:[[5,10,20,-1],[5,10,20,50]]}))}),$("#assignedPackages").dataTable().fnDestroy()}get f(){return this.AssignPackage.controls}getpatient(){this.Pkgser.getPatientsWithNoPackage().subscribe(t=>{this.Patient=t})}getCreatedPackages(){this.Pkgser.getCreatedPackages().subscribe(t=>{this.Packages=t})}modelChangeFn(t){this.id=t.target.value,this.Pkgser.getCreatedPackageById(this.id).subscribe(o=>{if(o)for(var s in this.IsbuttonShow=!0,this.viewItem=o,this.Packages)this.Packages[s].packageId==this.id&&(this.packegesnam=this.Packages[s].packageName);else this.IsbuttonShow=!1})}addPackage(){this.spinner.show(),this.submitted=!0,this.AssignPackage.invalid?this.spinner.hide():(this.formdata={PackageId:this.AssignPackage.get("PackageId").value,PactientId:this.AssignPackage.get("PactientId").value,user:this.user,status:1},this.Pkgser.updatePreviousPackage(this.formdata).subscribe(t=>{t?this.Pkgser.assignedPackageToPatient(this.formdata).subscribe(o=>{o?(this.isVisibleSuccess=!0,setTimeout(()=>this.isVisibleSuccess=!1,3e3),this.submitted=!1,this.AssignPackage.reset(),this.getAssigendPackages(),this.spinner.hide(),this.viewItem=[],this.IsbuttonShow=!1,this.show=!1,this.formControls()):(this.isVisibleFailure=!0,setTimeout(()=>this.isVisibleFailure=!1,3e3),this.spinner.hide())}):this.spinner.hide()}))}Cancel(){this.spinner.show(),this.AssignPackage.reset(),this.submitted=!1,this.spinner.hide(),this.viewItem=[],this.show=!1,this.IsbuttonShow=!1,this.formControls()}Delete(t){this.spinner.show(),this.confirmationDialogService.confirm("Please confirm..","Do you really want to delete?").then(o=>{o&&this.Pkgser.DeleteByassignedPackageId(t).subscribe(s=>{s?(this.spinner.hide(),this.IsDelete=!0,setTimeout(()=>this.IsDelete=!1,3e3),this.getAssigendPackages()):(this.spinner.hide(),this.isVisibleFailure=!0,setTimeout(()=>this.isVisibleFailure=!1,3e3))})}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)"))}toggle(){this.show=!this.show}editAssignedPackages(t){this.myRouter.navigate(["pages/app-edit-assigned-packages/"+t])}ngOnDestroy(){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(pe),e.Y36(e.sBO),e.Y36(p.F0),e.Y36(h),e.Y36(v.t2),e.Y36(b))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-assigned-packages-to-patient"]],decls:37,vars:5,consts:[[1,"content-wrapper"],["class","alertnotify","style","background: #cb3837;",4,"ngIf"],["class","alertnotify","style","background: #54a254;",4,"ngIf"],["class","alertnotify","style","background: #CB3837;",4,"ngIf"],["bdColor","rgba(51,51,51,0.6)","size","medium","color","#fff","type","timer"],[2,"font-size","20px","color","white","margin-top","30px"],["activeIds","toggle-11",3,"closeOthers"],["id","toggle-11"],["ngbPanelTitle",""],["ngbPanelContent",""],[1,"card","main-card","mt-2"],[1,"card-header"],[1,"card-body"],["id","assignedPackages",1,"table","table-striped","table-bordered",2,"width","100%"],[2,"width","1%"],[2,"width","5%"],[2,"width","3%"],[2,"text-align","center"],["scope","col"],[4,"ngFor","ngForOf"],[1,"alertnotify",2,"background","#cb3837"],[1,"alertnotify",2,"background","#54a254"],[1,"alertnotify",2,"background","#CB3837"],[1,"card-header--title"],[1,"pull-right"],[1,"fa","fa-angle-down","fa-lg"],[3,"formGroup"],[1,"row","ml-3","mr-3"],[1,"col-md-3"],["formControlName","PactientId","id","PactientId","aria-placeholder","Please",1,"form-control","form-control-sm",3,"ngClass"],["value","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["formControlName","PackageId","id","PackageId","aria-placeholder","Please",1,"form-control","form-control-sm",3,"ngClass","input"],["class","col-md-1","style","margin-top:18px;",4,"ngIf"],["class","col-md-4",4,"ngIf"],[1,"row"],[1,"col","text-right"],[1,"btn","upload-btn","btn-sm",3,"click"],[1,"btn","reset-btn","btn-sm",3,"click"],[3,"value"],[1,"invalid-feedback"],[4,"ngIf"],[1,"col-md-1",2,"margin-top","18px"],[1,"btn","btn-info","btn-sm",3,"click"],[1,"fa","fa-eye"],[1,"col-md-4"],[1,"col","text-center"],[1,"table-responsive"],[1,"table","table-striped"],[1,"badge",2,"font-size","14px"],[2,"text-align","left"],[1,"btn","btn-sm","edit-btn",3,"click"],[1,"fa","fa-pencil"],[1,"btn","delet-btn","btn-sm",3,"click"],[1,"fa","fa-trash"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,cx,2,0,"div",1),e.YNc(2,ux,2,0,"div",2),e.YNc(3,gx,2,0,"div",3),e.qZA(),e.TgZ(4,"ngx-spinner",4),e.TgZ(5,"p",5),e._uU(6,"Please wait..."),e.qZA(),e.qZA(),e.TgZ(7,"ngb-accordion",6),e.TgZ(8,"ngb-panel",7),e.YNc(9,mx,4,0,"ng-template",8),e.YNc(10,Cx,30,13,"ng-template",9),e.qZA(),e.qZA(),e.TgZ(11,"div",10),e.TgZ(12,"div",11),e.TgZ(13,"h6"),e.TgZ(14,"b"),e._uU(15,"Assigned Packages"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(16,"div",12),e.TgZ(17,"table",13),e._UZ(18,"col",14),e._UZ(19,"col",15),e._UZ(20,"col",15),e._UZ(21,"col",15),e._UZ(22,"col",16),e.TgZ(23,"thead",17),e.TgZ(24,"tr"),e.TgZ(25,"th",18),e._uU(26,"#"),e.qZA(),e.TgZ(27,"th",18),e._uU(28,"Child Name"),e.qZA(),e.TgZ(29,"th",18),e._uU(30,"Assigned Package"),e.qZA(),e.TgZ(31,"th",18),e._uU(32,"Assigned By"),e.qZA(),e.TgZ(33,"th",18),e._uU(34,"Action"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(35,"tbody",17),e.YNc(36,qx,15,7,"tr",19),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",o.isVisibleFailure),e.xp6(1),e.Q6J("ngIf",o.isVisibleSuccess),e.xp6(1),e.Q6J("ngIf",o.IsDelete),e.xp6(4),e.Q6J("closeOthers",!0),e.xp6(29),e.Q6J("ngForOf",o.dataOfPackage))},directives:[g.O5,v.Ro,u.gY,u.Gk,u.Cu,u.gW,a._Y,a.JL,a.sg,a.EJ,a.JJ,a.u,g.mk,a.YN,a.Kr,g.sg],pipes:[g.gd],styles:[""]}),i})();function Ix(i,n){1&i&&(e.TgZ(0,"div",9),e._uU(1," Something went wrong!. "),e.qZA())}function yx(i,n){1&i&&(e.TgZ(0,"div",10),e._uU(1," Updated Successfully!. "),e.qZA())}function kx(i,n){1&i&&(e.TgZ(0,"span",11),e._uU(1,"Assigning Package"),e.qZA(),e.TgZ(2,"div",12),e._UZ(3,"i",13),e.qZA())}function Ux(i,n){if(1&i&&(e.TgZ(0,"option",28),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.RegNumber),e.xp6(1),e.lnq(" ",t.PatientFirstName," ",t.PatientLastName," ",t.PoiNo," ")}}function Nx(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Patient Name is required "),e.qZA())}function wx(i,n){if(1&i&&(e.TgZ(0,"div",29),e.YNc(1,Nx,2,0,"div",30),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.AssignPackage.controls.PatientId.errors.required)}}function Sx(i,n){if(1&i&&(e.TgZ(0,"option",28),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.packageId),e.xp6(1),e.hij(" ",t.packageName," ")}}function Fx(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Package is required "),e.qZA())}function Dx(i,n){if(1&i&&(e.TgZ(0,"div",29),e.YNc(1,Fx,2,0,"div",30),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.AssignPackage.controls.PackageId.errors.required)}}function Jx(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",31),e.TgZ(1,"button",32),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).toggle()}),e._UZ(2,"i",33),e.qZA(),e.qZA()}}function Ex(i,n){if(1&i&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"uppercase"),e.qZA(),e.TgZ(6,"td"),e.TgZ(7,"span",38),e._uU(8),e.qZA(),e.qZA(),e.qZA()),2&i){const t=n.$implicit,o=n.index;e.xp6(2),e.Oqu(o+1),e.xp6(2),e.hij("",e.lcZ(5,3,t.ItemName)," "),e.xp6(4),e.hij(" ",t.qty,"")}}function Rx(i,n){if(1&i&&(e.TgZ(0,"div",34),e.TgZ(1,"div",35),e.TgZ(2,"table",36),e.TgZ(3,"thead"),e.TgZ(4,"tr"),e.TgZ(5,"th"),e._uU(6,"#"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Item Name"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Quantity"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"tbody"),e.YNc(12,Ex,9,5,"tr",37),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(12),e.Q6J("ngForOf",t.viewItem)}}const Pt=function(i){return{"is-invalid":i}};function Px(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"form",14),e.TgZ(1,"div",15),e.TgZ(2,"div",16),e.TgZ(3,"label"),e._uU(4,"Patient Name"),e.qZA(),e.TgZ(5,"select",17),e.TgZ(6,"option",18),e._uU(7,"Please Select"),e.qZA(),e.YNc(8,Ux,2,4,"option",19),e.qZA(),e.YNc(9,wx,2,1,"div",20),e.qZA(),e.TgZ(10,"div",16),e.TgZ(11,"label"),e._uU(12,"Package Name"),e.qZA(),e.TgZ(13,"select",21),e.NdJ("input",function(s){return e.CHM(t),e.oxw().modelChangeFn(s)}),e.TgZ(14,"option",18),e._uU(15,"Please Select Package"),e.qZA(),e.YNc(16,Sx,2,2,"option",19),e.qZA(),e.YNc(17,Dx,2,1,"div",20),e.qZA(),e._uU(18,"\xa0 "),e.YNc(19,Jx,3,0,"div",22),e._uU(20,"\xa0 "),e.YNc(21,Rx,13,1,"div",23),e.qZA(),e._UZ(22,"br"),e.TgZ(23,"div",24),e.TgZ(24,"div",25),e.TgZ(25,"button",26),e.NdJ("click",function(){return e.CHM(t),e.oxw().updateAssign()}),e._uU(26,"Update"),e.qZA(),e._uU(27,"\xa0 "),e.TgZ(28,"button",27),e.NdJ("click",function(){return e.CHM(t),e.oxw().addCancel()}),e._uU(29," Cancel "),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("formGroup",t.AssignPackage),e.xp6(5),e.Q6J("ngClass",e.VKq(9,Pt,t.submitted&&t.AssignPackage.controls.PatientId.errors)),e.xp6(3),e.Q6J("ngForOf",t.Patient),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.AssignPackage.controls.PatientId.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(11,Pt,t.submitted&&t.AssignPackage.controls.PackageId.errors)),e.xp6(3),e.Q6J("ngForOf",t.Packages),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.AssignPackage.controls.PackageId.errors),e.xp6(2),e.Q6J("ngIf",t.IsbuttonShow),e.xp6(2),e.Q6J("ngIf",t.show)}}let Yx=(()=>{class i{constructor(t,o,s,r,l,d){this.route=t,this.assigendPackgae=o,this.myFormBuilder=s,this.location=r,this.userService=l,this.spinner=d,this.isVisibleFailure=!1,this.isVisibleSuccess=!1,this.updatecatergory=!1,this.submitted=!1,this.submitted1=!1,this.tData=!1,this.IsSHowPage=!0,this.showTabData=!0,this.IsDelete=!1,this.IsbuttonShow=!1}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():(this.user=localStorage.getItem("CurrentUserId"),this.editAssignedPatientPackge(),this.formControls(),this.getpatient(),this.getCreatedPackages())}formControls(){this.AssignPackage=this.myFormBuilder.group({PatientId:[{value:"",disabled:!0},a.kI.required],PackageId:["",a.kI.required]})}get f(){return this.AssignPackage.controls}getpatient(){this.assigendPackgae.getPatientsWithPackageEdit().subscribe(t=>{this.Patient=t})}getCreatedPackages(){this.assigendPackgae.getCreatedPackages().subscribe(t=>{this.Packages=t})}modelChangeFn(t){this.id=t.target.value,this.assigendPackgae.getCreatedPackageById(this.id).subscribe(o=>{o?(this.IsbuttonShow=!0,this.viewItem=o):this.IsbuttonShow=!1})}toggle(){this.show=!this.show}editAssignedPatientPackge(){this.assigendPackgae.getAssigendPackagesById(this.route.snapshot.paramMap.get("id")).subscribe(t=>{this.AssignPackage.controls.PatientId.setValue(t[0].regnumber),this.AssignPackage.controls.PackageId.setValue(t[0].packageId)})}updateAssign(){this.spinner.show(),this.submitted=!0,this.AssignPackage.invalid?this.spinner.hide():(this.addJson={PatientId:this.AssignPackage.value.PatientId,PackageId:this.AssignPackage.value.PackageId,User:this.user,AssigendPackgaeId:this.route.snapshot.paramMap.get("id")},this.assigendPackgae.updateAssignedPackage(this.addJson).subscribe(t=>{t?(this.isVisibleSuccess=!0,setTimeout(()=>this.isVisibleSuccess=!1,3e3),this.spinner.hide(),this.location.back()):(this.isVisibleFailure=!0,setTimeout(()=>this.isVisibleFailure=!1,3e3))}))}addCancel(){this.submitted=!1,this.AssignPackage.reset(),this.location.back()}ngOnDestroy(){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(p.gz),e.Y36(pe),e.Y36(a.qu),e.Y36(g.Ye),e.Y36(h),e.Y36(v.t2))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit-assigned-packages"]],decls:10,vars:3,consts:[[1,"content-wrapper"],["class","alertnotify","style","background: #cb3837;",4,"ngIf"],["class","alertnotify","style","background: #54a254;",4,"ngIf"],["bdColor","rgba(51,51,51,0.6)","size","medium","color","green","type","timer"],[2,"font-size","20px","color","white","margin-top","30px"],["activeIds","toggle-11",3,"closeOthers"],["id","toggle-11"],["ngbPanelTitle",""],["ngbPanelContent",""],[1,"alertnotify",2,"background","#cb3837"],[1,"alertnotify",2,"background","#54a254"],[1,"card-header--title"],[1,"pull-right"],[1,"fa","fa-angle-down","fa-lg"],[3,"formGroup"],[1,"row","ml-3","mr-3"],[1,"col-md-3"],["id","PatientId","formControlName","PatientId","aria-placeholder","Please",1,"form-control","form-control-sm",3,"ngClass"],["value","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["id","PackageId","formControlName","PackageId","aria-placeholder","Please",1,"form-control","form-control-sm",3,"ngClass","input"],["class","col-md-1","style","margin-top:18px;",4,"ngIf"],["class","col-md-4",4,"ngIf"],[1,"row"],[1,"col","text","text-right"],[1,"btn","upload-btn","btn-sm",3,"click"],[1,"btn","reset-btn","btn-sm",3,"click"],[3,"value"],[1,"invalid-feedback"],[4,"ngIf"],[1,"col-md-1",2,"margin-top","18px"],[1,"btn","btn-info","btn-sm",3,"click"],[1,"fa","fa-eye"],[1,"col-md-4"],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],[1,"badge",2,"font-size","14px"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Ix,2,0,"div",1),e.YNc(2,yx,2,0,"div",2),e.qZA(),e.TgZ(3,"ngx-spinner",3),e.TgZ(4,"p",4),e._uU(5,"Please wait..."),e.qZA(),e.qZA(),e.TgZ(6,"ngb-accordion",5),e.TgZ(7,"ngb-panel",6),e.YNc(8,kx,4,0,"ng-template",7),e.YNc(9,Px,30,13,"ng-template",8),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",o.isVisibleFailure),e.xp6(1),e.Q6J("ngIf",o.isVisibleSuccess),e.xp6(4),e.Q6J("closeOthers",!0))},directives:[g.O5,v.Ro,u.gY,u.Gk,u.Cu,u.gW,a._Y,a.JL,a.sg,a.EJ,a.JJ,a.u,g.mk,a.YN,a.Kr,g.sg],pipes:[g.gd],styles:[""]}),i})();var ht=T(4383);function Qx(i,n){1&i&&(e.TgZ(0,"div",5),e._uU(1," Something went Wrong!.\n"),e.qZA())}function Ox(i,n){1&i&&(e.TgZ(0,"div",6),e._uU(1," forward to Referral List successfully.\n"),e.qZA())}function Mx(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td",10),e._uU(2),e.qZA(),e.TgZ(3,"td",10),e._uU(4),e.qZA(),e.TgZ(5,"td",10),e._uU(6),e.qZA(),e.TgZ(7,"td",10),e._uU(8),e.qZA(),e.TgZ(9,"td",10),e._uU(10),e.qZA(),e.TgZ(11,"td",10),e.TgZ(12,"span",11),e._uU(13),e.qZA(),e.qZA(),e.TgZ(14,"td",10),e.TgZ(15,"button",12),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw(2).Activate(r.PatientId)}),e._uU(16,"Activate"),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=n.$implicit,o=n.index;e.xp6(2),e.Oqu(o+1),e.xp6(2),e.AsE("",t.FirstName,"-",t.LastName,""),e.xp6(2),e.Oqu(t.Address),e.xp6(2),e.Oqu(t.GuardianName),e.xp6(2),e.Oqu(t.PhoneNumberMobile),e.xp6(3),e.Oqu(t.Comment),e.xp6(2),e.s9C("id",t.PatientId)}}function Vx(i,n){if(1&i&&(e.TgZ(0,"table",7),e.TgZ(1,"thead"),e.TgZ(2,"tr"),e.TgZ(3,"th",8),e._uU(4,"#"),e.qZA(),e.TgZ(5,"th",8),e._uU(6,"Child Name"),e.qZA(),e.TgZ(7,"th",8),e._uU(8,"Address"),e.qZA(),e.TgZ(9,"th",8),e._uU(10,"Guardian Name"),e.qZA(),e.TgZ(11,"th",8),e._uU(12,"Contact No."),e.qZA(),e.TgZ(13,"th",8),e._uU(14,"Comments"),e.qZA(),e.TgZ(15,"th",8),e._uU(16,"Status"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"tbody"),e.YNc(18,Mx,17,8,"tr",9),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(18),e.Q6J("ngForOf",t.dataRejected)}}let Bx=(()=>{class i{constructor(t,o,s,r,l,d,m){this.childInfo=t,this.childReferal=o,this.popup=s,this.userService=r,this.toaster=l,this.fb=d,this.crf=m}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():(this.dataRejected=[],this.getByRegStatus()),this.commentForm=this.fb.group({comments:[""]})}getByRegStatus(){this.recived=!0,this.childReferal.getreferalbyRegStatus(42).subscribe(t=>{t.length>0?(this.dataRejected=t,this.crf.detectChanges(),$("#datatable").DataTable({paging:!0,searching:!0,pageLength:5,lengthMenu:[[5,10,20,-1],[5,10,20]],ordering:!0})):(this.dataRejected=[],this.crf.detectChanges(),$("#datatable").DataTable({paging:!0,searching:!0,pageLength:5,lengthMenu:[[5,10,20,-1],[5,10,20]],ordering:!0}))}),$("#datatable").dataTable().fnDestroy()}Activate(t){this.popup.confirm("Please confirm","Move to Referal list. ?").then(s=>{s&&this.childReferal.updateReferralRegstatus(t,0,"Actived").subscribe(r=>{r?(this.forwardToPending=!0,setTimeout(()=>{this.forwardToPending=!1},3e3),this.toaster.success("Activated!","successfully"),this.getByRegStatus()):(this.Wrong=!0,setTimeout(()=>{this.Wrong=!1},3e3))})}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)"))}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(S),e.Y36(ie),e.Y36(b),e.Y36(h),e.Y36(ht._W),e.Y36(a.qu),e.Y36(e.sBO))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-rejected-entries"]],decls:9,vars:3,consts:[["class","alertnotify","style","background: #cb3837",4,"ngIf"],["class","alertnotify","style","background: #54a254",4,"ngIf"],[1,"mt-1"],[1,"theme-heading"],["id","datatable","class","table table-striped table-bordered","style","width:100%",4,"ngIf"],[1,"alertnotify",2,"background","#cb3837"],[1,"alertnotify",2,"background","#54a254"],["id","datatable",1,"table","table-striped","table-bordered",2,"width","100%"],["scope","col",2,"text-align","center"],[4,"ngFor","ngForOf"],[2,"text-align","center"],[1,"badge",2,"font-size","small"],["ngbTooltip","Activate","type","button",1,"btn","upload-btn",3,"id","click"]],template:function(t,o){1&t&&(e.YNc(0,Qx,2,0,"div",0),e.YNc(1,Ox,2,0,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div"),e.TgZ(4,"div"),e.TgZ(5,"h6",3),e._uU(6,"Rejected Children List"),e.qZA(),e.qZA(),e.TgZ(7,"div"),e.YNc(8,Vx,19,1,"table",4),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.Q6J("ngIf",o.Wrong),e.xp6(1),e.Q6J("ngIf",o.forwardToPending),e.xp6(7),e.Q6J("ngIf",o.dataRejected))},directives:[g.O5,g.sg,u._L],styles:[""]}),i})();function Hx(i,n){1&i&&(e.TgZ(0,"div",7),e._uU(1," Please enter password to continue. "),e.qZA())}function $x(i,n){1&i&&(e.TgZ(0,"div",7),e._uU(1," Incorrect Password!. "),e.qZA())}function Lx(i,n){1&i&&(e.TgZ(0,"div",7),e._uU(1," Deleted Successfully!. "),e.qZA())}function Gx(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;return e.oxw().EditNisab(s.NisaabId)}),e._UZ(1,"i",13),e.qZA()}}function jx(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",14),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,r=e.oxw();return r.delete(r.content,s.NisaabId)}),e._UZ(1,"i",15),e.qZA()}}function zx(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td",5),e._uU(2),e.qZA(),e.TgZ(3,"td",5),e._uU(4),e.ALo(5,"titlecase"),e.ALo(6,"titlecase"),e.qZA(),e.TgZ(7,"td",5),e._uU(8),e.qZA(),e.TgZ(9,"td",5),e._uU(10),e.qZA(),e.TgZ(11,"td",5),e._uU(12),e.qZA(),e.TgZ(13,"td"),e.YNc(14,Gx,2,0,"button",8),e.TgZ(15,"button",9),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().Print(r.NisaabId)}),e._UZ(16,"i",10),e.qZA(),e.YNc(17,jx,2,0,"button",11),e.qZA(),e.qZA()}if(2&i){const t=n.$implicit,o=e.oxw();e.xp6(2),e.Oqu(t.PoiNo),e.xp6(2),e.AsE("",e.lcZ(5,8,t.PatientFirstName)," ",e.lcZ(6,10,t.PatientLastName),""),e.xp6(4),e.hij("",t.NisabYear," A.H"),e.xp6(2),e.Oqu(t.CreatedDate),e.xp6(2),e.hij("Rs.",t.Assets,""),e.xp6(2),e.Q6J("ngIf",o.editrec),e.xp6(3),e.Q6J("ngIf",o.deleterec)}}let Wx=(()=>{class i{constructor(t,o,s,r,l,d,m){this.myFormBuilder=t,this.myRouter=o,this.detectChanges=s,this.AddNisabSer=r,this.userService=l,this.modalService=d,this.popUpSer=m,this.isVisibleFailureInvalidPassword=!1,this.isVisibleSuccessDoctorDelete=!1,this.isVisibleFailurePassword=!1,this.childdataPost=[],this.ReligionName="-",this.IsNotEdit=!0,this.IsEdit=!1,this.submitted=!1,this.JobIncome=null,this.TransportValue=null,this.Rentliability=null,this.Gold=null,this.CreatedDate=new Date,this.Nisab=0,this.Silver=null,this.SBIncome=null,this.Savings=null,this.LoanAmount=null,this.DebtAmount=null,this.MonthlyExpense=null,this.temp=null,this.total=0,this.totalliabilities=0,this.isVisibleSuccess=!1,this.isVisibleFailure=!1,this.isduplicate=!1,this.totalassets=0,this.Difference=0,this.Eligiable="-",this.Iseligiable=1,this.isShowPage=!1,this.editrec=!1,this.tabledata=!1,this.deleterec=!1,this.isDelete=!1}getreli(){this.AddNisabSer.getPatientByRegNo(this.RegN).subscribe(t=>{console.log(t,"ID RESPONSE by reg no"),this.Religion=t[0].ReligionEthnicity,8==this.Religion?this.ReligionName="Muslim":10==this.Religion?this.ReligionName="Muslim - Syed":9==this.Religion&&(this.ReligionName="Non Muslim")})}sum(){this.totalassets=this.temp+this.JobIncome+this.SBIncome+this.Gold+this.Silver+this.Savings+this.LoanAmount,this.totalliabilities=this.temp+this.DebtAmount+this.MonthlyExpense+this.Rentliability,this.Difference=this.totalassets-this.totalliabilities,9==this.Religion||10==this.Religion?(this.Iseligiable=2,this.Eligiable="Eligible For Donation Only",this.Difference<=this.Nisab?(this.Iseligiable=2,this.Eligiable="Eligible For Donation Only"):this.Difference>=this.Nisab&&(this.Iseligiable=0,this.Eligiable="Not Eligible")):8==this.Religion&&(this.Iseligiable=1,this.Eligiable="Eligible for Both",this.Difference<=this.Nisab?(this.Iseligiable=1,this.Eligiable="Eligible for Both"):this.Difference>=this.Nisab&&(this.Iseligiable=0,this.Eligiable="Not Eligible"))}ngOnInit(){this.formControls(),this.userService.tokenExpired()?this.userService.logout():(this.GetNisab(),this.editrec=!0,this.getallpatients(),this.getallnisab()),this.formControls()}getallnisab(){this.AddNisabSer.getAllPatientNisab().subscribe(t=>{console.log(t,"All patient Nisab for list"),t.length>0?(this.allPatientNisab=t,this.detectChanges.detectChanges(),$("#DataTable").DataTable({lengthMenu:[[14,50,100],[14,50,100]],paging:!0,searching:!0,ordering:!0})):(this.allPatientNisab=[],this.detectChanges.detectChanges(),$("#DataTable").DataTable({paging:!0,searching:!0,ordering:!0}))}),$("#DataTable").dataTable().fnDestroy()}GetNisab(){this.AddNisabSer.getNisab().subscribe(t=>{console.log(t),t.length>0?(this.NisabDetail=t,this.Nisab=t[0].Nisab,this.HijriYear=t[0].HijriYear):console.log(t[0].error)})}get f(){return this.passwordForm.controls}getallpatients(){this.AddNisabSer.getAllPatient().subscribe(t=>{t.length>0&&(this.allPatients=t,this.Religion=t[0].ReligionEthnicity,console.log(this.allPatients,"Patients Service Check"))})}EditNisab(t){this.NisaabId=t,console.log(t,"on endit"),this.myRouter.navigate(["/pages/edit-nisab/"+t])}Print(t){this.NisaabId=t,console.log(t,"on endit"),this.myRouter.navigate(["/pages/print-nisab/"+t])}NisabEnable(){(this.IsEdit=!1)?(this.IsNotEdit=!0,this.IsEdit=!1):(this.IsNotEdit=!1,this.IsEdit=!0)}formControls(){this.passwordForm=this.myFormBuilder.group({password:["",[a.kI.required]]})}delete(t,o){console.log(o),this.nisab_id=o,this.popUpSer.confirmCommon("Please confirm..","Do you really want to delete?").then(s=>{s&&(localStorage.getItem("CurrentUserId"),this.enterPasswordToDelete())}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)"))}performDeleteAction(){let t=this.passwordForm.value;console.log(t.password,this.nisab_id);let o=localStorage.getItem("CurrentUserEmail");this.passwordForm.valid?this.userService.matchPassword({Email:o,Password:t.password}).subscribe(r=>{console.log(r,"before token");let l=r;"Invalid Password"==r?(this.isVisibleFailureInvalidPassword=!0,setTimeout(()=>this.isVisibleFailureInvalidPassword=!1,2e3)):"Email Does Not Exist"==r||l.success&&this.deleteNisab(this.nisab_id)}):(console.log("invalidddd"),this.isVisibleFailurePassword=!0,setTimeout(()=>this.isVisibleFailurePassword=!1,2e3))}enterPasswordToDelete(){this.Deactivate=!0}deleteNisab(t){console.log(t);let o=localStorage.getItem("CurrentUserId");this.AddNisabSer.deleteNisab(t,o).subscribe(s=>{console.log(s),this.hideDeactivate(),this.getallnisab(),this.isVisibleSuccessDoctorDelete=!0,setTimeout(()=>this.isVisibleSuccessDoctorDelete=!1,2e3)})}hideDeactivate(){this.Deactivate=!1,this.nisab_id="",this.passwordForm.reset()}getDismissReason(t){return t===u.If.ESC?"by pressing ESC":t===u.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${t}`}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(p.F0),e.Y36(e.sBO),e.Y36(Ge),e.Y36(h),e.Y36(u.FF),e.Y36(b))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-nisablist"]],decls:25,vars:4,consts:[[1,"content-wrapper"],["class","alertnotify","style","background: #cb3837;",4,"ngIf"],[1,"theme-heading"],[1,"table-responsive"],["id","DataTable",1,"table","text-center","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[1,"alertnotify",2,"background","#cb3837"],["class","mb-2 mr-2 btn edit-btn btn-sm",3,"click",4,"ngIf"],[1,"mb-2","mr-2","btn","print-btn","btn-sm",3,"click"],[1,"fa","fa-print","fa-fw"],["class","mb-2 mr-2 btn-icon btn-icon-only btn delet-btn btn-sm",3,"click",4,"ngIf"],[1,"mb-2","mr-2","btn","edit-btn","btn-sm",3,"click"],[1,"fa","fa-pencil","fa-fw"],[1,"mb-2","mr-2","btn-icon","btn-icon-only","btn","delet-btn","btn-sm",3,"click"],[1,"fa","fa-trash","fa-fw"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Hx,2,0,"div",1),e.YNc(2,$x,2,0,"div",1),e.YNc(3,Lx,2,0,"div",1),e.qZA(),e.TgZ(4,"div"),e.TgZ(5,"h6",2),e._uU(6,"Eligibility Form"),e.qZA(),e.TgZ(7,"div",3),e.TgZ(8,"table",4),e.TgZ(9,"thead"),e.TgZ(10,"tr"),e.TgZ(11,"th",5),e._uU(12,"POI No"),e.qZA(),e.TgZ(13,"th",5),e._uU(14,"Child Name"),e.qZA(),e.TgZ(15,"th",5),e._uU(16,"Year"),e.qZA(),e.TgZ(17,"th",5),e._uU(18,"Last Update"),e.qZA(),e.TgZ(19,"th",5),e._uU(20,"Total Assets"),e.qZA(),e.TgZ(21,"th"),e._uU(22," Action Buttons "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(23,"tbody"),e.YNc(24,zx,18,12,"tr",6),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",o.isVisibleFailurePassword),e.xp6(1),e.Q6J("ngIf",o.isVisibleFailureInvalidPassword),e.xp6(1),e.Q6J("ngIf",o.isVisibleSuccessDoctorDelete),e.xp6(21),e.Q6J("ngForOf",o.allPatientNisab))},directives:[g.O5,g.sg],pipes:[g.rS],styles:[""]}),i})(),Yt=(()=>{class i{constructor(t,o){this.httpClient=t,this.myRouter=o,this.getToken={httpOptions:{headers:new c.WM({authorization:`Bearer ${localStorage.getItem("token")}`})}},this.token=localStorage.getItem("token"),this.httpOptions={headers:new c.WM({authorization:`Bearer ${this.token}`})}}getEmployeeDepartment(){return this.httpClient.get("/api/internalConsumption/getEmployeeDepartment",this.getToken.httpOptions)}getEmployeeOfDepartment(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/internalConsumption/getEmployeeOfDepartment?id="+t,s)}postInternalConsumption(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/internalConsumption/postInternalConsumption",t,s)}checkStoreItemQuantityById(t,o){let s=localStorage.getItem("token"),r={headers:new c.WM({authorization:`Bearer ${s}`})};return this.httpClient.get("/api/internalConsumption/checkStoreItemQuantityById?itemid="+t+"&mainid="+o,r)}getAllStoreItemConsumptionDetail(){let t=localStorage.getItem("token"),o={headers:new c.WM({authorization:`Bearer ${t}`})};return this.httpClient.get("/api/internalConsumption/getAllStoreItemConsumptionDetail",o)}getAllEmployee(){let t=localStorage.getItem("token"),o={headers:new c.WM({authorization:`Bearer ${t}`})};return this.httpClient.get("/api/internalConsumption/getAllEmployee",o)}getAllStoreItemConsumptionDetailById(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/internalConsumption/getAllStoreItemConsumptionDetailById?id="+t,s)}deleteRecord(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/internalConsumption/deleteRecord?id="+t,s)}getReceivedStoreItem(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/internalConsumption/getReceivedStoreItem?mainid="+t,s)}getEmployeeOfDepartmentWithoutId(){let t=localStorage.getItem("token"),o={headers:new c.WM({authorization:`Bearer ${t}`})};return this.httpClient.get("/api/internalConsumption/getEmployeeOfDepartmentWithoutId",o)}update(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/internalConsumption/update",t,s)}deleteStoreItem(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/internalConsumption/deleteStoreItem?SubId="+t,s)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(c.eN),e.LFG(p.F0))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var Kx=T(9441),Qt=T(5239);let Ot=(()=>{class i{constructor(){}exportAsExcelFile(t,o){const r={Sheets:{data:Qt.utils.json_to_sheet(t)},SheetNames:["data"]},l=Qt.write(r,{bookType:"xlsx",type:"array"});this.saveAsExcelFile(l,o)}saveAsExcelFile(t,o){const s=new Blob([t],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});Kx.saveAs(s,o+"_exported.xlsx")}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();function t4(i,n){1&i&&(e.TgZ(0,"div",23),e._uU(1," Something went wrong!. "),e.qZA())}function i4(i,n){1&i&&(e.TgZ(0,"div",24),e._uU(1," Added Successfully!. "),e.qZA())}function o4(i,n){1&i&&(e.TgZ(0,"div",23),e._uU(1," No duplicate Items are allowed. "),e.qZA())}function n4(i,n){1&i&&(e.TgZ(0,"div",23),e._uU(1," Items quantity must be less than given quantity "),e.qZA())}function s4(i,n){1&i&&(e.TgZ(0,"div",23),e._uU(1," Please select Items. "),e.qZA())}function r4(i,n){1&i&&(e.TgZ(0,"div",23),e._uU(1," Future dates are not allowed "),e.qZA())}function a4(i,n){if(1&i&&(e.TgZ(0,"div",23),e._uU(1," Quantity of "),e.TgZ(2,"b"),e._uU(3),e.qZA(),e._uU(4),e.qZA()),2&i){const t=e.oxw();e.xp6(3),e.Oqu(t.Item),e.xp6(1),e.hij(' must be less than "',t.Qty,'" ')}}function l4(i,n){1&i&&(e.TgZ(0,"div",23),e._uU(1," Delete record successfully ! "),e.qZA())}function d4(i,n){1&i&&(e.TgZ(0,"span",25),e._uU(1,"Internal Consumption"),e.qZA(),e.TgZ(2,"div",26),e._UZ(3,"i",27),e.qZA())}function c4(i,n){if(1&i&&(e.TgZ(0,"option",50),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.DepartmentId),e.xp6(1),e.hij(" ",t.DeptName," ")}}function u4(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Department is required "),e.qZA())}function g4(i,n){if(1&i&&(e.TgZ(0,"div",51),e.YNc(1,u4,2,0,"div",52),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.internalConsumption.controls.DepartmentId.errors.required)}}function m4(i,n){if(1&i&&(e.TgZ(0,"option",50),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.Employeeid),e.xp6(1),e.AsE(" ",t.FirstName," ",t.LastName," ")}}function p4(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Employee is required "),e.qZA())}function _4(i,n){if(1&i&&(e.TgZ(0,"div",51),e.YNc(1,p4,2,0,"div",52),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.internalConsumption.controls.EmployeeId.errors.required)}}function h4(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Issued Date is required "),e.qZA())}function f4(i,n){if(1&i&&(e.TgZ(0,"div",51),e.YNc(1,h4,2,0,"div",52),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.IssuedOn.errors.required)}}function Z4(i,n){if(1&i&&(e.TgZ(0,"option",61),e._uU(1),e.ALo(2,"uppercase"),e.qZA()),2&i){const t=n.$implicit;e.s9C("id",t.id),e.Q6J("tqty",t.ItemQty)("value",t.id),e.xp6(1),e.AsE(" ",e.lcZ(2,5,t.ItemName)," ( In Stock [",t.ItemQty,"] ) ")}}function b4(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Item is required "),e.qZA())}function v4(i,n){if(1&i&&(e.TgZ(0,"div",51),e.YNc(1,b4,2,0,"div",52),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.controls.storeitems.errors.required)}}function T4(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Quantity is required "),e.qZA())}function A4(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Value must be positive "),e.qZA())}function C4(i,n){if(1&i&&(e.TgZ(0,"div",51),e.YNc(1,T4,2,0,"div",52),e.YNc(2,A4,2,0,"div",52),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.controls.qty.errors.required),e.xp6(1),e.Q6J("ngIf",t.controls.qty.errors.pattern)}}const Je=function(i){return{"is-invalid":i}};function q4(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",53),e.TgZ(1,"div",38),e.TgZ(2,"label"),e._uU(3," Items"),e.qZA(),e.TgZ(4,"select",54),e.NdJ("change",function(s){const l=e.CHM(t).index;return e.oxw(2).modelChangeFn(s,l)}),e.TgZ(5,"option",32),e._uU(6,"Please Select Items"),e.qZA(),e.YNc(7,Z4,3,7,"option",55),e.qZA(),e.YNc(8,v4,2,1,"div",34),e.qZA(),e.TgZ(9,"div",44),e.TgZ(10,"label",56),e._uU(11,"Quantity:"),e.qZA(),e.TgZ(12,"input",57),e.NdJ("input",function(s){const l=e.CHM(t).index;return e.oxw(2).modelChangeFn(s,l)}),e.qZA(),e.YNc(13,C4,3,2,"div",34),e.qZA(),e.TgZ(14,"div",58),e.TgZ(15,"button",59),e.NdJ("click",function(){const r=e.CHM(t).index;return e.oxw(2).removeQuantity(r)}),e._UZ(16,"i",60),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=n.$implicit,o=n.index,s=e.oxw(2);e.Q6J("formGroupName",o),e.xp6(4),e.Q6J("ngClass",e.VKq(6,Je,s.submitted&&t.controls.storeitems.errors)),e.xp6(3),e.Q6J("ngForOf",s.allRecievedStoreItems),e.xp6(1),e.Q6J("ngIf",s.submitted&&t.controls.storeitems.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(8,Je,s.submitted&&t.controls.qty.errors)),e.xp6(1),e.Q6J("ngIf",s.submitted&&t.controls.qty.errors)}}function x4(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"form",28),e.TgZ(1,"div",29),e.TgZ(2,"div",30),e.TgZ(3,"label"),e._uU(4,"Department"),e.qZA(),e.TgZ(5,"select",31),e.NdJ("change",function(s){return e.CHM(t),e.oxw().getEmployeeOfDepartment(s)}),e.TgZ(6,"option",32),e._uU(7,"Please Select Department"),e.qZA(),e.YNc(8,c4,2,2,"option",33),e.qZA(),e.YNc(9,g4,2,1,"div",34),e.qZA(),e.TgZ(10,"div",30),e.TgZ(11,"label"),e._uU(12,"Employee"),e.qZA(),e.TgZ(13,"select",35),e.TgZ(14,"option",32),e._uU(15,"Please Select Employee"),e.qZA(),e.YNc(16,m4,2,3,"option",33),e.qZA(),e.YNc(17,_4,2,1,"div",34),e.qZA(),e.TgZ(18,"div",30),e.TgZ(19,"label"),e._uU(20,"Issued On "),e.qZA(),e.TgZ(21,"input",36),e.NdJ("keydown",function(){return e.CHM(t),e.oxw().disableDate()}),e.qZA(),e.YNc(22,f4,2,1,"div",34),e.qZA(),e.qZA(),e.TgZ(23,"div",37),e.TgZ(24,"div",38),e.TgZ(25,"textarea",39),e._uU(26,"        "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(27,"div",40),e.TgZ(28,"div",41),e.TgZ(29,"div",42),e.TgZ(30,"div",14),e.TgZ(31,"div",30),e.YNc(32,q4,17,10,"div",43),e.qZA(),e.TgZ(33,"div",44),e.TgZ(34,"button",45),e.NdJ("click",function(){return e.CHM(t),e.oxw().addQuantity()}),e._UZ(35,"i",46),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(36,"br"),e.TgZ(37,"div",14),e.TgZ(38,"div",47),e.TgZ(39,"button",48),e.NdJ("click",function(){return e.CHM(t),e.oxw().addPackages()}),e._uU(40,"Submit"),e.qZA(),e._uU(41,"\xa0 "),e.TgZ(42,"button",49),e.NdJ("click",function(){return e.CHM(t),e.oxw().addCancel()}),e._uU(43," Reset "),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("formGroup",t.internalConsumption),e.xp6(5),e.Q6J("ngClass",e.VKq(12,Je,t.submitted&&t.internalConsumption.controls.DepartmentId.errors)),e.xp6(3),e.Q6J("ngForOf",t.department),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.internalConsumption.controls.DepartmentId.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(14,Je,t.submitted&&t.internalConsumption.controls.EmployeeId.errors)),e.xp6(3),e.Q6J("ngForOf",t.employee),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.internalConsumption.controls.EmployeeId.errors),e.xp6(4),e.Q6J("max",t.maxDatee)("ngClass",e.VKq(16,Je,t.submitted&&t.f.IssuedOn.errors))("max",t.maxDate),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.IssuedOn.errors),e.xp6(10),e.Q6J("ngForOf",t.quantities().controls)}}function I4(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",66),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;return e.oxw().delete(s.mainid)}),e._UZ(1,"i",67),e.qZA()}}function y4(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"tr",20),e.TgZ(1,"th",62),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e.TgZ(14,"button",63),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().Edit(r.mainid)}),e._UZ(15,"i",64),e.qZA(),e._uU(16," \xa0 "),e.YNc(17,I4,2,0,"button",65),e.qZA(),e.qZA()}if(2&i){const t=n.$implicit,o=n.index,s=e.oxw();e.xp6(2),e.Oqu(o+1),e.xp6(2),e.Oqu(t.DeptName),e.xp6(2),e.Oqu(t.IssuedItems),e.xp6(2),e.Oqu(t.FullName),e.xp6(2),e.Oqu(t.uFullName),e.xp6(2),e.Oqu(t.orderdate),e.xp6(5),e.Q6J("ngIf",s.IsDelete)}}let k4=(()=>{class i{constructor(t,o,s,r,l,d,m,_){this.myFormBuilder=t,this.detectChanges=o,this.myRouter=s,this.IConsumption=r,this.spinner=l,this.confirmationDialogService=d,this.excelService=m,this.userService=_,this.TableRefresh=!1,this.submitted=!1,this.tData=!0,this.IsShowPage=!0,this.showTabData=!0,this.IsDelete=!0,this.Delete=!1,this.isVisibleSuccess=!1,this.isVisibleFailure=!1,this.IsItemMatched=!1,this.EmptyArray=!1,this.allstoreitemsfiltered=[],this.errorCheckArray=[],this.closeOthers=!1,this.stopArray=[],this.maxDatee=(0,g.p6)(new Date,"yyyy-MM-dd","en"),this.addJson={},this.department=[],this.maxDate=(0,g.p6)(new Date,"yyyy-MM-dd","en"),this.allRecievedStoreItemsNew=[],this.ArrayTest=[]}get f(){return this.internalConsumption.controls}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():(this.spinner.show(),this.formControls(),this.getstoreitems(),this.addQuantity(),this.getEmployeeDepartment(),this.getAllStoreItemConsumptionDetail(),this.spinner.hide())}formControls(){this.internalConsumption=this.myFormBuilder.group({DepartmentId:["",a.kI.required],EmployeeId:["",a.kI.required],IssuedOn:["",a.kI.required],Description:[""],quantities:this.myFormBuilder.array([])})}disableDate(){return!1}datePicker(){const t=new Date(this.maxDate);return new Date(this.internalConsumption.controls.get.IssuedOn)>t?this.internalConsumption.invalid:this.futureDateError=!1}ConvertToFile(){this.excelService.exportAsExcelFile(this.DataformDb,"InternalConsumptionDetails")}getstoreitems(){this.IConsumption.getReceivedStoreItem(0).subscribe(t=>{this.allRecievedStoreItems=t,this.spinner.hide()})}getEmployeeDepartment(){this.IConsumption.getEmployeeDepartment().subscribe(t=>{this.department=t,this.spinner.hide()})}getEmployeeOfDepartment(t){this.spinner.show(),this.IConsumption.getEmployeeOfDepartment(t.target.value).subscribe(s=>{this.employee=s,this.spinner.hide()})}getAllStoreItemConsumptionDetail(){this.IConsumption.getAllStoreItemConsumptionDetail().subscribe(t=>{t.length>0?(this.DataformDb=t,this.detectChanges.detectChanges(),$("#consumption").DataTable({paging:!0,pageLength:5,lengthMenu:[[5,10,20,-1],[5,10,20,50]],searching:!0,ordering:!0})):(this.DataformDb=[],this.detectChanges.detectChanges(),$("#consumption").DataTable({paging:!0,pageLength:5,lengthMenu:[[5,10,20,-1],[5,10,20,50]],searching:!0,ordering:!0}))}),$("#consumption").dataTable().fnDestroy(),this.spinner.show()}quantities(){return this.internalConsumption.get("quantities")}newQuantity(){return this.myFormBuilder.group({storeitems:["",a.kI.required],qty:["",[a.kI.required,a.kI.pattern("^[0-9]*[1-9]+[0-9]*$")]]})}addQuantity(){this.quantities().push(this.newQuantity())}removeQuantity(t){this.quantities().removeAt(t),this.ArrayTest.splice(t,1)}addCancel(){this.spinner.show(),this.internalConsumption.reset(),this.submitted=!1,this.formControls(),this.addQuantity(),this.ArrayTest=[],this.spinner.hide()}addPackages(){this.submitted=!0,this.submitted=!0,this.spinner.show(),this.user=localStorage.getItem("CurrentUserId");var t=new Date(this.internalConsumption.value.IssuedOn);if(this.internalConsumption.invalid)return this.spinner.hide(),void console.log("inside if ");{if(this.submitted=!0,0!=this.duplicateItemCheck(this.internalConsumption.value.quantities))return this.IsItemMatched=!0,setTimeout(()=>this.IsItemMatched=!1,4e3),void this.spinner.hide();t.getTime()>Date.now()&&(this.futureDate=!0,setTimeout(()=>this.futureDate=!1,1e3),this.spinner.hide()),this.internalConsumption.value.quantities.length<=0&&(this.EmptyArray=!0,setTimeout(()=>this.EmptyArray=!1,4e3),this.spinner.hide()),1==this.IsQty&&this.spinner.hide();let r="";for(var o in this.internalConsumption.value.quantities)r=r+","+this.internalConsumption.value.quantities[o].storeitems+","+this.internalConsumption.value.quantities[o].qty,this.errorCheckArray.push(o);this.addJson={DepartmentId:this.internalConsumption.controls.DepartmentId.value,EmployeeId:this.internalConsumption.controls.EmployeeId.value,IssuedOn:this.internalConsumption.controls.IssuedOn.value,Description:this.internalConsumption.controls.Description.value,User:this.user,recSub:r+","},console.log(this.ArrayTest),-1===this.ArrayTest.indexOf(!0)?this.IConsumption.postInternalConsumption(this.addJson).subscribe(l=>{console.log(l),l?(this.isVisibleSuccess=!0,setTimeout(()=>this.isVisibleSuccess=!1,3e3),this.internalConsumption.reset(),window.location.reload(),this.getAllStoreItemConsumptionDetail(),this.submitted=!1,this.ArrayTest=[],this.spinner.hide()):(this.isVisibleFailure=!0,setTimeout(()=>this.isVisibleFailure=!1,5e3),this.spinner.hide())}):(this.spinner.hide(),this.error=!0,setTimeout(()=>this.error=!1,3e3))}}duplicateItemCheck(t){let o=t,s=0,r=0;return console.log(o),o.forEach(l=>{let d=o.length;for(let m=s+1;m<d;m++)l.storeitems==this.internalConsumption.value.quantities[m].storeitems&&(console.log("found"),r++);s++}),r}Edit(t){this.myRouter.navigate(["pages/app-edit-internal-consumption/"+t])}delete(t){this.spinner.show(),this.confirmationDialogService.confirm("Please confirm..","Do you really want to delete it.. ?").then(o=>{o&&this.IConsumption.deleteRecord(t).subscribe(s=>{s?(this.Delete=!0,setTimeout(()=>this.Delete=!1,3e3),this.getAllStoreItemConsumptionDetail(),this.spinner.hide()):this.Delete=!1})}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)",this.spinner.hide()))}modelChangeFn(t,o){console.log(this.internalConsumption.invalid);let s=".resetqty"+o;void 0!==this.internalConsumption.value.quantities[o].qty&&(this.spinner.show(),this.IConsumption.checkStoreItemQuantityById(this.internalConsumption.value.quantities[o].storeitems,0).subscribe(r=>{r?(this.Qty_check=r,[].splice(o,o,this.Qty_check[0].ItemQty),this.internalConsumption.value.quantities[o].qty<=this.Qty_check[0].ItemQty?(this.IsQty=!1,this.spinner.hide(),$(s).removeClass("is-invalid"),$(s).removeClass("ng-invalid"),this.ArrayTest[o]=!1):(this.ArrayTest[o]=!0,this.Qty=this.Qty_check[0].ItemQty,this.Item=this.Qty_check[0].ItemName,$(s).addClass("is-invalid"),$(s).addClass("invalid"),this.IsQty=!0,this.spinner.hide())):(this.spinner.hide(),console.log("error"))}))}ngOnDestroy(){console.log("destroyed")}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(e.sBO),e.Y36(p.F0),e.Y36(Yt),e.Y36(v.t2),e.Y36(b),e.Y36(Ot),e.Y36(h))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-internal-consumption"]],decls:59,vars:10,consts:[[1,"content-wrapper"],["class","alertnotify","style","background: #CB3837",4,"ngIf"],["class","alertnotify","style","background: #54A254",4,"ngIf"],["bdColor","rgba(51,51,51,0.6)","size","medium","color","#fff","type","timer"],[2,"font-size","20px","color","white","margin-top","30px"],["activeIds","toggle-11",3,"closeOthers"],["id","toggle-11"],["ngbPanelTitle",""],["ngbPanelContent",""],[1,"card","main-card","mb-3","mt-3"],[1,"card-header"],[1,"col","text-right"],["ngbTooltip","Export",1,"btn","upload-btn","btn-sm",2,"margin-top","-2rem",3,"click"],[1,"fa","fa-file-excel-o"],[1,"row"],[1,"col-11"],[1,"table-responsive"],["id","consumption",1,"table","table-striped"],[2,"width","2px"],[2,"width","5px"],[2,"text-align","left"],["scope","col"],["style","text-align: left;",4,"ngFor","ngForOf"],[1,"alertnotify",2,"background","#CB3837"],[1,"alertnotify",2,"background","#54A254"],[1,"card-header--title"],[1,"pull-right"],[1,"fa","fa-angle-down","fa-lg"],[3,"formGroup"],[1,"row","ml-3","mr-3"],[1,"col-md-4"],["formControlName","DepartmentId","id","DepartmentId","aria-placeholder","Please",1,"form-control","form-control-sm",3,"ngClass","change"],["value","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["formControlName","EmployeeId","id","EmployeeId","aria-placeholder","Please",1,"form-control","form-control-sm",3,"ngClass"],["type","date","placeholder","Purchased Order Date","formControlName","IssuedOn","id","IssuedOn","onkeydown","return false",1,"form-control","form-control-sm",3,"max","ngClass","keydown"],[1,"row","mt-1","ml-3"],[1,"col-md-6"],["rows","5","cols","2","formControlName","Description","id","Description","placeholder","Description here.....",1,"form-control","form-control-sm"],[1,"row","mt-2","ml-3"],[1,"col-lg-12"],["formArrayName","quantities","id","tbl"],["class","row ",3,"formGroupName",4,"ngFor","ngForOf"],[1,"col-md-3"],["type","button","id","plusbtn",1,"btn","btn-primary","fail","btn-sm",2,"margin-top","18px",3,"click"],[1,"fa","fa-plus"],[1,"col","text-right","mb-1"],[1,"btn","upload-btn","btn-sm","fail",3,"click"],[1,"btn","reset-btn","btn-sm",3,"click"],[3,"value"],[1,"invalid-feedback"],[4,"ngIf"],[1,"row",3,"formGroupName"],["formControlName","storeitems",1,"form-control","form-control-sm",3,"ngClass","change"],[3,"id","tqty","value",4,"ngFor","ngForOf"],["for",""],["type","number","min","1","formControlName","qty","id","qty",1,"form-control","form-control-sm",3,"ngClass","input"],[1,"col-md-1"],[1,"btn","delet-btn","btn-sm",2,"margin-top","18px",3,"click"],[1,"fa","fa-minus"],[3,"id","tqty","value"],["scope","row"],[1,"btn","edit-btn","btn-sm",3,"click"],[1,"fa","fa-pencil","fa-fw"],["class","btn delet-btn btn-sm",3,"click",4,"ngIf"],[1,"btn","delet-btn","btn-sm",3,"click"],[1,"fa","fa-trash","fa-fw"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,t4,2,0,"div",1),e.YNc(2,i4,2,0,"div",2),e.qZA(),e.TgZ(3,"div",0),e.YNc(4,o4,2,0,"div",1),e.qZA(),e.TgZ(5,"div",0),e.YNc(6,n4,2,0,"div",1),e.qZA(),e.TgZ(7,"div",0),e.YNc(8,s4,2,0,"div",1),e.qZA(),e.TgZ(9,"div",0),e.YNc(10,r4,2,0,"div",1),e.qZA(),e.TgZ(11,"div",0),e.YNc(12,a4,5,2,"div",1),e.qZA(),e.TgZ(13,"div",0),e.YNc(14,l4,2,0,"div",1),e.qZA(),e.TgZ(15,"ngx-spinner",3),e.TgZ(16,"p",4),e._uU(17,"In progress..."),e.qZA(),e.qZA(),e.TgZ(18,"ngb-accordion",5),e.TgZ(19,"ngb-panel",6),e.YNc(20,d4,4,0,"ng-template",7),e.YNc(21,x4,44,18,"ng-template",8),e.qZA(),e.qZA(),e.TgZ(22,"div",9),e.TgZ(23,"div",10),e.TgZ(24,"b"),e._uU(25,"Internal Consumption List "),e.TgZ(26,"div",11),e.TgZ(27,"button",12),e.NdJ("click",function(){return o.ConvertToFile()}),e._UZ(28,"i",13),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(29,"div",14),e._UZ(30,"div",15),e.qZA(),e.TgZ(31,"div",16),e._UZ(32,"br"),e.TgZ(33,"table",17),e._UZ(34,"col",18),e._UZ(35,"col",19),e._UZ(36,"col",19),e._UZ(37,"col",19),e._UZ(38,"col",19),e._UZ(39,"col",19),e._UZ(40,"col",19),e.TgZ(41,"thead"),e.TgZ(42,"tr",20),e.TgZ(43,"th",21),e._uU(44,"#"),e.qZA(),e.TgZ(45,"th",21),e._uU(46,"Department Name"),e.qZA(),e.TgZ(47,"th",21),e._uU(48,"Issued Items"),e.qZA(),e.TgZ(49,"th",21),e._uU(50,"Issued To"),e.qZA(),e.TgZ(51,"th",21),e._uU(52,"Issued By"),e.qZA(),e.TgZ(53,"th",21),e._uU(54,"Issued On"),e.qZA(),e.TgZ(55,"th",21),e._uU(56,"Action"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(57,"tbody"),e.YNc(58,y4,18,7,"tr",22),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",o.isVisibleFailure),e.xp6(1),e.Q6J("ngIf",o.isVisibleSuccess),e.xp6(2),e.Q6J("ngIf",o.IsItemMatched),e.xp6(2),e.Q6J("ngIf",o.error),e.xp6(2),e.Q6J("ngIf",o.EmptyArray),e.xp6(2),e.Q6J("ngIf",o.futureDate),e.xp6(2),e.Q6J("ngIf",o.IsQty),e.xp6(2),e.Q6J("ngIf",o.Delete),e.xp6(4),e.Q6J("closeOthers",!0),e.xp6(40),e.Q6J("ngForOf",o.DataformDb))},directives:[g.O5,v.Ro,u.gY,u.Gk,u.Cu,u.gW,a._Y,a.JL,a.sg,a.EJ,a.JJ,a.u,g.mk,a.YN,a.Kr,g.sg,a.Fj,a.CE,a.x0,a.qQ,a.wV,u._L],pipes:[g.gd],styles:[""]}),i})();function U4(i,n){1&i&&(e.TgZ(0,"div",10),e._uU(1," Something went wrong! . "),e.qZA())}function N4(i,n){1&i&&(e.TgZ(0,"div",11),e._uU(1," Updated Successfully. "),e.qZA())}function w4(i,n){1&i&&(e.TgZ(0,"div",10),e._uU(1," Package Duplicate!. "),e.qZA())}function S4(i,n){1&i&&(e.TgZ(0,"span",12),e._uU(1,"Edit Package"),e.qZA(),e.TgZ(2,"div",13),e._UZ(3,"i",14),e.qZA())}function F4(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Entity Name is required"),e.qZA())}function D4(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Entity Name cannot contain whitespace "),e.qZA())}function J4(i,n){if(1&i&&(e.TgZ(0,"div",24),e.YNc(1,F4,2,0,"div",0),e.YNc(2,D4,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.packageName.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.packageName.hasError("whitespace"))}}const E4=function(i){return{"is-invalid":i}};function R4(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"form",15),e._UZ(1,"input",16),e.TgZ(2,"div",17),e.TgZ(3,"div",18),e.TgZ(4,"label"),e._uU(5,"Package Name"),e.qZA(),e._UZ(6,"input",19),e.YNc(7,J4,3,2,"div",20),e.qZA(),e.qZA(),e._UZ(8,"br"),e.TgZ(9,"div",17),e.TgZ(10,"div",21),e.TgZ(11,"button",22),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).updatePackage()}),e._uU(12,"Update"),e.qZA(),e._uU(13,"\xa0 "),e.TgZ(14,"button",23),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).addCancel()}),e._uU(15,"Cancel"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("formGroup",t.entityForm),e.xp6(6),e.Q6J("ngClass",e.VKq(3,E4,t.submitted&&t.f.packageName.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.packageName.errors)}}function P4(i,n){if(1&i&&(e.TgZ(0,"div"),e.TgZ(1,"div",1),e.YNc(2,U4,2,0,"div",2),e.YNc(3,N4,2,0,"div",3),e.qZA(),e.YNc(4,w4,2,0,"div",2),e.TgZ(5,"ngx-spinner",4),e.TgZ(6,"p",5),e._uU(7,"Please wait..."),e.qZA(),e.qZA(),e.TgZ(8,"ngb-accordion",6),e.TgZ(9,"ngb-panel",7),e.YNc(10,S4,4,0,"ng-template",8),e.YNc(11,R4,16,5,"ng-template",9),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.isVisibleFailure),e.xp6(1),e.Q6J("ngIf",t.isVisibleSuccess),e.xp6(1),e.Q6J("ngIf",t.isDuplicate),e.xp6(4),e.Q6J("closeOthers",!0)}}let Y4=(()=>{class i{constructor(t,o,s,r,l,d,m,_){this.myFormBuilder=t,this.Pkgser=o,this.route=s,this.userService=r,this.popUpSer=l,this.location=d,this.myRouter=m,this.spinner=_,this.submitted=!1,this.isVisibleSuccess=!1,this.isDuplicate=!1,this.IsSHowPage=!1,this.isVisibleFailure=!1}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():(this.formControls(),this.Pkgser.getPackageById(this.route.snapshot.paramMap.get("id")).subscribe(t=>{if(console.log(t,"packagebyid"),t.length>0){let o=localStorage.getItem("CurrentUserId");this.entityForm.controls.UserId.setValue(o),this.entityForm.controls.packageName.setValue(t[0].packageName),this.entityForm.controls.packageId.setValue(t[0].packageId)}}),setTimeout(()=>{this.userService.checkUserHasAccess("/pages/edit-entity/").subscribe(t=>{t.length>0?this.IsSHowPage=!0:(this.IsSHowPage=!1,this.popUpSer.confirmCommon("","Sorry You don't have access of this page").then(o=>{}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)")))})},500))}updatePackage(){this.spinner.show(),this.submitted=!0,!this.entityForm.invalid&&(this.formdata={PackageName:this.entityForm.get("packageName").value,UserId:this.entityForm.get("UserId").value,packageId:this.entityForm.get("packageId").value},this.Pkgser.duplicateCheckEntry(this.formdata).subscribe(t=>{if(console.log(t),"true"==t.duplicate)return this.isDuplicate=!0,setTimeout(()=>{this.isDuplicate=!1},3e3),void this.spinner.hide();this.Pkgser.updatePackageName(this.formdata).subscribe(o=>{o?(this.isVisibleSuccess=!0,setTimeout(()=>this.isVisibleSuccess=!1,1e3),setTimeout(()=>{this.myRouter.navigate(["/pages/package-formation"]),this.spinner.hide()},1e3)):(this.isVisibleFailure=!0,this.spinner.hide(),setTimeout(()=>this.isVisibleFailure=!1,1e3))})}))}get f(){return this.entityForm.controls}formControls(){this.entityForm=this.myFormBuilder.group({UserId:[""],packageId:[""],packageName:["",[a.kI.required]]})}addCancel(){console.log("gobackk"),this.location.back()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(pe),e.Y36(p.gz),e.Y36(h),e.Y36(b),e.Y36(g.Ye),e.Y36(p.F0),e.Y36(v.t2))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit-package"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"content-wrapper"],["class","alertnotify","style","background: #cb3837;",4,"ngIf"],["class","alertnotify","style","background: #54a254;",4,"ngIf"],["bdColor","rgba(51,51,51,0.6)","size","medium","color","#fff","type","timer"],[2,"font-size","20px","color","white","margin-top","30px"],["activeIds","toggle-11",3,"closeOthers"],["id","toggle-11"],["ngbPanelTitle",""],["ngbPanelContent",""],[1,"alertnotify",2,"background","#cb3837"],[1,"alertnotify",2,"background","#54a254"],[1,"card-header--title"],[1,"pull-right"],[1,"fa","fa-angle-down","fa-lg"],[3,"formGroup"],["type","hidden","formControlName","packageId","id","packageId"],[1,"row"],[1,"col"],["type","text","placeholder","Package Name","appAlphabetOnly","","formControlName","packageName","id","packageName",1,"form-control","form-control-sm",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"col","text-right"],[1,"btn","upload-btn","btn-sm",3,"click"],[1,"btn","reset-btn","btn-sm",3,"click"],[1,"invalid-feedback"]],template:function(t,o){1&t&&e.YNc(0,P4,12,4,"div",0),2&t&&e.Q6J("ngIf",o.IsSHowPage)},directives:[g.O5,v.Ro,u.gY,u.Gk,u.Cu,u.gW,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,x,g.mk],styles:[""]}),i})(),Mt=(()=>{class i{constructor(t,o){this.httpClient=t,this.myRouter=o,this.token=localStorage.getItem("token"),this.httpOptions={headers:new c.WM({authorization:`Bearer ${this.token}`})}}getSearchDataByDateDefault(){let t=localStorage.getItem("token"),o={headers:new c.WM({authorization:`Bearer ${t}`})};return this.httpClient.get("/api/order/getSearchDataByDateDefault",o)}getSearchDataByDate(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/order/getSearchDataByDate",t,s)}postPackageOfPatient(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/order/postPackageOfPatient",t,s)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(c.eN),e.LFG(p.F0))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Q4(i,n){1&i&&(e.TgZ(0,"div",11),e._uU(1," Delivered Successfully !. "),e.qZA())}function O4(i,n){1&i&&(e.TgZ(0,"div",12),e._uU(1," Start Date Must be Less Than End Date!. "),e.qZA())}function M4(i,n){1&i&&(e.TgZ(0,"span",13),e._uU(1,"Search By Date"),e.qZA(),e.TgZ(2,"div",14),e._UZ(3,"i",15),e.qZA())}function V4(i,n){1&i&&(e.TgZ(0,"div",25),e._uU(1," please enter date "),e.qZA())}function B4(i,n){1&i&&(e.TgZ(0,"div",25),e._uU(1," please enter Date "),e.qZA())}const Vt=function(i){return{"is-invalid":i}};function H4(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"form",16),e.TgZ(1,"div",17),e.TgZ(2,"div",18),e.TgZ(3,"label"),e._uU(4,"Start Date:"),e.qZA(),e._UZ(5,"input",19),e.YNc(6,V4,2,0,"div",20),e.qZA(),e.TgZ(7,"div",18),e.TgZ(8,"label"),e._uU(9,"End Date:"),e.qZA(),e._UZ(10,"input",21),e.YNc(11,B4,2,0,"div",20),e.qZA(),e.qZA(),e._UZ(12,"br"),e.TgZ(13,"div",17),e.TgZ(14,"div",22),e.TgZ(15,"button",23),e.NdJ("click",function(){return e.CHM(t),e.oxw().Search()}),e._uU(16,"Submit"),e.qZA(),e._uU(17,"\xa0 "),e.TgZ(18,"button",24),e.NdJ("click",function(){return e.CHM(t),e.oxw().Cancel()}),e._uU(19,"Reset"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("formGroup",t.searchOrder),e.xp6(5),e.Q6J("ngClass",e.VKq(5,Vt,t.submitted&&t.f.startDate.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.startDate.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(7,Vt,t.submitted&&t.f.endDate.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.endDate.errors)}}function $4(i,n){if(1&i&&(e.ynx(0,29),e._uU(1),e.BQk()),2&i){const t=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",t,"")}}function L4(i,n){if(1&i&&(e.ynx(0,29),e.YNc(1,$4,2,1,"ng-container",28),e.BQk()),2&i){const t=e.oxw().index;e.xp6(1),e.Q6J("ngIf",3!=t)}}function G4(i,n){if(1&i&&(e.TgZ(0,"th"),e.YNc(1,L4,2,1,"ng-container",28),e.qZA()),2&i){const t=n.index;e.xp6(1),e.Q6J("ngIf",1!=t)}}function j4(i,n){if(1&i&&(e.ynx(0,29),e._uU(1),e.BQk()),2&i){const t=e.oxw(2).$implicit;e.xp6(1),e.Oqu(t)}}function z4(i,n){if(1&i&&(e.ynx(0,29),e.YNc(1,j4,2,1,"ng-container",28),e.BQk()),2&i){const t=e.oxw().index;e.xp6(1),e.Q6J("ngIf",3!=t)}}function W4(i,n){if(1&i&&(e.TgZ(0,"td"),e.YNc(1,z4,2,1,"ng-container",28),e.qZA()),2&i){const t=n.index;e.xp6(1),e.Q6J("ngIf",1!=t)}}function K4(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",32),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;return e.oxw(2).packageDelivery(s[1],s[3])}),e._UZ(1,"i",33),e.qZA()}}function X4(i,n){1&i&&(e.TgZ(0,"label",34),e._uU(1,"Delieverd"),e.qZA())}function eI(i,n){if(1&i&&(e.TgZ(0,"tr"),e.YNc(1,W4,2,1,"td",27),e.TgZ(2,"td"),e.YNc(3,K4,2,0,"button",30),e.YNc(4,X4,2,0,"label",31),e.qZA(),e.qZA()),2&i){const t=n.$implicit;e.xp6(1),e.Q6J("ngForOf",t),e.xp6(2),e.Q6J("ngIf","Not Supplied"==t[4]),e.xp6(1),e.Q6J("ngIf","Not Supplied"!==t[4])}}function tI(i,n){if(1&i&&(e.TgZ(0,"table",26),e.TgZ(1,"thead"),e.TgZ(2,"tr"),e.YNc(3,G4,2,1,"th",27),e.TgZ(4,"th"),e._uU(5,"Action"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"tbody"),e.YNc(7,eI,5,3,"tr",27),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(3),e.Q6J("ngForOf",t.tableheader),e.xp6(4),e.Q6J("ngForOf",t.data)}}let iI=(()=>{class i{constructor(t,o,s,r,l,d){this.myFormBuilder=t,this.search=o,this.detectChanges=s,this.confirmationDialogService=r,this.spinner=l,this.userService=d,this.isVisibleFailure=!1,this.isVisibleSuccess=!1,this.submitted=!1,this.IsSHowPage=!0,this.IsDelete=!1,this.isJoiningGreater=!1,this.showTabData=!1,this.isPackagedelivered=!1,this.data=[],this.final_data=[]}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():(this.formcontrols(),this.getSearchDataByDateDefault())}formcontrols(){this.searchOrder=this.myFormBuilder.group({startDate:["",a.kI.required],endDate:["",a.kI.required]})}get f(){return this.searchOrder.controls}packageDelivery(t,o){let s=localStorage.getItem("CurrentUserId");this.packageData={User:s,RegNo:t,PackageId:o},this.confirmationDialogService.confirm("Please confirm..","Do you really deliever this package. ?").then(r=>{r&&(this.spinner.show(),this.search.postPackageOfPatient(this.packageData).subscribe(l=>{l&&(this.isPackagedelivered=!0,setTimeout(()=>{this.isPackagedelivered=!1},3e3),this.getSearchDataByDateDefault())}))}).catch(()=>console.log(""))}packageDeliveryView(t,o){}getSearchDataByDateDefault(){this.formdata={startDate:"1970-01-01 05:00:11",endDate:"1970-01-01 05:00:11"},this.search.getSearchDataByDate(this.formdata).subscribe(t=>{if(t.length>0){this.final_data=[],this.data=[],this.SerchDateData=t,this.tableheader=Object.keys(this.SerchDateData[0]);for(let o=0;o<this.SerchDateData.length;o++)this.data.push(Object.values(this.SerchDateData[o]));for(let o=0;o<this.data.length;o++)for(let s=0;s<this.data[o].length;s++)this.final_data=this.data[o],null==this.final_data[s]&&(this.final_data[s]=0);this.detectChanges.detectChanges(),$("#SearchData").DataTable({paging:!0,pageLength:5,lengthMenu:[[5,10,20,-1],[5,10,20,50]],searching:!0,columnDefs:[{orderable:!1,targets:0}],order:[[4,"desc"]]})}else this.SerchDateData=[],this.detectChanges.detectChanges(),$("#SearchData").DataTable({paging:!0,pageLength:5,lengthMenu:[[5,10,20,-1],[5,10,20,50]],searching:!0,columnDefs:[{orderable:!1,targets:0}],order:[[4,"desc"]]})}),$("#SearchData").dataTable().fnDestroy()}Search(){this.searchOrder.invalid||(Date.parse(this.searchOrder.value.startDate)>Date.parse(this.searchOrder.value.endDate)?(this.isJoiningGreater=!0,setTimeout(()=>this.isJoiningGreater=!1,1e3)):(this.formdata={startDate:this.searchOrder.controls.startDate.value,endDate:this.searchOrder.controls.endDate.value},this.search.getSearchDataByDate(this.formdata).subscribe(t=>{if(t.length>0){this.final_data=[],this.data=[],this.SerchDateData=t,this.tableheader=Object.keys(this.SerchDateData[0]);for(let o=0;o<this.SerchDateData.length;o++)this.data.push(Object.values(this.SerchDateData[o]));for(let o=0;o<this.data.length;o++)for(let s=0;s<this.data[o].length;s++)this.final_data=this.data[o],null==this.final_data[s]&&(this.final_data[s]=0);this.detectChanges.detectChanges(),$("#SearchData").DataTable({paging:!0,pageLength:5,lengthMenu:[[5,10,20,-1],[5,10,20,50]],searching:!0,columnDefs:[{orderable:!1,targets:0}],order:[[4,"desc"]]})}else this.SerchDateData=[],this.detectChanges.detectChanges(),$("#SearchData").DataTable({paging:!0,pageLength:5,lengthMenu:[[5,10,20,-1],[5,10,20,50]],searching:!0,columnDefs:[{orderable:!1,targets:0}],order:[[4,"desc"]]})}),$("#SearchData").dataTable().fnDestroy()))}Reset(){this.submitted=!1,this.searchOrder.reset(),this.formcontrols()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(Mt),e.Y36(e.sBO),e.Y36(b),e.Y36(v.t2),e.Y36(h))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-order"]],decls:14,vars:4,consts:[[1,"content-wrapper"],["class","alertnotify","style","background: #54A254",4,"ngIf"],["class","alertnotify","style","background: #cb3837;",4,"ngIf"],["activeIds","toggle-11",3,"closeOthers"],["id","toggle-11"],["ngbPanelTitle",""],["ngbPanelContent",""],[1,"card","main-card","mt-3"],[1,"card-header"],[1,"table-responsive"],["class"," table table-light","cellspacing","0","id","SearchData",4,"ngIf"],[1,"alertnotify",2,"background","#54A254"],[1,"alertnotify",2,"background","#cb3837"],[1,"card-header--title"],[1,"pull-right"],[1,"fa","fa-angle-down","fa-lg"],[3,"formGroup"],[1,"row"],[1,"col"],["type","date","formControlName","startDate","id","startDate","appAlphabetOnly","",1,"form-control","form-control-sm",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","date","formControlName","endDate","id","endDate","appAlphabetOnly","",1,"form-control","form-control-sm",3,"ngClass"],[1,"col","text-right"],[1,"btn","upload-btn","btn-sm",3,"click"],[1,"btn","reset-btn","btn-sm",3,"click"],[1,"invalid-feedback"],["cellspacing","0","id","SearchData",1,"table","table-light"],[4,"ngFor","ngForOf"],["style","display:none;",4,"ngIf"],[2,"display","none"],["class","btn upload-btn",3,"click",4,"ngIf"],["style","font-size:medium;","class","badge  badge-success",4,"ngIf"],[1,"btn","upload-btn",3,"click"],["aria-hidden","true",1,"fa","fa-paper-plane"],[1,"badge","badge-success",2,"font-size","medium"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Q4,2,0,"div",1),e.YNc(2,O4,2,0,"div",2),e.qZA(),e.TgZ(3,"ngb-accordion",3),e.TgZ(4,"ngb-panel",4),e.YNc(5,M4,4,0,"ng-template",5),e.YNc(6,H4,20,9,"ng-template",6),e.qZA(),e.qZA(),e.TgZ(7,"div",7),e.TgZ(8,"div",8),e.TgZ(9,"b"),e._uU(10,"Searched Record"),e.qZA(),e.qZA(),e.TgZ(11,"div",9),e._UZ(12,"br"),e.YNc(13,tI,8,2,"table",10),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",o.isPackagedelivered),e.xp6(1),e.Q6J("ngIf",o.isJoiningGreater),e.xp6(1),e.Q6J("closeOthers",!0),e.xp6(10),e.Q6J("ngIf",o.tableheader))},directives:[g.O5,u.gY,u.Gk,u.Cu,u.gW,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,x,g.mk,g.sg],styles:[""]}),i})();function oI(i,n){1&i&&(e.TgZ(0,"div",9),e._uU(1," Something went wrong!. "),e.qZA())}function nI(i,n){1&i&&(e.TgZ(0,"div",10),e._uU(1," Update Successfully!. "),e.qZA())}function sI(i,n){1&i&&(e.TgZ(0,"div",9),e._uU(1," Items quantity must be less than given quantity "),e.qZA())}function rI(i,n){1&i&&(e.TgZ(0,"div",9),e._uU(1," No duplicate Items are allowed. "),e.qZA())}function aI(i,n){1&i&&(e.TgZ(0,"div",9),e._uU(1," Please select Items. "),e.qZA())}function lI(i,n){1&i&&(e.TgZ(0,"div",9),e._uU(1," Future dates are not allowed "),e.qZA())}function dI(i,n){if(1&i&&(e.TgZ(0,"div",9),e._uU(1," Quantity of "),e.TgZ(2,"b"),e._uU(3),e.qZA(),e._uU(4),e.qZA()),2&i){const t=e.oxw();e.xp6(3),e.Oqu(t.Item),e.xp6(1),e.hij(' must be less than "',t.Qty,'" ')}}function cI(i,n){1&i&&(e.TgZ(0,"span",11),e._uU(1,"Edit Internal Consumption"),e.qZA(),e.TgZ(2,"div",12),e._UZ(3,"i",13),e.qZA())}function uI(i,n){if(1&i&&(e.TgZ(0,"option",36),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.DepartmentId),e.xp6(1),e.hij(" ",t.DeptName," ")}}function gI(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Department is required "),e.qZA())}function mI(i,n){if(1&i&&(e.TgZ(0,"div",37),e.YNc(1,gI,2,0,"div",38),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.editInternalConsumption.controls.DepartmentId.errors.required)}}function pI(i,n){if(1&i&&(e.TgZ(0,"option",36),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.EmployeeId),e.xp6(1),e.AsE(" ",t.FirstName," ",t.LastName," ")}}function _I(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Employee is required "),e.qZA())}function hI(i,n){if(1&i&&(e.TgZ(0,"div",37),e.YNc(1,_I,2,0,"div",38),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.editInternalConsumption.controls.EmployeeId.errors.required)}}function fI(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Issued Date is required "),e.qZA())}function ZI(i,n){if(1&i&&(e.TgZ(0,"div",37),e.YNc(1,fI,2,0,"div",38),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.IssuedOn.errors.required)}}function bI(i,n){if(1&i&&(e.TgZ(0,"option",47),e._uU(1),e.ALo(2,"uppercase"),e.qZA()),2&i){const t=n.$implicit;e.s9C("id",t.id),e.Q6J("value",t.id),e.xp6(1),e.AsE(" ",e.lcZ(2,4,t.ItemName)," ( In Stock [",t.ItemQty,"] ) ")}}function vI(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Item is required "),e.qZA())}function TI(i,n){if(1&i&&(e.TgZ(0,"div",37),e.YNc(1,vI,2,0,"div",38),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.controls.storeitems.errors.required)}}function AI(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Quantity is required "),e.qZA())}function CI(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Value must be positive "),e.qZA())}function qI(i,n){if(1&i&&(e.TgZ(0,"div",37),e.YNc(1,AI,2,0,"div",38),e.YNc(2,CI,2,0,"div",38),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.controls.qty.errors.required),e.xp6(1),e.Q6J("ngIf",t.controls.qty.errors.pattern)}}const Ee=function(i){return{"is-invalid":i}};function xI(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",39),e.TgZ(1,"div",23),e.TgZ(2,"label"),e._uU(3," Items"),e.qZA(),e.TgZ(4,"select",40),e.NdJ("change",function(s){const l=e.CHM(t).index;return e.oxw(2).modelChangeFn(s,l)}),e.YNc(5,bI,3,6,"option",41),e.qZA(),e.YNc(6,TI,2,1,"div",19),e.qZA(),e.TgZ(7,"div",30),e.TgZ(8,"label",42),e._uU(9,"Quantity"),e.qZA(),e.TgZ(10,"input",43),e.NdJ("input",function(s){const l=e.CHM(t).index;return e.oxw(2).modelChangeFn(s,l)}),e.qZA(),e.YNc(11,qI,3,2,"div",19),e.qZA(),e.TgZ(12,"div",44),e.TgZ(13,"button",45),e.NdJ("click",function(){const r=e.CHM(t).index;return e.oxw(2).removeQuantity(r)}),e._UZ(14,"i",46),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=n.$implicit,o=n.index,s=e.oxw(2);e.Q6J("formGroupName",o),e.xp6(4),e.Q6J("ngClass",e.VKq(6,Ee,s.submitted&&t.controls.storeitems.errors)),e.xp6(1),e.Q6J("ngForOf",s.allRecievedStoreItems),e.xp6(1),e.Q6J("ngIf",s.submitted&&t.controls.storeitems.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(8,Ee,s.submitted&&t.controls.qty.errors)),e.xp6(1),e.Q6J("ngIf",s.submitted&&t.controls.qty.errors)}}function II(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"form",14),e.TgZ(1,"div",15),e.TgZ(2,"div",16),e.TgZ(3,"label"),e._uU(4,"Department"),e.qZA(),e.TgZ(5,"select",17),e.YNc(6,uI,2,2,"option",18),e.qZA(),e.YNc(7,mI,2,1,"div",19),e.qZA(),e.TgZ(8,"div",16),e.TgZ(9,"label"),e._uU(10,"Employee"),e.qZA(),e.TgZ(11,"select",20),e.YNc(12,pI,2,3,"option",18),e.qZA(),e.YNc(13,hI,2,1,"div",19),e.qZA(),e.TgZ(14,"div",16),e.TgZ(15,"label"),e._uU(16,"Issued On "),e.qZA(),e._UZ(17,"input",21),e.YNc(18,ZI,2,1,"div",19),e.qZA(),e.qZA(),e.TgZ(19,"div",22),e.TgZ(20,"div",23),e.TgZ(21,"textarea",24),e._uU(22,"        "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(23,"div",25),e.TgZ(24,"div",26),e.TgZ(25,"div",27),e.TgZ(26,"div",28),e.TgZ(27,"div",16),e.YNc(28,xI,15,10,"div",29),e.qZA(),e.TgZ(29,"div",30),e.TgZ(30,"button",31),e.NdJ("click",function(){return e.CHM(t),e.oxw().addQuantity()}),e._UZ(31,"i",32),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(32,"br"),e.TgZ(33,"div",28),e.TgZ(34,"div",33),e.TgZ(35,"button",34),e.NdJ("click",function(){return e.CHM(t),e.oxw().addPackages()}),e._uU(36,"Update"),e.qZA(),e._uU(37,"\xa0 "),e.TgZ(38,"button",35),e.NdJ("click",function(){return e.CHM(t),e.oxw().addCancel()}),e._uU(39," Cancel "),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("formGroup",t.editInternalConsumption),e.xp6(5),e.Q6J("ngClass",e.VKq(10,Ee,t.submitted&&t.editInternalConsumption.controls.DepartmentId.errors)),e.xp6(1),e.Q6J("ngForOf",t.department),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.editInternalConsumption.controls.DepartmentId.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(12,Ee,t.submitted&&t.editInternalConsumption.controls.EmployeeId.errors)),e.xp6(1),e.Q6J("ngForOf",t.employee),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.editInternalConsumption.controls.EmployeeId.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(14,Ee,t.submitted&&t.f.IssuedOn.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.IssuedOn.errors),e.xp6(10),e.Q6J("ngForOf",t.quantities().controls)}}let yI=(()=>{class i{constructor(t,o,s,r,l,d,m){this.myFormBuilder=t,this.IConsumption=o,this.activatedRoute=s,this.spinner=r,this.location=l,this.confirmationDialogService=d,this.userService=m,this.TableRefresh=!1,this.submitted=!1,this.tData=!0,this.IsShowPage=!0,this.showTabData=!0,this.IsDelete=!0,this.isVisibleSuccess=!1,this.isVisibleFailure=!1,this.IsItemMatched=!1,this.EmptyArray=!1,this.allstoreitemsfiltered=[],this.closeOthers=!1,this.editeditem=[],this.total=[],this.addJson={},this.sub_total=0,this.department=[],this.allRecievedStoreItemsNew=[],this.ArrayTest=[]}get f(){return this.editInternalConsumption.controls}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():(this.spinner.show(),this.formControls(),this.getstoreitems(),this.getEmployeeDepartment(),this.PgetAllStoreItemConsumptionDetailById(),this.getEmployeeOfDepartmentWithoutId(),this.getAllEmployee())}formControls(){this.editInternalConsumption=this.myFormBuilder.group({DepartmentId:["",a.kI.required],EmployeeId:["",a.kI.required],IssuedOn:["",a.kI.required],Description:[""],quantities:this.myFormBuilder.array([])})}PgetAllStoreItemConsumptionDetailById(){this.IConsumption.getAllStoreItemConsumptionDetailById(this.activatedRoute.snapshot.paramMap.get("id")).subscribe(t=>{if(this.consumptionDetails=t,t){if(t.length>0){this.editInternalConsumption.controls.DepartmentId.setValue(t[0].DepId),this.editInternalConsumption.controls.EmployeeId.setValue(t[0].EmployeeId),this.editInternalConsumption.controls.IssuedOn.setValue(t[0].Date),this.editInternalConsumption.controls.Description.setValue(t[0].Description),this.MainId=t[0].ID;for(let o in t)this.addQuantity(),this.editeditem.push(t[o].id),this.editInternalConsumption.controls.quantities.value[o].storeitems=t[o].ItemId,this.editInternalConsumption.controls.quantities.value[o].qty=t[o].ItemQty,this.editInternalConsumption.controls.quantities.value[o].storeItemId=t[o].ItemId,this.editInternalConsumption.controls.quantities.value[o].StoreItemSubId=t[o].id;this.editInternalConsumption.controls.quantities.setValue(this.quantities().value),this.spinner.hide()}}else alert("cant get value form Db")})}getstoreitems(){this.IConsumption.getReceivedStoreItem(this.activatedRoute.snapshot.paramMap.get("id")).subscribe(t=>{this.allRecievedStoreItems=t})}getEmployeeOfDepartmentWithoutId(){this.IConsumption.getEmployeeOfDepartmentWithoutId().subscribe(t=>{})}getEmployeeDepartment(){this.IConsumption.getEmployeeDepartment().subscribe(t=>{this.department=t})}getAllEmployee(){this.IConsumption.getAllEmployee().subscribe(t=>{this.employee=t,this.spinner.hide()})}quantities(){return this.editInternalConsumption.get("quantities")}newQuantity(){return this.myFormBuilder.group({storeitems:["",a.kI.required],qty:["",[a.kI.required,a.kI.pattern("^[-+]?[1-9]d*.?[0]*$")]],storeItemId:[""],StoreItemSubId:[""]})}addQuantity(){this.quantities().push(this.newQuantity())}removeQuantity(t){this.spinner.show(),this.editeditem[t]==this.editInternalConsumption.value.quantities[t].StoreItemSubId?this.confirmationDialogService.confirm("Please confirm..","Do you really want to delete it.. ?").then(o=>{o&&(this.spinner.show(),this.IConsumption.deleteStoreItem(this.editInternalConsumption.value.quantities[t].StoreItemSubId).subscribe(s=>{s&&(this.spinner.hide(),this.editeditem.splice(t,1),this.IsDelete=!0,setTimeout(()=>this.IsDelete=!1,3e3),this.quantities().removeAt(t),this.ArrayTest.splice(t,1))}))}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)",this.spinner.hide())):(this.spinner.hide(),this.quantities().removeAt(t),this.ArrayTest.splice(t,1))}addCancel(){this.spinner.show(),this.editInternalConsumption.reset(),this.submitted=!1,this.ArrayTest=[],this.location.back(),this.spinner.hide()}addPackages(){if(this.submitted=!0,this.spinner.show(),this.user=parseInt(localStorage.getItem("CurrentUserId")),this.editInternalConsumption.invalid)this.spinner.hide();else{if(0!=this.duplicateItemCheck(this.editInternalConsumption.value.quantities))return this.IsItemMatched=!0,setTimeout(()=>this.IsItemMatched=!1,4e3),void this.spinner.hide();if(this.editInternalConsumption.value.quantities.length<=0)return this.EmptyArray=!0,setTimeout(()=>this.EmptyArray=!1,4e3),void this.spinner.hide();let s="";for(var t in this.editInternalConsumption.value.quantities)s=s+","+this.editInternalConsumption.value.quantities[t].storeItemId+"+"+this.editInternalConsumption.value.quantities[t].storeitems+","+this.editInternalConsumption.value.quantities[t].qty;this.addJson={DepartmentId:parseInt(this.editInternalConsumption.value.DepartmentId),EmployeeId:parseInt(this.editInternalConsumption.value.EmployeeId),IssuedOn:parseInt(this.editInternalConsumption.value.IssuedOn),Description:this.editInternalConsumption.value.Description,user:parseInt(this.user),MainId:parseInt(this.MainId),recSub:s+","},-1===this.ArrayTest.indexOf(!0)?this.IConsumption.update(this.addJson).subscribe(r=>{r?(this.isVisibleSuccess=!0,setTimeout(()=>this.isVisibleSuccess=!1,3e3),this.spinner.hide(),this.submitted=!1,setTimeout(()=>this.location.back(),1e3)):(this.isVisibleFailure=!0,setTimeout(()=>this.isVisibleFailure=!1,5e3))}):(this.spinner.hide(),this.error=!0,setTimeout(()=>this.error=!1,3e3))}}duplicateItemCheck(t){let o=t,s=0,r=0;return o.forEach(l=>{let d=o.length;for(let m=s+1;m<d;m++)l.storeitems==this.editInternalConsumption.value.quantities[m].storeitems&&r++;s++}),r}modelChangeFn(t,o){let s=this.activatedRoute.snapshot.paramMap.get("id"),r=".resetqty"+o;void 0!==this.editInternalConsumption.value.quantities[o].qty&&this.IConsumption.checkStoreItemQuantityById(this.editInternalConsumption.value.quantities[o].storeitems,s).subscribe(l=>{l?(this.Qty_check=l,this.editInternalConsumption.value.quantities[o].qty<=this.Qty_check[0].ItemQty?(this.IsQty=!1,this.spinner.hide(),$(r).removeClass("is-invalid"),$(r).removeClass("ng-invalid"),this.ArrayTest[o]=!1):(this.ArrayTest[o]=!0,this.Qty=this.Qty_check[0].ItemQty,this.Item=this.Qty_check[0].ItemName,$(r).addClass("is-invalid"),$(r).addClass("invalid"),this.IsQty=!0,setTimeout(()=>{this.IsQty=!1},3e3),this.spinner.hide())):this.spinner.hide()})}ngOnDestroy(){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(Yt),e.Y36(p.gz),e.Y36(v.t2),e.Y36(g.Ye),e.Y36(b),e.Y36(h))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit-internal-consumption"]],decls:20,vars:8,consts:[[1,"content-wrapper"],["class","alertnotify","style","background: #CB3837",4,"ngIf"],["class","alertnotify","style","background: #54A254",4,"ngIf"],["bdColor","rgba(51,51,51,0.6)","size","medium","color","#fff","type","timer"],[2,"font-size","20px","color","white","margin-top","30px"],["activeIds","toggle-11",3,"closeOthers"],["id","toggle-11"],["ngbPanelTitle",""],["ngbPanelContent",""],[1,"alertnotify",2,"background","#CB3837"],[1,"alertnotify",2,"background","#54A254"],[1,"card-header--title"],[1,"pull-right"],[1,"fa","fa-angle-down","fa-lg"],[3,"formGroup"],[1,"row","ml-3","mr-3"],[1,"col-md-4"],["disabled","","formControlName","DepartmentId","id","DepartmentId","aria-placeholder","Please",1,"form-control","form-control-sm",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["disabled","","formControlName","EmployeeId","id","EmployeeId","aria-placeholder","Please",1,"form-control","form-control-sm",3,"ngClass"],["disabled","","type","date","placeholder","Purchased Order Date","formControlName","IssuedOn","id","IssuedOn",1,"form-control","form-control-sm",3,"ngClass"],[1,"row","mt-1","ml-3"],[1,"col-md-6"],["disabled","","type","text","rows","5","cols","2","formControlName","Description","id","Description","placeholder","Description here.....",1,"form-control","form-control-sm"],[1,"row","mt-2","ml-3"],[1,"col-lg-12"],["formArrayName","quantities","id","tbl"],[1,"row"],["class","row ",3,"formGroupName",4,"ngFor","ngForOf"],[1,"col-md-3"],["type","button","id","plusbtn",1,"btn","btn-primary","fail","btn-sm",2,"margin-top","18px",3,"click"],[1,"fa","fa-plus"],[1,"col","text-right","mb-1"],["id","Update",1,"btn","upload-btn","btn-sm",3,"click"],["id","Cancel",1,"btn","reset-btn","btn-sm",3,"click"],[3,"value"],[1,"invalid-feedback"],[4,"ngIf"],[1,"row",3,"formGroupName"],["formControlName","storeitems","id","storeitems","aria-placeholder","Please",1,"form-control","form-control-sm",3,"ngClass","change"],[3,"id","value",4,"ngFor","ngForOf"],["for",""],["type","number","formControlName","qty","id","qty",1,"form-control","form-control-sm",3,"ngClass","input"],[1,"col-md-1"],[1,"btn","btn-danger","btn-sm",2,"margin-top","18px",3,"click"],[1,"fa","fa-minus"],[3,"id","value"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,oI,2,0,"div",1),e.YNc(2,nI,2,0,"div",2),e.qZA(),e.TgZ(3,"div",0),e.YNc(4,sI,2,0,"div",1),e.qZA(),e.TgZ(5,"div",0),e.YNc(6,rI,2,0,"div",1),e.qZA(),e.TgZ(7,"div",0),e.YNc(8,aI,2,0,"div",1),e.qZA(),e.TgZ(9,"div",0),e.YNc(10,lI,2,0,"div",1),e.qZA(),e.TgZ(11,"div",0),e.YNc(12,dI,5,2,"div",1),e.qZA(),e.TgZ(13,"ngx-spinner",3),e.TgZ(14,"p",4),e._uU(15,"Please wait..."),e.qZA(),e.qZA(),e.TgZ(16,"ngb-accordion",5),e.TgZ(17,"ngb-panel",6),e.YNc(18,cI,4,0,"ng-template",7),e.YNc(19,II,40,16,"ng-template",8),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",o.isVisibleFailure),e.xp6(1),e.Q6J("ngIf",o.isVisibleSuccess),e.xp6(2),e.Q6J("ngIf",o.error),e.xp6(2),e.Q6J("ngIf",o.IsItemMatched),e.xp6(2),e.Q6J("ngIf",o.EmptyArray),e.xp6(2),e.Q6J("ngIf",o.futureDate),e.xp6(2),e.Q6J("ngIf",o.IsQty),e.xp6(4),e.Q6J("closeOthers",!0))},directives:[g.O5,v.Ro,u.gY,u.Gk,u.Cu,u.gW,a._Y,a.JL,a.sg,a.EJ,a.JJ,a.u,g.mk,g.sg,a.YN,a.Kr,a.Fj,a.CE,a.x0,a.wV],pipes:[g.gd],styles:[""]}),i})(),ft=(()=>{class i{constructor(t){this.httpClient=t,this.token=localStorage.getItem("token"),this.httpOptions={headers:new c.WM({authorization:`Bearer ${this.token}`})}}getItemData(t,o,s){let r=localStorage.getItem("token"),l={headers:new c.WM({authorization:`Bearer ${r}`})};return this.httpClient.get("/api/report/getItemData/?sdate="+t+"&edate="+o+"&item="+s,l)}getallItemData(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.get("/api/report/allItemReport/?startDate="+t,s)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(c.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function kI(i,n){1&i&&(e.TgZ(0,"div",18),e._uU(1," No record found ! "),e.qZA())}function UI(i,n){1&i&&(e.TgZ(0,"span",19),e._uU(1,"Item Wise Report"),e.qZA(),e.TgZ(2,"div",20),e._UZ(3,"i",21),e.qZA())}function NI(i,n){if(1&i&&(e.TgZ(0,"option",37),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.Id),e.xp6(1),e.Oqu(t.ItemName)}}function wI(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Item Name is required "),e.qZA())}function SI(i,n){if(1&i&&(e.TgZ(0,"div",38),e.YNc(1,wI,2,0,"div",39),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.ItemName.errors.required)}}function FI(i,n){1&i&&(e.TgZ(0,"p",40),e._uU(1,"start date must be earlier to end date"),e.qZA())}function DI(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Start Date is required. "),e.qZA())}function JI(i,n){if(1&i&&(e.TgZ(0,"div",38),e.YNc(1,DI,2,0,"div",39),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.startDate.errors.required)}}function EI(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," End Date is required. "),e.qZA())}function RI(i,n){if(1&i&&(e.TgZ(0,"div",38),e.YNc(1,EI,2,0,"div",39),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.endDate.errors.required)}}const Zt=function(i){return{"is-invalid":i}};function PI(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"form",22),e.TgZ(1,"div",23),e.TgZ(2,"div",24),e.TgZ(3,"label",25),e._uU(4,"Item Name"),e.qZA(),e.TgZ(5,"select",26),e.TgZ(6,"option",27),e._uU(7,"Please Select"),e.qZA(),e.YNc(8,NI,2,2,"option",28),e.qZA(),e.YNc(9,SI,2,1,"div",29),e.qZA(),e.TgZ(10,"div",24),e.TgZ(11,"label",25),e._uU(12,"Start Date"),e.qZA(),e._UZ(13,"input",30),e.YNc(14,FI,2,0,"p",31),e.YNc(15,JI,2,1,"div",29),e.qZA(),e.TgZ(16,"div",24),e.TgZ(17,"label",25),e._uU(18,"End Date"),e.qZA(),e._UZ(19,"input",32),e.YNc(20,RI,2,1,"div",29),e.qZA(),e.TgZ(21,"div",33),e.TgZ(22,"button",34),e.NdJ("click",function(){return e.CHM(t),e.oxw().submit()}),e._uU(23,"Submit"),e.qZA(),e.TgZ(24,"button",35),e.NdJ("click",function(){return e.CHM(t),e.oxw().print()}),e._uU(25,"Print"),e.qZA(),e.TgZ(26,"button",36),e.NdJ("click",function(){return e.CHM(t),e.oxw().reset()}),e._uU(27,"Reset"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("formGroup",t.itemReportForm),e.xp6(5),e.Q6J("ngClass",e.VKq(9,Zt,t.submitted&&t.f.ItemName.errors)),e.xp6(3),e.Q6J("ngForOf",t.allitems),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.ItemName.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(11,Zt,t.submitted&&t.f.startDate.errors)),e.xp6(1),e.Q6J("ngIf",t.greaterdate),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.startDate.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(13,Zt,t.submitted&&t.f.endDate.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.endDate.errors)}}function YI(i,n){1&i&&(e.TgZ(0,"td",42),e._uU(1,"Previous Balance"),e.qZA())}function QI(i,n){if(1&i&&(e.TgZ(0,"td",42),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.report)}}function OI(i,n){if(1&i&&(e.TgZ(0,"tr",41),e.TgZ(1,"td",42),e._uU(2),e.ALo(3,"date"),e.qZA(),e.TgZ(4,"td",42),e._uU(5),e.qZA(),e.YNc(6,YI,2,0,"td",43),e.YNc(7,QI,2,1,"td",43),e.TgZ(8,"td",42),e._uU(9),e.qZA(),e.TgZ(10,"td",42),e._uU(11),e.qZA(),e.qZA()),2&i){const t=n.$implicit;e.xp6(2),e.Oqu(e.lcZ(3,6,t.DateofINout)),e.xp6(3),e.Oqu(t.inQty),e.xp6(1),e.Q6J("ngIf",t.report),e.xp6(1),e.Q6J("ngIf",!t.report),e.xp6(2),e.Oqu(t.outQty),e.xp6(2),e.Oqu(t.balanceQty)}}let MI=(()=>{class i{constructor(t,o,s,r,l){this.myFormBuilder=t,this.reportSer=o,this.itemSer=s,this.location=r,this.userService=l,this.submitted=!1,this.greaterdate=!1,this.tabdata=[],this.url=window.location.protocol+"//"+window.location.host+"/assets/css/report.css"}get f(){return this.itemReportForm.controls}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():(this.formControls(),this.storeItemSub=this.itemSer.fetchstoreitemsbyjoin().subscribe(t=>{t.length>0&&(this.allitems=t)}))}formControls(){this.itemReportForm=this.myFormBuilder.group({ItemName:["",a.kI.required],startDate:["",a.kI.required],endDate:["",a.kI.required]})}submit(){if(this.tabdata=[],this.submitted=!0,!this.itemReportForm.invalid)if(this.itemReportForm.value.startDate>this.itemReportForm.value.endDate)this.greaterdate=!0,$("#startDate").css("border","1px solid red"),alert("Start date must be earlier to end date");else{$("#startDate").css("border","1px solid #ced4da"),this.greaterdate=!1,this.startdate=this.itemReportForm.value.startDate,this.enddate=this.itemReportForm.value.endDate;let t={start:this.itemReportForm.value.startDate,end:this.itemReportForm.value.endDate,item:this.itemReportForm.value.ItemName};this.reportSer.getItemData(t.start,t.end,t.item).subscribe(o=>{let s=[],r=[];if(o.length>0){for(var l in this.ItemName=o[0].ItemName,o)s.push(o[l].balanceQty);for(var l in r=s.map((d=0,m=>d+=m)),this.tabdata=[],o)this.tabdata.push({ItemName:o[l].ItemName,DateofINout:o[l].transdate,inQty:o[l].inQty,outQty:o[l].outQty,balanceQty:o[l].balance,report:o[l].report});$("#2").show(),$("#page").show()}else $("#page").hide(),$("#2").hide(),this.norecord=!0,setTimeout(()=>this.norecord=!1,4e3),this.ItemName="No Record Found",s=[],r=[],this.tabdata=[];var d})}}reset(){this.itemReportForm.reset(),this.submitted=!1,this.ItemName="",this.tabdata=[]}ngOnDestroy(){this.storeItemSub&&this.storeItemSub.unsubscribe()}print(){var t=document.getElementById("2");t.style.visibility="hidden";let o=document.getElementById("page"),s=window.open("","new div","height=720,width=1080");s.document.write("<html><head>"),s.document.write('<style>\n    .report{background-color: grey;\n      border : 1px solid rgb(167, 167, 167);\n    }\n      @page {\n        size: A4 landscape !important;\n        margin: 0.2inch !important;\n      }\n    @media print{\n\n      .col-sm-1, .col-sm-2, .col-sm-3, .col-sm-4, .col-sm-5, .col-sm-6,\n      .col-sm-7, .col-sm-8, .col-sm-9, .col-sm-10, .col-sm-11, .col-sm-12 {\n           float: left;\n      }\n      th{\n        background-color:lightgrey;\n      }\n      html\n      {\n\n      }\n      body {\n        -webkit-print-color-adjust:exact;\n\n\n      }\n        .col-sm-12 {\n             width: 100%;\n        }\n\n        .col-sm-11 {\n             width: 91.66666666666666%;\n        }\n\n        .col-sm-10 {\n             width: 83.33333333333334%;\n        }\n\n        .col-sm-9 {\n              width: 75%;\n        }\n\n        .col-sm-8 {\n              width: 66.66666666666666%;\n        }\n\n         .col-sm-7 {\n              width: 58.333333333333336%;\n         }\n\n         .col-sm-6 {\n              width: 50%;\n         }\n\n         .col-sm-5 {\n              width: 41.66666666666667%;\n         }\n\n         .col-sm-4 {\n              width: 33.33333333333333%;\n         }\n\n         .col-sm-3 {\n              width: 25%;\n         }\n\n         .col-sm-2 {\n                width: 16.666666666666664%;\n         }\n\n         .col-sm-1 {\n                width: 8.333333333333332%;\n          }\n        .color{\n          background-color: lightblue !important;\n        }\n        .image{\n          width="100px"\n          height="100px"\n        }\n    .print:last-child {\n      page-break-after: auto;\n      }\n      .th {\n        background-color: yellow;\n      }\n      .lightBlue {\n        background-color: lightblue !important;\n        -webkit-print-color-adjust: exact;\n        color-adjust: exact !important;\n      }\n    .date{\n      font-weight: 400;\n      color : green;\n    }\n\n    .heading{\n      font-weight: 400;\n    }\n    .head{\n      font-weight:200;\n      text-align:center;\n    }\n    .error{\n      border : 1px solid red;\n    }</style>'),s.document.write("</head><body>"),s.document.write(o.innerHTML),s.document.write(`<link rel="stylesheet" type="text/css" href="${this.url}";>`),s.document.write('<div class="print"></div></body>'),s.document.write("</html>"),setTimeout(()=>{s.document.close(),s.focus(),s.print()},300),setTimeout(function(){t.style.visibility="visible",s.close()},1500)}back(){this.location.back()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(ft),e.Y36(M),e.Y36(g.Ye),e.Y36(h))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-itemreport"]],decls:38,vars:10,consts:[[1,"content-wrapper"],["class","alertnotify","style","background: #CB3837",4,"ngIf"],["activeIds","toggle-11",3,"closeOthers"],["id","toggle-11"],["ngbPanelTitle",""],["ngbPanelContent",""],["id","page",1,"container-fluid","mt-2",2,"font-family","Sans-serif","background-color","white","display","none"],[1,"table"],["id","storedataTable",1,"table","table-striped","table-bordered","text-center"],["colspan","5"],[1,"row"],[1,"col-3","text-left"],["src","/assets/images/logo-Mz.png","height","40","width","auto"],[1,"col-5"],[1,"align-middle",2,"font-size","22px"],[1,"align-middle",2,"font-size","18px"],[1,"col-4"],["style","font-size:13px;font-weight: 200;",4,"ngFor","ngForOf"],[1,"alertnotify",2,"background","#CB3837"],[1,"card-header--title"],[1,"pull-right"],[1,"fa","fa-angle-down","fa-lg"],[3,"formGroup"],[1,"row","mb-1"],[1,"col-md-3"],["for",""],["formControlName","ItemName","id","ItemName",1,"form-control","form-control-sm",3,"ngClass"],["value","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["type","date","formControlName","startDate","id","startDate",1,"form-control","form-control-sm",3,"ngClass"],["style","color:red;",4,"ngIf"],["type","date","formControlName","endDate","id","endDate",1,"form-control","form-control-sm",3,"ngClass"],[1,"col-md-3","mt-3"],[1,"btn","upload-btn","btn-sm","mr-2",3,"click"],["id","2",1,"btn","print-btn","btn-sm","mr-1","mr-2",2,"display","none",3,"click"],[1,"btn","reset-btn","btn-sm",3,"click"],[3,"value"],[1,"invalid-feedback"],[4,"ngIf"],[2,"color","red"],[2,"font-size","13px","font-weight","200"],[2,"padding-bottom","0","padding-top","0"],["style","padding-bottom:0;padding-top:0;",4,"ngIf"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,kI,2,0,"div",1),e.qZA(),e.TgZ(2,"ngb-accordion",2),e.TgZ(3,"ngb-panel",3),e.YNc(4,UI,4,0,"ng-template",4),e.YNc(5,PI,28,15,"ng-template",5),e.qZA(),e.qZA(),e.TgZ(6,"div",6),e.TgZ(7,"div",7),e._UZ(8,"br"),e.TgZ(9,"table",8),e.TgZ(10,"thead"),e.TgZ(11,"tr"),e.TgZ(12,"th",9),e.TgZ(13,"div",10),e.TgZ(14,"div",11),e._UZ(15,"img",12),e.qZA(),e.TgZ(16,"div",13),e.TgZ(17,"label",14),e._uU(18),e.qZA(),e._UZ(19,"br"),e.TgZ(20,"label",15),e._uU(21),e.ALo(22,"date"),e.ALo(23,"date"),e.qZA(),e.qZA(),e._UZ(24,"div",16),e.qZA(),e.qZA(),e.qZA(),e.TgZ(25,"tr"),e.TgZ(26,"th"),e._uU(27,"Date of IN/OUT"),e.qZA(),e.TgZ(28,"th"),e._uU(29,"IN Qty"),e.qZA(),e.TgZ(30,"th"),e._uU(31," Purchased/Donation"),e.qZA(),e.TgZ(32,"th"),e._uU(33,"OUT Qty"),e.qZA(),e.TgZ(34,"th"),e._uU(35,"Balance in store"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(36,"tbody"),e.YNc(37,OI,12,8,"tr",17),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",o.norecord),e.xp6(1),e.Q6J("closeOthers",!0),e.xp6(16),e.Oqu(o.ItemName),e.xp6(3),e.AsE(" ",e.lcZ(22,6,o.startdate)," To ",e.lcZ(23,8,o.enddate),""),e.xp6(16),e.Q6J("ngForOf",o.tabdata))},directives:[g.O5,u.gY,u.Gk,u.Cu,u.gW,a._Y,a.JL,a.sg,a.EJ,a.JJ,a.u,g.mk,a.YN,a.Kr,g.sg,a.Fj],pipes:[g.uU],styles:["","@page\n  {\n      size: auto;   \n  }"]}),i})();function VI(i,n){1&i&&(e.TgZ(0,"div",25),e._uU(1," No record found ! "),e.qZA())}function BI(i,n){1&i&&(e.TgZ(0,"span",26),e._uU(1,"All Item Report"),e.qZA(),e.TgZ(2,"div",27),e._UZ(3,"i",28),e.qZA())}function HI(i,n){1&i&&(e.TgZ(0,"p",41),e._uU(1,"start date must be earlier to end date"),e.qZA())}function $I(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Start Date is required. "),e.qZA())}function LI(i,n){if(1&i&&(e.TgZ(0,"div",42),e.YNc(1,$I,2,0,"div",43),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.startDate.errors.required)}}function GI(i,n){1&i&&(e.TgZ(0,"div",44),e._uU(1," Kindly enter the current month or less. "),e.qZA())}const jI=function(i){return{"is-invalid":i}};function zI(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"form",29),e.TgZ(1,"div",30),e.TgZ(2,"div",31),e.TgZ(3,"label",32),e._uU(4,"Select Month"),e.qZA(),e._UZ(5,"input",33),e.YNc(6,HI,2,0,"p",34),e.YNc(7,LI,2,1,"div",35),e.YNc(8,GI,2,0,"div",36),e.qZA(),e.TgZ(9,"div",37),e.TgZ(10,"button",38),e.NdJ("click",function(){return e.CHM(t),e.oxw().submit()}),e._uU(11,"Submit"),e.qZA(),e.TgZ(12,"button",39),e.NdJ("click",function(){return e.CHM(t),e.oxw().print()}),e._uU(13,"Print"),e.qZA(),e.TgZ(14,"button",40),e.NdJ("click",function(){return e.CHM(t),e.oxw().reset()}),e._uU(15,"Reset"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("formGroup",t.itemReportForm),e.xp6(5),e.Q6J("max",t.maxDate)("ngClass",e.VKq(6,jI,t.submitted&&t.f.startDate.errors)),e.xp6(1),e.Q6J("ngIf",t.greaterdate),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.startDate.errors),e.xp6(1),e.Q6J("ngIf",t.fDate)}}function WI(i,n){if(1&i&&(e.TgZ(0,"tr",18),e.TgZ(1,"td",45),e.TgZ(2,"b"),e._uU(3),e.qZA(),e.qZA(),e.TgZ(4,"td",46),e._uU(5),e.ALo(6,"number"),e.qZA(),e.TgZ(7,"td",46),e._uU(8),e.qZA(),e.TgZ(9,"td",46),e._uU(10),e.ALo(11,"number"),e.qZA(),e.TgZ(12,"td",46),e._uU(13),e.qZA(),e.TgZ(14,"td",46),e._uU(15),e.ALo(16,"number"),e.qZA(),e.TgZ(17,"td",46),e._uU(18),e.qZA(),e.TgZ(19,"td",46),e._uU(20),e.qZA(),e.TgZ(21,"td",46),e._uU(22),e.qZA(),e.TgZ(23,"td",46),e._uU(24),e.qZA(),e.TgZ(25,"td",46),e._uU(26),e.ALo(27,"number"),e.qZA(),e.qZA()),2&i){const t=n.$implicit;e.xp6(3),e.Oqu(t.ItemName),e.xp6(2),e.hij("Rs.",e.xi3(6,11,t.unitprice,"1.2-3"),""),e.xp6(3),e.Oqu(t.Qtyrec),e.xp6(2),e.hij("Rs.",e.xi3(11,14,t.recamt,"1.2-3"),""),e.xp6(3),e.Oqu(t.Qtyiss),e.xp6(2),e.hij("Rs.",e.xi3(16,17,t.issamt,"1.2-3"),""),e.xp6(3),e.Oqu(t.opening),e.xp6(2),e.hij("",t.Qtyrec+t.Qtyrec," "),e.xp6(2),e.Oqu(t.Qtyiss),e.xp6(2),e.Oqu(t.balqty),e.xp6(2),e.hij("Rs.",e.xi3(27,20,t.balamt,"1.2-3"),"")}}let KI=(()=>{class i{constructor(t,o,s,r){this.myFormBuilder=t,this.reportSer=o,this.location=s,this.userService=r,this.Dmonth="Nov",this.Damount=14e3,this.TPuramount=450571,this.Stsoldamount=8896,this.Premonthamount=497267,this.Adjustments=518897,this.LostitemPrice=0,this.greaterdate=!1,this.submitted=!1,this.tabdata=[],this.url=window.location.protocol+"//"+window.location.host+"/assets/css/report.css",this.logourl=window.location.protocol+"//"+window.location.host+"/pages/child-reg-form/child-reg-form.html",this.TotalStockInAmount=0,this.TotalStockOutAmount=0,this.RemainingStockAmount=0,this.norecord=!1,this.maxDate=(0,g.p6)(new Date,"yyyy-MM","en")}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():(this.formControls(),this.currentTime=new Date,this.curentMonth=this.currentTime.getFullYear()+"-"+("0"+(this.currentTime.getMonth()+1)).slice(-2))}get f(){return this.itemReportForm.controls}formControls(){this.itemReportForm=this.myFormBuilder.group({startDate:["",a.kI.required]})}submit(){if(this.submitted=!0,this.tabdata=[],this.TotalStockInAmount=0,this.TotalStockOutAmount=0,this.RemainingStockAmount=0,!this.itemReportForm.invalid){if($("#startDate").css("border","1px solid #ced4da"),this.greaterdate=!1,this.stdate=this.itemReportForm.value.startDate,Date.parse(this.stdate)>Date.parse(this.curentMonth.toString()))return void(this.fDate=!0);this.fDate=!1,this.storeItemSub=this.reportSer.getallItemData(this.itemReportForm.value.startDate).subscribe(o=>{if(o.length>0){for(var s in o)this.TotalStockInAmount=this.TotalStockInAmount+o[s].recamt,this.TotalStockOutAmount=this.TotalStockOutAmount+o[s].issamt,this.RemainingStockAmount=this.RemainingStockAmount+o[s].balamt;this.tabdata=o,$("#2").show(),$("#page").show()}else $("#2").hide(),$("#page").hide(),this.norecord=!0,setTimeout(()=>this.norecord=!1,4e3),this.tabdata=[]})}}reset(){this.itemReportForm.reset(),this.submitted=!1,this.tabdata=[]}ngOnDestroy(){this.storeItemSub&&this.storeItemSub.unsubscribe()}print(){var t=document.getElementById("2");t.style.visibility="hidden";let o=document.getElementById("page"),s=window.open("","new div","height=720,width=1080");s.document.write("<html><head>"),s.document.write('<style>\n    .report{background-color: grey;\n      border : 1px solid rgb(167, 167, 167);\n    }\n      @page {\n        size: A4 landscape !important;\n        margin: 0.2inch !important;\n      }\n    @media print{\n\n      .col-sm-1, .col-sm-2, .col-sm-3, .col-sm-4, .col-sm-5, .col-sm-6,\n      .col-sm-7, .col-sm-8, .col-sm-9, .col-sm-10, .col-sm-11, .col-sm-12 {\n           float: left;\n      }\n      .page-break{\n        page-break-after: auto;\n      }\n      th{\n        background-color:lightgrey;\n      }\n      html\n      {\n\n      }\n      body {\n        -webkit-print-color-adjust:exact;\n\n\n      }\n        .col-sm-12 {\n             width: 100%;\n        }\n\n        .col-sm-11 {\n             width: 91.66666666666666%;\n        }\n\n        .col-sm-10 {\n             width: 83.33333333333334%;\n        }\n\n        .col-sm-9 {\n              width: 75%;\n        }\n\n        .col-sm-8 {\n              width: 66.66666666666666%;\n        }\n\n         .col-sm-7 {\n              width: 58.333333333333336%;\n         }\n\n         .col-sm-6 {\n              width: 50%;\n         }\n\n         .col-sm-5 {\n              width: 41.66666666666667%;\n         }\n\n         .col-sm-4 {\n              width: 33.33333333333333%;\n         }\n\n         .col-sm-3 {\n              width: 25%;\n         }\n\n         .col-sm-2 {\n                width: 16.666666666666664%;\n         }\n\n         .col-sm-1 {\n                width: 8.333333333333332%;\n          }\n        .color{\n          background-color: lightblue !important;\n        }\n        .image{\n          width="100px"\n          height="100px"\n        }\n    .print:last-child {\n      page-break-after: auto;\n      }\n      .th {\n        background-color: yellow;\n      }\n      .lightBlue {\n        background-color: lightblue !important;\n        -webkit-print-color-adjust: exact;\n        color-adjust: exact !important;\n      }\n    .date{\n      font-weight: 400;\n      color : green;\n    }\n\n    .heading{\n      font-weight: 400;\n    }\n    .head{\n      font-weight:200;\n      text-align:center;\n    }\n    .error{\n      border : 1px solid red;\n    }</style>'),s.document.write("</head><body>"),s.document.write(o.innerHTML),s.document.write(`<link rel="stylesheet" type="text/css" href="${this.url}";>`),s.document.write('<div class="print"></div></body>'),s.document.write("</html>"),setTimeout(()=>{s.document.close(),s.focus(),s.print()},300),setTimeout(function(){t.style.visibility="visible",s.close()},1500)}back(){this.location.back()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(ft),e.Y36(g.Ye),e.Y36(h))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-allitemsreport"]],decls:123,vars:48,consts:[[1,"content-wrapper"],["class","alertnotify","style","background: #CB3837",4,"ngIf"],["activeIds","toggle-11",3,"closeOthers"],["id","toggle-11"],["ngbPanelTitle",""],["ngbPanelContent",""],["id","page",1,"container-fluid","mt-2",2,"font-family","Sans-serif","background-color","white","display","none"],[1,"table"],["id","storedataTable",1,"table","table-striped","table-bordered","text-center"],["colspan","11"],[1,"row"],[1,"col-3","text-left"],["src","/assets/images/logo-Mz.png","height","40","width","auto"],[1,"col-5"],[2,"font-size","22px"],[1,"align-left",2,"font-size","16px"],[1,"col-4"],["style","font-size:13px;font-weight: 200;",4,"ngFor","ngForOf"],[2,"font-size","13px","font-weight","200"],["colspan","2"],["colspan","4"],[1,"container-fluid"],[2,"page-break-before","auto"],[1,"col-2"],[1,"col-3"],[1,"alertnotify",2,"background","#CB3837"],[1,"card-header--title"],[1,"pull-right"],[1,"fa","fa-angle-down","fa-lg"],[3,"formGroup"],[1,"row","mb-1"],[1,"col-md-3"],["for",""],["type","month","formControlName","startDate","id","startDate",1,"form-control","form-control-sm",3,"max","ngClass"],["style","color:red;",4,"ngIf"],["class","invalid-feedback",4,"ngIf"],["class","invalid-feedback d-block",4,"ngIf"],[1,"col-md-3","mt-3"],[1,"btn","upload-btn","btn-sm","mr-2",3,"click"],["id","2",1,"btn","print-btn","btn-sm","mr-1","mr-2",2,"display","none",3,"click"],[1,"btn","reset-btn","btn-sm",3,"click"],[2,"color","red"],[1,"invalid-feedback"],[4,"ngIf"],[1,"invalid-feedback","d-block"],[2,"padding-bottom","0","padding-top","0","text-align","left"],[2,"padding-bottom","0","padding-top","0"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,VI,2,0,"div",1),e.qZA(),e.TgZ(2,"ngb-accordion",2),e.TgZ(3,"ngb-panel",3),e.YNc(4,BI,4,0,"ng-template",4),e.YNc(5,zI,16,8,"ng-template",5),e.qZA(),e.qZA(),e.TgZ(6,"div",6),e.TgZ(7,"div",7),e._UZ(8,"br"),e.TgZ(9,"table",8),e.TgZ(10,"thead"),e.TgZ(11,"tr"),e.TgZ(12,"th",9),e.TgZ(13,"div",10),e.TgZ(14,"div",11),e._UZ(15,"img",12),e.qZA(),e.TgZ(16,"div",13),e.TgZ(17,"label",14),e._uU(18,"Stock Report"),e.qZA(),e._UZ(19,"br"),e.TgZ(20,"label",15),e._uU(21),e.ALo(22,"date"),e.ALo(23,"date"),e.qZA(),e.qZA(),e._UZ(24,"div",16),e.qZA(),e.qZA(),e.qZA(),e.TgZ(25,"tr"),e.TgZ(26,"th"),e._uU(27,"Item Name"),e.qZA(),e.TgZ(28,"th"),e._uU(29,"Unit Amount"),e.qZA(),e.TgZ(30,"th"),e._uU(31,"Stock In Qty"),e.qZA(),e.TgZ(32,"th"),e._uU(33,"Stock In Amount"),e.qZA(),e.TgZ(34,"th"),e._uU(35,"Stock Out Qty"),e.qZA(),e.TgZ(36,"th"),e._uU(37,"Stock Out Amount"),e.qZA(),e.TgZ(38,"th"),e._uU(39,"Opening Qty"),e.qZA(),e.TgZ(40,"th"),e._uU(41,"Total In Stock"),e.qZA(),e.TgZ(42,"th"),e._uU(43,"Total Out Stock"),e.qZA(),e.TgZ(44,"th"),e._uU(45,"Balance Qty"),e.qZA(),e.TgZ(46,"th"),e._uU(47,"Balance Amount"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(48,"tbody"),e.YNc(49,WI,28,23,"tr",17),e.TgZ(50,"tr",18),e._UZ(51,"td",19),e.TgZ(52,"td"),e._uU(53,"Total In Stock Expense"),e.qZA(),e.TgZ(54,"td"),e._uU(55),e.ALo(56,"number"),e.qZA(),e.TgZ(57,"td"),e._uU(58,"Total Out Stock Expense"),e.qZA(),e.TgZ(59,"td"),e._uU(60),e.ALo(61,"number"),e.qZA(),e.TgZ(62,"td",20),e._uU(63,"Remaining Stock Amount"),e.qZA(),e.TgZ(64,"td"),e._uU(65),e.ALo(66,"number"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(67,"div",21),e.TgZ(68,"table",22),e.TgZ(69,"tr",18),e.TgZ(70,"td"),e._uU(71),e.qZA(),e.TgZ(72,"td"),e._uU(73),e.ALo(74,"number"),e.qZA(),e.qZA(),e.TgZ(75,"tr",18),e.TgZ(76,"td"),e._uU(77,"Total Purchased Amount ="),e.qZA(),e.TgZ(78,"td"),e._uU(79),e.ALo(80,"number"),e.qZA(),e.qZA(),e.TgZ(81,"tr",18),e.TgZ(82,"td"),e._uU(83,"Stock Sold Amount ="),e.qZA(),e.TgZ(84,"td"),e._uU(85),e.ALo(86,"number"),e.qZA(),e.qZA(),e.TgZ(87,"tr",18),e.TgZ(88,"td"),e._uU(89,"Previous Month Stock Remaining Amount ="),e.qZA(),e.TgZ(90,"td"),e._uU(91),e.ALo(92,"number"),e.qZA(),e.qZA(),e.TgZ(93,"tr",18),e.TgZ(94,"td"),e._uU(95,"Adjustment adding previous rate of pre ="),e.qZA(),e.TgZ(96,"td"),e._uU(97),e.ALo(98,"number"),e.qZA(),e.qZA(),e.TgZ(99,"tr",18),e.TgZ(100,"td"),e._uU(101,"Lost Items Price ="),e.qZA(),e.TgZ(102,"td"),e._uU(103),e.ALo(104,"number"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(105,"div",10),e._UZ(106,"br"),e._UZ(107,"div",23),e.TgZ(108,"div",24),e.TgZ(109,"p"),e._uU(110,"______________________"),e.qZA(),e.TgZ(111,"p"),e._uU(112,"Store Managed By"),e.qZA(),e.qZA(),e.TgZ(113,"div",24),e.TgZ(114,"p"),e._uU(115,"______________________"),e.qZA(),e.TgZ(116,"p"),e._uU(117,"Store Verified By"),e.qZA(),e.qZA(),e.TgZ(118,"div",24),e.TgZ(119,"p"),e._uU(120,"______________________"),e.qZA(),e.TgZ(121,"p"),e._uU(122,"Executive Director"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",o.norecord),e.xp6(1),e.Q6J("closeOthers",!0),e.xp6(19),e.AsE("",e.xi3(22,15,o.stdate,"MMMM")," ",e.xi3(23,18,o.stdate,"yyyy"),""),e.xp6(28),e.Q6J("ngForOf",o.tabdata),e.xp6(6),e.hij("Rs.",e.xi3(56,21,o.TotalStockInAmount,"1.2-3"),""),e.xp6(5),e.hij("Rs.",e.xi3(61,24,o.TotalStockOutAmount,"1.2-3"),""),e.xp6(5),e.hij("Rs.",e.xi3(66,27,o.RemainingStockAmount,"1.2-3"),""),e.xp6(6),e.hij("Donation Amount in ",o.Dmonth," ="),e.xp6(2),e.hij("Rs.",e.xi3(74,30,o.Damount,"1.2-3"),""),e.xp6(6),e.hij("Rs.",e.xi3(80,33,o.TPuramount,"1.2-3"),""),e.xp6(6),e.hij("Rs.",e.xi3(86,36,o.Stsoldamount,"1.2-3"),""),e.xp6(6),e.hij("Rs.",e.xi3(92,39,o.Premonthamount,"1.2-3"),""),e.xp6(6),e.hij("Rs.",e.xi3(98,42,o.Adjustments,"1.2-3"),""),e.xp6(6),e.hij("Rs.",e.xi3(104,45,o.LostitemPrice,"1.2-3"),""))},directives:[g.O5,u.gY,u.Gk,u.Cu,u.gW,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,g.mk,g.sg],pipes:[g.uU,g.JJ],styles:[""]}),i})();function XI(i,n){1&i&&(e.TgZ(0,"div",29),e._uU(1," Package returned successfully. "),e.qZA())}function ey(i,n){1&i&&(e.TgZ(0,"div",30),e._uU(1," Submited successfully!. "),e.qZA())}function ty(i,n){1&i&&(e.TgZ(0,"div",29),e._uU(1," Recieved successfully!. "),e.qZA())}function iy(i,n){1&i&&(e.TgZ(0,"div",31),e._uU(1," something went Wrong!. "),e.qZA())}function oy(i,n){1&i&&(e.TgZ(0,"span",32),e._uU(1,"Package Delivery Status"),e.qZA(),e.TgZ(2,"div",33),e._UZ(3,"i",34),e.qZA())}function ny(i,n){1&i&&(e.TgZ(0,"div",45),e._uU(1," please enter date "),e.qZA())}function sy(i,n){1&i&&(e.TgZ(0,"div",45),e._uU(1," please enter date "),e.qZA())}const Bt=function(i){return{"is-invalid":i}};function ry(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"form",35),e.TgZ(1,"div",36),e.TgZ(2,"div",37),e.TgZ(3,"label"),e._uU(4,"From"),e.qZA(),e._UZ(5,"input",38),e.YNc(6,ny,2,0,"div",39),e.qZA(),e.TgZ(7,"div",37),e.TgZ(8,"label"),e._uU(9,"To"),e.qZA(),e._UZ(10,"input",40),e.YNc(11,sy,2,0,"div",39),e.qZA(),e.qZA(),e._UZ(12,"br"),e.TgZ(13,"div",41),e.TgZ(14,"div",42),e.TgZ(15,"button",43),e.NdJ("click",function(){return e.CHM(t),e.oxw().Search()}),e._uU(16,"Submit"),e.qZA(),e._uU(17,"\xa0 "),e.TgZ(18,"button",44),e.NdJ("click",function(){return e.CHM(t),e.oxw().Cancel()}),e._uU(19,"Reset"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("formGroup",t.PackageStatus),e.xp6(5),e.Q6J("max",t.maxDate)("ngClass",e.VKq(7,Bt,t.submitted&&t.f.startDate.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.startDate.errors),e.xp6(4),e.Q6J("max",t.maxDate)("ngClass",e.VKq(9,Bt,t.submitted&&t.f.endDate.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.endDate.errors)}}function ay(i,n){if(1&i&&(e.TgZ(0,"td",49),e.TgZ(1,"span",51),e._uU(2),e.qZA(),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.Status)}}function ly(i,n){if(1&i&&(e.TgZ(0,"td",49),e.TgZ(1,"span",51),e._uU(2),e.qZA(),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.Status)}}function dy(i,n){if(1&i&&(e.TgZ(0,"td",49),e.TgZ(1,"span",52),e._uU(2),e.qZA(),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.Status)}}function cy(i,n){if(1&i&&(e.TgZ(0,"td",49),e.TgZ(1,"span",53),e._uU(2),e.qZA(),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.Status)}}function uy(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"td",49),e.TgZ(1,"button",54),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;return e.oxw(2).show(s.PackageStatusId,5027,s.RegNumber)}),e._uU(2,"Received"),e.qZA(),e._uU(3,"\xa0 "),e.TgZ(4,"button",55),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;return e.oxw(2).show(s.PackageStatusId,5028,s.RegNumber)}),e._uU(5,"Damaged"),e.qZA(),e._uU(6,"\xa0 "),e.TgZ(7,"button",56),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;return e.oxw(2).show(s.PackageStatusId,5029,s.RegNumber)}),e._uU(8,"Return"),e.qZA(),e.qZA()}if(2&i){const t=e.oxw().$implicit;e.xp6(1),e.s9C("id",t.RegNumber),e.xp6(3),e.s9C("id",t.RegNumber),e.xp6(3),e.s9C("id",t.RegNumber)}}function gy(i,n){1&i&&(e.TgZ(0,"td",49),e.TgZ(1,"button",57),e._uU(2,"Received"),e.qZA(),e._uU(3,"\xa0 "),e.TgZ(4,"button",58),e._uU(5,"Damaged"),e.qZA(),e._uU(6,"\xa0 "),e.TgZ(7,"button",59),e._uU(8,"Return"),e.qZA(),e.qZA())}function my(i,n){if(1&i&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td",49),e._uU(4),e.qZA(),e.TgZ(5,"td",49),e._uU(6),e.qZA(),e.TgZ(7,"td",49),e._uU(8),e.qZA(),e.TgZ(9,"td",49),e._uU(10),e.qZA(),e.YNc(11,ay,3,1,"td",50),e.YNc(12,ly,3,1,"td",50),e.YNc(13,dy,3,1,"td",50),e.YNc(14,cy,3,1,"td",50),e.YNc(15,uy,9,3,"td",50),e.YNc(16,gy,9,0,"td",50),e.qZA()),2&i){const t=n.$implicit,o=n.index;e.xp6(2),e.Oqu(o+1),e.xp6(2),e.Oqu(t.patientName),e.xp6(2),e.Oqu(t.packageName),e.xp6(2),e.Oqu(t.CreatedOn),e.xp6(2),e.Oqu(t.userName),e.xp6(1),e.Q6J("ngIf","Sent"==t.Status),e.xp6(1),e.Q6J("ngIf","Recieved"==t.Status),e.xp6(1),e.Q6J("ngIf","Damaged"==t.Status),e.xp6(1),e.Q6J("ngIf","Returned"==t.Status),e.xp6(1),e.Q6J("ngIf","Sent"==t.Status),e.xp6(1),e.Q6J("ngIf","Sent"!=t.Status)}}function py(i,n){if(1&i&&(e.TgZ(0,"table",46),e.TgZ(1,"thead"),e.TgZ(2,"tr"),e.TgZ(3,"th",47),e._uU(4,"#"),e.qZA(),e.TgZ(5,"th",47),e._uU(6,"Patient Name"),e.qZA(),e.TgZ(7,"th",47),e._uU(8,"Package Name."),e.qZA(),e.TgZ(9,"th",47),e._uU(10,"Issued On"),e.qZA(),e.TgZ(11,"th",47),e._uU(12,"Issued By"),e.qZA(),e.TgZ(13,"th",47),e._uU(14,"Status"),e.qZA(),e.TgZ(15,"th",47),e._uU(16,"Action"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"tbody"),e.YNc(18,my,17,11,"tr",48),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(18),e.Q6J("ngForOf",t.datafromDB)}}let _y=(()=>{class i{constructor(t,o,s,r,l,d){this.spinner=t,this.myFormBuilder=o,this.detectChanges=s,this.search=r,this.Pkgser=l,this.userService=d,this.maxDate=(0,g.p6)(new Date,"yyyy-MM-dd","en"),this.options=[{}]}get f(){return this.PackageStatus.controls}disableDate(){return!1}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():(this.formControls(),this.getPackageStatusOfPatient(),this.commentForm=this.myFormBuilder.group({comments:[""],received:[""]}))}formControls(){this.PackageStatus=this.myFormBuilder.group({startDate:["",a.kI.required],endDate:["",a.kI.required]})}getPackageStatusOfPatient(){this.Pkgser.getPackageStatusOfPatient().subscribe(t=>{t.length>0?(this.datafromDB=t,this.detectChanges.detectChanges(),$("#datatable").DataTable({paging:!0,pageLength:5,lengthMenu:[[5,10,20,-1],[5,10,20,50]],searching:!0,columnDefs:[{orderable:!1,targets:0}],order:[[4,"desc"]]})):(this.datafromDB=[],this.detectChanges.detectChanges(),$("#datatable").DataTable({paging:!0,pageLength:5,lengthMenu:[[5,10,20,-1],[5,10,20,50]],searching:!0,columnDefs:[{orderable:!1,targets:0}],order:[[4,"desc"]]}))}),$("#datatable").dataTable().fnDestroy()}Search(){this.PackageStatus.invalid||(this.formdata={startDate:this.PackageStatus.controls.startDate.value,endDate:this.PackageStatus.controls.endDate.value},this.Pkgser.getSearchPackageStatusByDate(this.formdata).subscribe(t=>{t.length>0?(this.datafromDB=t,this.detectChanges.detectChanges(),$("#datatable").DataTable({paging:!0,pageLength:5,lengthMenu:[[5,10,20,-1],[5,10,20,50]],searching:!0,columnDefs:[{orderable:!1,targets:0}],order:[[4,"desc"]]})):(this.noDataFound=!0,setTimeout(()=>{this.noDataFound=!1},3e3),this.datafromDB=[],this.detectChanges.detectChanges(),$("#datatable").DataTable({paging:!0,pageLength:5,lengthMenu:[[5,10,20,-1],[5,10,20,50]],searching:!0,columnDefs:[{orderable:!1,targets:0}],order:[[4,"desc"]]}))}),$("#datatable").dataTable().fnDestroy())}Reset(){this.submitted=!1,this.PackageStatus.reset(),this.formControls()}show(t,o,s){5027==o?(this.headingModal="Package Receiving Comments",this.labelDate="Receiving Date"):5028==o?(this.headingModal="Package Damage Reason",this.labelDate="Damage Date"):5029==o&&(this.headingModal="Package Return Comments",this.labelDate="Return Date"),this.showModal=!0,this.PackageStatusId=t,this.StatusId=o,this.regnumber=s}onSubmit(){let t=this.commentForm.value;this.formdata={PackageStatusId:this.PackageStatusId,StatusId:this.StatusId,Comments:t.comments,Date:t.received,UserId:localStorage.getItem("CurrentUserId")},this.Pkgser.updatePackageStatus(this.formdata).subscribe(o=>{o?(5027==this.StatusId?(this.IsRecieved=!0,setTimeout(()=>{this.IsRecieved=!1},3e3)):5028==this.StatusId?(this.IsDemaged=!0,setTimeout(()=>{this.IsDemaged=!1},3e3)):5029==this.StatusId&&(this.IsReturned=!0,setTimeout(()=>{this.IsReturned=!1},3e3)),this.hide(),this.getPackageStatusOfPatient()):(this.IsNot=!0,setTimeout(()=>{this.IsNot=!1},3e3))})}hide(){this.showModal=!1,this.formdata={},this.PackageStatusId="",this.StatusId=""}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(v.t2),e.Y36(a.qu),e.Y36(e.sBO),e.Y36(Mt),e.Y36(pe),e.Y36(h))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-packagestatus"]],decls:40,vars:11,consts:[[1,"content-wrapper"],["class","alertnotify","style","background: #54a254;",4,"ngIf"],["class","alertnotify","style","background: #e99d2c",4,"ngIf"],["class","alertnotify","style","background: #d61f28;",4,"ngIf"],["bdColor","rgba(51,51,51,0.6)","size","medium","color","#eb4fa5","type","timer"],[2,"font-size","20px","color","#eb4fa5","margin-top","30px"],["activeIds","toggle-11",3,"closeOthers"],["id","toggle-11"],["ngbPanelTitle",""],["ngbPanelContent",""],[1,"card","main-card","mt-3"],[1,"card-header"],[1,"theme-heading"],["id","datatable","cellspacing","0","class","table table-striped table-bordered",4,"ngIf"],["id","imagemodal","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal"],[1,"modal-dialog",2,"width","50%","height","20px","position","center","margin-top","5%"],[1,"modal-content"],[1,"modal-header"],["id","myModalLabel",1,"modal-title"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],[1,"from-control"],["type","text","id","comments","formControlName","comments",1,"form-control","form-control-sm"],[1,"form-group","col-md-5"],["type","date","id","received","formControlName","received",1,"form-control","form-control-sm"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary",3,"click"],["type","button","data-dismiss","modal",1,"btn","btn-danger",3,"click"],[1,"alertnotify",2,"background","#54a254"],[1,"alertnotify",2,"background","#e99d2c"],[1,"alertnotify",2,"background","#d61f28"],[1,"card-header--title"],[1,"pull-right"],[1,"fa","fa-angle-down","fa-lg"],[3,"formGroup"],[1,"row","mt-1"],[1,"col"],["type","date","onkeydown","disableDate()","formControlName","startDate","id","startDate","appAlphabetOnly","",1,"form-control","form-control-sm",3,"max","ngClass"],["class","invalid-feedback",4,"ngIf"],["type","date","onkeydown","disableDate()","formControlName","endDate","id","endDate","appAlphabetOnly","",1,"form-control","form-control-sm",3,"max","ngClass"],[1,"row"],[1,"col","text-right"],[1,"btn","upload-btn","btn-sm",3,"click"],[1,"btn","reset-btn","btn-sm",3,"click"],[1,"invalid-feedback"],["id","datatable","cellspacing","0",1,"table","table-striped","table-bordered"],["scope","col",2,"text-align","center"],[4,"ngFor","ngForOf"],[2,"text-align","center"],["style","text-align:center",4,"ngIf"],[1,"badge","badge-success",2,"font-size","small"],[1,"badge","badge-danger",2,"font-size","small"],[1,"badge","badge-info",2,"font-size","small"],["ngbTooltip","Recieved","type","button",1,"btn","upload-btn","btn-sm",3,"id","click"],["ngbTooltip","Damaged","type","button",1,"btn","btn-warning","btn-sm",3,"id","click"],["ngbTooltip","Returned","type","button",1,"btn","reset-btn","btn-sm",3,"id","click"],["ngbTooltip","Recieved","disabled","","type","button",1,"btn","upload-btn","btn-sm"],["ngbTooltip","Damaged","disabled","","type","button",1,"btn","btn-warning","btn-sm"],["ngbTooltip","Returned","disabled","","type","button",1,"btn","reset-btn","btn-sm"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,XI,2,0,"div",1),e.YNc(2,ey,2,0,"div",2),e.YNc(3,ty,2,0,"div",1),e.YNc(4,iy,2,0,"div",3),e.qZA(),e.TgZ(5,"ngx-spinner",4),e.TgZ(6,"p",5),e._uU(7,"In progress..."),e.qZA(),e.qZA(),e.TgZ(8,"ngb-accordion",6),e.TgZ(9,"ngb-panel",7),e.YNc(10,oy,4,0,"ng-template",8),e.YNc(11,ry,20,11,"ng-template",9),e.qZA(),e.qZA(),e.TgZ(12,"div",10),e.TgZ(13,"div",11),e.TgZ(14,"p",12),e._uU(15,"Package Delivery Status"),e.qZA(),e.TgZ(16,"div"),e.YNc(17,py,19,1,"table",13),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"div",14),e.TgZ(19,"div",15),e.TgZ(20,"div",16),e.TgZ(21,"div",17),e.TgZ(22,"h5",18),e._uU(23),e.qZA(),e.qZA(),e.TgZ(24,"div",19),e.TgZ(25,"form",20),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(26,"div",21),e.TgZ(27,"label",22),e._uU(28,"Comment"),e.qZA(),e.TgZ(29,"textarea",23),e._uU(30,"           "),e.qZA(),e.qZA(),e.TgZ(31,"div",24),e.TgZ(32,"label",22),e._uU(33),e.qZA(),e._UZ(34,"input",25),e.qZA(),e.qZA(),e.qZA(),e.TgZ(35,"div",26),e.TgZ(36,"button",27),e.NdJ("click",function(){return o.onSubmit()}),e._uU(37,"Submit"),e.qZA(),e.TgZ(38,"button",28),e.NdJ("click",function(){return o.hide()}),e._uU(39,"Cancel"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",o.IsReturned),e.xp6(1),e.Q6J("ngIf",o.IsDemaged),e.xp6(1),e.Q6J("ngIf",o.IsRecieved),e.xp6(1),e.Q6J("ngIf",o.IsNot),e.xp6(4),e.Q6J("closeOthers",!0),e.xp6(9),e.Q6J("ngIf",o.datafromDB),e.xp6(1),e.Udp("display",o.showModal?"block":"none"),e.xp6(5),e.Oqu(o.headingModal),e.xp6(2),e.Q6J("formGroup",o.commentForm),e.xp6(8),e.Oqu(o.labelDate))},directives:[g.O5,v.Ro,u.gY,u.Gk,u.Cu,u.gW,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,x,g.mk,g.sg,u._L],styles:[""]}),i})(),Ht=(()=>{class i{constructor(t){this.activeModal=t}ngOnInit(){}decline(){this.activeModal.close(!1)}accept(){this.activeModal.close(!0)}dismiss(){this.activeModal.dismiss()}ngOnDestroy(){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(u.Kz))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-confirmation-dialog"]],inputs:{title:"title",message:"message",btnOkText:"btnOkText",btnCancelText:"btnCancelText"},decls:13,vars:2,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"h4",1),e._uU(2),e.qZA(),e.TgZ(3,"button",2),e.NdJ("click",function(){return o.dismiss()}),e.TgZ(4,"span",3),e._uU(5,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"div",4),e._uU(7),e.qZA(),e.TgZ(8,"div",5),e.TgZ(9,"button",6),e.NdJ("click",function(){return o.accept()}),e._uU(10,"Confirm"),e.qZA(),e.TgZ(11,"button",7),e.NdJ("click",function(){return o.dismiss()}),e._uU(12,"Cancel"),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Oqu(o.title),e.xp6(5),e.hij(" ",o.message," "))},encapsulation:2}),i})();function hy(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"div",5),e.TgZ(6,"div",6),e.TgZ(7,"div",7),e._UZ(8,"img",8),e.TgZ(9,"div",9),e.TgZ(10,"h4"),e._uU(11),e.qZA(),e.TgZ(12,"p",10),e._uU(13,"Employee"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(14,"div",11),e.TgZ(15,"div",12),e.TgZ(16,"div",6),e.TgZ(17,"div",13),e.TgZ(18,"div",14),e.TgZ(19,"h6",15),e._uU(20,"Full Name"),e.qZA(),e.qZA(),e.TgZ(21,"div",16),e._uU(22),e.qZA(),e.qZA(),e._UZ(23,"hr"),e.TgZ(24,"div",13),e.TgZ(25,"div",14),e.TgZ(26,"h6",15),e._uU(27,"Email"),e.qZA(),e.qZA(),e.TgZ(28,"div",16),e._uU(29),e.qZA(),e.qZA(),e._UZ(30,"hr"),e.TgZ(31,"div",13),e.TgZ(32,"div",14),e.TgZ(33,"h6",15),e._uU(34,"Mobile"),e.qZA(),e.qZA(),e.TgZ(35,"div",16),e._uU(36," 03025195447 "),e.qZA(),e.qZA(),e._UZ(37,"hr"),e.TgZ(38,"div",13),e.TgZ(39,"div",17),e.TgZ(40,"a",18),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return s.NavigateToEdit(s.UserData.Userid)}),e._uU(41,"Edit"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(8),e.s9C("src",t.img,e.LSH),e.xp6(3),e.Oqu(t.UserData.Firstname),e.xp6(11),e.AsE(" ",t.UserData.Firstname," ",t.UserData.Lastname," "),e.xp6(7),e.hij(" ",t.UserData.Email," ")}}let fy=(()=>{class i{constructor(t,o,s,r,l){this.myFormBuilder=t,this.modalService=o,this.activatedroute=s,this.userServ=r,this.route=l,this.closeResult="",this.imagename="",this.submitted=!1}ngOnInit(){this.formControls(),this.id=this.activatedroute.snapshot.paramMap.get("id"),this.weburl=window.location.protocol+"//"+window.location.host+"/Documents/userData/",this.img="assets/images/profile.jpg",this.userServ.userProfileById(this.id).subscribe(t=>{t?(this.UserData=t,this.img=this.weburl+this.id+"/"+this.UserData.File):(this.img="./assets/images/download.png",alert("NoData"))})}get f(){return this.UserUpdateForm.controls}formControls(){this.UserUpdateForm=this.myFormBuilder.group({FirstName:["",a.kI.required],LastName:["",a.kI.required],Email:["",[a.kI.required,a.kI.email]],EmployeeId:[""],contact:["",a.kI.required,a.kI]})}loadImageFailed(){}dataURLtoFile(t,o){for(var s=t.split(","),r=s[0].match(/:(.*?);/)[1],l=atob(s[1]),d=l.length,m=new Uint8Array(d);d--;)m[d]=l.charCodeAt(d);return new File([m],o,{type:r})}NavigateToEdit(t){this.route.navigate(["/pages/app-user-edit-profile/"+t])}ngOnDestroy(){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(u.FF),e.Y36(p.gz),e.Y36(pt),e.Y36(p.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-user-profile"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"container"],[1,"main-body"],[1,"row","gutters-sm"],[1,"col-md-4","mb-3"],[1,"card"],[1,"card-body"],[1,"d-flex","flex-column","align-items-center","text-center"],["alt","Admin","width","140",1,"rounded-circle",3,"src"],[1,"mt-3"],[1,"mb-1",2,"color","#e83e8c"],[1,"col-md-8","mb-3"],[1,"card","mb-3"],[1,"row"],[1,"col-sm-3"],[1,"mb-0"],[1,"col-sm-9",2,"color","#e83e8c"],[1,"col-sm-12"],["target","__blank",1,"btn","btn-info",3,"click"]],template:function(t,o){1&t&&e.YNc(0,hy,42,5,"div",0),2&t&&e.Q6J("ngIf",o.UserData)},directives:[g.O5],styles:['#customFile[_ngcontent-%COMP%]{position:absolute;z-index:2;top:0;left:0;filter:alpha(opacity=0);-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";opacity:0;background-color:transparent;color:transparent}body[_ngcontent-%COMP%]{margin-top:20px;color:#1a202c;text-align:left;background-color:#e2e8f0}.main-body[_ngcontent-%COMP%]{padding:15px}.card[_ngcontent-%COMP%]{box-shadow:0 1px 3px #0000001a,0 1px 2px #0000000f}.card[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;min-width:0;word-wrap:break-word;background-color:#fff;background-clip:border-box;border:0 solid rgba(0,0,0,.125);border-radius:.25rem}.card-body[_ngcontent-%COMP%]{flex:1 1 auto;min-height:1px;padding:1rem}.gutters-sm[_ngcontent-%COMP%]{margin-right:-8px;margin-left:-8px}.gutters-sm[_ngcontent-%COMP%] > .col[_ngcontent-%COMP%], .gutters-sm[_ngcontent-%COMP%] > [class*=col-][_ngcontent-%COMP%]{padding-right:8px;padding-left:8px}.mb-3[_ngcontent-%COMP%], .my-3[_ngcontent-%COMP%]{margin-bottom:1rem!important}.bg-gray-300[_ngcontent-%COMP%]{background-color:#e2e8f0}.h-100[_ngcontent-%COMP%]{height:100%!important}.shadow-none[_ngcontent-%COMP%]{box-shadow:none!important}']}),i})();function Zy(i,n){1&i&&(e.TgZ(0,"div",13),e._uU(1," Something went wrong!. "),e.qZA())}function by(i,n){1&i&&(e.TgZ(0,"div",13),e._uU(1," Already Added!. "),e.qZA())}function vy(i,n){1&i&&(e.TgZ(0,"div",14),e._uU(1," Added Successfully!. "),e.qZA())}function Ty(i,n){1&i&&(e.TgZ(0,"div",13),e._uU(1," Please First Remove EmployeeHospital Of Same Hospital!. "),e.qZA())}function Ay(i,n){1&i&&(e.TgZ(0,"div",14),e._uU(1," Deleted Successfully!. "),e.qZA())}function Cy(i,n){1&i&&(e.TgZ(0,"span",15),e._uU(1,"Add Hospital"),e.qZA(),e.TgZ(2,"div",16),e._UZ(3,"i",17),e.qZA())}function qy(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Hospital Name is required "),e.qZA())}function xy(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Hospital Name cannot contain whitespace"),e.qZA())}function Iy(i,n){if(1&i&&(e.TgZ(0,"div",34),e.YNc(1,qy,2,0,"div",35),e.YNc(2,xy,2,0,"div",35),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.HospitalName.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.HospitalName.hasError("whitespace"))}}function yy(i,n){if(1&i&&(e.TgZ(0,"option",36),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.Id),e.xp6(1),e.hij("",t.Name," ")}}function ky(i,n){1&i&&(e.TgZ(0,"div",34),e._uU(1," City is required "),e.qZA())}function Uy(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," address is required "),e.qZA())}function Ny(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Location cannot contain whitespace"),e.qZA())}function wy(i,n){if(1&i&&(e.TgZ(0,"div",34),e.YNc(1,Uy,2,0,"div",35),e.YNc(2,Ny,2,0,"div",35),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.address.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.address.hasError("whitespace"))}}function Sy(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Mobile Number is required "),e.qZA())}function Fy(i,n){1&i&&(e.TgZ(0,"div",38),e._uU(1," Please Enter valid Mobile number (without dash) "),e.qZA())}function Dy(i,n){if(1&i&&(e.TgZ(0,"div",34),e.YNc(1,Sy,2,0,"div",35),e.YNc(2,Fy,2,0,"div",37),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.beds.errors.required),e.xp6(1),e.Q6J("ngIf",t.hospitalForm.controls.beds.hasError("pattern"))}}function Jy(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Email is required"),e.qZA())}function Ey(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Email must be a valid email address"),e.qZA())}function Ry(i,n){if(1&i&&(e.TgZ(0,"div",34),e.YNc(1,Jy,2,0,"div",35),e.YNc(2,Ey,2,0,"div",35),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.email.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.email.errors.email)}}const Re=function(i){return{"is-invalid":i}};function Py(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"form",18),e.TgZ(1,"div",19),e.TgZ(2,"div",20),e.TgZ(3,"label"),e._uU(4,"Hospital Name"),e.qZA(),e._UZ(5,"input",21),e.YNc(6,Iy,3,2,"div",22),e.qZA(),e.TgZ(7,"div",20),e.TgZ(8,"label"),e._uU(9,"Hospital City"),e.qZA(),e.TgZ(10,"select",23),e.TgZ(11,"option",24),e._uU(12,"Select City"),e.qZA(),e.YNc(13,yy,2,2,"option",25),e.qZA(),e.YNc(14,ky,2,0,"div",22),e.qZA(),e.TgZ(15,"div",20),e.TgZ(16,"label"),e._uU(17,"Hospital Address"),e.qZA(),e._UZ(18,"input",26),e.YNc(19,wy,3,2,"div",22),e.qZA(),e.TgZ(20,"div",20),e.TgZ(21,"label"),e._uU(22,"Contact Number "),e.qZA(),e._UZ(23,"input",27),e.qZA(),e.TgZ(24,"div",20),e.TgZ(25,"label"),e._uU(26,"No of Beds "),e.qZA(),e._UZ(27,"input",28),e.YNc(28,Dy,3,2,"div",22),e.qZA(),e.TgZ(29,"div",20),e.TgZ(30,"label"),e._uU(31,"Email"),e.qZA(),e._UZ(32,"input",29),e.YNc(33,Ry,3,2,"div",22),e.qZA(),e.qZA(),e.TgZ(34,"div",19),e.TgZ(35,"div",20),e.TgZ(36,"label"),e._uU(37,"Description "),e.qZA(),e._UZ(38,"textarea",30),e.qZA(),e.qZA(),e._UZ(39,"br"),e.TgZ(40,"div",31),e.TgZ(41,"button",32),e.NdJ("click",function(){return e.CHM(t),e.oxw().addHospital()}),e._uU(42," Submit"),e.qZA(),e._uU(43,"\xa0 "),e.TgZ(44,"button",33),e.NdJ("click",function(){return e.CHM(t),e.oxw().reset()}),e._uU(45," Reset "),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("formGroup",t.hospitalForm),e.xp6(5),e.Q6J("ngClass",e.VKq(14,Re,t.submitted&&t.f.HospitalName.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.HospitalName.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(16,Re,t.submitted&&t.f.city.errors)),e.xp6(3),e.Q6J("ngForOf",t.allcities),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.city.errors.required),e.xp6(4),e.Q6J("ngClass",e.VKq(18,Re,t.submitted&&t.f.address.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.address.errors),e.xp6(4),e.Q6J("preValue",t.hospitalForm.value.contactNumber)("phoneControl",t.hospitalForm.controls.contactNumber),e.xp6(4),e.Q6J("ngClass",e.VKq(20,Re,t.submitted&&t.f.beds.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.beds.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(22,Re,t.submitted&&t.f.email.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.email.errors)}}function Yy(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",43),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;return e.oxw().openConfirmationDialog(s.HospitalId)}),e._UZ(1,"i",44),e.qZA()}}function Qy(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"th",39),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e.TgZ(14,"button",40),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().editHospital(r.HospitalId)}),e._UZ(15,"i",41),e.qZA(),e._uU(16," \xa0 "),e.YNc(17,Yy,2,0,"button",42),e.qZA(),e.qZA()}if(2&i){const t=n.$implicit,o=n.index,s=e.oxw();e.xp6(2),e.Oqu(o+1),e.xp6(2),e.Oqu(t.HospitalName),e.xp6(2),e.Oqu(t.HospitalContact),e.xp6(2),e.Oqu(t.City),e.xp6(2),e.Oqu(t.HospitalEmail),e.xp6(2),e.Oqu(t.HospitalAddress),e.xp6(5),e.Q6J("ngIf",s.IsDelete)}}let Oy=(()=>{class i{constructor(t,o,s,r,l,d,m){this.myFormBuilder=t,this.hospitalSer=o,this.myRouter=s,this.userService=r,this.popUpSer=l,this.detectChanges=d,this.childSer=m,this.allcities=[],this.isVisibleSuccess=!1,this.isVisibleFailure=!1,this.HospitalVisibleFailure=!1,this.submitted=!1,this.addJson={},this.IsSHowPage=!1,this.tData=!1,this.IsDelete=!0,this.isdeleteSuccess=!1,this.isdeleteFailure=!1}get f(){return this.hospitalForm.controls}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():(this.getallcities(),this.formControls(),this.getAllHospital())}addHospital(){this.submitted=!0,!this.hospitalForm.invalid&&(this.addJson={HospitalName:this.hospitalForm.value.HospitalName,HospitalDescription:this.hospitalForm.value.description,HospitalContact:this.hospitalForm.value.contactNumber,HospitalAddress:this.hospitalForm.value.address,HospitalCity:this.hospitalForm.value.city,HospitalEmail:this.hospitalForm.value.email,HospitalBeds:this.hospitalForm.value.beds},this.hospitalSer.addHospital(this.addJson).subscribe(t=>{"Duplicate"==t?(this.HospitalVisibleFailure=!0,setTimeout(()=>this.HospitalVisibleFailure=!1,3e3)):t?(this.isVisibleSuccess=!0,setTimeout(()=>this.isVisibleSuccess=!1,3e3),this.hospitalForm.reset(),this.submitted=!1,this.getAllHospital(),this.getallcities()):(this.isVisibleFailure=!0,setTimeout(()=>this.isVisibleFailure=!1,5e3))}))}formControls(){this.hospitalForm=this.myFormBuilder.group({HospitalName:["",[a.kI.required]],address:["",[a.kI.required]],contactNumber:["03",a.kI.compose([a.kI.required,a.kI.pattern(/^((\+92)|(0092))-{0,1}\d{3}-{0,1}\d{7}$|^\d{11}$|^\d{4}-\d{7}$/)])],description:[""],email:["",[a.kI.required,a.kI.email]],city:["",a.kI.required],beds:[""]})}getallcities(){this.childSer.getallcities().subscribe(t=>{t.length>0&&(this.allcities=t)})}reset(){this.hospitalForm.reset(),this.submitted=!1}getAllHospital(){this.tData=!0,this.hospitalSer.getAllHospitals().subscribe(t=>{t.length>0?(this.hospitals=t,this.detectChanges.detectChanges(),$("#hospitaldataTable").DataTable({paging:!0,searching:!0,ordering:!0})):(this.hospitals=[],this.detectChanges.detectChanges(),$("#hospitaldataTable").DataTable({paging:!0,searching:!0,ordering:!0}))}),$("#hospitaldataTable").dataTable().fnDestroy()}editHospital(t){this.myRouter.navigate(["/pages/edit-hospital/"+t])}openConfirmationDialog(t){let o=localStorage.getItem("CurrentUserId");this.popUpSer.confirm("Please Confirm..","Do you really want to Delete?").then(s=>{s&&this.hospitalSer.deleteHospital(t,o).subscribe(r=>{0==r?(this.isdeleteFailure=!0,setTimeout(()=>this.isdeleteFailure=!1,5e3)):(this.tData=!1,this.getAllHospital(),this.isdeleteSuccess=!0,setTimeout(()=>this.isdeleteSuccess=!1,3e3))})}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)"))}ngOnDestroy(){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(de),e.Y36(p.F0),e.Y36(h),e.Y36(b),e.Y36(e.sBO),e.Y36(S))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-hospital"]],decls:36,vars:7,consts:[[1,"content-wrapper"],["class","alertnotify","style","background: #cb3837",4,"ngIf"],["class","alertnotify","style","background: #54a254",4,"ngIf"],["activeIds","toggle-11",3,"closeOthers"],["id","toggle-11"],["ngbPanelTitle",""],["ngbPanelContent",""],[1,"card","main-card","mb-3"],[1,"card-header"],[1,"table-responsive"],["id","hospitaldataTable",1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[1,"alertnotify",2,"background","#cb3837"],[1,"alertnotify",2,"background","#54a254"],[1,"card-header--title"],[1,"pull-right"],[1,"fa","fa-angle-down","fa-lg"],[3,"formGroup"],[1,"row"],[1,"col-6","col-sm-6","col-md-3","col-lg-3"],["type","text","name","HospitalName","placeholder","Hospital Name","formControlName","HospitalName","id","HospitalName","appAlphabetOnly","",1,"form-control","form-control-sm",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["id","city","formControlName","city",1,"form-control","form-control-sm",3,"ngClass"],["value","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["type","text","name","address","placeholder","Hospital Address","formControlName","address","id","address",1,"form-control","form-control-sm",3,"ngClass"],["type","text","name","contactNumber","phoneMask","","placeholder","Contact Number","formControlName","contactNumber","id","contactNumber","maxlength","12",1,"Phone","form-control","form-control-sm",3,"preValue","phoneControl"],["type","text","name","beds","placeholder","Number Of Beds","formControlName","beds","id","beds","maxlength","11",1,"form-control","form-control-sm",3,"ngClass"],["id","exampleInput1","type","text","placeholder","Enter email...","required","required","aria-required","true","formControlName","email",1,"form-control","form-control-sm",3,"ngClass"],["type","text","name","description","placeholder","description","id","description","formControlName","description",1,"form-control","form-control-sm"],[1,"text-right"],[1,"btn","upload-btn","btn-sm",3,"click"],[1,"btn","reset-btn","btn-sm",3,"click"],[1,"invalid-feedback"],[4,"ngIf"],[3,"value"],["class","text-danger",4,"ngIf"],[1,"text-danger"],["scope","row"],[1,"btn","edit-btn","btn-sm",3,"click"],[1,"fa","fa-pencil","fa-fw"],["class","btn delet-btn btn-sm",3,"click",4,"ngIf"],[1,"btn","delet-btn","btn-sm",3,"click"],[1,"fa","fa-trash","fa-fw"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Zy,2,0,"div",1),e.YNc(2,by,2,0,"div",1),e.YNc(3,vy,2,0,"div",2),e.YNc(4,Ty,2,0,"div",1),e.YNc(5,Ay,2,0,"div",2),e.qZA(),e.TgZ(6,"ngb-accordion",3),e.TgZ(7,"ngb-panel",4),e.YNc(8,Cy,4,0,"ng-template",5),e.YNc(9,Py,46,24,"ng-template",6),e.qZA(),e.qZA(),e._UZ(10,"br"),e.TgZ(11,"div",7),e.TgZ(12,"div",8),e.TgZ(13,"b"),e._uU(14,"List of All Hospitals"),e.qZA(),e.qZA(),e.TgZ(15,"div",9),e._UZ(16,"br"),e.TgZ(17,"table",10),e.TgZ(18,"thead"),e.TgZ(19,"tr"),e.TgZ(20,"th",11),e._uU(21,"#"),e.qZA(),e.TgZ(22,"th",11),e._uU(23,"Hospital Name"),e.qZA(),e.TgZ(24,"th",11),e._uU(25,"Contact No"),e.qZA(),e.TgZ(26,"th",11),e._uU(27,"City"),e.qZA(),e.TgZ(28,"th",11),e._uU(29,"Email"),e.qZA(),e.TgZ(30,"th",11),e._uU(31,"Address"),e.qZA(),e.TgZ(32,"th",11),e._uU(33,"Action"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(34,"tbody"),e.YNc(35,Qy,18,7,"tr",12),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",o.isVisibleFailure),e.xp6(1),e.Q6J("ngIf",o.HospitalVisibleFailure),e.xp6(1),e.Q6J("ngIf",o.isVisibleSuccess),e.xp6(1),e.Q6J("ngIf",o.isdeleteFailure),e.xp6(1),e.Q6J("ngIf",o.isdeleteSuccess),e.xp6(1),e.Q6J("closeOthers",!0),e.xp6(29),e.Q6J("ngForOf",o.hospitals))},directives:[g.O5,u.gY,u.Gk,u.Cu,u.gW,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,x,g.mk,a.EJ,a.YN,a.Kr,g.sg,J,a.nD,a.Q7],styles:[""]}),i})();function My(i,n){1&i&&(e.TgZ(0,"div",7),e._uU(1," Something went wrong!. "),e.qZA())}function Vy(i,n){1&i&&(e.TgZ(0,"div",7),e._uU(1," Already Added!. "),e.qZA())}function By(i,n){1&i&&(e.TgZ(0,"div",8),e._uU(1," Updated Successfully!. "),e.qZA())}function Hy(i,n){1&i&&(e.TgZ(0,"span",9),e._uU(1,"Edit Hospital"),e.qZA())}function $y(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Hospital Name is required"),e.qZA())}function Ly(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Hospital Name cannot contain whitespace"),e.qZA())}function Gy(i,n){if(1&i&&(e.TgZ(0,"div",26),e.YNc(1,$y,2,0,"div",27),e.YNc(2,Ly,2,0,"div",27),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.HospitalName.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.HospitalName.hasError("whitespace"))}}function jy(i,n){if(1&i&&(e.TgZ(0,"option",28),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.Id),e.xp6(1),e.Oqu(t.Name)}}function zy(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Location is required"),e.qZA())}function Wy(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Location cannot contain whitespace"),e.qZA())}function Ky(i,n){if(1&i&&(e.TgZ(0,"div",26),e.YNc(1,zy,2,0,"div",27),e.YNc(2,Wy,2,0,"div",27),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.HospitalAddress.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.HospitalAddress.hasError("whitespace"))}}function Xy(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Location is required"),e.qZA())}function e5(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Location cannot contain whitespace"),e.qZA())}function t5(i,n){if(1&i&&(e.TgZ(0,"div",26),e.YNc(1,Xy,2,0,"div",27),e.YNc(2,e5,2,0,"div",27),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.HospitalContact.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.HospitalContact.hasError("whitespace"))}}function i5(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Location is required"),e.qZA())}function o5(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Location cannot contain whitespace"),e.qZA())}function n5(i,n){if(1&i&&(e.TgZ(0,"div",26),e.YNc(1,i5,2,0,"div",27),e.YNc(2,o5,2,0,"div",27),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.HospitalBeds.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.HospitalBeds.hasError("whitespace"))}}function s5(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Email is required"),e.qZA())}function r5(i,n){if(1&i&&(e.TgZ(0,"div",26),e.YNc(1,s5,2,0,"div",27),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.HospitalEmail.errors.required)}}const Pe=function(i){return{"is-invalid":i}};function a5(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"form",10),e._UZ(1,"input",11),e.TgZ(2,"div",12),e.TgZ(3,"div",13),e.TgZ(4,"label"),e._uU(5,"Hospital Name"),e.qZA(),e._UZ(6,"input",14),e.YNc(7,Gy,3,2,"div",15),e.qZA(),e.TgZ(8,"div",13),e.TgZ(9,"label"),e._uU(10,"Hospital City"),e.qZA(),e.TgZ(11,"select",16),e.YNc(12,jy,2,2,"option",17),e.qZA(),e.qZA(),e.TgZ(13,"div",13),e.TgZ(14,"label"),e._uU(15,"Hospital Address"),e.qZA(),e._UZ(16,"input",18),e.YNc(17,Ky,3,2,"div",15),e.qZA(),e.TgZ(18,"div",13),e.TgZ(19,"label"),e._uU(20,"Contact Number"),e.qZA(),e._UZ(21,"input",19),e.YNc(22,t5,3,2,"div",15),e.qZA(),e.TgZ(23,"div",13),e.TgZ(24,"label"),e._uU(25,"No of Beds"),e.qZA(),e._UZ(26,"input",20),e.YNc(27,n5,3,2,"div",15),e.qZA(),e.TgZ(28,"div",13),e.TgZ(29,"label"),e._uU(30,"Email "),e.qZA(),e._UZ(31,"input",21),e.YNc(32,r5,2,1,"div",15),e.qZA(),e.qZA(),e.TgZ(33,"div",12),e.TgZ(34,"div",13),e.TgZ(35,"label"),e._uU(36,"Description "),e.qZA(),e._UZ(37,"textarea",22),e.qZA(),e.qZA(),e._UZ(38,"br"),e.TgZ(39,"div",23),e.TgZ(40,"button",24),e.NdJ("click",function(){return e.CHM(t),e.oxw().updateHospital()}),e._uU(41,"Update"),e.qZA(),e._uU(42,"\xa0 "),e.TgZ(43,"button",25),e.NdJ("click",function(){return e.CHM(t),e.oxw().addCancel()}),e._uU(44,"Cancel"),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("formGroup",t.hospitalForm),e.xp6(6),e.Q6J("ngClass",e.VKq(14,Pe,t.submitted&&t.f.HospitalName.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.HospitalName.errors),e.xp6(5),e.Q6J("ngForOf",t.allcities),e.xp6(4),e.Q6J("ngClass",e.VKq(16,Pe,t.submitted&&t.f.HospitalAddress.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.HospitalAddress.errors),e.xp6(4),e.Q6J("preValue",t.hospitalForm.value.HospitalContact)("phoneControl",t.hospitalForm.controls.HospitalContact)("ngClass",e.VKq(18,Pe,t.submitted&&t.f.HospitalContact.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.HospitalContact.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(20,Pe,t.submitted&&t.f.HospitalBeds.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.HospitalBeds.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(22,Pe,t.submitted&&t.f.HospitalEmail.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.HospitalEmail.errors)}}let l5=(()=>{class i{constructor(t,o,s,r,l,d,m){this.myFormBuilder=t,this.hospitalSer=o,this.myRouter=s,this.route=r,this.userService=l,this.location=d,this.childSer=m,this.submitted=!1,this.isVisibleSuccess=!1,this.isVisibleFailure=!1,this.hospitalVisibleFailure=!1,this.IsSHowPage=!1}get f(){return this.hospitalForm.controls}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():(this.getallcities(),this.formControls())}formControls(){this.hospitalForm=this.myFormBuilder.group({HospitalName:["",[a.kI.required]],HospitalAddress:["",[a.kI.required]],HospitalContact:["03",a.kI.compose([a.kI.required,a.kI.pattern(/^((\+92)|(0092))-{0,1}\d{3}-{0,1}\d{7}$|^\d{11}$|^\d{4}-\d{7}$/)])],HospitalDescription:[""],HospitalEmail:["",[a.kI.required,a.kI.email]],HospitalCity:[""],HospitalBeds:[""],HospitalId:[]}),this.hospitalSer.gethospitalbyid(this.route.snapshot.paramMap.get("id")).subscribe(t=>{this.selectedValue=t[0].ParentId,this.hospital=t,this.hospitalForm.controls.HospitalId.setValue(t[0].HospitalId),this.hospitalForm.controls.HospitalName.setValue(t[0].HospitalName),this.hospitalForm.controls.HospitalDescription.setValue(t[0].HospitalDescription),this.hospitalForm.controls.HospitalAddress.setValue(t[0].HospitalAddress),this.hospitalForm.controls.HospitalCity.setValue(t[0].HospitalCity),this.hospitalForm.controls.HospitalEmail.setValue(t[0].HospitalEmail),this.hospitalForm.controls.HospitalBeds.setValue(t[0].HospitalBeds),this.hospitalForm.controls.HospitalContact.setValue(t[0].HospitalContact)})}updateHospital(){this.submitted=!0,!this.hospitalForm.invalid&&this.hospitalSer.editHospital(this.hospitalForm.value).subscribe(t=>{"Duplicate"==t?(this.hospitalVisibleFailure=!0,setTimeout(()=>this.hospitalVisibleFailure=!1,3e3)):t?(this.isVisibleSuccess=!0,setTimeout(()=>this.isVisibleSuccess=!1,3e3),setTimeout(()=>this.myRouter.navigate(["/pages/add-hospital"]),3e3)):(this.isVisibleFailure=!0,setTimeout(()=>this.isVisibleFailure=!1,5e3))})}getAllhospitals(){this.hospitalSer.getAllHospitals().subscribe(t=>{t.length>0&&(this.allhospitals=t)})}getallcities(){this.childSer.getallcities().subscribe(t=>{t.length>0&&(this.allcities=t)})}addCancel(){this.location.back()}ngOnDestroy(){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(de),e.Y36(p.F0),e.Y36(p.gz),e.Y36(h),e.Y36(g.Ye),e.Y36(S))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit-hospital"]],decls:8,vars:4,consts:[[1,"content-wrapper"],["class","alertnotify","style","background: #cb3837;",4,"ngIf"],["class","alertnotify","style","background: #54a254;",4,"ngIf"],["activeIds","toggle-11",3,"closeOthers"],["id","toggle-11"],["ngbPanelTitle",""],["ngbPanelContent",""],[1,"alertnotify",2,"background","#cb3837"],[1,"alertnotify",2,"background","#54a254"],[1,"card-header--title"],[3,"formGroup"],["type","hidden","formControlName","HospitalId"],[1,"row"],[1,"col-6","col-sm-6","col-md-3","col-lg-3"],["type","text","name","HospitalName","placeholder","Hospital Name","formControlName","HospitalName","id","HospitalName","appAlphabetOnly","",1,"form-control","form-control-sm",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["name","HospitalCity","formControlName","HospitalCity",1,"form-control","form-control-sm"],[3,"value",4,"ngFor","ngForOf"],["type","text","name","HospitalAddress","placeholder","address","formControlName","HospitalAddress","id","HospitalAddress",1,"form-control","form-control-sm",3,"ngClass"],["type","text","name","HospitalContact","placeholder","Hospital Contact","formControlName","HospitalContact","id","HospitalContact","phoneMask","","maxlength","12",1,"Phone","form-control","form-control-sm",3,"preValue","phoneControl","ngClass"],["type","text","name","HospitalBeds","placeholder","beds","formControlName","HospitalBeds","id","beds",1,"form-control","form-control-sm",3,"ngClass"],["type","text","name","HospitalEmail","placeholder","HospitalEmail","formControlName","HospitalEmail","id","email",1,"form-control","form-control-sm",3,"ngClass"],["type","text","name","HospitalDescription","placeholder","HospitalDescription","id","HospitalDescription","formControlName","HospitalDescription",1,"form-control","form-control-sm"],[1,"text-right"],[1,"btn","upload-btn","btn-sm",3,"click"],["data-target","#toggle-11","data-toggle","collapse",1,"btn","reset-btn","btn-sm",3,"click"],[1,"invalid-feedback"],[4,"ngIf"],[3,"value"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,My,2,0,"div",1),e.YNc(2,Vy,2,0,"div",1),e.YNc(3,By,2,0,"div",2),e.qZA(),e.TgZ(4,"ngb-accordion",3),e.TgZ(5,"ngb-panel",4),e.YNc(6,Hy,2,0,"ng-template",5),e.YNc(7,a5,45,24,"ng-template",6),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",o.isVisibleFailure),e.xp6(1),e.Q6J("ngIf",o.hospitalVisibleFailure),e.xp6(1),e.Q6J("ngIf",o.isVisibleSuccess),e.xp6(1),e.Q6J("closeOthers",!0))},directives:[g.O5,u.gY,u.Gk,u.Cu,u.gW,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,x,g.mk,a.EJ,g.sg,a.YN,a.Kr,J,a.nD],styles:[""]}),i})();function d5(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"First Name is Required!"),e.qZA())}function c5(i,n){if(1&i&&(e.TgZ(0,"div",28),e.YNc(1,d5,2,0,"div",29),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.FirstName.errors.required)}}function u5(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Last Name is Required!"),e.qZA())}function g5(i,n){if(1&i&&(e.TgZ(0,"div",28),e.YNc(1,u5,2,0,"div",29),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.LastName.errors.required)}}function m5(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Email is Required! "),e.qZA())}function p5(i,n){if(1&i&&(e.TgZ(0,"div",28),e.YNc(1,m5,2,0,"div",29),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.Email.errors.required)}}function _5(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Tel # is Required! "),e.qZA())}function h5(i,n){if(1&i&&(e.TgZ(0,"div",28),e.YNc(1,_5,2,0,"div",29),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.contact.errors.required)}}function f5(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",30),e.TgZ(1,"h4",31),e._uU(2,"Profile update"),e.qZA(),e.TgZ(3,"button",32),e.NdJ("click",function(){return e.CHM(t).$implicit.dismiss("Cross click")}),e.TgZ(4,"span",33),e._uU(5,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"div",18),e.TgZ(7,"form"),e.TgZ(8,"div",34),e.TgZ(9,"label"),e.TgZ(10,"b"),e._uU(11,"Upload Image"),e.qZA(),e.qZA(),e._UZ(12,"br"),e._UZ(13,"br"),e.TgZ(14,"div",35),e.TgZ(15,"a",36),e._uU(16,"Choose File "),e.TgZ(17,"input",37,38),e.NdJ("change",function(s){return e.CHM(t),e.oxw().onFileSelect(s)}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"image-cropper",39),e.NdJ("imageCropped",function(s){return e.CHM(t),e.oxw().imageCropped(s)})("imageLoaded",function(){return e.CHM(t),e.oxw().imageLoaded()})("cropperReady",function(){return e.CHM(t),e.oxw().cropperReady()})("loadImageFailed",function(){return e.CHM(t),e.oxw().loadImageFailed()}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(20,"div",40),e.TgZ(21,"button",41),e.NdJ("click",function(){return e.CHM(t).$implicit.close("Save click")}),e._uU(22," Save "),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(19),e.Q6J("imageChangedEvent",t.imageChangedEvent)("maintainAspectRatio",!0)("aspectRatio",1)("resizeToWidth",256)}}const tt=function(i){return{"is-invalid":i}};let Z5=(()=>{class i{constructor(t,o,s,r,l,d){this.myFormBuilder=t,this.modalService=o,this.activatedroute=s,this.userServ=r,this.route=l,this.location=d,this.closeResult="",this.imagename="",this.submitted=!1,this.fileInputLabel=""}ngOnInit(){this.formControls(),this.weburl=window.location.protocol+"//"+window.location.host+"/Documents/userData/",this.originalImage="assets/images/download.png",this.getUserById(),this.id=this.activatedroute.snapshot.paramMap.get("id"),this.userServ.addFolder(this.id).subscribe(t=>{})}get f(){return this.UserUpdateForm.controls}formControls(){this.UserUpdateForm=this.myFormBuilder.group({Id:[""],FirstName:["",a.kI.required],LastName:["",a.kI.required],Email:["",[a.kI.required,a.kI.email]],contact:[""]})}imageCropped(t){this.croppedImage=this.dataURLtoFile(t.base64,"a.png"),this.originalImage=t.base64,$("#profilepic").attr("src",t.base64),this.imgpdf=new FormData,this.imgpdf.append("uploadedImage",this.croppedImage)}onFileSelect(t){const o=t.target.files[0];if(null==o)this.imagename="";else if(o.size>2e6)alert("please select file less than 2 mb"),this.imagename="";else{this.imagename=o.name,this.imageChangedEvent=t;const d=new FileReader;if(d.readAsDataURL(o),d.onload=()=>{(new Image).src=d.result,this.url=d.result},!o.type.match(/image-*/))return void alert("Invalid format");this.fileInputLabel=o.name}}imageLoaded(){}cropperReady(){}loadImageFailed(){}dataURLtoFile(t,o){for(var s=t.split(","),r=s[0].match(/:(.*?);/)[1],l=atob(s[1]),d=l.length,m=new Uint8Array(d);d--;)m[d]=l.charCodeAt(d);return new File([m],o,{type:r})}open(t){this.modalService.open(t,{ariaLabelledBy:"modal-basic-title"}).result.then(o=>{this.closeResult=`Closed with: ${o}`},o=>{this.closeResult=`Dismissed ${this.getDismissReason(o)}`})}getUserById(){this.userServ.userProfileById(this.activatedroute.snapshot.paramMap.get("id")).subscribe(t=>{this.UserData=t,t?(this.UserUpdateForm.controls.Id.setValue(t.Userid),this.UserUpdateForm.controls.FirstName.setValue(t.Firstname),this.UserUpdateForm.controls.LastName.setValue(t.Lastname),this.UserUpdateForm.controls.Email.setValue(t.Email),this.UserUpdateForm.controls.contact.setValue(["03025195447"]),null!=this.UserData.File&&(this.imgdb=this.UserData.File,this.img=this.weburl+this.activatedroute.snapshot.paramMap.get("id")+"/"+this.UserData.File)):alert("NoData")})}submit(){if(this.submitted=!0,!this.UserUpdateForm.invalid){let t="",o=Date.now();""!=this.fileInputLabel?t="a"+o+".png":null!=this.imgdb&&(t=this.imgdb),this.addJson={Id:this.UserUpdateForm.value.Id,FirstName:this.UserUpdateForm.value.FirstName,LastName:this.UserUpdateForm.value.LastName,Email:this.UserUpdateForm.value.Email,Contact:this.UserUpdateForm.value.contact,uploadedImage:t},this.userServ.updateRecord(this.addJson).subscribe(s=>{s?(this.isVisibleSuccess=!0,setTimeout(()=>{this.isVisibleSuccess=!1,this.imgdb!=t&&this.userServ.addUserImage(this.imgpdf,this.id,o).subscribe(r=>{}),this.route.navigate(["/pages/app-user-profile/"+this.id])},2e3)):(this.isVisibleFailure=!0,setTimeout(()=>this.isVisibleFailure=!1,3e3))})}}cancel(){this.UserUpdateForm.reset(),this.location.back()}getDismissReason(t){return t===u.If.ESC?"by pressing ESC":t===u.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${t}`}ngOnDestroy(){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(u.FF),e.Y36(p.gz),e.Y36(pt),e.Y36(p.F0),e.Y36(g.Ye))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-user-edit-profile"]],decls:60,vars:18,consts:[[1,"card"],[1,"card-header--title",2,"color","black"],[3,"formGroup"],[1,"row","mb-2"],[1,"col-md-8"],[1,"row"],[1,"col-md-12"],[1,"row","mt-2",2,"padding-left","15px"],[1,"col-md-11"],["for","fname","id","s2"],["type","text","id","fname","placeholder","Enter First Name","formControlName","FirstName",1,"form-control","form-control-sm",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","lname","id","s2"],["type","text","id","lname","placeholder","Enter Last Name","formControlName","LastName","appAlphabetOnly","",1,"form-control","form-control-sm",3,"ngClass"],["id","s2"],["type","text","id","email","placeholder","joe@gmail.com","formControlName","Email",1,"form-control","form-control-sm",3,"ngClass"],["type","text","id","telno","placeholder","Enter Tel #","formControlName","contact","maxlength","11",1,"form-control","form-control-sm",3,"ngClass"],[1,"col-md-3"],[1,"modal-body"],[1,"col-md-6","offset-md-2"],["id","profilepic","height","150px","width","150px","onerror","this.src='./assets/images/download.png'",1,"rounded-circle",3,"src"],[1,"row","mt-2","ml-2"],[1,"col-md-12","offset-md-2","pl-2"],["id","uploadimg",1,"btn","upload-btn","btn-sm","mt-1",2,"font-size","medium",3,"click"],[1,"col","text-right"],[1,"btn","upload-btn","btn-sm",3,"click"],[1,"btn","reset-btn","btn-sm",3,"click"],["content",""],[1,"invalid-feedback"],[4,"ngIf"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close","id","close",1,"close",3,"click"],["aria-hidden","true"],[1,"form-group"],[1,"custom-file"],[1,"btn","btn-primary","text-white"],["type","file","id","customFile","name","uploadedImage","accept","image/*","required","",1,"center-block","file-upload",3,"change"],["UploadFileInput",""],["name","uploadedImagei","format","jpeg",3,"imageChangedEvent","maintainAspectRatio","aspectRatio","resizeToWidth","imageCropped","imageLoaded","cropperReady","loadImageFailed"],[1,"modal-footer"],["type","button","id","save",1,"btn","upload-btn","button-style",3,"click"]],template:function(t,o){if(1&t){const s=e.EpF();e.TgZ(0,"div",0),e.TgZ(1,"span",1),e._uU(2,"User Profile"),e.qZA(),e.TgZ(3,"form",2),e.TgZ(4,"div",3),e.TgZ(5,"div",4),e.TgZ(6,"div",5),e.TgZ(7,"div",6),e.TgZ(8,"div",7),e.TgZ(9,"div",6),e.TgZ(10,"div",8),e.TgZ(11,"label",9),e._uU(12,"First Name"),e.qZA(),e._UZ(13,"input",10),e.YNc(14,c5,2,1,"div",11),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(15,"div",5),e.TgZ(16,"div",6),e.TgZ(17,"div",7),e.TgZ(18,"div",6),e.TgZ(19,"div",8),e.TgZ(20,"label",12),e._uU(21,"Last Name"),e.qZA(),e._UZ(22,"input",13),e.YNc(23,g5,2,1,"div",11),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(24,"div",5),e.TgZ(25,"div",6),e.TgZ(26,"div",7),e.TgZ(27,"div",6),e.TgZ(28,"div",8),e.TgZ(29,"label",14),e._uU(30,"Email"),e.qZA(),e._UZ(31,"input",15),e.YNc(32,p5,2,1,"div",11),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(33,"div",5),e.TgZ(34,"div",6),e.TgZ(35,"div",7),e.TgZ(36,"div",6),e.TgZ(37,"div",8),e.TgZ(38,"label",14),e._uU(39,"Contact #"),e.qZA(),e._UZ(40,"input",16),e.YNc(41,h5,2,1,"div",11),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(42,"div",17),e.TgZ(43,"div",18),e.TgZ(44,"div",5),e.TgZ(45,"div",19),e._UZ(46,"img",20),e.qZA(),e.qZA(),e.TgZ(47,"div",21),e.TgZ(48,"div",22),e.TgZ(49,"button",23),e.NdJ("click",function(){e.CHM(s);const l=e.MAs(59);return o.open(l)}),e._uU(50,"Upload Image"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(51,"div",5),e.TgZ(52,"div",24),e.TgZ(53,"button",25),e.NdJ("click",function(){return o.submit()}),e._uU(54,"Submit"),e.qZA(),e._uU(55,"\xa0 "),e.TgZ(56,"button",26),e.NdJ("click",function(){return o.cancel()}),e._uU(57,"Cancel"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(58,f5,23,4,"ng-template",null,27,e.W1O)}2&t&&(e.xp6(3),e.Q6J("formGroup",o.UserUpdateForm),e.xp6(10),e.Q6J("ngClass",e.VKq(10,tt,o.submitted&&o.f.FirstName.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.FirstName.errors),e.xp6(8),e.Q6J("ngClass",e.VKq(12,tt,o.submitted&&o.f.LastName.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.LastName.errors),e.xp6(8),e.Q6J("ngClass",e.VKq(14,tt,o.submitted&&o.f.Email.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.Email.errors),e.xp6(8),e.Q6J("ngClass",e.VKq(16,tt,o.submitted&&o.f.contact.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.contact.errors),e.xp6(5),e.s9C("src",o.img,e.LSH))},directives:[a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,g.mk,g.O5,x,a.nD,a.F,ce.ap],styles:['#customFile[_ngcontent-%COMP%]{position:absolute;z-index:2;top:0;left:0;filter:alpha(opacity=0);-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";opacity:0;background-color:transparent;color:transparent}body[_ngcontent-%COMP%]{margin-top:20px;color:#1a202c;text-align:left;background-color:#e2e8f0}.main-body[_ngcontent-%COMP%]{padding:15px}.card[_ngcontent-%COMP%]{box-shadow:0 1px 3px #0000001a,0 1px 2px #0000000f}.card[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;min-width:0;word-wrap:break-word;background-color:#fff;background-clip:border-box;border:0 solid rgba(0,0,0,.125);border-radius:.25rem}.card-body[_ngcontent-%COMP%]{flex:1 1 auto;min-height:1px;padding:1rem}.gutters-sm[_ngcontent-%COMP%]{margin-right:-8px;margin-left:-8px}.gutters-sm[_ngcontent-%COMP%] > .col[_ngcontent-%COMP%], .gutters-sm[_ngcontent-%COMP%] > [class*=col-][_ngcontent-%COMP%]{padding-right:8px;padding-left:8px}.mb-3[_ngcontent-%COMP%], .my-3[_ngcontent-%COMP%]{margin-bottom:1rem!important}.bg-gray-300[_ngcontent-%COMP%]{background-color:#e2e8f0}.h-100[_ngcontent-%COMP%]{height:100%!important}.shadow-none[_ngcontent-%COMP%]{box-shadow:none!important}']}),i})();function b5(i,n){1&i&&(e.TgZ(0,"div",9),e._uU(1," Something went wrong!. "),e.qZA())}function v5(i,n){1&i&&(e.TgZ(0,"div",10),e._uU(1," No record found ! "),e.qZA())}function T5(i,n){1&i&&(e.TgZ(0,"span",11),e._uU(1,"List Of Items Received"),e.qZA(),e.TgZ(2,"div",12),e._UZ(3,"i",13),e.qZA())}function A5(i,n){if(1&i&&(e.TgZ(0,"option",29),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.VendorId),e.xp6(1),e.hij(" ",t.VendorName," ")}}function C5(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," VendorName is required. "),e.qZA())}function q5(i,n){if(1&i&&(e.TgZ(0,"div",30),e.YNc(1,C5,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.VendorName.errors.required)}}function x5(i,n){1&i&&(e.TgZ(0,"p",31),e._uU(1,"start date must be earlier to end date"),e.qZA())}function I5(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Start Date is required. "),e.qZA())}function y5(i,n){if(1&i&&(e.TgZ(0,"div",30),e.YNc(1,I5,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.startDate.errors.required)}}function k5(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," End Date is required. "),e.qZA())}function U5(i,n){if(1&i&&(e.TgZ(0,"div",30),e.YNc(1,k5,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.f.endDate.errors.required)}}const $t=function(i){return{"is-invalid":i}};function N5(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"form",14),e.TgZ(1,"div",15),e.TgZ(2,"div",16),e.TgZ(3,"label",17),e._uU(4,"Select VendorName"),e.qZA(),e.TgZ(5,"select",18),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw(2).VendorId=s})("change",function(){return e.CHM(t),e.oxw(2).getinvoices()}),e.TgZ(6,"option",19),e._uU(7,"Please Select"),e.qZA(),e.YNc(8,A5,2,2,"option",20),e.qZA(),e.YNc(9,q5,2,1,"div",21),e.qZA(),e.TgZ(10,"div",16),e.TgZ(11,"label",17),e._uU(12,"Start Date"),e.qZA(),e._UZ(13,"input",22),e.YNc(14,x5,2,0,"p",23),e.YNc(15,y5,2,1,"div",21),e.qZA(),e.TgZ(16,"div",24),e.TgZ(17,"label",17),e._uU(18,"End Date"),e.qZA(),e._UZ(19,"input",25),e.YNc(20,U5,2,1,"div",21),e.qZA(),e.TgZ(21,"div",26),e.TgZ(22,"button",27),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).submit()}),e._uU(23,"Submit"),e.qZA(),e.TgZ(24,"button",28),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).addcancel()}),e._uU(25,"Reset"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("formGroup",t.storeitemForm),e.xp6(5),e.Q6J("ngModel",t.VendorId),e.xp6(3),e.Q6J("ngForOf",t.allvendor),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.VendorName.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(9,$t,t.submitted&&t.f.startDate.errors)),e.xp6(1),e.Q6J("ngIf",t.greaterdate),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.startDate.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(11,$t,t.submitted&&t.f.endDate.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.endDate.errors)}}function w5(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e.TgZ(12,"button",39),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw(3).print(r.mainId)}),e._UZ(13,"i",40),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=n.$implicit,o=n.index;e.xp6(2),e.hij(" ",o+1," "),e.xp6(2),e.Oqu(t.InvoiceNo),e.xp6(2),e.Oqu(t.VendorName),e.xp6(2),e.Oqu(t.EmployeeName),e.xp6(2),e.Oqu(t.ReceivedDate)}}function S5(i,n){if(1&i&&(e.TgZ(0,"div",32),e.TgZ(1,"div",33),e.TgZ(2,"div",34),e.TgZ(3,"div",35),e.TgZ(4,"table",36),e.TgZ(5,"thead"),e.TgZ(6,"th",37),e._uU(7,"Invoices"),e.qZA(),e.qZA(),e.TgZ(8,"tbody"),e.TgZ(9,"table",36),e.TgZ(10,"thead"),e.TgZ(11,"th",37),e._uU(12,"Sr. No"),e.qZA(),e.TgZ(13,"th",37),e._uU(14,"Invoice Number"),e.qZA(),e.TgZ(15,"th",37),e._uU(16,"Vendor Name"),e.qZA(),e.TgZ(17,"th",37),e._uU(18,"Employee Name"),e.qZA(),e.TgZ(19,"th",37),e._uU(20,"Received Date"),e.qZA(),e.TgZ(21,"th",37),e._uU(22,"Action"),e.qZA(),e.qZA(),e.TgZ(23,"tbody"),e.YNc(24,w5,14,5,"tr",38),e.qZA(),e.qZA(),e._UZ(25,"hr"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(24),e.Q6J("ngForOf",t.allrecord)}}function F5(i,n){if(1&i&&(e.TgZ(0,"tr"),e.TgZ(1,"th",43),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.qZA()),2&i){const t=n.$implicit,o=n.index;e.xp6(2),e.Oqu(o+1),e.xp6(2),e.AsE("",t.Invoice," ",t.PONumber,""),e.xp6(2),e.Oqu(t.Item_Name),e.xp6(2),e.Oqu(t.originalqty),e.xp6(2),e.Oqu(t.receivedqty),e.xp6(2),e.Oqu(t.remaingqty)}}function D5(i,n){if(1&i&&(e.TgZ(0,"div",32),e.TgZ(1,"div",33),e.TgZ(2,"div",34),e.TgZ(3,"div",41),e.TgZ(4,"b"),e._uU(5,"Invoice Record"),e.qZA(),e.qZA(),e.TgZ(6,"div",35),e.TgZ(7,"table",42),e.TgZ(8,"thead"),e.TgZ(9,"tr"),e.TgZ(10,"th",37),e._uU(11,"#"),e.qZA(),e.TgZ(12,"th",37),e._uU(13,"PO Number"),e.qZA(),e.TgZ(14,"th",37),e._uU(15,"Item Name"),e.qZA(),e.TgZ(16,"th",37),e._uU(17,"OrderedQty"),e.qZA(),e.TgZ(18,"th",37),e._uU(19,"ReceivedQty"),e.qZA(),e.TgZ(20,"th",37),e._uU(21,"PendingQty"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(22,"tbody"),e.YNc(23,F5,13,7,"tr",38),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(23),e.Q6J("ngForOf",t.allstoreitems)}}function J5(i,n){if(1&i&&(e.TgZ(0,"div"),e.TgZ(1,"div",1),e.YNc(2,b5,2,0,"div",2),e.TgZ(3,"div",1),e.YNc(4,v5,2,0,"div",3),e.qZA(),e.qZA(),e.TgZ(5,"ngb-accordion",4),e.TgZ(6,"ngb-panel",5),e.YNc(7,T5,4,0,"ng-template",6),e.YNc(8,N5,26,13,"ng-template",7),e.qZA(),e.qZA(),e.YNc(9,S5,26,1,"div",8),e.YNc(10,D5,24,1,"div",8),e.qZA()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.isVisibleFailure),e.xp6(2),e.Q6J("ngIf",t.norecord),e.xp6(1),e.Q6J("closeOthers",!0),e.xp6(4),e.Q6J("ngIf",t.tablerec),e.xp6(1),e.Q6J("ngIf",t.invoicerec)}}let E5=(()=>{class i{constructor(t,o,s,r,l,d,m,_){this.myFormBuilder=t,this.storeitemser=o,this.storeRec=s,this.detectChanges=r,this.vendorRec=l,this.myRouter=d,this.userService=m,this.popUpSer=_,this.norecord=!1,this.submitted=!1,this.isVisibleSuccess=!1,this.isVisibleFailure=!1,this.IsSHowPage=!1,this.tablerec=!1,this.editrec=!1,this.deleterec=!1,this.allstoreitems=[],this.allstoreitems1=[],this.formdata={},this.store_item_rec_status=[],this.IS_RO_Completed=!1,this.addJson={},this.maxDate=(0,g.p6)(new Date,"yyyy-MM-dd","en")}get f(){return this.storeitemForm.controls}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():(this.userService.checkUserHasAccess("/pages/store-item-recieved").subscribe(t=>{t.length>0?(this.IsSHowPage=!0,this.formControls(),this.getallstoreitemrec(),this.getallvendor()):(this.IsSHowPage=!1,this.popUpSer.confirmCommon("","You have no access to view page").then(o=>{}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)")))}),setTimeout(()=>{this.userService.checkUserHasAccess("/pages/list-store-itemrec").subscribe(t=>{t.length>0?(this.tablerec=!0,this.getallrecord(),setTimeout(()=>{this.userService.checkUserHasAccess("/pages/edit-store-itemrec").subscribe(o=>{this.editrec=o.length>0})},300),setTimeout(()=>{this.userService.checkUserHasAccess("/pages/delete-store-itemrec").subscribe(o=>{this.deleterec=o.length>0})},300)):this.tablerec=!1})},200))}getallvendor(){this.vendorRec.GetAllVendor().subscribe(t=>{this.allvendor=t})}getinvoices(){this.addJson={VendorId:this.storeitemForm.value.VendorName,Invoice:this.storeitemForm.value.Invoice,startDate:this.storeitemForm.value.startDate,endDate:this.storeitemForm.value.endDate},this.storeRec.getrecord(this.VendorId).subscribe(t=>{t.length>0?(console.log(t),this.allinvoice=t,this.allrecord=t,this.detectChanges.detectChanges(),$("#storeitemRecdataTable").DataTable({paging:!0,searching:!0,ordering:!0})):(this.allrecord=[],this.norecord=!0,setTimeout(()=>this.norecord=!1,4e3),this.detectChanges.detectChanges(),$("#storeitemRecdataTable").DataTable({paging:!0,searching:!0,ordering:!0}))}),$("#storeitemRecdataTable").dataTable().fnDestroy()}getallstoreitemrec(){$("#PO-tbl").DataTable().clear(),this.storeRec.getAllRecord().subscribe(t=>{t?this.DataformDb=t:alert("cant get value form Db"),this.detectChanges.detectChanges(),$("#PO-tbl").DataTable({paging:!0,searching:!0,ordering:!0})}),$("#PO-tbl").dataTable().fnDestroy()}formControls(){this.storeitemForm=this.myFormBuilder.group({Invoice:[""],VendorName:[""],startDate:[""],endDate:[""]})}submit(){if(this.submitted=!0,this.storeitemForm.invalid)console.log("Form Invalid");else{let t={VendorId:this.storeitemForm.value.VendorName,Invoice:this.storeitemForm.value.Invoice,startDate:this.storeitemForm.value.startDate,endDate:this.storeitemForm.value.endDate};(null==this.storeitemForm.value.VendorName||this.storeitemForm.value.VendorName==[""])&&(t.VendorId=0),(null==this.storeitemForm.value.Invoice||this.storeitemForm.value.Invoice==[""])&&(t.Invoice=""),(null==this.storeitemForm.value.startDate||this.storeitemForm.value.startDate==[""])&&(t.startDate="01-02-1990"),(null==this.storeitemForm.value.endDate||this.storeitemForm.value.endDate==[""])&&(t.endDate="01-02-1990"),this.storeRec.getreport(t.VendorId,t.Invoice,t.startDate,t.endDate).subscribe(o=>{o.length>0?(this.allrecord=o,this.storeitemForm.reset(),this.detectChanges.detectChanges(),$("#storeitemRecdataTable").DataTable({paging:!0,searching:!0,ordering:!0})):(this.allrecord=[],this.norecord=!0,setTimeout(()=>this.norecord=!1,4e3),this.detectChanges.detectChanges(),$("#storeitemRecdataTable").DataTable({paging:!0,searching:!0,ordering:!0}))}),$("#storeitemRecdataTable").dataTable().fnDestroy()}}getrecord(){this.storeRec.getrecord(this.VendorId).subscribe(t=>{t.length>0&&(this.allrecord=t)})}getallrecord(){this.storeRec.getAllRecord().subscribe(t=>{t.length>0?(console.log(t),this.allinvoice=t,this.allrecord=t,this.detectChanges.detectChanges(),$("#storeitemRecdataTable").DataTable({paging:!0,searching:!0,ordering:!0})):(this.allrecord=[],this.norecord=!0,setTimeout(()=>this.norecord=!1,4e3),this.detectChanges.detectChanges(),$("#storeitemRecdataTable").DataTable({paging:!0,searching:!0,ordering:!0}))}),$("#storeitemRecdataTable").dataTable().fnDestroy()}addCancel(){this.storeitemForm.reset(),this.submitted=!1,$("#storeitemRecdataTable").dataTable().fnDestroy(),this.getallrecord()}print(t){this.myRouter.navigate(["pages/storeitemprint/"+t])}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(M),e.Y36(ee),e.Y36(e.sBO),e.Y36(qe),e.Y36(p.F0),e.Y36(h),e.Y36(b))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-store-item-list"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"content-wrapper"],["class","alertnotify","style","background: #cb3837",4,"ngIf"],["class","alertnotify","style","background: #CB3837",4,"ngIf"],["activeIds","toggle-11",3,"closeOthers"],["id","toggle-11"],["ngbPanelTitle",""],["ngbPanelContent",""],["class","row mt-4",4,"ngIf"],[1,"alertnotify",2,"background","#cb3837"],[1,"alertnotify",2,"background","#CB3837"],[1,"card-header--title"],[1,"pull-right"],[1,"fa","fa-angle-down","fa-lg"],[3,"formGroup"],[1,"row","mb-1"],[1,"col-md-2"],["for",""],["formControlName","VendorName","id","VendorName",1,"form-control","form-control-sm",3,"ngModel","ngModelChange","change"],["value","0","hidden",""],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["type","date","formControlName","startDate","id","startDate",1,"form-control","form-control-sm",3,"ngClass"],["style","color:red;",4,"ngIf"],[1,"col-md-3"],["type","date","formControlName","endDate","id","endDate",1,"form-control","form-control-sm",3,"ngClass"],[1,"col-md-3","mt-3"],[1,"btn","upload-btn","btn-sm","mr-2",3,"click"],[1,"btn","reset-btn","btn-sm",3,"click"],[3,"value"],[1,"invalid-feedback"],[2,"color","red"],[1,"row","mt-4"],[1,"col-lg-12"],[1,"card","main-card","mb-3"],[1,"table-responsive"],[1,"table","table-hover","table-bordered","table-responsive-xl"],["scope","col"],[4,"ngFor","ngForOf"],["ngbTooltip","Print",1,"btn","print-btn","btn-sm",3,"click"],[1,"fa","fa-print","fa-sm"],[1,"card-header"],["id","invoiceitemRecdataTable",1,"table","table-striped"],["scope","row"]],template:function(t,o){1&t&&e.YNc(0,J5,11,5,"div",0),2&t&&e.Q6J("ngIf",o.IsSHowPage)},directives:[g.O5,u.gY,u.Gk,u.Cu,u.gW,a._Y,a.JL,a.sg,a.EJ,a.JJ,a.u,a.YN,a.Kr,g.sg,a.Fj,g.mk,u._L],styles:[""]}),i})();var R5=T(7749);function P5(i,n){1&i&&(e.TgZ(0,"div",40),e._uU(1," Something went wrong!. "),e.qZA())}function Y5(i,n){1&i&&(e.TgZ(0,"div",41),e._uU(1," Store Item Received is Updated Successfully!. "),e.qZA())}function Q5(i,n){if(1&i&&(e.TgZ(0,"div",17),e.TgZ(1,"div",28),e.TgZ(2,"span"),e.TgZ(3,"b"),e._uU(4,"Date :"),e.qZA(),e.qZA(),e.TgZ(5,"span"),e._uU(6),e.ALo(7,"date"),e.qZA(),e._UZ(8,"br"),e._UZ(9,"br"),e.TgZ(10,"span"),e._uU(11,"To,"),e.qZA(),e._UZ(12,"br"),e.TgZ(13,"span"),e._uU(14,"Dr Sana Ajmal"),e.qZA(),e._UZ(15,"br"),e.qZA(),e.TgZ(16,"div",42),e.TgZ(17,"span"),e.TgZ(18,"b"),e._uU(19,"Ref: "),e.qZA(),e.qZA(),e.TgZ(20,"span"),e._uU(21),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(6),e.Oqu(e.xi3(7,2,t.allstoreitems[0].Receive_Date,"MM/dd/yyyy")),e.xp6(15),e.hij("Invoice - ",t.allstoreitems[0].Invoice_No,"")}}function O5(i,n){if(1&i&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.qZA()),2&i){const t=n.$implicit,o=n.index;e.xp6(2),e.Oqu(o+1),e.xp6(2),e.Oqu(t.ItemName),e.xp6(2),e.Oqu(t.Rec_Qty),e.xp6(2),e.hij("Rs.",t.Unit_Price,""),e.xp6(2),e.hij("Rs.",t.Total_Price,"")}}function M5(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"div",1),e.YNc(2,P5,2,0,"div",2),e.YNc(3,Y5,2,0,"div",3),e.qZA(),e.TgZ(4,"div",4),e.TgZ(5,"div",5),e.TgZ(6,"div",6),e._UZ(7,"img",7),e.qZA(),e.TgZ(8,"div",8),e.TgZ(9,"h4",9),e.TgZ(10,"b"),e._uU(11,"Meethi Zindagi"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"div",10),e.TgZ(13,"div",11),e.TgZ(14,"form"),e.TgZ(15,"div",12),e.YNc(16,Q5,22,5,"div",13),e.TgZ(17,"div",14),e.TgZ(18,"div",15),e.TgZ(19,"h3",16),e.TgZ(20,"u"),e._uU(21,"Invoice"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(22,"div",17),e._UZ(23,"div",18),e.qZA(),e.TgZ(24,"div",12),e.TgZ(25,"div",19),e.TgZ(26,"table",20),e.TgZ(27,"thead",21),e.TgZ(28,"tr"),e.TgZ(29,"th"),e._uU(30,"Sr No"),e.qZA(),e.TgZ(31,"th"),e._uU(32,"Item Description"),e.qZA(),e.TgZ(33,"th"),e._uU(34,"Qty"),e.qZA(),e.TgZ(35,"th"),e._uU(36,"Unit Price"),e.qZA(),e.TgZ(37,"th"),e._uU(38,"Rate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(39,"tbody"),e.YNc(40,O5,11,5,"tr",22),e.TgZ(41,"tr"),e._UZ(42,"td",23),e.TgZ(43,"td",24),e.TgZ(44,"b"),e._uU(45,"Total Amount to be Paid"),e.qZA(),e.qZA(),e.TgZ(46,"td"),e._uU(47),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(48,"div",25),e.TgZ(49,"span",26),e.TgZ(50,"i"),e.TgZ(51,"b"),e._uU(52,"Amount in words: "),e.qZA(),e._uU(53),e.ALo(54,"titlecase"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(55,"div",27),e.TgZ(56,"div",28),e.TgZ(57,"div",29),e._UZ(58,"BR"),e._UZ(59,"BR"),e._UZ(60,"BR"),e.TgZ(61,"span"),e._uU(62,"____________________________________"),e.qZA(),e._UZ(63,"br"),e.TgZ(64,"span"),e._uU(65,"Store Officer"),e.qZA(),e._UZ(66,"br"),e._UZ(67,"br"),e._UZ(68,"br"),e.TgZ(69,"span"),e._uU(70,"____________________________________"),e.qZA(),e._UZ(71,"br"),e.TgZ(72,"span"),e._uU(73,"Admin Officer"),e.qZA(),e._UZ(74,"br"),e._UZ(75,"br"),e._UZ(76,"br"),e.TgZ(77,"span"),e._uU(78,"____________________________________"),e.qZA(),e._UZ(79,"br"),e.TgZ(80,"span"),e._uU(81,"Finance Officer"),e.qZA(),e._UZ(82,"br"),e._UZ(83,"br"),e._UZ(84,"br"),e.qZA(),e.qZA(),e.TgZ(85,"div",30),e.TgZ(86,"span"),e._uU(87," ____________________________________"),e.qZA(),e._UZ(88,"br"),e.TgZ(89,"span"),e._uU(90," Executive Director"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(91,"div",31),e.TgZ(92,"div",32),e.TgZ(93,"p",33),e.TgZ(94,"b"),e._uU(95,"Meethi Zindagi is PCP Certified and Tax Exempted, Approved Under Section 2(36) of Income Tax Ordinance 2001"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(96,"div",34),e.TgZ(97,"div",35),e.TgZ(98,"p"),e.TgZ(99,"b"),e._uU(100,"Rawalpindi Office:"),e.qZA(),e._uU(101," 65-A, Street 3, Westridge-1, Opp Rafay Mall, Peshawar Road, Rawalpindi.Tel: 051-8313214"),e.qZA(),e.qZA(),e.TgZ(102,"div",35),e.TgZ(103,"p"),e.TgZ(104,"b"),e._uU(105,"Lahore Office:"),e.qZA(),e._uU(106," 254-B, Street 5, Cavalry Ground, Lahore Cantt, Lahore. Tel: 0332-8313214"),e.qZA(),e.qZA(),e.TgZ(107,"div",28),e.TgZ(108,"p"),e.TgZ(109,"b"),e._uU(110,"Karachi Office:"),e.qZA(),e._uU(111," E-127/G4, Block 7, Near Maskan Chowrangi, Gulshan-e-Iqbal, Karachi. Tel: 0335-5554606"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(112,"div",36),e.TgZ(113,"div",37),e.TgZ(114,"button",38),e.NdJ("click",function(){return e.CHM(t),e.oxw().cancel()}),e._uU(115,"Cancel"),e.qZA(),e.TgZ(116,"button",39),e.NdJ("click",function(){return e.CHM(t),e.oxw().print()}),e._uU(117,"Print"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.isVisibleFailure),e.xp6(1),e.Q6J("ngIf",t.isVisibleSuccess),e.xp6(13),e.Q6J("ngIf",t.allstoreitems),e.xp6(24),e.Q6J("ngForOf",t.allstoreitems),e.xp6(7),e.hij("Rs.",t.Totalsum,""),e.xp6(6),e.hij("",e.lcZ(54,6,t.outputWords)," Rupees Only")}}let V5=(()=>{class i{constructor(t,o,s,r,l){this.route=t,this.storeSer=o,this.popUpSer=s,this.location=r,this.userService=l,this.isVisibleFailure=!1,this.isVisibleSuccess=!1,this.IsSHowPage=!1,this.submitted=!1,this.addJson={},this.Totalsum=0,this.outputWords="-",this.url=window.location.protocol+"//"+window.location.host+"/assets/css/report.css"}get f(){return this.storeitemForm.controls}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():this.userService.checkUserHasAccess("/pages/store-item-recieved").subscribe(t=>{t.length>0?(this.IsSHowPage=!0,this.searchInvoice(this.route.snapshot.paramMap.get("id"))):(this.IsSHowPage=!1,this.popUpSer.confirmCommon("","You have no access to view page").then(o=>{}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)")))})}convertToWord(){this.outputWords=R5.toWords(this.Totalsum)}searchInvoice(t){this.storeSer.getinvoicedata(t).subscribe(o=>{if(o){this.allstoreitems=o;for(let s in o)this.Totalsum=o[s].Total_Price+this.Totalsum;this.convertToWord()}})}cancel(){this.location.back()}print(){var t=document.getElementById("2"),o=document.getElementById("1"),s=document.getElementById("head"),r=document.getElementById("words"),l=document.getElementById("Signature");let d=document.getElementById("page");var m=document.getElementById("foot");let _=window.open("","new div","height=1080,width=700");_.document.write("<html><head>"),_.document.write(`<link rel="stylesheet" type="text/css" href="${this.url}";>`),_.document.write('<style>\n    @media print {\n      .col-sm-1, .col-sm-2, .col-sm-3, .col-sm-4, .col-sm-5, .col-sm-6,\n      .col-sm-7, .col-sm-8, .col-sm-9, .col-sm-10, .col-sm-11, .col-sm-12 {\n           float: left;}\n      @page {\n        size: A4;\n      }\n      body {\n        position: relative;\n      }\n      html,body {\n        \n        \n        width: 100%;\n      }\n      footer {\n        display: inline-block;\n        position: fixed;\n        vertical-align: bottom;\n        width: 100%;\n        bottom: 0;\n      }\n      .col-sm-12 {\n        width: 100%;\n   }\n\n   .col-sm-11 {\n        width: 91.66666666666666%;\n   }\n\n   .col-sm-10 {\n        width: 83.33333333333334%;\n   }\n\n   .col-sm-9 {\n         width: 75%;\n   }\n\n   .col-sm-8 {\n         width: 66.66666666666666%;\n   }\n\n    .col-sm-7 {\n         width: 58.333333333333336%;\n    }\n\n    .col-sm-6 {\n         width: 50%;\n    }\n\n    .col-sm-5 {\n         width: 41.66666666666667%;\n    }\n\n    .col-sm-4 {\n         width: 33.33333333333333%;\n    }\n\n    .col-sm-3 {\n         width: 25%;\n    }\n\n    .col-sm-2 {\n           width: 16.666666666666664%;\n    }\n\n    .col-sm-1 {\n           width: 8.333333333333332%;\n     }\n     .print:last-child {\n      page-break-after: auto;\n      }\n      .th {\n        background-color: yellow;\n      }\n      .lightBlue {\n        background-color: lightblue !important;\n        -webkit-print-color-adjust: exact;\n        color-adjust: exact !important;   \n      }\n    .date{\n      font-weight: 400;\n      color : green;\n    }\n    .heading{\n      font-weight: 400;\n    }\n    \n    .error{\n      border : 1px solid red;\n    }\n    }\n    </style><header><div class="row header">'),_.document.write(s.innerHTML),_.document.write("</div></header></head><body>"),_.document.write(d.innerHTML),_.document.write(r.innerHTML),_.document.write(l.innerHTML),_.document.write("</body>"),_.document.write('<footer class="footer"><div class="footer">'),_.document.write(m.innerHTML),_.document.write("</div></footer>"),_.document.write("</html>"),_.document.close(),_.focus(),t.style.visibility="hidden",o.style.visibility="hidden",setTimeout(()=>{_.document.close(),_.focus(),_.print()},1500),setTimeout(function(){t.style.visibility="visible",o.style.visibility="visible",_.close()},2e3),setTimeout(()=>{this.location.back()},3e3)}ngOnDestroy(){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(p.gz),e.Y36(ee),e.Y36(b),e.Y36(g.Ye),e.Y36(h))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-storeitemreceiveprint"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"content-wrapper"],["class","alertnotify","style","background: #cb3837",4,"ngIf"],["class","alertnotify","style","background: #54a254",4,"ngIf"],[1,"container-fluid",2,"background-color","white"],["id","head",1,"row","m-2",2,"background-color","white"],[1,"col-3","ml-2"],["src","/assets/images/logo-report.png","height","70","width","auto"],[1,"col-8","text-right"],[2,"font-family","'Constantia' Times, serif"],[1,"row"],["id","page",1,"col-md-12",2,"background-color","white"],[1,"container-fluid"],["class","row","style","margin-top:20px; font-size:18px;font-family:'Times New Roman', Times, serif;",4,"ngIf"],[1,"row","justify-content-center"],[1,"col-6","text-center"],[2,"font-family","'Times New Roman', Times, serif"],[1,"row",2,"margin-top","20px","font-size","18px","font-family","'Times New Roman', Times, serif"],[1,"col-8"],["className","row-sm-12",1,"table-table-responsive-m","text-left",2,"margin-top","10px"],[1,"table","table-bordered","px-10",2,"font-family","Calibri","font-size","18px"],[2,"background-color","lightgrey"],[4,"ngFor","ngForOf"],["colspan","2",2,"border-style","none"],["colspan","2"],["id","words",1,"row","ml-2","align-items-end",2,"margin-top","20px","font-size","18px","font-family","'Times New Roman', Times, serif"],[2,"text-align","left"],["id","Signature",1,"row","ml-2","align-items-end",2,"margin-top","20px","font-size","18px","font-family","'Times New Roman', Times, serif"],[1,"col-4"],[1,"text-center"],[1,"col-4","offset-7","text-center"],["id","foot",2,"margin-top","20px","font-size","18px","font-family","'Times New Roman', Times, serif"],[2,"border-top","1px solid black","border-bottom","1px solid black"],[1,"text-center","p-0","m-0"],[1,"row","mr-1","ml-1"],[1,"col-4",2,"border-right","1px solid black"],[1,"row","justify-content-end","m-2"],[1,"col"],["id","1",1,"btn","reset-btn",2,"width","120px","float","right","margin-left","4px",3,"click"],["id","2",1,"btn","print-btn",2,"width","120px","float","right",3,"click"],[1,"alertnotify",2,"background","#cb3837"],[1,"alertnotify",2,"background","#54a254"],[1,"col-3","ml-auto","text-right","mr-2"]],template:function(t,o){1&t&&e.YNc(0,M5,118,8,"div",0),2&t&&e.Q6J("ngIf",o.IsSHowPage)},directives:[g.O5,a._Y,a.JL,a.F,g.sg],pipes:[g.uU,g.rS],styles:["","@page {\n            size: auto;\n            \n            margin: 0mm;\n            \n        }"]}),i})();function B5(i,n){1&i&&(e.TgZ(0,"div",23),e._uU(1," No record found ! "),e.qZA())}function H5(i,n){1&i&&(e.TgZ(0,"span",24),e._uU(1,"All Item Report"),e.qZA(),e.TgZ(2,"div",25),e._UZ(3,"i",26),e.qZA())}function $5(i,n){1&i&&(e.TgZ(0,"p",42),e._uU(1,"start date must be earlier to end date"),e.qZA())}function L5(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Start Date is required. "),e.qZA())}function G5(i,n){if(1&i&&(e.TgZ(0,"div",43),e.YNc(1,L5,2,0,"div",44),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.startDate.errors.required)}}function j5(i,n){1&i&&(e.TgZ(0,"div",45),e._uU(1," Kindly enter the current month or less. "),e.qZA())}function z5(i,n){if(1&i&&(e.TgZ(0,"option",46),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t.ItemName)}}function W5(i,n){1&i&&(e.TgZ(0,"p",42),e._uU(1,"start date must be earlier to end date"),e.qZA())}function K5(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Start Date is required. "),e.qZA())}function X5(i,n){if(1&i&&(e.TgZ(0,"div",43),e.YNc(1,K5,2,0,"div",44),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.startDate.errors.required)}}function ek(i,n){1&i&&(e.TgZ(0,"div",45),e._uU(1," Kindly enter the current month or less. "),e.qZA())}const Lt=function(i){return{"is-invalid":i}};function tk(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"form",27),e.TgZ(1,"div",28),e.TgZ(2,"div",29),e.TgZ(3,"label",30),e._uU(4,"Select Month"),e.qZA(),e._UZ(5,"input",31),e.YNc(6,$5,2,0,"p",32),e.YNc(7,G5,2,1,"div",33),e.YNc(8,j5,2,0,"div",34),e.qZA(),e.TgZ(9,"div",29),e.TgZ(10,"label",30),e._uU(11,"Select Item"),e.qZA(),e.TgZ(12,"select",35),e.TgZ(13,"option",36),e._uU(14,"Please Select"),e.qZA(),e.YNc(15,z5,2,2,"option",37),e.qZA(),e.YNc(16,W5,2,0,"p",32),e.YNc(17,X5,2,1,"div",33),e.YNc(18,ek,2,0,"div",34),e.qZA(),e.TgZ(19,"div",38),e.TgZ(20,"button",39),e.NdJ("click",function(){return e.CHM(t),e.oxw().submit()}),e._uU(21,"Submit"),e.qZA(),e.TgZ(22,"button",40),e.NdJ("click",function(){return e.CHM(t),e.oxw().print()}),e._uU(23,"Print"),e.qZA(),e.TgZ(24,"button",41),e.NdJ("click",function(){return e.CHM(t),e.oxw().reset()}),e._uU(25,"Reset"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("formGroup",t.itemReportForm),e.xp6(5),e.Q6J("max",t.maxDate)("ngClass",e.VKq(11,Lt,t.submitted&&t.f.startDate.errors)),e.xp6(1),e.Q6J("ngIf",t.greaterdate),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.startDate.errors),e.xp6(1),e.Q6J("ngIf",t.fDate),e.xp6(4),e.Q6J("ngClass",e.VKq(13,Lt,t.submitted&&t.f.itemId.errors)),e.xp6(3),e.Q6J("ngForOf",t.allitems),e.xp6(1),e.Q6J("ngIf",t.greaterdate),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.startDate.errors),e.xp6(1),e.Q6J("ngIf",t.fDate)}}function ik(i,n){if(1&i&&(e.TgZ(0,"tr",20),e.TgZ(1,"td",47),e._uU(2),e.ALo(3,"number"),e.qZA(),e.TgZ(4,"td",47),e._uU(5),e.qZA(),e.TgZ(6,"td",47),e._uU(7),e.ALo(8,"number"),e.qZA(),e.TgZ(9,"td",47),e._uU(10),e.qZA(),e.TgZ(11,"td",47),e._uU(12),e.ALo(13,"number"),e.qZA(),e.TgZ(14,"td",47),e._uU(15),e.qZA(),e.TgZ(16,"td",47),e._uU(17),e.qZA(),e.TgZ(18,"td",47),e._uU(19),e.qZA(),e.TgZ(20,"td",47),e._uU(21),e.qZA(),e.TgZ(22,"td",47),e._uU(23),e.ALo(24,"number"),e.qZA(),e.qZA()),2&i){const t=n.$implicit;e.xp6(2),e.hij("Rs.",e.xi3(3,10,t.unitprice,"1.2-3"),""),e.xp6(3),e.Oqu(t.Qtyrec),e.xp6(2),e.hij("Rs.",e.xi3(8,13,t.recamt,"1.2-3"),""),e.xp6(3),e.Oqu(t.Qtyiss),e.xp6(2),e.hij("Rs.",e.xi3(13,16,t.issamt,"1.2-3"),""),e.xp6(3),e.Oqu(t.opening),e.xp6(2),e.hij("",t.Qtyrec+t.Qtyrec," "),e.xp6(2),e.Oqu(t.Qtyiss),e.xp6(2),e.Oqu(t.balqty),e.xp6(2),e.hij("Rs.",e.xi3(24,19,t.balamt,"1.2-3"),"")}}let ok=(()=>{class i{constructor(t,o,s,r,l){this.myFormBuilder=t,this.reportSer=o,this.location=s,this.userService=r,this.itemSer=l,this.Dmonth="Nov",this.Damount=14e3,this.TPuramount=450571,this.Stsoldamount=8896,this.Premonthamount=497267,this.Adjustments=518897,this.LostitemPrice=0,this.greaterdate=!1,this.submitted=!1,this.tabdata=[],this.url=window.location.protocol+"//"+window.location.host+"/assets/css/report.css",this.logourl=window.location.protocol+"//"+window.location.host+"/pages/child-reg-form/child-reg-form.html",this.TotalStockInAmount=0,this.TotalStockOutAmount=0,this.RemainingStockAmount=0,this.norecord=!1,this.maxDate=(0,g.p6)(new Date,"yyyy-MM","en")}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():(this.formControls(),this.storeItemSub=this.itemSer.fetchstoreitemsbyjoin().subscribe(t=>{t.length>0&&(this.allitems=t)}),this.currentTime=new Date,this.curentMonth=this.currentTime.getFullYear()+"-"+("0"+(this.currentTime.getMonth()+1)).slice(-2))}get f(){return this.itemReportForm.controls}formControls(){this.itemReportForm=this.myFormBuilder.group({startDate:["",a.kI.required],itemId:[""]})}submit(){if(this.submitted=!0,this.tabdata=[],this.TotalStockInAmount=0,this.TotalStockOutAmount=0,this.RemainingStockAmount=0,!this.itemReportForm.invalid){if($("#startDate").css("border","1px solid #ced4da"),this.greaterdate=!1,this.stdate=this.itemReportForm.value.startDate,Date.parse(this.stdate)>Date.parse(this.curentMonth.toString()))return void(this.fDate=!0);this.fDate=!1,this.storeItemSub=this.reportSer.getallItemData(this.itemReportForm.value.startDate).subscribe(o=>{if(o.length>0){for(var s in o)this.TotalStockInAmount=this.TotalStockInAmount+o[s].recamt,this.TotalStockOutAmount=this.TotalStockOutAmount+o[s].issamt,this.RemainingStockAmount=this.RemainingStockAmount+o[s].balamt;this.tabdata=o,this.ItemName=o[0].ItemName,$("#2").show(),$("#page").show()}else $("#2").hide(),$("#page").hide(),this.norecord=!0,setTimeout(()=>this.norecord=!1,4e3),this.tabdata=[]})}}reset(){this.itemReportForm.reset(),this.submitted=!1,this.tabdata=[]}ngOnDestroy(){this.storeItemSub&&this.storeItemSub.unsubscribe()}print(){var t=document.getElementById("2");t.style.visibility="hidden";let o=document.getElementById("page"),s=window.open("","new div","height=720,width=1080");s.document.write("<html><head>"),s.document.write('<style>\n    .report{background-color: grey;\n      border : 1px solid rgb(167, 167, 167);\n    }\n      @page {\n        size: A4 landscape !important;\n        margin: 0.2inch !important;\n      }\n    @media print{\n\n      .col-sm-1, .col-sm-2, .col-sm-3, .col-sm-4, .col-sm-5, .col-sm-6,\n      .col-sm-7, .col-sm-8, .col-sm-9, .col-sm-10, .col-sm-11, .col-sm-12 {\n           float: left;\n      }\n      .page-break{\n        page-break-after: auto;\n      }\n      th{\n        background-color:lightgrey;\n      }\n      html\n      {\n\n      }\n      body {\n        -webkit-print-color-adjust:exact;\n\n\n      }\n        .col-sm-12 {\n             width: 100%;\n        }\n\n        .col-sm-11 {\n             width: 91.66666666666666%;\n        }\n\n        .col-sm-10 {\n             width: 83.33333333333334%;\n        }\n\n        .col-sm-9 {\n              width: 75%;\n        }\n\n        .col-sm-8 {\n              width: 66.66666666666666%;\n        }\n\n         .col-sm-7 {\n              width: 58.333333333333336%;\n         }\n\n         .col-sm-6 {\n              width: 50%;\n         }\n\n         .col-sm-5 {\n              width: 41.66666666666667%;\n         }\n\n         .col-sm-4 {\n              width: 33.33333333333333%;\n         }\n\n         .col-sm-3 {\n              width: 25%;\n         }\n\n         .col-sm-2 {\n                width: 16.666666666666664%;\n         }\n\n         .col-sm-1 {\n                width: 8.333333333333332%;\n          }\n        .color{\n          background-color: lightblue !important;\n        }\n        .image{\n          width="100px"\n          height="100px"\n        }\n    .print:last-child {\n      page-break-after: auto;\n      }\n      .th {\n        background-color: yellow;\n      }\n      .lightBlue {\n        background-color: lightblue !important;\n        -webkit-print-color-adjust: exact;\n        color-adjust: exact !important;\n      }\n    .date{\n      font-weight: 400;\n      color : green;\n    }\n\n    .heading{\n      font-weight: 400;\n    }\n    .head{\n      font-weight:200;\n      text-align:center;\n    }\n    .error{\n      border : 1px solid red;\n    }</style>'),s.document.write("</head><body>"),s.document.write(o.innerHTML),s.document.write(`<link rel="stylesheet" type="text/css" href="${this.url}";>`),s.document.write('<div class="print"></div></body>'),s.document.write("</html>"),setTimeout(()=>{s.document.close(),s.focus(),s.print()},300),setTimeout(function(){t.style.visibility="visible",s.close()},1500)}back(){this.location.back()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(ft),e.Y36(g.Ye),e.Y36(h),e.Y36(M))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-singleitemtreport"]],decls:106,vars:37,consts:[[1,"content-wrapper"],["class","alertnotify","style","background: #CB3837",4,"ngIf"],["activeIds","toggle-11",3,"closeOthers"],["id","toggle-11"],["ngbPanelTitle",""],["ngbPanelContent",""],["id","page",1,"container-fluid","mt-2",2,"font-family","Sans-serif","background-color","white","display","none"],[1,"table"],["id","storedataTable",1,"table","table-striped","table-bordered","text-center"],["colspan","11"],[1,"row"],[1,"col-3","text-left"],["src","/assets/images/logo-Mz.png","height","40","width","auto"],[1,"col-5"],[2,"font-size","22px"],[1,"align-left",2,"font-size","16px"],[1,"align-left",2,"font-size","16px","color","#2cc238"],["style","font-size:13px;font-weight: 200;",4,"ngFor","ngForOf"],[1,"container-fluid"],[2,"page-break-before","auto"],[2,"font-size","13px","font-weight","200"],[1,"col-2"],[1,"col-3"],[1,"alertnotify",2,"background","#CB3837"],[1,"card-header--title"],[1,"pull-right"],[1,"fa","fa-angle-down","fa-lg"],[3,"formGroup"],[1,"row","mb-1"],[1,"col-md-3"],["for",""],["type","month","formControlName","startDate","id","startDate",1,"form-control","form-control-sm",3,"max","ngClass"],["style","color:red;",4,"ngIf"],["class","invalid-feedback",4,"ngIf"],["class","invalid-feedback d-block",4,"ngIf"],["formControlName","itemId","id","itemId",1,"form-control","form-control-sm",3,"ngClass"],["value","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-3","mt-3"],[1,"btn","upload-btn","btn-sm","mr-2",3,"click"],["id","2",1,"btn","print-btn","btn-sm","mr-1","mr-2",2,"display","none",3,"click"],[1,"btn","reset-btn","btn-sm",3,"click"],[2,"color","red"],[1,"invalid-feedback"],[4,"ngIf"],[1,"invalid-feedback","d-block"],[3,"value"],[2,"padding-bottom","0","padding-top","0"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,B5,2,0,"div",1),e.qZA(),e.TgZ(2,"ngb-accordion",2),e.TgZ(3,"ngb-panel",3),e.YNc(4,H5,4,0,"ng-template",4),e.YNc(5,tk,26,15,"ng-template",5),e.qZA(),e.qZA(),e.TgZ(6,"div",6),e.TgZ(7,"div",7),e._UZ(8,"br"),e.TgZ(9,"table",8),e.TgZ(10,"thead"),e.TgZ(11,"tr"),e.TgZ(12,"th",9),e.TgZ(13,"div",10),e.TgZ(14,"div",11),e._UZ(15,"img",12),e.qZA(),e.TgZ(16,"div",13),e.TgZ(17,"label",14),e._uU(18,"Stock Report"),e.qZA(),e._UZ(19,"br"),e.TgZ(20,"label",15),e._uU(21),e.ALo(22,"date"),e.ALo(23,"date"),e.qZA(),e._UZ(24,"br"),e.TgZ(25,"label",16),e._uU(26),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(27,"tr"),e.TgZ(28,"th"),e._uU(29,"Unit Amount"),e.qZA(),e.TgZ(30,"th"),e._uU(31,"Stock In Qty"),e.qZA(),e.TgZ(32,"th"),e._uU(33,"Stock In Amount"),e.qZA(),e.TgZ(34,"th"),e._uU(35,"Stock Out Qty"),e.qZA(),e.TgZ(36,"th"),e._uU(37,"Stock Out Amount"),e.qZA(),e.TgZ(38,"th"),e._uU(39,"Opening Qty"),e.qZA(),e.TgZ(40,"th"),e._uU(41,"Total In Stock"),e.qZA(),e.TgZ(42,"th"),e._uU(43,"Total Out Stock"),e.qZA(),e.TgZ(44,"th"),e._uU(45,"Balance Qty"),e.qZA(),e.TgZ(46,"th"),e._uU(47,"Balance Amount"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(48,"tbody"),e.YNc(49,ik,25,22,"tr",17),e.qZA(),e.qZA(),e.qZA(),e.TgZ(50,"div",18),e.TgZ(51,"table",19),e.TgZ(52,"tr",20),e.TgZ(53,"td"),e._uU(54),e.qZA(),e.TgZ(55,"td"),e._uU(56),e.ALo(57,"number"),e.qZA(),e.qZA(),e.TgZ(58,"tr",20),e.TgZ(59,"td"),e._uU(60,"Total Purchased Amount ="),e.qZA(),e.TgZ(61,"td"),e._uU(62),e.ALo(63,"number"),e.qZA(),e.qZA(),e.TgZ(64,"tr",20),e.TgZ(65,"td"),e._uU(66,"Stock Sold Amount ="),e.qZA(),e.TgZ(67,"td"),e._uU(68),e.ALo(69,"number"),e.qZA(),e.qZA(),e.TgZ(70,"tr",20),e.TgZ(71,"td"),e._uU(72,"Previous Month Stock Remaining Amount ="),e.qZA(),e.TgZ(73,"td"),e._uU(74),e.ALo(75,"number"),e.qZA(),e.qZA(),e.TgZ(76,"tr",20),e.TgZ(77,"td"),e._uU(78,"Adjustment adding previous rate of pre ="),e.qZA(),e.TgZ(79,"td"),e._uU(80),e.ALo(81,"number"),e.qZA(),e.qZA(),e.TgZ(82,"tr",20),e.TgZ(83,"td"),e._uU(84,"Lost Items Price ="),e.qZA(),e.TgZ(85,"td"),e._uU(86),e.ALo(87,"number"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(88,"div",10),e._UZ(89,"br"),e._UZ(90,"div",21),e.TgZ(91,"div",22),e.TgZ(92,"p"),e._uU(93,"______________________"),e.qZA(),e.TgZ(94,"p"),e._uU(95,"Store Managed By"),e.qZA(),e.qZA(),e.TgZ(96,"div",22),e.TgZ(97,"p"),e._uU(98,"______________________"),e.qZA(),e.TgZ(99,"p"),e._uU(100,"Store Verified By"),e.qZA(),e.qZA(),e.TgZ(101,"div",22),e.TgZ(102,"p"),e._uU(103,"______________________"),e.qZA(),e.TgZ(104,"p"),e._uU(105,"Executive Director"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",o.norecord),e.xp6(1),e.Q6J("closeOthers",!0),e.xp6(19),e.AsE("",e.xi3(22,13,o.stdate,"MMMM")," ",e.xi3(23,16,o.stdate,"yyyy"),""),e.xp6(5),e.Oqu(o.ItemName),e.xp6(23),e.Q6J("ngForOf",o.tabdata),e.xp6(5),e.hij("Donation Amount in ",o.Dmonth," ="),e.xp6(2),e.hij("Rs.",e.xi3(57,19,o.Damount,"1.2-3"),""),e.xp6(6),e.hij("Rs.",e.xi3(63,22,o.TPuramount,"1.2-3"),""),e.xp6(6),e.hij("Rs.",e.xi3(69,25,o.Stsoldamount,"1.2-3"),""),e.xp6(6),e.hij("Rs.",e.xi3(75,28,o.Premonthamount,"1.2-3"),""),e.xp6(6),e.hij("Rs.",e.xi3(81,31,o.Adjustments,"1.2-3"),""),e.xp6(6),e.hij("Rs.",e.xi3(87,34,o.LostitemPrice,"1.2-3"),""))},directives:[g.O5,u.gY,u.Gk,u.Cu,u.gW,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,g.mk,a.EJ,a.YN,a.Kr,g.sg],pipes:[g.uU,g.JJ],styles:[""]}),i})();function nk(i,n){if(1&i&&(e.TgZ(0,"span"),e._uU(1," \xa0"),e.TgZ(2,"u"),e._uU(3),e.ALo(4,"date"),e.qZA(),e._uU(5," :\xa0 "),e.qZA()),2&i){const t=e.oxw(2);e.xp6(3),e.Oqu(e.lcZ(4,1,t.allrecord[0].DeliveryDate))}}function sk(i,n){if(1&i&&(e.TgZ(0,"tr"),e.TgZ(1,"td",37),e._uU(2),e.qZA(),e.qZA()),2&i){const t=n.$implicit;e.xp6(2),e.AsE("\u2022 ",t.ItemName," x ",t.Quantity,"")}}function rk(i,n){if(1&i&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e.TgZ(8,"table",35),e.YNc(9,sk,3,2,"tr",36),e.qZA(),e.qZA(),e.TgZ(10,"td"),e._uU(11,"-"),e.qZA(),e.qZA()),2&i){const t=e.oxw(2);e.xp6(2),e.Oqu(t.allrecord[0].RegNo),e.xp6(2),e.Oqu(t.allrecord[0].PatientName),e.xp6(2),e.Oqu(t.allrecord[0].PostalAddress),e.xp6(3),e.Q6J("ngForOf",t.allrecord)}}function ak(i,n){if(1&i&&(e.TgZ(0,"form"),e.TgZ(1,"div",25),e.TgZ(2,"div",26),e.TgZ(3,"div",27),e.TgZ(4,"h3",28),e.TgZ(5,"u"),e._uU(6," Receiving Receipt/ \u0631\u0633\u06cc\u062f \u0645\u0648\u0635\u0648\u0644 "),e.qZA(),e.qZA(),e.TgZ(7,"h7"),e.TgZ(8,"b"),e._uU(9,"I acknowledged that, I received the following items in good condition from \u201cMeethi Zindagi"),e.qZA(),e.qZA(),e._UZ(10,"br"),e.TgZ(11,"h7"),e.TgZ(12,"b"),e._uU(13,"\u0645\u06cc\u06ba \u0627\u0633 \u0628\u0627\u062a \u06a9\u0648 \u062a\u0633\u0644\u06cc\u0645 \u06a9\u0631\u062a\u0627 \u06be\u0648\u06ba \u06a9\u06c1\u060c \u0645\u06cc\u06ba \u0646\u06d2 \u062f\u0631\u062c \u0632\u06cc\u0644 \u0686\u06cc\u0632\u0648\u06ba \u06a9\u0648 \u06a9\u0627\u0628\u0644\u0650 \u0642\u0628\u0648\u0644 \u062d\u0627\u0644\u062a \u0645\u06cc\u06ba \u0648\u0635\u0648\u0644 \u06a9\u06cc\u0627 \u06be\u06d2\u06d4"),e.qZA(),e.qZA(),e._UZ(14,"br"),e.qZA(),e.qZA(),e.TgZ(15,"div",29),e.TgZ(16,"div",30),e.TgZ(17,"span"),e._uU(18," \xa0"),e.TgZ(19,"u"),e._uU(20,"____________"),e.qZA(),e._uU(21," :\xa0 "),e.qZA(),e.TgZ(22,"span"),e.TgZ(23,"b"),e._uU(24,"\u0648\u0635\u0648\u0644 \u06c1\u0648\u0646\u06d2 \u06a9\u06cc \u062a\u0627\u0631\u06cc\u062e / Receiving Date "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(25,"div",31),e.YNc(26,nk,6,3,"span",8),e.TgZ(27,"span"),e.TgZ(28,"b"),e._uU(29," \u0628\u06be\u06cc\u062c\u0646\u06d2 \u06a9\u06cc \u062a\u0627\u0631\u06cc\u062e / Sending Date "),e.qZA(),e.qZA(),e.qZA(),e._UZ(30,"div",14),e.qZA(),e.TgZ(31,"div",25),e.TgZ(32,"div",32),e.TgZ(33,"table",33),e.TgZ(34,"thead",34),e.TgZ(35,"tr"),e.TgZ(36,"th"),e._uU(37,"Reg #"),e.qZA(),e.TgZ(38,"th"),e._uU(39,"Name of Child / \u0628\u0686\u06d2 \u06a9\u0627 \u0646\u0627\u0645"),e.qZA(),e.TgZ(40,"th"),e._uU(41,"Address / \u067e\u062a\u06c1"),e.qZA(),e.TgZ(42,"th"),e._uU(43,"Insulin / \u0627\u0646\u0633\u0648\u0644\u06cc\u0646"),e.qZA(),e.TgZ(44,"th"),e._uU(45,"Surgical / \u062f\u06cc\u06af\u0631 \u0627\u0634\u06cc\u0627"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(46,"tbody"),e.YNc(47,rk,12,4,"tr",8),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(26),e.Q6J("ngIf",t.data),e.xp6(21),e.Q6J("ngIf",t.data)}}let lk=(()=>{class i{constructor(t,o,s,r,l,d){this.myRouter=t,this.route=o,this.storerec=s,this.purchased=r,this.location=l,this.userService=d,this.url=window.location.protocol+"//"+window.location.host+"/assets/css/report.css",this.alertnotify=!1,this.data=!1}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():this.storerec.getReceivingSlipData(this.route.snapshot.paramMap.get("id")).subscribe(t=>{t.length>0?(this.allrecord=t,this.data=!0):this.allrecord={}})}cancel(){this.location.back()}print(){var t=document.getElementById("2"),o=document.getElementById("1"),s=document.getElementById("head"),r=document.getElementById("Signature");let l=document.getElementById("page");var d=document.getElementById("foot");let m=window.open("","new div","height=1080,width=700");m.document.write("<html><head>"),m.document.write(`<link rel="stylesheet" type="text/css" href="${this.url}";>`),m.document.write('<style>\n    @media print {\n      .col-sm-1, .col-sm-2, .col-sm-3, .col-sm-4, .col-sm-5, .col-sm-6,\n      .col-sm-7, .col-sm-8, .col-sm-9, .col-sm-10, .col-sm-11, .col-sm-12 {\n           float: left;}\n      @page {\n        size: A4;\n      }\n      body {\n        position: relative;\n      }\n      html,body {\n        \n        \n        width: 100%;\n      }\n      footer {\n        display: inline-block;\n        position: fixed;\n        vertical-align: bottom;\n        width: 100%;\n        bottom: 0;\n      }\n      .col-sm-12 {\n        width: 100%;\n   }\n\n   .col-sm-11 {\n        width: 91.66666666666666%;\n   }\n\n   .col-sm-10 {\n        width: 83.33333333333334%;\n   }\n\n   .col-sm-9 {\n         width: 75%;\n   }\n\n   .col-sm-8 {\n         width: 66.66666666666666%;\n   }\n\n    .col-sm-7 {\n         width: 58.333333333333336%;\n    }\n\n    .col-sm-6 {\n         width: 50%;\n    }\n\n    .col-sm-5 {\n         width: 41.66666666666667%;\n    }\n\n    .col-sm-4 {\n         width: 33.33333333333333%;\n    }\n\n    .col-sm-3 {\n         width: 25%;\n    }\n\n    .col-sm-2 {\n           width: 16.666666666666664%;\n    }\n\n    .col-sm-1 {\n           width: 8.333333333333332%;\n     }\n     .print:last-child {\n      page-break-after: auto;\n      }\n      .th {\n        background-color: yellow;\n      }\n      .lightBlue {\n        background-color: lightblue !important;\n        -webkit-print-color-adjust: exact;\n        color-adjust: exact !important;   \n      }\n    .date{\n      font-weight: 400;\n      color : green;\n    }\n    .heading{\n      font-weight: 400;\n    }\n    \n    .error{\n      border : 1px solid red;\n    }\n    }\n    </style><header><div class="row header">'),m.document.write(s.innerHTML),m.document.write("</div></header></head><body>"),m.document.write(l.innerHTML),m.document.write(r.innerHTML),m.document.write("</body>"),m.document.write('<footer class="footer"><div class="footer">'),m.document.write(d.innerHTML),m.document.write("</div></footer>"),m.document.write("</html>"),m.document.close(),m.focus(),t.style.visibility="hidden",o.style.visibility="hidden",setTimeout(()=>{m.document.close(),m.focus(),m.print()},1500),setTimeout(function(){t.style.visibility="visible",o.style.visibility="visible",m.close()},2e3),setTimeout(()=>{this.location.back()},3e3)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(p.F0),e.Y36(p.gz),e.Y36(ee),e.Y36(Ke),e.Y36(g.Ye),e.Y36(h))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-recievingslip"]],decls:64,vars:1,consts:[[1,"container-fluid",2,"background-color","white"],["id","head",1,"row","m-2",2,"background-color","white"],[1,"col-3","ml-2"],["src","/assets/images/logo-report.png","height","70","width","auto"],[1,"col-8","text-right"],[2,"font-family","'Constantia' Times, serif"],[1,"row"],["id","page",1,"col-md-12",2,"background-color","white"],[4,"ngIf"],["id","Signature",1,"row","ml-2","align-items-end",2,"margin-top","20px","font-size","18px","font-family","'Times New Roman', Times, serif"],[1,"col-6"],[2,"text-align","left"],[1,"card","text-center",2,"border-radius","2px","border","2px solid","border-color","lightgray"],[1,"col-4","ml-auto","text-right"],[1,"col-1"],["id","foot",2,"margin-top","20px","font-size","18px","font-family","'Times New Roman', Times, serif"],[2,"border-top","1px solid black","border-bottom","1px solid black"],[1,"text-center","p-0","m-0"],[1,"row","mr-1","ml-1"],[1,"col-4",2,"border-right","1px solid black"],[1,"col-4"],[1,"row","justify-content-end","m-2"],[1,"col"],["id","1",1,"btn","reset-btn",2,"width","120px","float","right","margin-left","4px",3,"click"],["id","2",1,"btn","print-btn",2,"width","120px","float","right",3,"click"],[1,"container-fluid"],[1,"row","justify-content-center"],[1,"col-10","text-center"],[2,"font-family","'Times New Roman', Times, serif"],[1,"row",2,"margin-top","20px","font-size","18px","font-family","'Times New Roman', Times, serif"],[1,"col-6","text-center"],[1,"col-5","text-center"],["className","row-sm-12",1,"table-table-responsive-m","text-left",2,"margin-top","10px"],[1,"table","table-bordered","px-10",2,"font-family","Calibri","font-size","18px","border-width","2px"],[2,"background-color","lightgrey"],[1,"table","p-0","text-left"],[4,"ngFor","ngForOf"],[2,"border","0px","padding","0px"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e._UZ(3,"img",3),e.qZA(),e.TgZ(4,"div",4),e.TgZ(5,"h4",5),e.TgZ(6,"b"),e._uU(7,"Meethi Zindagi"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",6),e.TgZ(9,"div",7),e.YNc(10,ak,48,2,"form",8),e.qZA(),e.qZA(),e.TgZ(11,"div",9),e.TgZ(12,"div",10),e.TgZ(13,"span",11),e.TgZ(14,"b"),e._uU(15," \u2192 Comments: \u0627\u067e\u0646\u06cc \u0631\u0627\u06d3 \u062f\u06cc\u06ba"),e.qZA(),e.qZA(),e._UZ(16,"br"),e.TgZ(17,"div",12),e.TgZ(18,"span"),e.TgZ(19,"b"),e._uU(20,"\u0634\u06a9\u0627\u06cc\u0627\u062a \u06a9\u06d2 \u0644\u0626\u06d2 \u0628\u0631\u0627\u06c1 \u06a9\u0631\u0645 \u0627\u0633 \u0646\u0645\u0628\u0631 \u067e\u0631 \u0641\u0648\u0646 \u06a9\u0631\u06cc\u06ba (0324-0736928) "),e.qZA(),e.qZA(),e._UZ(21,"Br"),e._UZ(22,"br"),e._UZ(23,"br"),e.qZA(),e.qZA(),e.TgZ(24,"div",13),e.TgZ(25,"span"),e._uU(26,"______________________________"),e.qZA(),e._UZ(27,"br"),e.TgZ(28,"span"),e.TgZ(29,"b"),e._uU(30,"Signature of Receiver"),e.qZA(),e.qZA(),e._UZ(31,"br"),e.TgZ(32,"span"),e.TgZ(33,"b"),e._uU(34,"\u0648\u0635\u0648\u0644 \u06a9\u0631\u0646\u06d2 \u0648\u0627\u0644\u06d2 \u06a9\u06d2\u062f\u0633\u062a\u062e\u0637"),e.qZA(),e.qZA(),e._UZ(35,"br"),e.qZA(),e._UZ(36,"div",14),e.qZA(),e.TgZ(37,"div",15),e.TgZ(38,"div",16),e.TgZ(39,"p",17),e.TgZ(40,"b"),e._uU(41,"Meethi Zindagi is PCP Certified and Tax Exempted, Approved Under Section 2(36) of Income Tax Ordinance 2001"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(42,"div",18),e.TgZ(43,"div",19),e.TgZ(44,"p"),e.TgZ(45,"b"),e._uU(46,"Rawalpindi Office:"),e.qZA(),e._uU(47," 65-A, Street 3, Westridge-1, Opp Rafay Mall, Peshawar Road, Rawalpindi.Tel: 051-8313214"),e.qZA(),e.qZA(),e.TgZ(48,"div",19),e.TgZ(49,"p"),e.TgZ(50,"b"),e._uU(51,"Lahore Office:"),e.qZA(),e._uU(52," 254-B, Street 5, Cavalry Ground, Lahore Cantt, Lahore. Tel: 0332-8313214"),e.qZA(),e.qZA(),e.TgZ(53,"div",20),e.TgZ(54,"p"),e.TgZ(55,"b"),e._uU(56,"Karachi Office:"),e.qZA(),e._uU(57," E-127/G4, Block 7, Near Maskan Chowrangi, Gulshan-e-Iqbal, Karachi. Tel: 0335-5554606"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(58,"div",21),e.TgZ(59,"div",22),e.TgZ(60,"button",23),e.NdJ("click",function(){return o.cancel()}),e._uU(61,"Cancel"),e.qZA(),e.TgZ(62,"button",24),e.NdJ("click",function(){return o.print()}),e._uU(63,"Print"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(10),e.Q6J("ngIf",o.data))},directives:[g.O5,a._Y,a.JL,a.F,g.sg],pipes:[g.uU],styles:["","@page {\n        size: auto;\n        \n        margin: 0mm;\n        \n    }"]}),i})();function dk(i,n){if(1&i&&(e.TgZ(0,"div",3),e.TgZ(1,"div",4),e.TgZ(2,"div",5),e.TgZ(3,"div",6),e.TgZ(4,"div",7),e.TgZ(5,"div",8),e._UZ(6,"img",9),e.TgZ(7,"div",10),e.TgZ(8,"h4"),e._uU(9),e.qZA(),e.TgZ(10,"p",11),e._uU(11,"Patient Name"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"div",12),e.TgZ(13,"div",13),e.TgZ(14,"div",7),e.TgZ(15,"div",14),e.TgZ(16,"div",15),e.TgZ(17,"h6",16),e._uU(18,"POI NO"),e.qZA(),e.qZA(),e.TgZ(19,"div",17),e._uU(20),e.qZA(),e.qZA(),e._UZ(21,"hr"),e.TgZ(22,"div",14),e.TgZ(23,"div",15),e.TgZ(24,"h6",16),e._uU(25,"City"),e.qZA(),e.qZA(),e.TgZ(26,"div",17),e._uU(27),e.qZA(),e.qZA(),e._UZ(28,"hr"),e.TgZ(29,"div",14),e.TgZ(30,"div",15),e.TgZ(31,"h6",16),e._uU(32,"Mobile"),e.qZA(),e.qZA(),e.TgZ(33,"div",17),e._uU(34),e.qZA(),e.qZA(),e._UZ(35,"hr"),e.TgZ(36,"div",14),e.TgZ(37,"div",15),e.TgZ(38,"h6",18),e._uU(39,"Residential Address"),e.qZA(),e.qZA(),e.TgZ(40,"div",17),e._uU(41),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(6),e.s9C("src",t.img,e.LSH),e.xp6(3),e.AsE("",t.UserData.PatientFirstName," ",t.UserData.PatientLastName,""),e.xp6(11),e.hij(" ",t.UserData.poino," "),e.xp6(7),e.hij(" ",t.UserData.CityName," "),e.xp6(7),e.hij(" ",t.UserData.GuardianContact," "),e.xp6(7),e.hij(" ",t.UserData.ResidentialAddress," ")}}function ck(i,n){1&i&&e._UZ(0,"tr")}function uk(i,n){if(1&i&&(e.ynx(0),e.YNc(1,ck,1,0,"tr",25),e.TgZ(2,"table",24),e.TgZ(3,"thead"),e.TgZ(4,"th",29),e._uU(5,"Item"),e.qZA(),e.qZA(),e.TgZ(6,"tbody"),e.TgZ(7,"tr"),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.BQk()),2&i){const t=e.oxw().$implicit,o=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",o.findDetails(t)),e.xp6(8),e.Oqu(t.items)}}function gk(i,n){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr",26),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return r.expanded=!r.expanded}),e.TgZ(2,"td",27),e.TgZ(3,"span"),e.TgZ(4,"strong"),e._uU(5),e.ALo(6,"date"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(7,uk,10,2,"ng-container",28),e._UZ(8,"hr"),e.BQk()}if(2&i){const t=n.$implicit,o=n.index,s=e.oxw(2);e.xp6(5),e.AsE(" ",o+1,". ",e.xi3(6,3,t.DeliveryDate,s.mediumDate),""),e.xp6(2),e.Q6J("ngIf",t.expanded)}}function mk(i,n){if(1&i&&(e.TgZ(0,"div",19),e.TgZ(1,"div",20),e.TgZ(2,"div",21),e.TgZ(3,"div",22),e.TgZ(4,"p"),e._uU(5,"Package Issued to "),e.TgZ(6,"b"),e.TgZ(7,"u"),e._uU(8),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"div",23),e.TgZ(10,"table",24),e._UZ(11,"thead"),e.TgZ(12,"tbody"),e.YNc(13,gk,9,6,"ng-container",25),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(8),e.AsE("",t.UserData.PatientFirstName," ",t.UserData.PatientLastName,""),e.xp6(5),e.Q6J("ngForOf",t.AllRec)}}let pk=(()=>{class i{constructor(t,o,s){this.route=t,this.childSer=o,this.store=s,this.IsSHowPage=!1}ngOnInit(){let t=this.route.snapshot.params.regno;t?this.getUserData(t):alert("you don't have access")}getUserData(t){this.weburl=window.location.protocol+"//"+window.location.host+"//Documents/childdata/",this.childSer.getdatabyid(t).subscribe(o=>{o?(this.UserData=o[0],this.img=o[0].PatientPhoto?this.weburl+t+"/"+o[0].PatientPhoto:"/assets/images/download.png"):alert("NoData")}),this.store.getAllStoreItemSentById(t).subscribe(o=>{o?this.AllRec=o:alert("NoData")})}findDetails(t){this.data2=[],this.data2=t}ngOnDestroy(){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(p.gz),e.Y36(S),e.Y36(ee))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-listofallpackages"]],decls:3,vars:2,consts:[[1,"container"],["class","main-body",4,"ngIf"],["class","row mt-4",4,"ngIf"],[1,"main-body"],[1,"row","gutters-sm"],[1,"col-md-4","mb-3"],[1,"card"],[1,"card-body"],[1,"d-flex","flex-column","align-items-center","text-center"],["onerror","this.src='./assets/images/download.png'","alt","Admin","width","140",1,"rounded-circle",3,"src"],[1,"mt-3"],[1,"mb-0",2,"color","#e83e8c"],[1,"col-md-8","mb-3"],[1,"card","mb-3"],[1,"row"],[1,"col-sm-3"],[1,"mb-0"],[1,"col-sm-9",2,"color","#e83e8c"],[1,"mb-2"],[1,"row","mt-4"],[1,"col-lg-12"],[1,"card","main-card","mb-3"],[1,"card-header"],[1,"table-responsive"],[1,"table","table-hover","table-bordered","table-responsive-xl"],[4,"ngFor","ngForOf"],[3,"click"],[1,"arrow-pointer"],[4,"ngIf"],["scope","col"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,dk,42,7,"div",1),e.YNc(2,mk,14,3,"div",2),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",o.UserData),e.xp6(1),e.Q6J("ngIf",o.UserData))},directives:[g.O5,g.sg],pipes:[g.uU],styles:['.arrow-pointer[_ngcontent-%COMP%]{width:50px;height:50px;background:#32557fd7;position:relative}.arrow-pointer[_ngcontent-%COMP%]:before{content:"";position:absolute;right:0px;bottom:0;width:0;height:0;border-left:25px solid #ffffff;border-top:25px solid transparent;border-bottom:25px solid transparent;transform:scaleX(-1)}']}),i})(),_k=(()=>{class i{constructor(t,o){this.httpClient=t,this.myRouter=o,this.poiresult=["TEST"],this.token=localStorage.getItem("token"),this.httpOptions={headers:new c.WM({authorization:`Bearer ${this.token}`})}}addRights(t){let o=localStorage.getItem("token"),s={headers:new c.WM({authorization:`Bearer ${o}`})};return this.httpClient.post("/api/rights/addRightsidebar",t,s)}getAllRights(){let t=localStorage.getItem("token"),o={headers:new c.WM({authorization:`Bearer ${t}`})};return this.httpClient.get("/api/rights/getAllRightsnew/",o)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(c.eN),e.LFG(p.F0))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function hk(i,n){1&i&&(e.TgZ(0,"div",8),e._uU(1," Something went wrong!. "),e.qZA())}function fk(i,n){1&i&&(e.TgZ(0,"div",9),e._uU(1," Added Successfully!. "),e.qZA())}function Zk(i,n){1&i&&(e.TgZ(0,"div",8),e._uU(1," Something went wrong!. "),e.qZA())}function bk(i,n){1&i&&(e.TgZ(0,"div",8),e._uU(1," Deleted Successfully!. "),e.qZA())}function vk(i,n){1&i&&(e.TgZ(0,"span",10),e._uU(1,"Add Right"),e.qZA(),e.TgZ(2,"div",11),e._UZ(3,"i",12),e.qZA())}function Tk(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Main Heading is required "),e.qZA())}function Ak(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Use alphabets only "),e.qZA())}function Ck(i,n){if(1&i&&(e.TgZ(0,"div",37),e.YNc(1,Tk,2,0,"div",38),e.YNc(2,Ak,2,0,"div",38),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.mainheading.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.mainheading.errors.pattern)}}function qk(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Right Name is required"),e.qZA())}function xk(i,n){if(1&i&&(e.TgZ(0,"div",37),e.YNc(1,qk,2,0,"div",38),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.rightname.errors.required)}}function Ik(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Right Url is required "),e.qZA())}function yk(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Use alphabets only "),e.qZA())}function kk(i,n){if(1&i&&(e.TgZ(0,"div",37),e.YNc(1,Ik,2,0,"div",38),e.YNc(2,yk,2,0,"div",38),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.righturl.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.righturl.errors.pattern)}}function Uk(i,n){if(1&i&&(e.TgZ(0,"option",39),e._uU(1),e.ALo(2,"uppercase"),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" \uf17b ",e.lcZ(2,2,t.Name),"")}}function Nk(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Sidebar is required "),e.qZA())}function wk(i,n){if(1&i&&(e.TgZ(0,"div",37),e.YNc(1,Nk,2,0,"div",38),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.Sidebar.errors.required)}}const bt=function(i){return{"is-invalid":i}},Gt=function(){return{unchecked:"#939da2",checked:"#2651be"}},Sk=function(){return{checked:"Sidebar",unchecked:"Sidebar"}},Fk=function(){return{checked:"#rgb(255 255 255)",unchecked:"smokewhite"}},Dk=function(){return{checked:"Archive",unchecked:"Archive"}},Jk=function(){return{checked:"rgb(255 255 255)",unchecked:"smokewhite"}};function Ek(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"form",13),e.TgZ(1,"div"),e.TgZ(2,"div"),e.TgZ(3,"div",14),e.TgZ(4,"div",15),e.TgZ(5,"div",16),e.TgZ(6,"div",17),e.TgZ(7,"label",18),e._uU(8,"Main Heading"),e.qZA(),e._UZ(9,"input",19),e.YNc(10,Ck,3,2,"div",20),e.qZA(),e.TgZ(11,"div",21),e.TgZ(12,"label",22),e._uU(13," Right Name "),e.qZA(),e._UZ(14,"input",23),e.YNc(15,xk,2,1,"div",20),e.qZA(),e.TgZ(16,"div",21),e.TgZ(17,"label",24),e._uU(18,"Right Url"),e.qZA(),e._UZ(19,"input",25),e.YNc(20,kk,3,2,"div",20),e.qZA(),e.TgZ(21,"div",21),e.TgZ(22,"label",26),e._uU(23,"Icon"),e.qZA(),e.TgZ(24,"select",27),e.TgZ(25,"option",28),e._uU(26,"Please Select"),e.qZA(),e.YNc(27,Uk,3,4,"option",29),e._UZ(28,"option"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(29,"div",16),e.TgZ(30,"div",30),e.TgZ(31,"ng-toggle",31),e.NdJ("change",function(){return e.CHM(t),e.oxw().isSidebar()}),e.qZA(),e.YNc(32,wk,2,1,"div",20),e.qZA(),e.TgZ(33,"div",30),e.TgZ(34,"ng-toggle",32),e.NdJ("change",function(){return e.CHM(t),e.oxw().isArchive()}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(35,"div",33),e.TgZ(36,"div",34),e.TgZ(37,"button",35),e.NdJ("click",function(){return e.CHM(t),e.oxw().submit()}),e._uU(38,"Submit"),e.qZA(),e._uU(39,"\xa0 "),e.TgZ(40,"button",36),e.NdJ("click",function(){return e.CHM(t),e.oxw().cancel()}),e._uU(41,"Reset"),e.qZA(),e._uU(42,"\xa0 "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("formGroup",t.AddRights),e.xp6(9),e.Q6J("ngClass",e.VKq(17,bt,t.submitted&&t.f.mainheading.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.mainheading.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(19,bt,t.submitted&&t.f.rightname.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.rightname.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(21,bt,t.submitted&&t.f.righturl.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.righturl.errors),e.xp6(7),e.Q6J("ngForOf",t.icon),e.xp6(4),e.Q6J("value",t.sidebar)("color",e.DdM(23,Gt))("labels",e.DdM(24,Sk))("switchColor",e.DdM(25,Fk)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.Sidebar.errors),e.xp6(2),e.Q6J("value",t.archive)("color",e.DdM(26,Gt))("labels",e.DdM(27,Dk))("switchColor",e.DdM(28,Jk))}}function Rk(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",49),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;return e.oxw(2).EditRights(s.RightId)}),e._UZ(1,"i",50),e.qZA()}}function Pk(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",51),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;return e.oxw(2).Delete(s.RightId)}),e._UZ(1,"i",52),e.qZA()}}function Yk(i,n){if(1&i&&(e.TgZ(0,"tr"),e.TgZ(1,"th",46),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e.YNc(16,Rk,2,0,"button",47),e._uU(17," \xa0 "),e.YNc(18,Pk,2,0,"button",48),e.qZA(),e.qZA()),2&i){const t=n.$implicit,o=n.index,s=e.oxw(2);e.xp6(2),e.Oqu(o+1),e.xp6(2),e.Oqu(t.RightName),e.xp6(2),e.Oqu(t.MainHeading),e.xp6(2),e.Oqu(t.RightURL),e.xp6(2),e.Oqu(t.Icon),e.xp6(2),e.Oqu(t.SidebarPage),e.xp6(2),e.Oqu(t.isArchieve),e.xp6(2),e.Q6J("ngIf",s.editrec),e.xp6(2),e.Q6J("ngIf",s.deleterec)}}function Qk(i,n){if(1&i&&(e.TgZ(0,"div",16),e.TgZ(1,"h6",40),e._uU(2," Diabetes Log Table "),e.qZA(),e.TgZ(3,"div",41),e._UZ(4,"br"),e.TgZ(5,"table",42),e.TgZ(6,"thead"),e.TgZ(7,"tr"),e.TgZ(8,"th",43),e._uU(9,"#"),e.qZA(),e.TgZ(10,"th",43),e._uU(11,"Right Name"),e.qZA(),e.TgZ(12,"th",43),e._uU(13,"Sidebar Heading "),e.qZA(),e.TgZ(14,"th",43),e._uU(15,"Url"),e.qZA(),e.TgZ(16,"th",43),e._uU(17,"Icon "),e.qZA(),e.TgZ(18,"th",43),e._uU(19,"Sidebar Visibility"),e.qZA(),e.TgZ(20,"th",43),e._uU(21,"Status"),e.qZA(),e.TgZ(22,"th",44),e._uU(23," Action "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(24,"tbody"),e.YNc(25,Yk,19,9,"tr",45),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(25),e.Q6J("ngForOf",t.DataformDb)}}let Ok=(()=>{class i{constructor(t,o,s,r,l,d,m){this.frombuilder=t,this.diabeteslog=o,this.route=s,this.detectChanges=r,this.rights=l,this.userService=d,this.popUpSer=m,this.submitted=!1,this.isVisibleFailure=!1,this.isVisibleSuccess=!1,this.IsSHowPage=!1,this.editrec=!1,this.tabrec=!1,this.poino=[],this.sidebar=!1,this.archive=!1,this.deleterec=!1,this.icon=[]}ngOnInit(){this.icon=[{Name:"arrowdownshortwide",value:"fa-solid fa-arrow-down-short-wide",app:"fa"},{Name:"arrowdowntosquare",value:"fa-solid fa-arrow-down-to-square"},{Name:"arrowcircleup",value:"fa-solid arrow-circle-up"},{Name:"bacteria",value:"fa-solid fa-bacteria"},{Name:"addressbook",value:"fa-solid fa-address-book"},{Name:"arrowcircle",value:"fa-arrow-circle-o-up"}],this.userService.tokenExpired()?this.userService.logout():(this.formcontrols(),this.getallpoino(),this.getAllRights(),this.tabrec=!0,this.editrec=!0)}getallpoino(){this.diabeteslog.getAllPoino().subscribe(t=>{t.length>0&&(this.poino=t)})}get f(){return this.AddRights.controls}formcontrols(){this.AddRights=this.frombuilder.group({rightname:["",[a.kI.required,a.kI.pattern("^[a-zA-Z -']+")]],mainheading:["",[a.kI.required,a.kI.pattern("^[a-zA-Z -']+")]],righturl:["",a.kI.required],icon:["",a.kI.required],Sidebar:[this.sidebar,a.kI.required],Archive:[this.archive,a.kI.required]})}isSidebar(){this.sidebar=!this.sidebar}isArchive(){this.archive=!this.archive}submit(){this.submitted=!0,!this.AddRights.invalid&&(this.formdata={rightname:this.AddRights.value.rightname,mainheading:this.AddRights.value.mainheading,righturl:this.AddRights.value.righturl,icon:this.AddRights.value.icon,Sidebar:this.sidebar,Archive:this.archive},console.log(this.formdata,"asaassaasasasasassaass"),this.rights.addRights(this.formdata).subscribe(t=>{t?(this.isVisibleSuccess=!0,setTimeout(()=>{this.isVisibleSuccess=!1},3e3),this.getAllRights(),this.submitted=!1):(this.isVisibleFailure=!0,setTimeout(()=>{this.isVisibleFailure=!1},3e3))}))}cancel(){this.AddRights.reset(),this.submitted=!1}getAllRights(){this.rights.getAllRights().subscribe(t=>{t.length>0?(this.DataformDb=t,this.detectChanges.detectChanges(),$("#rightsdataTable").DataTable({paging:!0,searching:!0,ordering:!0})):(this.allrights=[],this.detectChanges.detectChanges(),$("#rightsdataTable").DataTable({paging:!0,searching:!0,ordering:!0}))}),$("#rightsdataTable").dataTable().fnDestroy()}EditRights(t){console.log("click"),this.route.navigate(["/pages/edit-diabetes-log/"+t])}Delete(t){this.popUpSer.confirmCommon("","Do you want to delete?").then(o=>{o&&(console.log(t),this.diabeteslog.deleteDiabeteslog(t).subscribe(s=>{s?(this.isDeleteSuccess=!0,setTimeout(()=>this.isDeleteSuccess=!1,3e3),this.getAllRights()):(this.isDeletefailure=!0,setTimeout(()=>this.isDeletefailure=!1,3e3))}))}).catch(()=>console.log(""))}ngOnDestroy(){console.log("destroyed")}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(lt),e.Y36(p.F0),e.Y36(e.sBO),e.Y36(_k),e.Y36(h),e.Y36(b))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-rights"]],decls:11,vars:6,consts:[[1,"content-wrapper"],["class","alertnotify","style","background: #CB3837",4,"ngIf"],["class","alertnotify","style","background: #54A254",4,"ngIf"],["activeIds","toggle-11",3,"closeOthers"],["id","toggle-11"],["ngbPanelTitle",""],["ngbPanelContent",""],["class","row",4,"ngIf"],[1,"alertnotify",2,"background","#CB3837"],[1,"alertnotify",2,"background","#54A254"],[1,"card-header--title"],[1,"pull-right"],[1,"fa","fa-angle-down","fa-lg"],[3,"formGroup"],[1,"row",2,"margin-bottom","1%"],[1,"col-md-12"],[1,"row"],[1,"col-md-3",2,"padding-left","15px"],["for","Meal Taken",1,"col-form-label-sm"],["type","text","placeholder","Meal Taken","formControlName","mainheading","id","mainheading",1,"form-control","form-control-sm",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"col-md-3"],["for",""],["type","text","placeholder","Right Name","formControlName","rightname","id","rightname",1,"form-control","form-control-sm",3,"ngClass"],["for","Glucose Reading Before",1,"col-form-label-sm"],["type","text","placeholder","Before Meal mg/dl","formControlName","righturl","id","righturl",1,"form-control","form-control-sm",3,"ngClass"],["for","icon",1,"col-form-label-sm"],["formControlName","icon","id","icon",1,"form-control","form-control-sm"],["value","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-1",2,"padding-left","15px","padding-top","1%"],["width","90","ngbTooltip","Sidebar",3,"value","color","labels","switchColor","change"],["width","90","ngbTooltip","Archive",3,"value","color","labels","switchColor","change"],[1,"row","m-2","float-right"],[1,"col"],["type","submit",1,"btn","upload-btn","btn-sm",2,"width","70px",3,"click"],["type","submit",1,"btn","reset-btn","btn-sm",2,"width","70px",3,"click"],[1,"invalid-feedback"],[4,"ngIf"],[3,"value"],[1,"theme-heading","pt-6"],[1,"table-responsive"],["id","rightsdataTable",1,"table","table-striped","text-left"],["scope","col"],["scope","col",1,"col-2"],[4,"ngFor","ngForOf"],["scope","row"],["class","btn edit-btn btn-sm",3,"click",4,"ngIf"],["class","btn delet-btn btn-sm",3,"click",4,"ngIf"],[1,"btn","edit-btn","btn-sm",3,"click"],[1,"fa","fa-pencil","fa-fw"],[1,"btn","delet-btn","btn-sm",3,"click"],[1,"fa","fa-trash","fa-fw"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,hk,2,0,"div",1),e.YNc(2,fk,2,0,"div",2),e.qZA(),e.TgZ(3,"div",0),e.YNc(4,Zk,2,0,"div",1),e.YNc(5,bk,2,0,"div",1),e.qZA(),e.TgZ(6,"ngb-accordion",3),e.TgZ(7,"ngb-panel",4),e.YNc(8,vk,4,0,"ng-template",5),e.YNc(9,Ek,43,29,"ng-template",6),e.qZA(),e.qZA(),e.YNc(10,Qk,26,1,"div",7)),2&t&&(e.xp6(1),e.Q6J("ngIf",o.isVisibleFailure),e.xp6(1),e.Q6J("ngIf",o.isVisibleSuccess),e.xp6(2),e.Q6J("ngIf",o.isDeletefailure),e.xp6(1),e.Q6J("ngIf",o.isDeleteSuccess),e.xp6(1),e.Q6J("closeOthers",!0),e.xp6(4),e.Q6J("ngIf",o.tabrec))},directives:[g.O5,u.gY,u.Gk,u.Cu,u.gW,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,g.mk,a.EJ,a.YN,a.Kr,g.sg,Oe.sX,u._L],pipes:[g.gd],styles:[""]}),i})();function Mk(i,n){1&i&&(e.TgZ(0,"div",9),e._uU(1," Something went wrong!. "),e.qZA())}function Vk(i,n){1&i&&(e.TgZ(0,"div",10),e._uU(1," Added Successfully!. "),e.qZA())}function Bk(i,n){1&i&&(e.TgZ(0,"div",11),e._uU(1," Deleted Successfully!. "),e.qZA())}function Hk(i,n){1&i&&(e.TgZ(0,"span",12),e._uU(1,"Assign Right To User "),e.qZA(),e.TgZ(2,"div",13),e._UZ(3,"i",14),e.qZA())}function $k(i,n){if(1&i&&(e.TgZ(0,"option",22),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.UserId),e.xp6(1),e.hij(" ",t.UserName," ")}}function Lk(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Role is required"),e.qZA())}function Gk(i,n){if(1&i&&(e.TgZ(0,"div",23),e.YNc(1,Lk,2,0,"div",24),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.RoleId.errors.required)}}const jk=function(i){return{"is-invalid":i}};function zk(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"form",15),e.TgZ(1,"div",16),e.TgZ(2,"div",17),e.TgZ(3,"label"),e._uU(4,"User Name"),e.qZA(),e.TgZ(5,"select",18),e.NdJ("change",function(){return e.CHM(t),e.oxw().getAllRights()}),e.TgZ(6,"option",19),e._uU(7,"Please Select"),e.qZA(),e.YNc(8,$k,2,2,"option",20),e.qZA(),e.YNc(9,Gk,2,1,"div",21),e.qZA(),e.qZA(),e._UZ(10,"br"),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("formGroup",t.ASSIGNEDUSERRIGHT),e.xp6(5),e.Q6J("ngClass",e.VKq(4,jk,t.submitted&&t.f.Name.errors)),e.xp6(3),e.Q6J("ngForOf",t.Users),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.RoleId.errors)}}const Wk=function(){return{unchecked:"#939da2",checked:"#EA517B"}},Kk=function(){return{checked:"",unchecked:""}},Xk=function(){return{checked:"#efefef",unchecked:"smokewhite"}};function eU(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",29),e._uU(1),e.TgZ(2,"ng-toggle",30),e.NdJ("ngModelChange",function(s){return e.CHM(t).$implicit.UserId=s})("change",function(){const r=e.CHM(t).$implicit;return e.oxw(2).toggleUserRights(r)}),e.qZA(),e.qZA()}if(2&i){const t=n.$implicit;e.xp6(1),e.hij(" ",t.RightName,""),e.xp6(1),e.Q6J("ngModel",t.UserId)("id",t.RightName)("height",15)("width",20)("color",e.DdM(8,Wk))("labels",e.DdM(9,Kk))("switchColor",e.DdM(10,Xk))}}function tU(i,n){if(1&i&&(e.TgZ(0,"div",25),e.TgZ(1,"div",26),e.TgZ(2,"label",27),e._uU(3),e.qZA(),e._UZ(4,"br"),e._UZ(5,"br"),e.qZA(),e.ynx(6),e.TgZ(7,"div",16),e.YNc(8,eU,3,11,"div",28),e.qZA(),e.BQk(),e.qZA()),2&i){const t=n.$implicit;e.xp6(3),e.Oqu(t.mainheading),e.xp6(5),e.Q6J("ngForOf",t.Arr)}}let jt=(()=>{class i{constructor(t,o,s,r){this.rightSer=t,this.roleSer=o,this.cdr=s,this.myFormBuilder=r,this.colArray=[],this.rowArray=[],this.colums=4,this.rows=10,this.HtmlGrid="",this.j=1,this.newarr=[{mainheading:"",Arr:[{RightId:"",RightName:""}]}]}ngOnInit(){this.getUser(),this.formControls()}get f(){return this.ASSIGNEDUSERRIGHT.controls}formControls(){this.ASSIGNEDUSERRIGHT=this.myFormBuilder.group({Name:["",[a.kI.required]]})}getUser(){this.rightSer.getAllUser().subscribe(t=>{this.Users=t})}setDimension(){this.colArray=[],this.rowArray=[];for(let t=0;t<this.colums;t++)this.colArray.push(t);for(let t=0;t<this.rows;t++)this.rowArray.push(t)}getRoles(t){this.roleSer.getAssignedRolesRightsNew(t).subscribe(o=>{o||alert("no res")})}toggleUserRights(t){let o={UserId:this.ASSIGNEDUSERRIGHT.value.Name,RightId:t.RightId};1==t.UserId?this.rightSer.InsertNewUserAssignedRightNewPage(o).subscribe(s=>{s?(this.success=!0,setTimeout(()=>{this.success=!1},2e3)):(this.isVisibleFailure=!0,setTimeout(()=>{this.isVisibleFailure=!1},3e3))}):this.rightSer.updateUserAssignedRightNewPage(o).subscribe(s=>{s?(this.Delete=!0,setTimeout(()=>{this.Delete=!1},2e3)):(this.isVisibleFailure=!0,setTimeout(()=>{this.isVisibleFailure=!1},3e3))})}getAllRights(){let t=this.ASSIGNEDUSERRIGHT.value.Name;this.tData=!0,setTimeout(()=>{this.rightSer.getAllRightsnew(t).subscribe(o=>{if(o.length>0)return this.HtmlGrid+='<div class ="container">',void(this.allRights=this.sortData(o))})},500)}sortData(t){let o=[],s=0;return t.forEach(function(r,l,d){return 0==s||s>0&&o[s-1].mainheading!=r.MainHeading?(o.push({mainheading:r.MainHeading,Arr:[{RightId:r.RightId,RightName:r.RightName,UserId:r.UserId}]}),s++):o[s-1].Arr.push({RightId:r.RightId,RightName:r.RightName,UserId:r.UserId}),o}),o}ngOnDestroy(){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(ve),e.Y36(X),e.Y36(e.sBO),e.Y36(a.qu))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-assignrights"]],decls:9,vars:5,consts:[[1,"content-wrapper"],["class","alertnotify","style","background: #cb3837;",4,"ngIf"],["class","alertnotify","style","background: #54a254;",4,"ngIf"],["class","alertnotify","style","background: #CB3837;",4,"ngIf"],["activeIds","toggle-11",3,"closeOthers"],["id","toggle-11"],["ngbPanelTitle",""],["ngbPanelContent",""],["class","container",4,"ngFor","ngForOf"],[1,"alertnotify",2,"background","#cb3837"],[1,"alertnotify",2,"background","#54a254"],[1,"alertnotify",2,"background","#CB3837"],[1,"card-header--title"],[1,"pull-right"],[1,"fa","fa-angle-down","fa-lg"],[3,"formGroup"],[1,"row"],[1,"col"],["name","roleId","formControlName","Name","id","Name",1,"form-control","form-control-sm",3,"ngClass","change"],["value","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],[3,"value"],[1,"invalid-feedback"],[4,"ngIf"],[1,"container"],[1,"mainheading"],[1,"label"],["class","item col-3 bottom-remove",4,"ngFor","ngForOf"],[1,"item","col-3","bottom-remove"],[1,"text-right",3,"ngModel","id","height","width","color","labels","switchColor","ngModelChange","change"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Mk,2,0,"div",1),e.YNc(2,Vk,2,0,"div",2),e.YNc(3,Bk,2,0,"div",3),e.qZA(),e.TgZ(4,"ngb-accordion",4),e.TgZ(5,"ngb-panel",5),e.YNc(6,Hk,4,0,"ng-template",6),e.YNc(7,zk,11,6,"ng-template",7),e.qZA(),e.qZA(),e.YNc(8,tU,9,2,"div",8)),2&t&&(e.xp6(1),e.Q6J("ngIf",o.isVisibleFailure),e.xp6(1),e.Q6J("ngIf",o.success),e.xp6(1),e.Q6J("ngIf",o.Delete),e.xp6(1),e.Q6J("closeOthers",!0),e.xp6(4),e.Q6J("ngForOf",o.allRights))},directives:[g.O5,u.gY,u.Gk,u.Cu,u.gW,a._Y,a.JL,a.sg,a.EJ,a.JJ,a.u,g.mk,a.YN,a.Kr,g.sg,Oe.sX,a.On],styles:[".flex-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start}.item[_ngcontent-%COMP%]{display:flex;flex-direction:row;padding:2px;border-style:solid;border-right:0px;border-width:1px;background-color:#fff}.mainheading[_ngcontent-%COMP%]{margin-bottom:-25px;margin-top:25px;font-size:large;font-weight:500;color:#154dc5}.mainheading[_ngcontent-%COMP%]:first-child   label[_ngcontent-%COMP%]{margin-bottom:-60px}PageHeading[_ngcontent-%COMP%]{background:cadetblue;font-weight:700;margin:5px}.bottom-remove[_ngcontent-%COMP%]{justify-content:space-between;padding:7px 12px;border:0px;border-bottom:1px solid #efefef}"]}),i})();function iU(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Name is required"),e.qZA())}function oU(i,n){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,iU,2,0,"div",12),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.personal.name.errors?null:t.personal.name.errors.required)}}function nU(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Email is required"),e.qZA())}function sU(i,n){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,nU,2,0,"div",12),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.personal.email.errors?null:t.personal.email.errors.required)}}function rU(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Phone is required"),e.qZA())}function aU(i,n){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,rU,2,0,"div",12),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.personal.phone.errors?null:t.personal.phone.errors.required)}}const lU=function(i){return{"is-invalid":i}};function dU(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"fieldset"),e.TgZ(1,"h2",13),e._uU(2,"Personal Details"),e.qZA(),e._UZ(3,"input",14),e.YNc(4,oU,2,1,"div",12),e._UZ(5,"input",15),e.YNc(6,sU,2,1,"div",12),e._UZ(7,"input",16),e.YNc(8,aU,2,1,"div",12),e.TgZ(9,"input",17),e.NdJ("click",function(){return e.CHM(t),e.oxw().next()}),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("ngClass",e.VKq(4,lU,t.personal_step&&t.personal.name.errors)),e.xp6(1),e.Q6J("ngIf",t.personal_step&&t.personalDetails.controls.name.errors),e.xp6(2),e.Q6J("ngIf",t.personal_step&&t.personalDetails.controls.email.errors),e.xp6(2),e.Q6J("ngIf",t.personal_step&&t.personalDetails.controls.phone.errors)}}function cU(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"City is required"),e.qZA())}function uU(i,n){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,cU,2,0,"div",12),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.address.city.errors?null:t.address.city.errors.required)}}function gU(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Address is required"),e.qZA())}function mU(i,n){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,gU,2,0,"div",12),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.address.address.errors?null:t.address.address.errors.required)}}function pU(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Pincode is required"),e.qZA())}function _U(i,n){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,pU,2,0,"div",12),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.address.pincode.errors?null:t.address.pincode.errors.required)}}function hU(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"fieldset"),e.TgZ(1,"h2",13),e._uU(2,"Address Details"),e.qZA(),e._UZ(3,"input",18),e.YNc(4,uU,2,1,"div",12),e._UZ(5,"textarea",19),e.YNc(6,mU,2,1,"div",12),e._UZ(7,"input",20),e.YNc(8,_U,2,1,"div",12),e.TgZ(9,"input",21),e.NdJ("click",function(){return e.CHM(t),e.oxw().previous()}),e.qZA(),e.TgZ(10,"input",17),e.NdJ("click",function(){return e.CHM(t),e.oxw().next()}),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",t.address_step&&t.addressDetails.controls.city.errors),e.xp6(2),e.Q6J("ngIf",t.address_step&&t.addressDetails.controls.address.errors),e.xp6(2),e.Q6J("ngIf",t.address_step&&t.addressDetails.controls.pincode.errors)}}function fU(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Highest qualification is required"),e.qZA())}function ZU(i,n){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,fU,2,0,"div",12),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.education.highest_qualification.errors?null:t.education.highest_qualification.errors.required)}}function bU(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"University is required"),e.qZA())}function vU(i,n){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,bU,2,0,"div",12),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.education.university.errors?null:t.education.university.errors.required)}}function TU(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"Total marks is required"),e.qZA())}function AU(i,n){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,TU,2,0,"div",12),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.education.total_marks.errors?null:t.education.total_marks.errors.required)}}function CU(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"fieldset"),e.TgZ(1,"h2",13),e._uU(2,"Educational Details"),e.qZA(),e._UZ(3,"input",22),e.YNc(4,ZU,2,1,"div",12),e._UZ(5,"input",23),e.YNc(6,vU,2,1,"div",12),e._UZ(7,"input",24),e.YNc(8,AU,2,1,"div",12),e.TgZ(9,"input",21),e.NdJ("click",function(){return e.CHM(t),e.oxw().previous()}),e.qZA(),e.TgZ(10,"input",25),e.NdJ("click",function(){return e.CHM(t),e.oxw().submit()}),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",t.education_step&&t.educationalDetails.controls.highest_qualification.errors),e.xp6(2),e.Q6J("ngIf",t.education_step&&t.educationalDetails.controls.university.errors),e.xp6(2),e.Q6J("ngIf",t.education_step&&t.educationalDetails.controls.total_marks.errors)}}let qU=(()=>{class i{constructor(t){this.formBuilder=t,this.personal_step=!1,this.address_step=!1,this.education_step=!1,this.step=1}ngOnInit(){this.personalDetails=this.formBuilder.group({name:["",a.kI.required],email:["",a.kI.required],phone:["",a.kI.required]}),this.addressDetails=this.formBuilder.group({city:["",a.kI.required],address:["",a.kI.required],pincode:["",a.kI.required]}),this.educationalDetails=this.formBuilder.group({highest_qualification:["",a.kI.required],university:["",a.kI.required],total_marks:["",a.kI.required]})}get personal(){return this.personalDetails.controls}get education(){return this.educationalDetails.controls}get address(){return this.addressDetails.controls}next(){if(1==this.step){if(this.personal_step=!0,this.personalDetails.invalid)return;this.step++}if(2==this.step){if(this.address_step=!0,this.addressDetails.invalid)return;this.step++}}previous(){this.step--,1==this.step&&(this.personal_step=!1),2==this.step&&(this.education_step=!1)}submit(){3!=this.step||(this.education_step=!0)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-doctor-register"]],decls:22,vars:9,consts:[[1,"h-100","bg-plum-plate","bg-animation"],[1,"d-flex","h-100","justify-content-center","align-items-center",2,"background-image","linear-gradient(-20deg, #2b5876 0%, #4e4376 100%) !important"],[1,"mx-auto","app-login-box","col-md-8"],[1,"modal-dialog","w-100","mx-auto"],[1,"modal-content"],[1,"mx-auto","mb-3"],["src","/assets/images/iot.png","height","auto","width","160px"],[1,"row"],[1,"col-md-12","col-md-offset-3"],["id","msform",3,"formGroup"],["id","progressbar"],[3,"ngClass"],[4,"ngIf"],[1,"fs-title"],["type","text","formControlName","name","placeholder","Full Name",3,"ngClass"],["type","text","formControlName","email","name","email","placeholder","Email"],["type","text","formControlName","phone","name","phone","placeholder","Phone"],["type","button","name","next","value","Next",1,"next","action-button",3,"click"],["type","text","formControlName","city","placeholder","City"],["rows","5","cols","5","formControlName","address","placeholder","address"],["type","text","formControlName","pincode","placeholder","Pincode"],["type","button","name","previous","value","Previous",1,"previous","action-button-previous",3,"click"],["type","text","formControlName","highest_qualification","placeholder","Highest Qualification"],["type","text","formControlName","university","placeholder","University"],["type","text","formControlName","total_marks","placeholder","Total Marks"],["type","submit","name","submit","value","Submit",1,"submit","action-button",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"div",5),e._UZ(6,"img",6),e.qZA(),e.TgZ(7,"div",7),e.TgZ(8,"div",8),e.TgZ(9,"form",9),e.TgZ(10,"ul",10),e.TgZ(11,"li",11),e._uU(12,"Personal Details"),e.qZA(),e.TgZ(13,"li",11),e._uU(14,"Social Profiles"),e.qZA(),e.TgZ(15,"li",11),e._uU(16,"Account Setup"),e.qZA(),e.qZA(),e.YNc(17,dU,10,6,"fieldset",12),e.qZA(),e.TgZ(18,"form",9),e.YNc(19,hU,11,3,"fieldset",12),e.qZA(),e.TgZ(20,"form",9),e.YNc(21,CU,11,3,"fieldset",12),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(9),e.Q6J("formGroup",o.personalDetails),e.xp6(2),e.Q6J("ngClass",o.step>=1?"active ":"inactive"),e.xp6(2),e.Q6J("ngClass",o.step>=2?"active":"inactive"),e.xp6(2),e.Q6J("ngClass",3==o.step?"active":"inactive"),e.xp6(2),e.Q6J("ngIf",1==o.step),e.xp6(1),e.Q6J("formGroup",o.addressDetails),e.xp6(1),e.Q6J("ngIf",2==o.step),e.xp6(1),e.Q6J("formGroup",o.addressDetails),e.xp6(1),e.Q6J("ngIf",3==o.step))},directives:[a._Y,a.JL,a.sg,g.mk,g.O5,a.Fj,a.JJ,a.u],styles:['#msform[_ngcontent-%COMP%]{text-align:center;position:relative;margin-top:0}#msform[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]{background:white;border:0 none;border-radius:0;padding:20px 30px;box-sizing:border-box;width:80%;margin:0 10%;position:relative}#msform[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]:not(:first-of-type){display:none}#msform[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], #msform[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:15px;border:1px solid #ccc;border-radius:0;margin-bottom:10px;width:100%;box-sizing:border-box;font-family:montserrat;color:#2c3e50;font-size:13px}#msform[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, #msform[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{box-shadow:none!important;border:1px solid #ee0979;outline-width:0}#msform[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{width:100px;background:#ee0979;font-weight:700;color:#fff;border:0 none;border-radius:25px;cursor:pointer;padding:10px 5px;margin:10px 5px}#msform[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]:hover, #msform[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 2px #fff,0 0 0 3px #ee0979}#msform[_ngcontent-%COMP%]   .action-button-previous[_ngcontent-%COMP%]{width:100px;background:#C5C5F1;font-weight:700;color:#fff;border:0 none;border-radius:25px;cursor:pointer;padding:10px 5px;margin:10px 5px}#msform[_ngcontent-%COMP%]   .action-button-previous[_ngcontent-%COMP%]:hover, #msform[_ngcontent-%COMP%]   .action-button-previous[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 2px #fff,0 0 0 3px #c5c5f1}.fs-title[_ngcontent-%COMP%]{font-size:18px;text-transform:uppercase;color:#2c3e50;margin-bottom:10px;letter-spacing:2px;font-weight:700}.fs-subtitle[_ngcontent-%COMP%]{font-weight:400;font-size:13px;color:#666;margin-bottom:20px}#progressbar[_ngcontent-%COMP%]{margin-bottom:30px;overflow:hidden;counter-reset:step}#progressbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style-type:none;color:#fff;text-transform:uppercase;font-size:9px;width:33.33%;float:left;position:relative;letter-spacing:1px}#progressbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:counter(step);counter-increment:step;width:24px;height:24px;line-height:26px;display:block;font-size:12px;color:#333;background:white;border-radius:25px;margin:0 auto 10px}#progressbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:after{content:"";width:100%;height:2px;background:white;position:absolute;left:-50%;top:9px;z-index:-1}#progressbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child:after{content:none}#progressbar[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]:before, #progressbar[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]:after{background:#ee0979;color:#fff}#progressbar[_ngcontent-%COMP%]   li.inactive[_ngcontent-%COMP%]:before{background:burlywood;color:#000}fieldset[_ngcontent-%COMP%]{-webkit-animation-duration:.25ms;-webkit-animation-name:slidein;-moz-animation-duration:1s;-moz-animation-name:slidein;-o-animation-duration:1s;-o-animation-name:slidein;animation-duration:1s;animation-name:slidein}']}),i})();function xU(i,n){1&i&&(e.TgZ(0,"div",6),e._uU(1," Something went wrong!. "),e.qZA())}function IU(i,n){1&i&&(e.TgZ(0,"div",6),e._uU(1," Upload successfully. "),e.qZA())}function yU(i,n){1&i&&(e.TgZ(0,"div",6),e._uU(1," Submitted successfully. "),e.qZA())}function kU(i,n){1&i&&(e.TgZ(0,"div",7),e._uU(1," Forwarded for Registration. "),e.qZA())}function UU(i,n){1&i&&(e.TgZ(0,"div",7),e._uU(1," Submitted successfully. "),e.qZA())}function NU(i,n){1&i&&(e.TgZ(0,"div",6),e._uU(1," Deleted Successfully. "),e.qZA())}function wU(i,n){1&i&&(e.TgZ(0,"div",6),e._uU(1," Delete record failed. "),e.qZA())}function SU(i,n){1&i&&(e.TgZ(0,"div",6),e._uU(1," Failed to submit! A child with same name and contact already exists. "),e.qZA())}function FU(i,n){1&i&&(e.TgZ(0,"span",12),e._uU(1,"Child Referral Form"),e.qZA(),e.TgZ(2,"div",13),e._UZ(3,"i",14),e.qZA())}function DU(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," First Name is required "),e.qZA())}function JU(i,n){if(1&i&&(e.TgZ(0,"div",57),e.YNc(1,DU,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(5);e.xp6(1),e.Q6J("ngIf",t.f.fname.errors.required)}}function EU(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Last Name is required "),e.qZA())}function RU(i,n){if(1&i&&(e.TgZ(0,"div",57),e.YNc(1,EU,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(5);e.xp6(1),e.Q6J("ngIf",t.f.lname.errors.required)}}function PU(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Guardian Name is required "),e.qZA())}function YU(i,n){if(1&i&&(e.TgZ(0,"div",57),e.YNc(1,PU,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(5);e.xp6(1),e.Q6J("ngIf",t.f.guardian.errors.required)}}function QU(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Contact number is required "),e.qZA())}function OU(i,n){if(1&i&&(e.TgZ(0,"div",57),e.YNc(1,QU,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(5);e.xp6(1),e.Q6J("ngIf",t.f.contact.errors.required)}}function MU(i,n){if(1&i&&(e.TgZ(0,"option",58),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.Q6J("value",t.Id),e.xp6(1),e.hij(" ",t.Name," ")}}function VU(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1,"City is required"),e.qZA())}function BU(i,n){if(1&i&&(e.TgZ(0,"div",57),e.YNc(1,VU,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(5);e.xp6(1),e.Q6J("ngIf",t.f.city.errors.required)}}function HU(i,n){1&i&&(e.TgZ(0,"div"),e._uU(1," Residential Address is required "),e.qZA())}function $U(i,n){if(1&i&&(e.TgZ(0,"div",57),e.YNc(1,HU,2,0,"div",0),e.qZA()),2&i){const t=e.oxw(5);e.xp6(1),e.Q6J("ngIf",t.f.raddress.errors.required)}}const Ye=function(i){return{"is-invalid":i}};function LU(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",17),e.TgZ(1,"div",18),e.TgZ(2,"div",19),e.TgZ(3,"div",20),e.TgZ(4,"div",21),e.TgZ(5,"label",22),e._uU(6,"Doctor Name"),e.qZA(),e.TgZ(7,"h5"),e._uU(8),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"div",23),e.TgZ(10,"div",21),e.TgZ(11,"label",22),e._uU(12,"Child First Name"),e.qZA(),e._UZ(13,"input",24),e.YNc(14,JU,2,1,"div",25),e.qZA(),e.qZA(),e.TgZ(15,"div",23),e.TgZ(16,"div",21),e.TgZ(17,"label",26),e._uU(18,"Child Last Name"),e.qZA(),e._UZ(19,"input",27),e.YNc(20,RU,2,1,"div",25),e.qZA(),e.qZA(),e.TgZ(21,"div",23),e.TgZ(22,"div",21),e.TgZ(23,"label",28),e._uU(24,"Guardian Name"),e.qZA(),e._UZ(25,"input",29),e.YNc(26,YU,2,1,"div",25),e.qZA(),e.qZA(),e.TgZ(27,"div",23),e.TgZ(28,"div",21),e.TgZ(29,"label",30),e._uU(30,"Contact Number"),e.qZA(),e._UZ(31,"input",31),e.YNc(32,OU,2,1,"div",25),e.qZA(),e.qZA(),e.TgZ(33,"div",23),e.TgZ(34,"div",21),e.TgZ(35,"label",32),e._uU(36,"City"),e.qZA(),e.TgZ(37,"select",33),e.TgZ(38,"option",34),e._uU(39,"Please Select City"),e.qZA(),e.YNc(40,MU,2,2,"option",35),e.qZA(),e.YNc(41,BU,2,1,"div",25),e.qZA(),e.qZA(),e.TgZ(42,"div",23),e.TgZ(43,"div",21),e.TgZ(44,"label",22),e._uU(45,"Residential Address"),e.qZA(),e._UZ(46,"input",36),e.YNc(47,$U,2,1,"div",25),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(48,"div",37),e.TgZ(49,"div",38),e.TgZ(50,"div",23),e.TgZ(51,"div",21),e.TgZ(52,"h3",39),e._uU(53,"UPLOAD PRESCRIPTION"),e.qZA(),e.TgZ(54,"label",40),e._uU(55),e.qZA(),e.qZA(),e.qZA(),e.TgZ(56,"div",23),e.TgZ(57,"div",21),e.TgZ(58,"a",41),e._uU(59," Upload File "),e.TgZ(60,"input",42,43),e.NdJ("change",function(s){return e.CHM(t),e.oxw(4).onFileSelectdoc1(s)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(62,"div",44),e.TgZ(63,"h5",45),e._uU(64,"Referral Purpose"),e.qZA(),e.qZA(),e.TgZ(65,"div",46),e.TgZ(66,"div",23),e.TgZ(67,"div",21),e.TgZ(68,"input",47),e.NdJ("change",function(s){return e.CHM(t),e.oxw(4).onCheckboxChange1(s)}),e.qZA(),e.TgZ(69,"label",39),e._uU(70,"\xa0\xa0\xa0Education"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(71,"div",23),e.TgZ(72,"div",21),e.TgZ(73,"input",48),e.NdJ("change",function(s){return e.CHM(t),e.oxw(4).onCheckboxChange1(s)}),e.qZA(),e.TgZ(74,"label",39),e._uU(75,"\xa0\xa0\xa0Test Strips"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(76,"div",23),e.TgZ(77,"div",21),e.TgZ(78,"input",49),e.NdJ("change",function(s){return e.CHM(t),e.oxw(4).onCheckboxChange1(s)}),e.qZA(),e.TgZ(79,"label",39),e._uU(80,"\xa0\xa0\xa0Insulin"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(81,"div",50),e.TgZ(82,"div",21),e.TgZ(83,"input",51),e.NdJ("change",function(s){return e.CHM(t),e.oxw(4).onCheckboxChange1(s)}),e.qZA(),e.TgZ(84,"label",39),e._uU(85,"\xa0\xa0\xa0Peer Support"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(86,"div",52),e.TgZ(87,"div",19),e.TgZ(88,"div",53),e.TgZ(89,"div",54),e.TgZ(90,"button",55),e.NdJ("click",function(){return e.CHM(t),e.oxw(4).submit()}),e._uU(91,"Submit"),e.qZA(),e._uU(92,"\xa0 "),e.TgZ(93,"button",56),e.NdJ("click",function(){return e.CHM(t),e.oxw(4).cancel()}),e._uU(94,"Reset"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw(4);e.xp6(8),e.AsE("",t.doctordata.FirstName," ",t.doctordata.LastName,""),e.xp6(5),e.Q6J("ngClass",e.VKq(21,Ye,t.submitted&&t.f.fname.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.fname.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(23,Ye,t.submitted&&t.f.lname.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.lname.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(25,Ye,t.submitted&&t.f.guardian.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.guardian.errors),e.xp6(5),e.Q6J("preValue",t.ReferralForm.value.contact)("phoneControl",t.ReferralForm.controls.contact)("ngClass",e.VKq(27,Ye,t.submitted&&t.f.contact.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.contact.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(29,Ye,t.submitted&&t.f.city.errors)),e.xp6(3),e.Q6J("ngForOf",t.cities),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.city.errors),e.xp6(6),e.Q6J("ngIf",t.submitted&&t.f.raddress.errors),e.xp6(8),e.Oqu(t.filename),e.xp6(13),e.Q6J("value",1),e.xp6(5),e.Q6J("value",2),e.xp6(5),e.Q6J("value",3),e.xp6(5),e.Q6J("value",4)}}function GU(i,n){if(1&i&&(e.TgZ(0,"form",15),e.YNc(1,LU,95,31,"div",16),e.qZA()),2&i){const t=e.oxw(3);e.Q6J("formGroup",t.ReferralForm),e.xp6(1),e.Q6J("ngIf",t.collapseFlag)}}function jU(i,n){1&i&&(e.TgZ(0,"div"),e.TgZ(1,"ngb-accordion",8),e.TgZ(2,"ngb-panel",9),e.YNc(3,FU,4,0,"ng-template",10),e.YNc(4,GU,2,2,"ng-template",11),e.qZA(),e.qZA(),e.qZA()),2&i&&(e.xp6(1),e.Q6J("closeOthers",!0))}function zU(i,n){if(1&i&&(e.TgZ(0,"div"),e.TgZ(1,"div",1),e.YNc(2,xU,2,0,"div",2),e.YNc(3,IU,2,0,"div",2),e.YNc(4,yU,2,0,"div",2),e.YNc(5,kU,2,0,"div",3),e.YNc(6,UU,2,0,"div",3),e.TgZ(7,"div",1),e.YNc(8,NU,2,0,"div",2),e.qZA(),e.TgZ(9,"div",1),e.YNc(10,wU,2,0,"div",2),e.qZA(),e.TgZ(11,"div",1),e.YNc(12,SU,2,0,"div",2),e.qZA(),e.TgZ(13,"ngx-spinner",4),e.TgZ(14,"p",5),e._uU(15,"Please wait..."),e.qZA(),e.qZA(),e.qZA(),e.YNc(16,jU,5,1,"div",0),e.qZA()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.isForwardFailure),e.xp6(1),e.Q6J("ngIf",t.uploadedfile),e.xp6(1),e.Q6J("ngIf",t.submitfile),e.xp6(1),e.Q6J("ngIf",t.isForwardSuccess),e.xp6(1),e.Q6J("ngIf",t.isRefferalSuccess),e.xp6(2),e.Q6J("ngIf",t.isDeleteSuccess),e.xp6(2),e.Q6J("ngIf",t.isDeletefailure),e.xp6(2),e.Q6J("ngIf",t.isDuplicateFailure),e.xp6(4),e.Q6J("ngIf",t.doctordata)}}function KU(i,n){1&i&&(e.TgZ(0,"div",6),e._uU(1," Something went wrong!. "),e.qZA())}function XU(i,n){1&i&&(e.TgZ(0,"div",7),e._uU(1," Forwarded for Registration. "),e.qZA())}function eN(i,n){1&i&&(e.TgZ(0,"div",7),e._uU(1," Submitted successfully. "),e.qZA())}function tN(i,n){1&i&&(e.TgZ(0,"div",6),e._uU(1," Deleted Successfully. "),e.qZA())}function iN(i,n){1&i&&(e.TgZ(0,"div",6),e._uU(1," Delete record failed. "),e.qZA())}function oN(i,n){1&i&&(e.TgZ(0,"div",6),e._uU(1," Failed to submit! A child with same name and contact already exists. "),e.qZA())}function nN(i,n){if(1&i&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.qZA()),2&i){const t=n.$implicit,o=n.index;e.xp6(2),e.Oqu(o+1),e.xp6(2),e.AsE("",t.FirstName," ",t.LastName,""),e.xp6(2),e.Oqu(t.Name),e.xp6(2),e.Oqu(t.GuardianName),e.xp6(2),e.Oqu(t.PhoneNumberMobile)}}function sN(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",21),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;return e.oxw(2).edit(s.PatientId)}),e._UZ(1,"span",22),e._UZ(2,"i",23),e.qZA()}2&i&&e.Q6J("disabled",!0)}function rN(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",24),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;return e.oxw(2).regform(s.PatientId)}),e._UZ(1,"i",25),e.qZA()}2&i&&e.Q6J("disabled",!0)}function aN(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;return e.oxw(2).Delete(s.PatientId)}),e._UZ(1,"i",27),e.qZA()}2&i&&e.Q6J("disabled",!0)}function lN(i,n){if(1&i&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td",17),e._uU(12),e.YNc(13,sN,3,1,"button",18),e._uU(14,"\xa0 "),e.YNc(15,rN,2,1,"button",19),e._uU(16,"\xa0 "),e.YNc(17,aN,2,1,"button",20),e.qZA(),e.qZA()),2&i){const t=n.$implicit,o=n.index,s=e.oxw(2);e.xp6(2),e.Oqu(o+1),e.xp6(2),e.AsE("",t.PatientFirstName," ",t.PatientLastName,""),e.xp6(2),e.Oqu(t.CityName),e.xp6(2),e.Oqu(t.GuardianName),e.xp6(2),e.Oqu(t.GuardianContact),e.xp6(2),e.hij(" ",t.status," "),e.xp6(1),e.Q6J("ngIf",s.editrec),e.xp6(2),e.Q6J("ngIf",s.editrec),e.xp6(2),e.Q6J("ngIf",s.IsDelete)}}function dN(i,n){if(1&i&&(e.TgZ(0,"div",8),e.TgZ(1,"div"),e.TgZ(2,"h6",9),e._uU(3,"Referred Children"),e.qZA(),e.qZA(),e.TgZ(4,"div"),e.TgZ(5,"table",10),e._UZ(6,"col",11),e._UZ(7,"col",12),e._UZ(8,"col",13),e._UZ(9,"col",12),e._UZ(10,"col",13),e.TgZ(11,"thead"),e.TgZ(12,"tr"),e.TgZ(13,"th",14),e._uU(14,"#"),e.qZA(),e.TgZ(15,"th",14),e._uU(16,"Child Name"),e.qZA(),e.TgZ(17,"th",14),e._uU(18,"City"),e.qZA(),e.TgZ(19,"th",14),e._uU(20,"Guardian Name"),e.qZA(),e.TgZ(21,"th",14),e._uU(22,"Contact No."),e.qZA(),e.qZA(),e.qZA(),e.TgZ(23,"tbody"),e.YNc(24,nN,11,6,"tr",15),e.qZA(),e.qZA(),e.TgZ(25,"h6",9),e._uU(26,"Children Status"),e.qZA(),e.TgZ(27,"table",16),e._UZ(28,"col",11),e._UZ(29,"col",12),e._UZ(30,"col",13),e._UZ(31,"col",12),e._UZ(32,"col",13),e._UZ(33,"col",13),e.TgZ(34,"thead"),e.TgZ(35,"tr"),e.TgZ(36,"th",14),e._uU(37,"#"),e.qZA(),e.TgZ(38,"th",14),e._uU(39,"Child Name"),e.qZA(),e.TgZ(40,"th",14),e._uU(41,"City"),e.qZA(),e.TgZ(42,"th",14),e._uU(43,"Guardian Name"),e.qZA(),e.TgZ(44,"th",14),e._uU(45,"Contact No."),e.qZA(),e.TgZ(46,"th",14),e._uU(47,"Status"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(48,"tbody"),e.YNc(49,lN,18,10,"tr",15),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const t=e.oxw();e.xp6(24),e.Q6J("ngForOf",t.childreferred),e.xp6(25),e.Q6J("ngForOf",t.childpredata)}}const cN=[{path:"",component:Ze,children:[{path:"",component:kt,data:{extraParameter:"dashboardsMenu"},canActivate:[f]},{path:"pages/chart",loadChildren:()=>T.e(946).then(T.bind(T,3946)).then(i=>i.ChartModule),data:{extraParameter:"rolesMenu"}},{path:"pages/dashboard",component:kt,data:{extraParameter:"dashboardsMenu"},canActivate:[f]},{path:"pages/PendingReferralTable",component:Wv,data:{extraParameter:"dashboardsMenu"},canActivate:[f]},{path:"pages/PendingReferralTableDoctor",component:(()=>{class i{constructor(t,o,s,r,l,d,m,_,Z,A){this.frombuilder=t,this.confirmationDialogService=o,this.childinfo=s,this.childReferral=r,this.detectChanges=l,this.docterdetail=d,this.userService=m,this.popUpSer=_,this.router=Z,this.spinner=A,this.isVisibleSuccess=!1,this.isVisibleFailure=!1,this.isDeletefailure=!1,this.isDeleteSuccess=!1,this.isDuplicateFailure=!1,this.IsSHowPage=!1,this.firstconsent=!1,this.secondconsent=!1,this.thirdconsent=!1,this.fourthconsent=!1,this.isRefferalSuccess=!1,this.submitted=!1,this.IsDelete=!1,this.editrec=!1,this.tableref=!1,this.Data={},this.childdataPre=[],this.isForwardFailure=!1,this.isForwardSuccess=!1,this.isPrescriptionFailure=!1,this.collapseFlag=!0}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():(this.IsSHowPage=!0,this.formcontrols(),this.getdoctorbyId(),this.getcities())}get f(){return this.ReferralForm.controls}formcontrols(){this.ReferralForm=this.frombuilder.group({fname:["",a.kI.required],lname:["",a.kI.required],city:["",a.kI.required],guardian:["",a.kI.required],raddress:[""],DoctorId:[""],contact:["03",{validators:[a.kI.required,a.kI.pattern(/^((\+92)|(0092))-{0,1}\d{3}-{0,1}\d{7}$|^\d{11}$|^\d{4}-\d{7}$/)]}],firstconsent:[""],secondconsent:[""],thirdconsent:[""],fourthconsent:[""]})}getdoctorbyId(){this.docterdetail.doctorbyId(localStorage.getItem("CurrentUserId")).subscribe(t=>{t&&(this.doctordata=t[0],this.doctorid=t[0].DoctorId)})}regform(t){this.childinfo.getchildInfobyId(t).subscribe(o=>{o&&this.confirmationDialogService.confirm("Please Confirm","Forward for Registration... ?").then(s=>{s&&this.childinfo.regReferredChild(o[0]).subscribe(r=>{r?(this.childinfo.addfolder1(r[1]).subscribe(l=>{}),this.isForwardSuccess=!0,setTimeout(()=>this.isForwardSuccess=!1,3e3)):(this.isForwardFailure=!0,setTimeout(()=>this.isForwardFailure=!1,3e3))})}).catch(()=>console.log())})}onFileSelectdoc1(t){const o=t.target.files[0];if(null==o)this.filename="";else if(o.size>2e6)alert("please select file less than  2mb"),this.filename="";else{this.filename=o.name,this.filetype=o.name.substring(o.name.indexOf(".")+1,o.name.length),this.filenamebackend=o.name.substring(0,o.name.indexOf("."));var s=this.filename.split(".").pop();"pdf"==s||"jpg"==s||"jpeg"==s?(this.prespdf=new FormData,this.prespdf.append("latestprescription",o)):(alert("Supported file: pdf,jpg,jpeg "),this.filename="")}}onCheckboxChange1(t){1==t.target.value?this.firstconsent=!!t.target.checked:2==t.target.value?this.secondconsent=!!t.target.checked:3==t.target.value?this.thirdconsent=!!t.target.checked:4==t.target.value&&(t.target.checked?this.fourthconsent=!0:(this.firstconsent=!1,this.secondconsent=!1,this.thirdconsent=!1,this.fourthconsent=!1))}submit(){return(0,we.mG)(this,void 0,void 0,function*(){let t,o;this.submitted=!0,o=Date.now(),this.ReferralForm.invalid?this.spinner.hide():((this.filename="")&&(t=this.filenamebackend+o+"."+this.filetype),this.Data={fname:this.ReferralForm.value.fname,lname:this.ReferralForm.value.lname,city:this.ReferralForm.value.city,guardian:this.ReferralForm.value.guardian,raddress:this.ReferralForm.value.raddress,DoctorId:this.doctorid,contact:this.ReferralForm.value.contact,firstconsent:this.firstconsent,secondconsent:this.secondconsent,thirdconsent:this.thirdconsent,fourthconsent:this.fourthconsent,prespath:t},""==t?this.isPrescriptionFailure=!1:this.childReferral.childReferralRegister(this.Data).subscribe(s=>{s?"true"==s.duplicate?(this.spinner.hide(),this.isDuplicateFailure=!0,setTimeout(()=>this.isDuplicateFailure=!1,3e3)):(this.isRefferalSuccess=!0,setTimeout(()=>this.isRefferalSuccess=!1,3e3),this.childReferral.getlastid().subscribe(r=>{if(r){let l=r[0].PatientId;this.childReferral.addfolder(l).subscribe(d=>{d&&(t="")&&this.childReferral.addlatestprecdoc(this.prespdf,l,o).subscribe(m=>{})})}}),this.spinner.hide(),this.ReferralForm.reset(),this.router.navigate(["/pages/ReferralTableDoctor"]),this.filename="",this.submitted=!1):(this.spinner.hide(),this.isVisibleFailure=!0,setTimeout(()=>this.isVisibleFailure=!1,3e3))}))})}getcities(){this.childinfo.getallcities().subscribe(t=>{this.cities=t})}cancel(){this.ReferralForm.reset(),this.submitted=!1,this.formcontrols(),this.filename=""}collapse(){this.collapseFlag=0==this.collapseFlag}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(b),e.Y36(S),e.Y36(ie),e.Y36(e.sBO),e.Y36(B),e.Y36(h),e.Y36(b),e.Y36(p.F0),e.Y36(v.t2))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-pendingreferraltabledoctor"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"content-wrapper"],["class","alertnotify","style","background: #CB3837",4,"ngIf"],["class","alertnotify","style","background: #54A254",4,"ngIf"],["bdColor","rgba(51,51,51,0.6)","size","medium","color","#fff","type","timer"],[2,"font-size","20px","color","white","margin-top","30px"],[1,"alertnotify",2,"background","#CB3837"],[1,"alertnotify",2,"background","#54A254"],["activeIds","toggle-11",3,"closeOthers"],["id","toggle-11"],["ngbPanelTitle",""],["ngbPanelContent",""],[1,"card-header--title"],[1,"pull-right"],[1,"fa","fa-angle-down","fa-lg"],[3,"formGroup"],["class","row",4,"ngIf"],[1,"row"],[1,"col-md-5"],[1,"col-md-12"],[1,"row","mt-1",2,"padding-left","15px"],[1,"col"],["id","s2"],[1,"row","mt-2",2,"padding-left","15px"],["type","text","id","fname","placeholder","Enter First Name","formControlName","fname","appAlphabetOnly","","maxlength","20",1,"form-control","form-control-sm",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","lname","id","s2"],["type","text","id","lname","placeholder","Enter Last Name","formControlName","lname","appAlphabetOnly","","maxlength","20",1,"form-control","form-control-sm",3,"ngClass"],["for","guardian","id","s2"],["type","text","id","guardian","placeholder","Enter Guardian Name","formControlName","guardian","appAlphabetOnly","","maxlength","20",1,"form-control","form-control-sm",3,"ngClass"],["for","contact","id","s2"],["type","text","id","contact","placeholder","03","formControlName","contact","phoneMask","","maxlength","12",1,"Phone","form-control","form-control-sm",3,"preValue","phoneControl","ngClass"],["for","City","id","s2"],["id","city","formControlName","city",1,"form-control","form-control-sm",3,"ngClass"],["value","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["type","text","id","raddress","placeholder","Enter Residential Address","formControlName","raddress","maxlength","200",1,"form-control","form-control-sm"],[1,"col-md-5","offset-1","mt-2"],[1,"pinkcard","mb-1",2,"padding","15px"],["for",""],[2,"padding-left","10px"],[1,"mb-2","mr-2","btn","upload-btn","rounded-pill","px-4"],["type","file","id","customFile","name","uploadedImage","accept","application/pdf,image/jpg,image/jpeg",1,"center-block","file-upload",3,"change"],["UploadFileInput",""],[1,"row","mb-1"],["id","s4",1,"mt-5"],[1,"card-border-local",2,"padding","15px"],["type","checkbox","formControlName","firstconsent","id","firstconsent",3,"value","change"],["type","checkbox","formControlName","secondconsent","id","secondconsent",3,"value","change"],["type","checkbox","formControlName","thirdconsent","id","thirdconsent",3,"value","change"],[1,"row","mt-2","mb-2",2,"padding-left","15px"],["type","checkbox","formControlName","fourthconsent","id","fourthconsent",3,"value","change"],[1,"row","mt-5"],[1,"row","mr-1",2,"float","right"],[1,"col",2,"float","right"],["ngbTooltip","Submit","type","submit","id","submit",1,"btn","btn-sm","upload-btn","px-3",3,"click"],["ngbTooltip","Reset","type","submit","id","reset",1,"btn","btn-sm","reset-btn","px-3",3,"click"],[1,"invalid-feedback"],[3,"value"]],template:function(t,o){1&t&&e.YNc(0,zU,17,9,"div",0),2&t&&e.Q6J("ngIf",o.IsSHowPage)},directives:[g.O5,v.Ro,u.gY,u.Gk,u.Cu,u.gW,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,x,a.nD,g.mk,J,a.EJ,a.YN,a.Kr,g.sg,a.Wl,u._L],styles:['#customFile[_ngcontent-%COMP%]{position:absolute;top:0;left:0;filter:alpha(opacity=0);-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";opacity:0;background-color:transparent;color:transparent}input[type=checkbox][_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{font-size:medium;vertical-align:middle}input[type=checkbox][_ngcontent-%COMP%]{border:.1em;border-radius:.5em;width:1.3em;height:1.3em;vertical-align:middle}']}),i})(),data:{extraParameter:"dashboardsMenu"},canActivate:[f]},{path:"pages/ReferralTableDoctor",component:(()=>{class i{constructor(t,o,s,r,l,d,m,_,Z,A){this.frombuilder=t,this.confirmationDialogService=o,this.childinfo=s,this.childReferral=r,this.detectChanges=l,this.docterdetail=d,this.userService=m,this.popUpSer=_,this.router=Z,this.spinner=A,this.isVisibleSuccess=!1,this.isVisibleFailure=!1,this.isDeletefailure=!1,this.isDeleteSuccess=!1,this.isDuplicateFailure=!1,this.IsSHowPage=!1,this.firstconsent=!1,this.secondconsent=!1,this.thirdconsent=!1,this.fourthconsent=!1,this.isRefferalSuccess=!1,this.submitted=!1,this.IsDelete=!1,this.editrec=!1,this.tableref=!1,this.Data={},this.childdataPost=[],this.childdataPre=[],this.isForwardFailure=!1,this.isForwardSuccess=!1,this.isPrescriptionFailure=!1}ngOnInit(){this.userService.tokenExpired()?this.userService.logout():(this.tableref=!0,this.getchildreferralbyid())}getchildreferralbyid(){this.docterdetail.getchildreferralbyid(localStorage.getItem("CurrentUserId")).subscribe(t=>{t&&(console.log(t,"resp"),this.childreferred=t,this.docterdetail.getchildreferralbyid2(t[0].ReferredBy).subscribe(o=>{if(o){for(var s in this.tableref=!0,console.log(o),this.childpredata=o,o)o[s].status="4"==o[s].RegStatus||"42"==o[s].RegStatus||"6"==o[s].RegStatus?"Closed Registration":"1"==o[s].RegStatus?"Documentation Under Process":"3"==o[s].RegStatus?"Active":"5"==o[s].RegStatus?"Waiting List":"Suspended";this.detectChanges.detectChanges(),$("#predatatable").DataTable({paging:!0,searching:!0,retrieve:!0,ordering:!0,lengthMenu:[[5,10,20,-1],[5,10,20,50]],pageLength:5}),$("#postdatatable").DataTable({paging:!0,searching:!0,retrieve:!0,ordering:!0,lengthMenu:[[5,10,20,-1],[5,10,20,50]],pageLength:5})}}))}),$("#predatatable").dataTable().fnDestroy(),$("#postdatatable").dataTable().fnDestroy()}get f(){return this.ReferralForm.controls}activate(t){this.confirmationDialogService.confirm("Please confirm..","Forward for approval ?").then(o=>{o&&($("#"+t).removeClass("btn-secondary"),$("#"+t).addClass("btn-success"),$("#"+t).html("Registered"),this.childinfo.updateRegStatus(t,1).subscribe(s=>{s&&this.getchildreferralbyid()}))}).catch(()=>console.log())}edit(t){this.router.navigate(["/pages/edit-child-referal/"+t])}Delete(t){this.popUpSer.confirmCommon("","Do You really want to delete?").then(o=>{o&&this.childReferral.deleteReferralbyid(t).subscribe(s=>{s?(this.isDeleteSuccess=!0,setTimeout(()=>this.isDeleteSuccess=!1,3e3)):(this.isDeletefailure=!0,setTimeout(()=>this.isDeletefailure=!1,3e3))})}).catch(()=>console.log("User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)"))}regform(t){this.childinfo.getchildInfobyId(t).subscribe(o=>{o&&this.confirmationDialogService.confirm("Please Confirm","Forward for Registration... ?").then(s=>{s&&this.childinfo.regReferredChild(o[0]).subscribe(r=>{r?(this.childinfo.addfolder1(r[1]).subscribe(l=>{}),this.isForwardSuccess=!0,setTimeout(()=>this.isForwardSuccess=!1,3e3)):(this.isForwardFailure=!0,setTimeout(()=>this.isForwardFailure=!1,3e3))})}).catch(()=>console.log())})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(b),e.Y36(S),e.Y36(ie),e.Y36(e.sBO),e.Y36(B),e.Y36(h),e.Y36(b),e.Y36(p.F0),e.Y36(v.t2))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-referraltabledoctor"]],decls:14,vars:7,consts:[[1,"content-wrapper"],["class","alertnotify","style","background: #CB3837",4,"ngIf"],["class","alertnotify","style","background: #54A254",4,"ngIf"],["bdColor","rgba(51,51,51,0.6)","size","medium","color","#fff","type","timer"],[2,"font-size","20px","color","white","margin-top","30px"],["class","mt-2",4,"ngIf"],[1,"alertnotify",2,"background","#CB3837"],[1,"alertnotify",2,"background","#54A254"],[1,"mt-2"],[1,"theme-heading"],["id","postdatatable",1,"table","table-cell","text-center","table-striped","table-bordered",2,"width","100%"],[2,"width","2%"],[2,"width","15%"],[2,"width","10%"],["scope","col"],[4,"ngFor","ngForOf"],["id","predatatable",1,"table","table-cell","text-center","table-striped","table-bordered",2,"width","100%"],[2,"white-space","nowrap"],["ngbTooltip","Edit","class","btn edit-btn","id","edit",3,"disabled","click",4,"ngIf"],["ngbTooltip","Move","class","btn upload-btn","id","move",3,"disabled","click",4,"ngIf"],["ngbTooltip","Delete","class","btn delet-btn","id","delete",3,"disabled","click",4,"ngIf"],["ngbTooltip","Edit","id","edit",1,"btn","edit-btn",3,"disabled","click"],[1,"bs-tooltip-top"],[1,"fa","fa-pencil","fa-xs"],["ngbTooltip","Move","id","move",1,"btn","upload-btn",3,"disabled","click"],[1,"fa","fa-check","fa-xs"],["ngbTooltip","Delete","id","delete",1,"btn","delet-btn",3,"disabled","click"],[1,"fa","fa-trash","fa-xs"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,KU,2,0,"div",1),e.YNc(2,XU,2,0,"div",2),e.YNc(3,eN,2,0,"div",2),e.TgZ(4,"div",0),e.YNc(5,tN,2,0,"div",1),e.qZA(),e.TgZ(6,"div",0),e.YNc(7,iN,2,0,"div",1),e.qZA(),e.TgZ(8,"div",0),e.YNc(9,oN,2,0,"div",1),e.qZA(),e.TgZ(10,"ngx-spinner",3),e.TgZ(11,"p",4),e._uU(12,"Please wait..."),e.qZA(),e.qZA(),e.qZA(),e.YNc(13,dN,50,2,"div",5)),2&t&&(e.xp6(1),e.Q6J("ngIf",o.isForwardFailure),e.xp6(1),e.Q6J("ngIf",o.isForwardSuccess),e.xp6(1),e.Q6J("ngIf",o.isRefferalSuccess),e.xp6(2),e.Q6J("ngIf",o.isDeleteSuccess),e.xp6(2),e.Q6J("ngIf",o.isDeletefailure),e.xp6(2),e.Q6J("ngIf",o.isDuplicateFailure),e.xp6(4),e.Q6J("ngIf",o.childpredata))},directives:[g.O5,v.Ro,g.sg,u._L],styles:['#customFile[_ngcontent-%COMP%]{position:absolute;top:0;left:0;filter:alpha(opacity=0);-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";opacity:0;background-color:transparent;color:transparent}input[type=checkbox][_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{font-size:medium;vertical-align:middle}input[type=checkbox][_ngcontent-%COMP%]{border:.1em;border-radius:.5em;width:1.3em;height:1.3em;vertical-align:middle}']}),i})(),data:{extraParameter:"dashboardsMenu"},canActivate:[f]},{path:"pages/app-user-profile/:id",component:fy,data:{extraParameter:"dashboardsMenu"},canActivate:[f]},{path:"pages/app-user-edit-profile/:id",component:Z5,data:{extraParameter:"dashboardsMenu"},canActivate:[f]},{path:"pages/app-rejected-entries",component:Bx,data:{extraParameter:"dashboardsMenu"},canActivate:[f]},{path:"pages/DiabetesLog",component:Hd,data:{extraParameter:"dashboardsMenu"},canActivate:[f]},{path:"pages/edit-diabetes-log/:id",component:J3,data:{extraParameter:"dashboardsMenu"},canActivate:[f]},{path:"pages/childreferal",component:yt,data:{extraParameter:"doctorMenu"},canActivate:[f]},{path:"pages/edit-role/:id",component:uZ,data:{extraParameter:"rolesMenu"},canActivate:[f]},{path:"pages/add-role",component:bf,data:{extraParameter:"rolesMenu"},canActivate:[f]},{path:"pages/list-assigned-roles",component:St,data:{extraParameter:"userrolesMenu"},canActivate:[f]},{path:"pages/assign-roles",component:Pf,data:{extraParameter:"userrolesMenu"},canActivate:[f]},{path:"pages/edit-assign-role/:roleId/:userId",component:tZ,data:{extraParameter:"rolesMenu"},canActivate:[f]},{path:"pages/assignrights",component:jt,data:{extraParameter:"userrightsMenu"},canActivate:[f]},{path:"pages/rights",component:tf,data:{extraParameter:"userrightsMenu"},canActivate:[f]},{path:"pages/addrights",component:Ok,data:{extraParameter:"userrightsMenu"},canActivate:[f]},{path:"pages/assign-rights",component:E1,data:{extraParameter:"userrightsMenu"},canActivate:[f]},{path:"pages/edit-assign-right/:roleid",component:W1,data:{extraParameter:"userrightsMenu"},canActivate:[f]},{path:"pages/nisab",component:Ph,data:{extraParameter:"NisabMenu"}},{path:"pages/nisablist",component:Wx,data:{extraParameter:"NisabMenu"}},{path:"pages/purchased-orders-report/:id",component:MC,data:{extraParameter:"rolesMenu"},canActivate:[f]},{path:"pages/package-formation",component:dx,data:{extraParameter:"rolesMenu"},canActivate:[f]},{path:"pages/package-formation/edit-package/:id",component:Y4,data:{extraParameter:"rolesMenu"},canActivate:[f]},{path:"pages/package-creation",component:Wq,data:{extraParameter:"rolesMenu"},canActivate:[f]},{path:"pages/edit-package-creation/:id",component:Zq,data:{extraParameter:"rolesMenu"},canActivate:[f]},{path:"pages/edit-nisab/:id",component:Z1,data:{extraParameter:"dashboardsMenu"}},{path:"pages/print-nisab/:id",component:b1,data:{extraParameter:"dashboardsMenu"}},{path:"pages/add-entity",component:Kg,data:{extraParameter:"dashboardsMenu"},canActivate:[f]},{path:"pages/assign-package-item",component:xx,data:{extraParameter:"dashboardsMenu"},canActivate:[f]},{path:"pages/app-edit-assigned-packages/:id",component:Yx,data:{extraParameter:"dashboardsMenu"},canActivate:[f]},{path:"pages/app-packagestatus",component:_y,data:{extraParameter:"dashboardsMenu"},canActivate:[f]},{path:"pages/edit-entity/:id",component:Am,data:{extraParameter:"dashboardsMenu"},canActivate:[f]},{path:"pages/edit-category/:id",component:mm,data:{extraParameter:"dashboardsMenu"},canActivate:[f]},{path:"pages/edit-child-referal/:id",component:Dl,data:{extraParameter:"dashboardsMenu"},canActivate:[f]},{path:"pages/child-referral",component:yt,data:{extraParameter:"dashboardsMenu"},canActivate:[f]},{path:"pages/child-registration",component:cs,data:{extraParameter:"dashboardsMenu"},canActivate:[f]},{path:"pages/child-info",component:io,data:{extraParameter:"dashboardsMenu"},canActivate:[f]},{path:"pages/Confirmation-Dialog",component:Ht,data:{extraParameter:"dashboardsMenu"},canActivate:[f]},{path:"pages/edit-child-registration/:id",component:Ba,data:{extraParameter:"dashboardsMenu"},canActivate:[f]},{path:"pages/child-reg-report/:id",component:ws,data:{extraParameter:"dashboardsMenu"},canActivate:[f]},{path:"pages/createdoctor",component:m_,data:{extraParameter:"doctorMenu"},canActivate:[f]},{path:"pages/show-doctor-data",component:E_,data:{extraParameter:"doctorMenu"},canActivate:[f]},{path:"pages/edit-doctor/:id",component:fp,data:{extraParameter:"doctorMenu"},canActivate:[f]},{path:"pages/edit-employee/:id",component:Cg,data:{extraParameter:"employeesMenu"},canActivate:[f]},{path:"pages/add-employee",component:Yu,data:{extraParameter:"employeesMenu"},canActivate:[f]},{path:"pages/add-shift",component:kZ,data:{extraParameter:"shiftsMenu"},canActivate:[f]},{path:"pages/edit-shift/:id",component:MZ,data:{extraParameter:"shiftsMenu"},canActivate:[f]},{path:"pages/add-employee-dept",component:_c,data:{extraParameter:"employeeDeptMenu"},canActivate:[f]},{path:"pages/edit-employee-dept/:id",component:Ec,data:{extraParameter:"employeeDeptMenu"},canActivate:[f]},{path:"pages/users",component:GC,data:{extraParameter:"usersMenu"},canActivate:[f]},{path:"pages/active-users",component:XC,data:{extraParameter:"usersMenu"},canActivate:[f]},{path:"pages/edit-department/:id",component:bd,data:{extraParameter:"departmentMenu"},canActivate:[f]},{path:"pages/add-department",component:od,data:{extraParameter:"departmentMenu"},canActivate:[f]},{path:"pages/edit-hospital/:id",component:l5,data:{extraParameter:"dashboardsMenu"},canActivate:[f]},{path:"pages/add-hospital",component:Oy,data:{extraParameter:"dashboardsMenu"},canActivate:[f]},{path:"pages/assign-item",component:f3,data:{extraParameter:"departmentMenu"},canActivate:[f]},{path:"pages/stock",component:C0,data:{extraParameter:"dashboardsMenu"},canActivate:[f]},{path:"pages/PurchasedOrder",component:gC,data:{extraParameter:"dashboardsMenu"},canActivate:[f]},{path:"pages/EditPurchasedOrder/:id",component:YC,data:{extraParameter:"dashboardsMenu"},canActivate:[f]},{path:"pages/vendor",component:UA,data:{extraParameter:"dashboardsMenu"},canActivate:[f]},{path:"pages/edit-vendor/:id",component:t3,data:{extraParameter:"dashboardsMenu"},canActivate:[f]},{path:"pages/edit-stock/:id",component:o0,data:{extraParameter:"dashboardsMenu"},canActivate:[f]},{path:"pages/store-items",component:Zv,data:{extraParameter:"dashboardsMenu"},canActivate:[f]},{path:"pages/edit-store-items/:id",component:xb,data:{extraParameter:"dashboardsMenu"},canActivate:[f]},{path:"pages/store-item-recieved",component:nb,data:{extraParameter:"storeMenu"},canActivate:[f]},{path:"pages/edit-store-itemrec/:regno/:pkgid",component:l2,data:{extraParameter:"storeMenu"},canActivate:[f]},{path:"pages/item-category",component:dh,data:{extraParameter:"dashboardsMenu"},canActivate:[f]},{path:"pages/app-internal-consumption",component:k4,data:{extraParameter:"dashboardsMenu"},canActivate:[f]},{path:"pages/app-order",component:iI,data:{extraParameter:"dashboardsMenu"},canActivate:[f]},{path:"pages/app-edit-internal-consumption/:id",component:yI,data:{extraParameter:"dashboardsMenu"},canActivate:[f]},{path:"pages/edit-item-category/:id",component:$_,data:{extraParameter:"dashboardsMenu"},canActivate:[f]},{path:"pages/item-report",component:MI,data:{extraParameter:"dashboardsMenu"},canActivate:[f]},{path:"pages/all-item-report",component:KI,data:{extraParameter:"dashboardsMenu"},canActivate:[f]},{path:"pages/app-assignrights",component:jt,data:{extraParameter:"dashboardsMenu"},canActivate:[f]},{path:"pages/storeitemlist",component:E5,data:{extraParameter:"dashboardsMenu"},canActivate:[f]},{path:"pages/app-singleitemtreport",component:ok,data:{extraParameter:"dashboardsMenu"},canActivate:[f]},{path:"pages/storeitemprint/:id",component:V5,data:{extraParameter:"dashboardsMenu"},canActivate:[f]},{path:"pages/recievingslips/:id",component:lk,data:{extraParameter:"dashboardsMenu"},canActivate:[f]},{path:"pages/Listofallpackages/:regno/:pkgid",component:pk,data:{extraParameter:"dashboardsMenu"},canActivate:[f]}]},{path:"",component:ai,children:[{path:"pages/login-boxed",component:S6,data:{extraParameter:""}},{path:"pages/app-doctor-register",component:qU,data:{extraParameter:""}},{path:"pages/register-boxed",component:MT,data:{extraParameter:""}},{path:"pages/forgot-password-boxed",component:b6,data:{extraParameter:""}}]}];let uN=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[p.Bz.forRoot(cN,{relativeLinkResolution:"legacy"})],p.Bz]}),i})();var gN=T(8146);let mN=(()=>{class i{constructor(t,o){this.userSer=t,this.myRouter=o,this.title="Methi Zindagi FrontEnd",this.token=localStorage.getItem("token")}tokenExpired(t){if(null!=t){const o=JSON.parse(atob(t.split(".")[1])).exp;return Math.floor((new Date).getTime()/1e3)>=o}}ngOnInit(){this.tokenExpired(this.token)&&this.userSer.logout()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(h),e.Y36(p.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-root"]],decls:1,vars:0,template:function(t,o){1&t&&e._UZ(0,"router-outlet")},directives:[p.lC],styles:[""]}),i})();var pN=T(3561);let _N=(()=>{class i{constructor(t){this.modalService=t}confirm(t,o,s="OK",r="Cancel",l="sm"){const d=this.modalService.open(Ht,{size:l});return d.componentInstance.title=t,d.componentInstance.message=o,d.componentInstance.btnOkText=s,d.componentInstance.btnCancelText=r,d.result}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(u.FF))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();var hN=T(1086),fN=T(2994),ZN=T(7221);let bN=(()=>{class i{constructor(t){this.toasterService=t}intercept(t,o){return o.handle(t).pipe((0,fN.b)(s=>{s instanceof c.Zn&&s.body&&s.body.success&&console.log()}),(0,ZN.K)(s=>{if(s instanceof c.UA)try{let r="";s.status&&(r=JSON.stringify(s.status)),this.toasterService.error(s.statusText+" "+s.message,r,{positionClass:"toast-top-right"})}catch(r){this.toasterService.error("An error occurred","",{positionClass:"toast-bottom-center"}),this.toasterService.warning("An error occurred","",{positionClass:"toast-bottom-center"})}return(0,hN.of)(s)}))}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(ht._W))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const vN={suppressScrollX:!0};let TN=(()=>{class i{constructor(t,o){this.ngRedux=t,this.devTool=o,this.ngRedux.configureStore(Wt,{},[],[o.isEnabled()?o.enhancer():s=>s])}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(Q.NN),e.LFG(Q.jq))},i.\u0275mod=e.oAB({type:i,bootstrap:[mN]}),i.\u0275inj=e.cJS({providers:[{provide:it.op,useValue:vN},{provide:c.TP,useClass:bN,multi:!0},k,g.uU,Ot,_N],imports:[[w.b2,uN,c.JF,a.u5,a.UX,Y.PW,Q.Pg,Oe.zb,g.ez,gN.n,it.Xd,v.ef,u.IJ,a.UX,c.JF,pN.uH,Be.A0,Kt.T,ce.QG,ht.Rh.forRoot({easing:"true",timeOut:2e3})]]}),i})();(0,e.G48)(),w.q6().bootstrapModule(TN).catch(i=>console.error(i))},6700:(te,Ue,T)=>{var w={"./af":7088,"./af.js":7088,"./ar":7038,"./ar-dz":2502,"./ar-dz.js":2502,"./ar-kw":128,"./ar-kw.js":128,"./ar-ly":4519,"./ar-ly.js":4519,"./ar-ma":5443,"./ar-ma.js":5443,"./ar-sa":7642,"./ar-sa.js":7642,"./ar-tn":8592,"./ar-tn.js":8592,"./ar.js":7038,"./az":1213,"./az.js":1213,"./be":9191,"./be.js":9191,"./bg":322,"./bg.js":322,"./bm":8042,"./bm.js":8042,"./bn":9620,"./bn-bd":5903,"./bn-bd.js":5903,"./bn.js":9620,"./bo":9645,"./bo.js":9645,"./br":5020,"./br.js":5020,"./bs":4792,"./bs.js":4792,"./ca":7980,"./ca.js":7980,"./cs":7322,"./cs.js":7322,"./cv":365,"./cv.js":365,"./cy":2092,"./cy.js":2092,"./da":7387,"./da.js":7387,"./de":4307,"./de-at":9459,"./de-at.js":9459,"./de-ch":3694,"./de-ch.js":3694,"./de.js":4307,"./dv":9659,"./dv.js":9659,"./el":3460,"./el.js":3460,"./en-au":4369,"./en-au.js":4369,"./en-ca":530,"./en-ca.js":530,"./en-gb":9998,"./en-gb.js":9998,"./en-ie":3391,"./en-ie.js":3391,"./en-il":5414,"./en-il.js":5414,"./en-in":9615,"./en-in.js":9615,"./en-nz":1248,"./en-nz.js":1248,"./en-sg":3767,"./en-sg.js":3767,"./eo":4530,"./eo.js":4530,"./es":6866,"./es-do":8944,"./es-do.js":8944,"./es-mx":9116,"./es-mx.js":9116,"./es-us":3609,"./es-us.js":3609,"./es.js":6866,"./et":6725,"./et.js":6725,"./eu":7931,"./eu.js":7931,"./fa":6417,"./fa.js":6417,"./fi":944,"./fi.js":944,"./fil":1766,"./fil.js":1766,"./fo":5867,"./fo.js":5867,"./fr":1636,"./fr-ca":6848,"./fr-ca.js":6848,"./fr-ch":7773,"./fr-ch.js":7773,"./fr.js":1636,"./fy":4940,"./fy.js":4940,"./ga":1402,"./ga.js":1402,"./gd":6924,"./gd.js":6924,"./gl":6398,"./gl.js":6398,"./gom-deva":2457,"./gom-deva.js":2457,"./gom-latn":2545,"./gom-latn.js":2545,"./gu":2641,"./gu.js":2641,"./he":7536,"./he.js":7536,"./hi":6335,"./hi.js":6335,"./hr":7458,"./hr.js":7458,"./hu":6540,"./hu.js":6540,"./hy-am":3165,"./hy-am.js":3165,"./id":8780,"./id.js":8780,"./is":4205,"./is.js":4205,"./it":4211,"./it-ch":9985,"./it-ch.js":9985,"./it.js":4211,"./ja":1003,"./ja.js":1003,"./jv":420,"./jv.js":420,"./ka":851,"./ka.js":851,"./kk":6074,"./kk.js":6074,"./km":3343,"./km.js":3343,"./kn":4799,"./kn.js":4799,"./ko":3549,"./ko.js":3549,"./ku":1037,"./ku.js":1037,"./ky":3125,"./ky.js":3125,"./lb":9586,"./lb.js":9586,"./lo":2349,"./lo.js":2349,"./lt":2400,"./lt.js":2400,"./lv":9991,"./lv.js":9991,"./me":8477,"./me.js":8477,"./mi":5118,"./mi.js":5118,"./mk":5943,"./mk.js":5943,"./ml":3849,"./ml.js":3849,"./mn":1977,"./mn.js":1977,"./mr":6184,"./mr.js":6184,"./ms":485,"./ms-my":4524,"./ms-my.js":4524,"./ms.js":485,"./mt":6681,"./mt.js":6681,"./my":2024,"./my.js":2024,"./nb":2688,"./nb.js":2688,"./ne":8914,"./ne.js":8914,"./nl":1758,"./nl-be":2272,"./nl-be.js":2272,"./nl.js":1758,"./nn":1510,"./nn.js":1510,"./oc-lnc":2797,"./oc-lnc.js":2797,"./pa-in":7944,"./pa-in.js":7944,"./pl":1605,"./pl.js":1605,"./pt":4225,"./pt-br":3840,"./pt-br.js":3840,"./pt.js":4225,"./ro":5128,"./ro.js":5128,"./ru":5127,"./ru.js":5127,"./sd":2525,"./sd.js":2525,"./se":9893,"./se.js":9893,"./si":3123,"./si.js":3123,"./sk":9635,"./sk.js":9635,"./sl":8106,"./sl.js":8106,"./sq":8799,"./sq.js":8799,"./sr":7949,"./sr-cyrl":2872,"./sr-cyrl.js":2872,"./sr.js":7949,"./ss":6167,"./ss.js":6167,"./sv":9713,"./sv.js":9713,"./sw":1982,"./sw.js":1982,"./ta":2732,"./ta.js":2732,"./te":3636,"./te.js":3636,"./tet":2115,"./tet.js":2115,"./tg":9801,"./tg.js":9801,"./th":2868,"./th.js":2868,"./tk":1310,"./tk.js":1310,"./tl-ph":2360,"./tl-ph.js":2360,"./tlh":6645,"./tlh.js":6645,"./tr":8374,"./tr.js":8374,"./tzl":256,"./tzl.js":256,"./tzm":1595,"./tzm-latn":1631,"./tzm-latn.js":1631,"./tzm.js":1595,"./ug-cn":6050,"./ug-cn.js":6050,"./uk":5610,"./uk.js":5610,"./ur":6077,"./ur.js":6077,"./uz":2862,"./uz-latn":2207,"./uz-latn.js":2207,"./uz.js":2862,"./vi":8093,"./vi.js":8093,"./x-pseudo":5590,"./x-pseudo.js":5590,"./yo":9058,"./yo.js":9058,"./zh-cn":7908,"./zh-cn.js":7908,"./zh-hk":8867,"./zh-hk.js":8867,"./zh-mo":1133,"./zh-mo.js":1133,"./zh-tw":3291,"./zh-tw.js":3291};function e(Y){var Q=a(Y);return T(Q)}function a(Y){if(!T.o(w,Y)){var Q=new Error("Cannot find module '"+Y+"'");throw Q.code="MODULE_NOT_FOUND",Q}return w[Y]}e.keys=function(){return Object.keys(w)},e.resolve=a,te.exports=e,e.id=6700},5382:()=>{},2095:()=>{},1219:()=>{}},te=>{te.O(0,[736],()=>te(te.s=2265)),te.O()}]);